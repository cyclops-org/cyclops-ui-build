"use strict";(self.webpackChunkcyclops=self.webpackChunkcyclops||[]).push([[163],{8163:(Oc,qt,C)=>{C.r(qt),C.d(qt,{DevsecopsModule:()=>Mc});var h=C(6019),ne=C(6153),g=C(9133),s=C(6015),At=C(4522),F=C(4499),Y=C(5583),N=C(2997),x=C(3067),m=C(4753),q=C(7038),T=C(461),tt=C(5488),f=C(7384),St=C(6047),oe=C(2098),et=C(8260),t=C(3668);function re(i,l){if(1&i&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" Took ",null==e?null:e.time_taken," seconds ")}}function le(i,l){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"div",9),t._uU(2),t.qZA(),t.TgZ(3,"div",9),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,re,2,1,"div",10),t.qZA()),2&i){const e=l.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.title," "),t.xp6(2),t.hij(" ",t.lcZ(5,3,null==e||null==e.ts?null:e.ts.$date)," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.time_taken)}}function ae(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"div",11),t.TgZ(2,"div",12),t.TgZ(3,"div",13),t._UZ(4,"nb-tag",14),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("text","@"+(null==e.build||null==e.build.raw_request_sent_for_execution?null:e.build.raw_request_sent_for_execution.SLUG))}}function ce(i,l){if(1&i&&(t.TgZ(0,"div",11),t.TgZ(1,"div",12),t.TgZ(2,"div",13),t._UZ(3,"nb-tag",14),t.qZA(),t.qZA(),t.TgZ(4,"div",15),t._UZ(5,"nb-tag",16),t.TgZ(6,"button",17),t._UZ(7,"nb-icon",18),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("text","#"+(null==e.build?null:e.build.index)),t.xp6(2),t.Q6J("status",null==e.build?null:e.build._status)("text",null==e.build?null:e.build.buildState),t.xp6(1),t.Q6J("status",null==e.build?null:e.build._status),t.xp6(1),t.ekj("spin",(null==e.build?null:e.build.transition_state)>0&&(null==e.build?null:e.build.transition_state)<8),t.Q6J("status",null==e.build?null:e.build._status)("icon",null==e.build?null:e.build.progressIcon)}}function se(i,l){1&i&&(t.TgZ(0,"nb-card-header",19),t._UZ(1,"app-progress-bar"),t.qZA())}function de(i,l){if(1&i&&(t.TgZ(0,"nb-card-body"),t.TgZ(1,"div",20),t.TgZ(2,"div",21),t.TgZ(3,"div",22),t.TgZ(4,"div",23),t._UZ(5,"nb-icon",24),t.TgZ(6,"span",25),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div",26),t.TgZ(9,"span",25),t._uU(10),t.qZA(),t._UZ(11,"nb-icon",27),t.qZA(),t.qZA(),t.TgZ(12,"div",28),t.TgZ(13,"div",23),t._UZ(14,"nb-icon",29),t.TgZ(15,"span",25),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"div",26),t.TgZ(18,"span",25),t._uU(19),t.qZA(),t._UZ(20,"nb-icon",30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.ekj("active",e.active),t.xp6(6),t.hij(" ",(null==e.build?null:e.build.buildNo)||(null==e.build||null==e.build.raw_request_sent_for_execution?null:e.build.raw_request_sent_for_execution.SLUG)||"-"," "),t.xp6(3),t.hij(" ",(null==e.build||null==e.build.raw_request_sent_for_execution?null:e.build.raw_request_sent_for_execution.GIT_BRANCH)||"-"," "),t.xp6(6),t.hij(" ",(null==e.build||null==e.build.raw_request_sent_for_execution?null:e.build.raw_request_sent_for_execution.APP_TYPE)||"-"," "),t.xp6(3),t.hij(" ",(null==e.build?null:e.build.timeElpased)||"-"," sec. ")}}function ue(i,l){if(1&i&&(t.ynx(0),t._UZ(1,"div",35),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.ekj("fail",0==(null==e?null:e.state))("primary",null==(null==e?null:e.state))("success",1==(null==e?null:e.state))}}function pe(i,l){if(1&i&&(t.ynx(0),t.YNc(1,ue,2,6,"ng-container",6),t.TgZ(2,"div",33),t._UZ(3,"nb-icon",34),t.qZA(),t.BQk()),2&i){const e=l.$implicit,n=l.index;t.oxw(2);const o=t.MAs(1);t.xp6(1),t.Q6J("ngIf",0!=n),t.xp6(2),t.ekj("spin",1!=(null==e?null:e.state)),t.Q6J("nbPopoverContext",e)("nbPopover",null!=e&&e.ts?o:null)("status",1==(null==e?null:e.state)?"success":"danger")("icon",1==(null==e?null:e.state)?"checkmark-circle-2-outline":"close-circle-outline")}}function ge(i,l){if(1&i&&(t.TgZ(0,"nb-card-footer"),t.TgZ(1,"div",31),t.YNc(2,pe,4,7,"ng-container",32),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.ekj("success","SUCCESS"==(null==e.build?null:e.build.status))("fail","FAIL"==(null==e.build?null:e.build.status)),t.xp6(1),t.Q6J("ngForOf",null==e.build?null:e.build.build_state)}}function _e(i,l){if(1&i&&(t.TgZ(0,"nb-card-footer",36),t.TgZ(1,"div",37),t._UZ(2,"nb-icon",38),t.TgZ(3,"span",39),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",40),t._UZ(6,"nb-tag",41),t._UZ(7,"nb-icon",18),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.hij(" ",(null==e.build?null:e.build.timeElpased)||" - "," sec. "),t.xp6(2),t.Q6J("status",null==e.build?null:e.build._status)("text",null==e.build?null:e.build.buildState),t.xp6(1),t.ekj("spin",(null==e.build?null:e.build.transition_state)>0&&(null==e.build?null:e.build.transition_state)<8),t.Q6J("status",null==e.build?null:e.build._status)("icon",null==e.build?null:e.build.progressIcon)}}var L=(()=>{return(i=L||(L={}))[i.FAILED=0]="FAILED",i[i.ENQUEUED=1]="ENQUEUED",i[i.EXECUTION_ENQUEUED=2]="EXECUTION_ENQUEUED",i[i.EXECUTION_STARTED=3]="EXECUTION_STARTED",i[i.EXECUTION_FINISHED=4]="EXECUTION_FINISHED",i[i.EXECUTION_REPORT_DOWNLOADED=5]="EXECUTION_REPORT_DOWNLOADED",i[i.PARSING_ENQUEUED=6]="PARSING_ENQUEUED",i[i.PARSING_STARTED=7]="PARSING_STARTED",i[i.PARSING_FINISHED=8]="PARSING_FINISHED",L;var i})();let pt=(()=>{class i{constructor(e){this.apiService=e}set _build(e){this.build=this.apiService.buildDetailedPipe(e)}ngOnInit(){}onClick(e,n){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-build-item"]],inputs:{active:"active",_build:["build","_build"]},decls:13,vars:14,consts:[["hintPopover",""],[3,"accent"],[4,"ngIf","ngIfElse"],["nonActiveProtectionHeader",""],[3,"active","build"],["style","padding: 0px; border: none;  ",4,"ngIf"],[4,"ngIf"],["fxLayout","row","style","padding: 10px;","fxLayoutGap","20px",4,"ngIf"],["fxLayout","column",2,"padding","1rem"],["fxFlex",""],["fxFlex","",4,"ngIf"],["fxFlex","","fxLayoutGap","1rem"],["fxLayoutGap","10px","fxLayout","column","fxFlex",""],["fxLayoutAlign","start center","fxLayoutGap","2px"],["status","basic","appearance","outline","size","small",3,"text"],["fxLayoutAlign","end center","fxLayoutGap","5px"],["appearance","outline","size","tiny",3,"status","text"],["outline","","nbButton","","shape","round","size","tiny",3,"status"],[3,"status","icon"],[2,"padding","0px","border","none"],["fxLayoutGap","1rem"],["fxLayoutGap","10px","fxLayout","column","fxLayoutAlign","start start"],["fxFill","","fxLayoutAlign","sspace-between end","fxLayout","row"],["fxFlex","","fxLayoutGap","20px"],["icon","shuffle-2-outline",1,"text-interactive"],[1,"text-interactive"],["fxFlex","","fxLayoutAlign","end","fxLayoutGap","20px"],["icon","pricetags-outline",1,"text-interactive"],["fxFill","","fxLayoutAlign","sspace-between","fxLayout","row"],["icon","sun-outline",1,"text-interactive"],["icon","clock-outline",1,"text-interactive"],["fxFlex","","fxLayoutAlign","center center","fxLayout","row",1,"container","selected"],[4,"ngFor","ngForOf"],["fxLayoutAlign","start center"],["nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"dot",3,"nbPopoverContext","nbPopover","status","icon"],["fxFlex","",1,"horizontal_line"],["fxLayout","row","fxLayoutGap","20px",2,"padding","10px"],["fxFlex","","fxLayoutGap","10px"],["status","basic","icon","clock-outline"],[1,"text-basic"],["fxLayoutAlign","center","fxLayoutGap","5px"],["appearance","filled","size","tiny",3,"status","text"]],template:function(e,n){if(1&e&&(t.YNc(0,le,7,5,"ng-template",null,0,t.W1O),t.TgZ(2,"nb-card",1),t.TgZ(3,"nb-card-header"),t.YNc(4,ae,5,1,"ng-container",2),t.YNc(5,ce,8,8,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(7,"nb-card-header"),t._UZ(8,"app-build-progress-view",4),t.qZA(),t.YNc(9,se,2,0,"nb-card-header",5),t.YNc(10,de,21,6,"nb-card-body",6),t.YNc(11,ge,3,5,"nb-card-footer",6),t.YNc(12,_e,8,7,"nb-card-footer",7),t.qZA()),2&e){const o=t.MAs(6);t.xp6(2),t.ekj("active",n.active)("inactive",!n.active),t.Q6J("accent",n.active?null==n.build?null:n.build._status:null)("accent",null==n.build?null:n.build._status),t.xp6(2),t.Q6J("ngIf",1==(null==n.build?null:n.build.active_protection))("ngIfElse",o),t.xp6(4),t.Q6J("active",n.active)("build",n.build),t.xp6(1),t.Q6J("ngIf","Executing"==(null==n.build?null:n.build.buildState)),t.xp6(1),t.Q6J("ngIf",n.active&&1!=(null==n.build?null:n.build.active_protection)),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1)}},styles:[".row[_ngcontent-%COMP%]{overflow:auto}.main[_ngcontent-%COMP%]{width:0!important}nb-list[_ngcontent-%COMP%]{overflow:auto}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:keep-all}span[_ngcontent-%COMP%]{text-overflow:ellipsis}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.row[_ngcontent-%COMP%]{overflow:auto!important}code[_ngcontent-%COMP%]{color:#f8f8f2;font-size:.875rem}nb-card-header[_ngcontent-%COMP%]{padding:10px 10px 10px 1rem}nb-card-footer[_ngcontent-%COMP%]{padding:10px 10px 10px 1rem}nb-card[_ngcontent-%COMP%]{transition-duration:.3s}.inactive[_ngcontent-%COMP%]{background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{border-top-width:1px;margin:0;border-radius:0!important}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}.active[_ngcontent-%COMP%]{background:var(--background-basic-color-1)!important;border-top-width:9px;margin-top:20px;margin-bottom:20px}nb-card[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:.5s}.container.fail[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.container.active[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;transition:.2s;color:#006fd6!important;border-radius:5px}.container.active[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{color:#fff!important}.container.active[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{color:#fff!important}.container.active[_ngcontent-%COMP%]   .caption-2[_ngcontent-%COMP%]{color:#fff!important}.container.active[_ngcontent-%COMP%]   .subtitle-2[_ngcontent-%COMP%]{color:#fff!important}.icon[_ngcontent-%COMP%]{height:100%}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize;color:var(--text-basic-color)!important}.hash[_ngcontent-%COMP%]{color:var(--text-basic-color)!important}.dot[_ngcontent-%COMP%]{font-size:20px;font-weight:300}.dot[_ngcontent-%COMP%]:hover{font-size:40px;transition:.2s}.horizontal_line[_ngcontent-%COMP%]{width:30px;height:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.spin[_ngcontent-%COMP%]{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;display:flex;width:3rem;height:3rem;line-height:3rem;border-radius:50%;font-size:.8rem;text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-primary-600),1px -1px 1px var(--color-primary-600),-1px -1px 1px var(--color-primary-600);box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.circle.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600);text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-success-600),1px -1px 1px var(--color-success-600),-1px -1px 1px var(--color-success-600)}.circle.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600);text-shadow:1px 1px 1px var(--color-danger-300),-1px 1px 1px var(--color-danger-600),1px -1px 1px var(--color-danger-600),-1px -1px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]:hover{font-size:1rem;transition:.2s;width:4rem;height:4rem}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 2px 2px 5px 1px var(--color-primary-300),2px 0 5px 1px var(--color-primary-600)}.vertical_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.vertical_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}.xContainer[_ngcontent-%COMP%]{padding:1rem}.text-interactive[_ngcontent-%COMP%]{color:var(--text-basic-color);font-weight:550}.text-interactive[_ngcontent-%COMP%]:hover{text-decoration:underline}nb-list-item[_ngcontent-%COMP%]{padding:8px;margin-top:10px;border-radius:10px}nb-list-item.active[_ngcontent-%COMP%]{background:var(--color-basic-800)}nb-list-item.active[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--text-success-color);font-weight:550}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-basic-800)}nb-list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:350;color:var(--text-hint-color)}nb-list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px;height:26px;margin-right:20px;margin-left:10px}"]}),i})();var A=C(867);let M=(()=>{class i{constructor(e,n,o,a){this.toastrService=e,this.http=n,this.router=o,this.ngZone=a,this.buildTransformerPipe=c=>{let r=0,d=[{state:null==c?void 0:c.state_requested,ts:null==c?void 0:c.state_requested_ts,time_taken:0,title:"Enqueued"},{state:null==c?void 0:c.state_execution,ts:null==c?void 0:c.state_execution_ts,time_taken:0,title:"Executing"},{state:null==c?void 0:c.state_download_raw,ts:null==c?void 0:c.state_download_raw_ts,time_taken:0,title:"Report Generated"},{state:null==c?void 0:c.state_pushed_to_parser,ts:null==c?void 0:c.state_pushed_to_parser_ts,time_taken:0,title:"Analyzing"},{state:null==c?void 0:c.state_parsing_started,ts:null==c?void 0:c.state_parsing_started_ts,time_taken:0,title:"Parsing"},{state:null==c?void 0:c.state_parsing_completed,ts:null==c?void 0:c.state_parsing_completed_ts,time_taken:0,title:"Finished"}];return c.success=void 0,c.failed=!1,d.map((u,p)=>{var b,v;if(0==p)return u;let Z=d[p-1];return u.time_taken=(null===(b=null==u?void 0:u.ts)||void 0===b?void 0:b.$date)-(null===(v=null==Z?void 0:Z.ts)||void 0===v?void 0:v.$date),u.time_taken=(null==u?void 0:u.time_taken)/1e3,u.time_taken=0|(null==u?void 0:u.time_taken),u.time_taken=Math.ceil(u.time_taken),r+=u.time_taken,0==(null==u?void 0:u.state)&&(c.failed=!0),u}),c.build_state=d,c.timeElpased=r,c.finding_stats=this.getFindingStats(null==c?void 0:c.applicationId,null==c?void 0:c._id).pipe(),c},this.selectedBuildId$=new F.X(void 0),this.selectedBuildId=this.selectedBuildId$.asObservable().pipe(),this.loading=new F.X(!1),this.localUrl=et.N.url,this.selectedBusiness$=new F.X(void 0),this.selectedBusiness=this.selectedBusiness$.asObservable().pipe(),this.selectedProject$=new F.X(void 0),this.selectedProject=this.selectedProject$.asObservable().pipe(),this.applicationList$=Y.E.pipe((0,x.w)(c=>this.getUserApplication().pipe((0,m.U)(r=>null==r?void 0:r.data)))),this.appHier$=this.getUserApplicationHierarchy().pipe((0,m.U)(c=>{let r={businessName:"All",title:"All",businessId:{$oid:"*"},_id:{$oid:"*"},project:[]},d=[],u=1;return(c=null==c?void 0:c.data).forEach(p=>{null==p||p.project.forEach(b=>{b.businessId=null==b?void 0:b.businessId,b.projectId=null==b?void 0:b._id,b.title=null==b?void 0:b.name})}),r.project=d,null==c||c.unshift(r),c.map(p=>{var b;return p.title=null==p?void 0:p.businessName,null==p||p.project.map((v,Z)=>{let y=null==v?void 0:v.businessId;v.index=Z,v.businessId=y,v.projectId=null==v?void 0:v._id,v.title=null==v?void 0:v.name}),null===(b=null==p?void 0:p.project)||void 0===b||b.unshift({businessId:null==p?void 0:p.businessId,projectId:{$oid:"*"},_id:{$oid:"*"},title:"All"}),null==p||p.project.map((v,Z)=>{if(v.index=Z,Z>0){let y=Object.assign({},v);y.index=u,u+=1,d.push(y)}}),p}),c.map((p,b)=>(p.index=b,p)),console.debug("debug",c),(null==c?void 0:c.length)>0&&this.selectBusiness(0),c})),this.appHier=this.appHier$.pipe((0,q.d)()),this.applicationList=this.applicationList$.pipe((0,q.d)()),this.applicationIntUnIntStats=this.applicationList.pipe((0,T.h)(c=>!!c),(0,m.U)(c=>{let r=0,d=0;return c.forEach(u=>{u.application.forEach(p=>{(null==p?void 0:p.scan_data)?r+=1:d+=1})}),{integrated_apps_count:r,unintegrated_apps_count:d}})),this.selectedApp$=new F.X(void 0),this.selectedApp=this.selectedApp$.asObservable().pipe((0,T.h)(c=>!!c),(0,m.U)(c=>{var r,d;if(null==c)return;c.identifier=null===(d=null===(r=null==c?void 0:c.application)||void 0===r?void 0:r.applicationId)||void 0===d?void 0:d.$oid;let u=(null==c?void 0:c.platformName)||"";return u=u.toLowerCase(),c.platformTag=(null==u?void 0:u.indexOf("web"))>=0?"web":(null==u?void 0:u.indexOf("android"))>=0||(null==u?void 0:u.indexOf("ios"))>=0?"mobile":"unknown",c}),function(i,l){return(0,tt.x)((e,n)=>e[i]===n[i])}("identifier")),this.applications=this.applicationList.pipe((0,f.b)(console.debug)),this._applications=this.selectedProject.pipe((0,T.h)(c=>!!c),(0,x.w)(c=>this.applicationList.pipe((0,m.U)(r=>r.filter(d=>{var u,p,b,v,Z,y,w;let ut=d.platformId.$oid;return null===(u=null==c?void 0:c.platform)||void 0===u||u.filter(j=>{var K,R;return"*"==(null===(K=null==j?void 0:j.platformId)||void 0===K?void 0:K.$oid)||(null===(R=null==j?void 0:j.platformId)||void 0===R?void 0:R.$oid)==ut}),!((null===(p=null==d?void 0:d.businessId)||void 0===p?void 0:p.$oid)!=(null===(b=null==c?void 0:c.businessId)||void 0===b?void 0:b.$oid)&&"*"!=(null===(v=null==c?void 0:c.businessId)||void 0===v?void 0:v.$oid)||(null===(Z=null==d?void 0:d.projectId)||void 0===Z?void 0:Z.$oid)!=(null===(y=null==c?void 0:c.projectId)||void 0===y?void 0:y.$oid)&&"*"!=(null===(w=null==c?void 0:c.projectId)||void 0===w?void 0:w.$oid))})))),(0,m.U)(c=>{let r=[];return c.forEach(d=>{var u;null===(u=null==d?void 0:d.application)||void 0===u||u.forEach(p=>{let b=Object.assign({},d);b.application=p,r.push(b)})}),r}),(0,q.d)())}addAssetUrl(e,n){return this.putRequest("api/v1/business/assets/dns",{applicationId:n,domain:e})}removeAssetUrl(e,n){return this.deleteRequest("api/v1/business/assets/dns/"+n+"/"+e)}getAssetUrls(e){return this.getRequest("api/v1/business/assets/dns/"+e).pipe((0,m.U)(n=>{var o;return null===(o=null==n?void 0:n.data)||void 0===o||o.unshift({domain:"All",_id:{$oid:"*"}}),null==n?void 0:n.data}))}getDiscoveredAssets(e,n=0,o="",a=3e3){return this.getRequest("api/v1/business/assets/dns/discovered/"+e,{last_val:n,search:o,limit:a}).pipe((0,m.U)(c=>null==c?void 0:c.data))}getDiscoveredAllFilteredAssets(e,n=0,o="",a=30){return this.getRequest("api/v1/business/assets/dns/discovered/filtered/"+e,{last_val:n,search:o,limit:a}).pipe((0,m.U)(c=>null==c?void 0:c.data))}deleteApplication(e){return this.getRequest("api/v1/customer/request/delete/"+e).pipe((0,m.U)(n=>null==n?void 0:n.data))}editBusiness(e,n){return this.putRequest("api/v1/business/"+e,n)}editProject(e,n,o){return this.putRequest("api/v1/business/"+e+"/"+n,o)}createApp(e){return this.postRequest("api/v1/devsecops/create_app",e).pipe((0,m.U)(n=>null==n?void 0:n.data))}buildDetailedPipe(e){var n;let o="Unknown",a=0,c=null==e?void 0:e.transition_state,r=null===(n=null==e?void 0:e.files)||void 0===n?void 0:n.map(p=>(p.download_url=this.downloadFile(p).pipe((0,m.U)(b=>(b.url=et.N.minio_url+b.url,console.log("__download_url",b),b.url)),(0,x.w)(b=>this.http.get(b,{responseType:"text"}))),console.log("download_url",p),p));e.files=r,c<=L.FAILED?(o="Failed",a=0):c==L.ENQUEUED?(o="Enqueued",a=5):c>=L.EXECUTION_ENQUEUED&&c<=L.EXECUTION_REPORT_DOWNLOADED?(o="Executing",a=25):c>=L.PARSING_ENQUEUED&&c<=L.PARSING_STARTED?(o="Parsing",a=75):c>=L.PARSING_FINISHED&&(o="Completed",a=100);let d="loader-outline",u="primary";return 0==c?(d="close-outline",u="danger"):8==c&&(d="checkmark-outline",u="success"),e.buildState=o,e.buildProgress=a,e.buildProgress=Math.ceil(c/8*100),e.progressIcon=d,e._status=u,e}selectApp(e){console.log("selectApp",e),this.selectedApp$.next(e)}selectProject(e,n){this.selectedBusiness.pipe((0,St.P)(),(0,f.b)(o=>{this.selectedProject$.next(null==o?void 0:o.project[e])})).subscribe(o=>{n&&n()})}selectBusiness(e,n){this.appHier.pipe((0,St.P)(),(0,f.b)(o=>{this.selectedBusiness$.next(o[e])})).subscribe(o=>{this.selectProject(0,n)})}getPlatforms(){return this.getRequest("api/v1/menu/platform").pipe((0,m.U)(e=>null==e?void 0:e.data))}getUserApplication(e){return 1==(null==e?void 0:e.integrated)||0==(null==e?void 0:e.integrated)||delete e.integrated,1!=(null==e?void 0:e.includeOffsetId)&&delete e.includeOffsetId,this.getRequest("api/v1/customer/getUserApplication",e)}getUserApplicationById(e){return this.getRequest("api/v1/customer/getUserApplication/"+e).pipe((0,f.b)(n=>{0==(null==n?void 0:n.status)&&this.router.navigate(["/","devsec","switch"])}),(0,m.U)(n=>null==n?void 0:n.data))}getDevsecopsBuildData(e,n){return this.postRequest("api/v1/devsecops/build",e,n).pipe((0,m.U)(o=>null==o?void 0:o.data))}getBusinesses(){return this.getRequest("api/v1/business/?limit=9999999999").pipe((0,m.U)(e=>null==e?void 0:e.data))}getExternalTools(){return this.getRequest("api/v1/devsecops/getExternalToolsList").pipe((0,m.U)(e=>null==e?void 0:e.data.map(n=>n)))}getExternalDevSecTools(){return this.getRequest("api/v1/devsecops/getExternalDevToolsList").pipe((0,m.U)(e=>null==e?void 0:e.data))}runExtetnalTool(e){return this.postRequest("api/v1/devsecops/runAdhocExternalTools",e).pipe((0,m.U)(n=>null==n?void 0:n.data))}runExtetnalToolNew(e){return this.postRequest("api/v1/devsecops/runAdhocExternalToolsNew",e).pipe((0,m.U)(n=>null==n?void 0:n.data))}getProjects(){return this.getRequest("api/v1/user/project/").pipe((0,m.U)(e=>null==e?void 0:e.data))}suppressFindingById(e,n){return this.postRequest(`api/v1/devsecops/finding/suppress/${e}`,n)}resetStateFindingById(e,n){return this.postRequest(`api/v1/devsecops/finding/reset_state/${e}`,n)}acceptRiskFindingById(e,n){return this.postRequest(`api/v1/devsecops/finding/accept_risk/${e}`,n)}getFindingById(e){return this.getRequest(`api/v1/devsecops/finding/fetch/${e}`)}stopBuildScan(e,n){return this.postRequest(`api/v1/devsecops/build/stop/${e}/${n}`).pipe((0,m.U)(o=>null==o?void 0:o.data))}stopAllPrevious(e,n){return this.postRequest(`api/v1/devsecops/build/stop/allprevious/${e}/${n}`).pipe((0,m.U)(o=>null==o?void 0:o.data))}getBuildByIds(e,n,o){return this.postRequest("api/v1/devsecops/builds",{build_ids:e,build_top_offset:n,filters:o}).pipe((0,m.U)(a=>null==a?void 0:a.data))}getBuildById(e){return this.postRequest(`api/v1/devsecops/build/${e}`).pipe((0,m.U)(n=>null==n?void 0:n.data))}getFindings(e,n,o,a,c,r){return this.postRequest("api/v1/devsecops/finding/fetch",{match:{refrence_ids:n,active:!0,severity:{$in:o}},sort:a},{offset:c,limit:r}).pipe((0,m.U)(d=>null==d?void 0:d.data))}getFindingStats(e,n){return this.postRequest("api/v1/devsecops/getFindingStats",{refrence_ids:n,active:!0}).pipe((0,m.U)(o=>null==o?void 0:o.data),(0,m.U)(o=>{let a={info:0,low:0,medium:0,high:0,critical:0};return o.forEach(c=>{a[c._id.toLowerCase()]=c.count}),a}))}getUserApplicationHierarchy(){return this.getRequest("api/v1/customer/getUserApplicationHierarchy")}setLoading(e){this.lastSubscription&&this.lastSubscription.unsubscribe();let n=0;e&&(n=0),this.lastSubscription=(0,N.of)(e).pipe((0,oe.g)(n)).subscribe(()=>{this.loading.next(e)})}getRequest(e,n={},o={},a=!1){return this.http.get(`${this.localUrl}/${e}`,{params:n,headers:o})}deleteRequest(e,n={},o={},a=!1){return this.http.delete(`${this.localUrl}/${e}`,{params:n,headers:o})}postRequest(e,n={},o={},a=new At.WM,c=!1){return Object.keys(o).forEach(r=>void 0===o[r]&&delete o[r]),this.http.post(`${this.localUrl}/${e}`,n,{params:o,headers:a})}putRequest(e,n={},o={},a=new At.WM,c=!1){return Object.keys(o).forEach(r=>void 0===o[r]&&delete o[r]),this.http.put(`${this.localUrl}/${e}`,n,{params:o,headers:a})}init(){this.getUserApplication().pipe((0,f.b)(e=>{})).subscribe(e=>{this.getUserApplicationHierarchy().subscribe(n=>{let o={businessName:"All",title:"All",businessId:{$oid:"*"},_id:{$oid:"*"},project:[]},a=[],c=1;(n=null==n?void 0:n.data).forEach(r=>{null==r||r.project.forEach(d=>{d.businessId=null==d?void 0:d.businessId,d.projectId=null==d?void 0:d._id,d.title=null==d?void 0:d.name})}),o.project=a,null==n||n.unshift(o),n.map(r=>{var d;return r.title=null==r?void 0:r.businessName,null==r||r.project.map((u,p)=>{let b=null==u?void 0:u.businessId;u.index=p,u.businessId=b,u.projectId=null==u?void 0:u._id,u.title=null==u?void 0:u.name}),null===(d=null==r?void 0:r.project)||void 0===d||d.unshift({businessId:null==r?void 0:r.businessId,projectId:{$oid:"*"},_id:{$oid:"*"},title:"All"}),null==r||r.project.map((u,p)=>{if(u.index=p,p>0){let b=Object.assign({},u);b.index=c,c+=1,a.push(b)}}),r}),n.map((r,d)=>(r.index=d,r)),(null==n?void 0:n.length)>0&&this.selectBusiness(0)})})}getAutoSuggestions(e){return this.postRequest("api/v1/devsecops/getRepositoryData",e)}getAppToken(e){return this.postRequest("api/v1/devsecops/getAppToken",e)}forceRebuild(e,n){return this.postRequest(`api/v1/devsecops/getBusinessHierarchy?token=${n}`,e)}getDevsecopsScanData(e){return this.postRequest("api/v1/devsecops/getDevsecopsScanData",e).pipe((0,m.U)(n=>null==n?void 0:n.data))}getConfigureTools(e){return this.postRequest("api/v1/devsecops/configure_tools",e)}setConfigureTools(e,n){return e.tools_config=n,this.putRequest("api/v1/devsecops/configure_tools",e)}addDevsecopsScanDetails(e,n){return this.postRequest("api/v1/devsecops/addScanDetails",{data:e,details:n})}getDevsecopsStaticScanData(e){return this.postRequest("api/v1/devsecops/getDevsecopsScanData/static",e).pipe((0,m.U)(n=>null==n?void 0:n.data))}setDevsecopsActivationState(e,n){return this.postRequest("api/v1/devsecops/addScanDetails/configure",{data:e,details:{active_state:n}})}setDevsecopsConfigActivationFlag(e,n,o){let a={};return a[n]=o,this.postRequest("api/v1/devsecops/addScanDetails/configure",{data:e,details:a})}addDevsecopsStaticScanDetails(e,n){return this.postRequest("api/v1/devsecops/addScanDetails/static",{data:e,details:n})}getDevsecopsDynamicScanData(e){return this.postRequest("api/v1/devsecops/getDevsecopsScanData/dynamic",e).pipe((0,m.U)(n=>null==n?void 0:n.data))}addDevsecopsDynamicScanDetails(e,n){return this.postRequest("api/v1/devsecops/addScanDetails/dynamic",{data:e,details:n})}downloadReportZip(e){return this.getRequest("api/v1/devsecops/getDevsecopsReport",e).pipe((0,m.U)(n=>{var o;return null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.url}),(0,T.h)(n=>!!n),(0,f.b)(n=>{window.open(et.N.minio_url+n,"_blank")}),(0,f.b)(n=>{this.toastrService.success("Downloading report  ","Download Started")}))}retry(e){return this.postRequest("api/v1/devsecops/retry",e)}lsremote(e){return this.postRequest("api/v1/devsecops/config/remote",{url:e})}healthcheck(e){return this.postRequest("api/v1/devsecops/config/healthCheck",{url:e})}runRecon(e){return this.postRequest("api/v1/devsecops/runRecon",e)}runQuickDynamicScan(e){return this.postRequest("api/v1/devsecops/runQuickDynamicScan",e)}runScan(e){return this.postRequest("api/v1/devsecops/scm/run",{uuid:e})}updateBitbucketMapping(e){return this.postRequest("api/v1/devsecops/scm/accesscontrol",e)}getAllScmRepos(){return this.getRequest("api/v1/devsecops/scm/repository").pipe((0,m.U)(e=>null==e?void 0:e.data))}getAllScmProjects(){return this.getRequest("api/v1/devsecops/scm/projects").pipe((0,m.U)(e=>null==e?void 0:e.data))}getAllProjects(){return this.getRequest("api/v1/customer/getUserApplicationHierarchy").pipe((0,m.U)(e=>null==e?void 0:e.data),(0,m.U)(e=>{let n=[];return e.forEach(o=>{var a;null===(a=null==o?void 0:o.project)||void 0===a||a.map(c=>{let r=c;r.businessId=null==o?void 0:o.businessId,r.businessName=null==o?void 0:o.businessName,n.push(r)})}),n}))}downloadFile(e){return this.getRequest("api/v1/external_tools/getPresignedUrl",{bucketName:e.bucket,filename:e.name,path:e.path}).pipe((0,m.U)(o=>null==o?void 0:o.data))}getAssociatedBusinesses(){return this.getRequest("api/v1/business/?limit=9999999999").pipe((0,m.U)(e=>e.data))}getAssociatedBusinessesProjects(){return this.getRequest("api/v1/project").pipe((0,m.U)(e=>e.data))}getAssociatedBusinessesByProjectId(e){return this.getRequest("api/v1/business/"+e).pipe((0,m.U)(n=>{var o;return null===(o=n.data)||void 0===o?void 0:o.projects}))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(s.quB),t.LFG(At.eN),t.LFG(A.F0),t.LFG(t.R0b))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();var I=C(3970),k=C(9814),_=C(515);let at=(()=>{class i{constructor(e,n){this.elementRef=e,this.renderer=n}ngAfterViewInit(){this.elementRef.nativeElement.focus()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.Qsj))},i.\u0275dir=t.lG2({type:i,selectors:[["","focusOnce",""]]}),i})();function fe(i,l){if(1&i&&(t.TgZ(0,"nb-list-item",13),t._UZ(1,"nb-icon",14),t.TgZ(2,"div",5),t._uU(3),t.ALo(4,"async"),t.qZA(),t.qZA()),2&i){const e=t.oxw();let n;t.xp6(3),t.hij(" 1. ",null==(n=t.lcZ(4,1,e.selectedBusiness))?null:n.title," ")}}function he(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",15),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().selectBusiness(null==a?null:a.index)}),t.ALo(1,"async"),t._UZ(2,"nb-icon",16),t.ALo(3,"async"),t.ALo(4,"async"),t.TgZ(5,"div",17),t._uU(6),t.qZA(),t.TgZ(7,"button",18),t._UZ(8,"nb-icon",19),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();let o,a,c;t.ekj("selected",(null==e||null==e._id?null:e._id.$oid)==(null==(o=t.lcZ(1,5,n.selectedBusiness))||null==o._id?null:o._id.$oid)),t.xp6(2),t.Q6J("status",(null==e||null==e._id?null:e._id.$oid)==(null==(a=t.lcZ(3,7,n.selectedBusiness))||null==a._id?null:a._id.$oid)?"success":"primary")("icon",(null==e||null==e._id?null:e._id.$oid)==(null==(c=t.lcZ(4,9,n.selectedBusiness))||null==c._id?null:c._id.$oid)?"checkmark-circle-2-outline":"radio-button-off-outline"),t.xp6(4),t.hij(" ",null==e?null:e.title," ")}}let ct=(()=>{class i{constructor(e){this.apiService=e,this.searchFieldControl=new g.NI(""),this.selectedBusiness=this.apiService.selectedBusiness,this.list_items$=this.selectedBusiness.pipe((0,x.w)(n=>this.apiService.appHier.pipe((0,f.b)(o=>console.log("__",o)),(0,m.U)(o=>{var a;return{projectCount:0|(null===(a=null==o?void 0:o.project)||void 0===a?void 0:a.length),business:o,selected:n}}))),(0,m.U)(n=>(console.log(n),n.business.filter(o=>{var a;return o.projectCount=0|(null===(a=null==o?void 0:o.project)||void 0===a?void 0:a.length),!0})))),this.list_items=this.searchFieldControl.valueChanges.pipe((0,tt.x)(),(0,I.O)(this.searchFieldControl.value),(0,x.w)(n=>(n=null==n?void 0:n.toLowerCase(),this.list_items$.pipe((0,m.U)(o=>(console.log("babla",o),o.filter(a=>{var c;return null===(c=null==a?void 0:a.title)||void 0===c?void 0:c.toLowerCase().startsWith(n)})))))))}ngOnInit(){console.log("dialogRef",this.dialogRef)}selectBusiness(e){this.apiService.selectBusiness(e,()=>{this.dialogRef.close(!0)})}clearSearch(){this.searchFieldControl.setValue("")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-business-list"]],inputs:{dialogRef:"dialogRef"},decls:19,vars:8,consts:[["fxFill","","fxFlex","1 1 500px","accent","primary"],["fxLayout","column"],["fxFlex","",1,"h5"],["fxFlex","",1,"caption-2",2,"color","white"],[2,"padding","2px"],["fxFlex",""],["fxLayout","row"],["focusOnce","","status","basic","type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Search",3,"formControl","keyup.escape"],["nbSuffix","","nbButton","","control","","status","primary","ghost","",3,"click"],["icon","close-outline"],["nbInfiniteList",""],["class","selected",4,"ngIf"],[3,"selected","click",4,"ngFor","ngForOf"],[1,"selected"],["icon","checkmark-outline"],[3,"click"],[1,"checkmark",3,"status","icon"],["fxFlex","",1,"title",2,"margin-left","10px"],["outline","","nbButton","","shape","round","size","medium",1,"projectsBtn"],["icon","arrowhead-right-outline"]],template:function(e,n){if(1&e&&(t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header"),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t._uU(4," Switch Business "),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.ALo(7,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"nb-card-header",4),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"nb-form-field",5),t.TgZ(12,"input",7),t.NdJ("keyup.escape",function(){return n.clearSearch()}),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return n.clearSearch()}),t._UZ(14,"nb-icon",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"nb-list",10),t.YNc(16,fe,5,3,"nb-list-item",11),t.YNc(17,he,9,11,"nb-list-item",12),t.ALo(18,"async"),t.qZA(),t.qZA()),2&e){let o;t.xp6(6),t.hij(" ",null==(o=t.lcZ(7,4,n.selectedBusiness))?null:o.title," "),t.xp6(6),t.Q6J("formControl",n.searchFieldControl),t.xp6(4),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngForOf",t.lcZ(18,6,n.list_items))}},directives:[s.Asz,_.s9,_.yH,s.ndF,_.xw,s.jBG,s.h8i,g.Fj,at,g.JJ,g.oH,s.DPz,s.yyc,s.fMN,s.zP_,s.sTn,h.O5,h.sg,s.qBV],pipes:[h.Ov],styles:["nb-card[_ngcontent-%COMP%]{margin:0}nb-card-header[_ngcontent-%COMP%]{border-radius:.3;background-color:var(--background-basic-color-4)}nb-list[_ngcontent-%COMP%]{background-color:var(--background-basic-color-5)}nb-icon[_ngcontent-%COMP%]{font-size:1.3rem;margin-left:10px;margin-right:10px}nb-list-item[_ngcontent-%COMP%]{margin:5px 10px;font-size:1rem;line-height:1.3rem;padding:.4rem;color:var(--color-basic-600);border:1px solid var(--background-basic-color-1);background-color:var(--background-basic-color-2);border-radius:5px;font-weight:450;font-weight:800}nb-list-item[_ngcontent-%COMP%]:hover{background-color:var(--background-basic-color-2);border:1px solid var(--background-primary-color-1)}nb-list-item.selected[_ngcontent-%COMP%]{background-color:var(--background-basic-color-3);border:2px solid var(--background-primary-color-1)}.selected[_ngcontent-%COMP%]{color:var(--color-basic-100);font-weight:800}"],data:{animation:[(0,k.X$)("enterAnimation",[(0,k.eR)(":enter",[(0,k.oB)({transform:"scale(0)",opacity:0}),(0,k.jt)("300ms",(0,k.oB)({transform:"scale(1)",opacity:1}))]),(0,k.eR)(":leave",[(0,k.oB)({transform:"translateX(0)",opacity:1}),(0,k.jt)("500ms",(0,k.oB)({transform:"translateX(100%)",opacity:0}))])])]}}),i})();function be(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",11),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().selectProject(null==a?null:a.index)}),t.ALo(1,"async"),t._UZ(2,"nb-icon",12),t.ALo(3,"async"),t.ALo(4,"async"),t.TgZ(5,"div",13),t._uU(6),t.qZA(),t.TgZ(7,"button",14),t._UZ(8,"nb-icon",15),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();let o,a,c;t.ekj("selected",(null==e||null==e._id?null:e._id.$oid)==(null==(o=t.lcZ(1,5,n.selectedProject))||null==o._id?null:o._id.$oid)),t.xp6(2),t.Q6J("status",(null==e||null==e._id?null:e._id.$oid)==(null==(a=t.lcZ(3,7,n.selectedProject))||null==a._id?null:a._id.$oid)?"success":"primary")("icon",(null==e||null==e._id?null:e._id.$oid)==(null==(c=t.lcZ(4,9,n.selectedProject))||null==c._id?null:c._id.$oid)?"checkmark-circle-2-outline":"radio-button-off-outline"),t.xp6(4),t.hij(" ",null==e?null:e.title," ")}}let gt=(()=>{class i{constructor(e){this.apiService=e,this.searchFieldControl=new g.NI(""),this.selectedProject=this.apiService.selectedProject,this.list_items$=this.selectedProject.pipe((0,x.w)(n=>this.apiService.selectedBusiness.pipe((0,f.b)(o=>console.log("__",o)),(0,m.U)(o=>({projects:null==o?void 0:o.project,selected:n})))),(0,m.U)(n=>(console.log(n),n.projects.filter(o=>!0)))),this.list_items=this.searchFieldControl.valueChanges.pipe((0,tt.x)(),(0,I.O)(this.searchFieldControl.value),(0,x.w)(n=>(n=null==n?void 0:n.toLowerCase(),this.list_items$.pipe((0,m.U)(o=>(console.log("babla",o),o.filter(a=>{var c;return null===(c=null==a?void 0:a.title)||void 0===c?void 0:c.toLowerCase().startsWith(n)})))))))}ngOnInit(){}selectProject(e){this.apiService.selectProject(e,()=>{this.dialogRef.close()})}clearSearch(){this.searchFieldControl.setValue("")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-project-list"]],inputs:{dialogRef:"dialogRef"},decls:18,vars:7,consts:[["fxFill","","size","medium","fxFlex","1 1 500px","accent","primary"],["fxLayout","column"],["fxFlex",""],["fxFlex","",1,"caption-2",2,"color","white"],[2,"padding","2px"],["fxLayout","row"],["focusOnce","","status","basic","type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Search",3,"formControl","keyup.escape"],["nbSuffix","","nbButton","","control","","status","primary","ghost","",3,"click"],["icon","close-outline"],["nbInfiniteList",""],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click"],[1,"checkmark",3,"status","icon"],["fxFlex","",1,"title",2,"margin-left","10px"],["outline","","nbButton","","shape","round","size","medium",1,"projectsBtn"],["icon","arrowhead-right-outline"]],template:function(e,n){if(1&e&&(t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header"),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t._uU(4," Switch Project "),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.ALo(7,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"nb-card-header",4),t.TgZ(9,"div",2),t.TgZ(10,"div",5),t.TgZ(11,"nb-form-field",2),t.TgZ(12,"input",6),t.NdJ("keyup.escape",function(){return n.clearSearch()}),t.qZA(),t.TgZ(13,"button",7),t.NdJ("click",function(){return n.clearSearch()}),t._UZ(14,"nb-icon",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"nb-list",9),t.YNc(16,be,9,11,"nb-list-item",10),t.ALo(17,"async"),t.qZA(),t.qZA()),2&e){let o;t.xp6(6),t.hij(" ",null==(o=t.lcZ(7,3,n.selectedProject))?null:o.title," "),t.xp6(6),t.Q6J("formControl",n.searchFieldControl),t.xp6(4),t.Q6J("ngForOf",t.lcZ(17,5,n.list_items))}},directives:[s.Asz,_.s9,_.yH,s.ndF,_.xw,s.jBG,s.h8i,g.Fj,at,g.JJ,g.oH,s.DPz,s.yyc,s.fMN,s.zP_,s.sTn,h.sg,s.qBV],pipes:[h.Ov],styles:["nb-card[_ngcontent-%COMP%]{margin:0}nb-card-header[_ngcontent-%COMP%]{border-radius:.3;background-color:var(--background-basic-color-4)}nb-list[_ngcontent-%COMP%]{background-color:var(--background-basic-color-5)}nb-icon[_ngcontent-%COMP%]{font-size:1.3rem;margin-left:10px;margin-right:10px}nb-list-item[_ngcontent-%COMP%]{margin:5px 10px;font-size:1rem;line-height:1.3rem;padding:.4rem;color:var(--color-basic-600);border:1px solid var(--background-basic-color-1);background-color:var(--background-basic-color-2);border-radius:5px;font-weight:450;font-weight:800}nb-list-item[_ngcontent-%COMP%]:hover{background-color:var(--background-basic-color-2);border:1px solid var(--background-primary-color-1)}nb-list-item.selected[_ngcontent-%COMP%]{background-color:var(--background-basic-color-3);border:2px solid var(--background-primary-color-1)}.selected[_ngcontent-%COMP%]{color:var(--color-basic-100);font-weight:800}"],data:{animation:[(0,k.X$)("enterAnimation",[(0,k.eR)(":enter",[(0,k.oB)({transform:"scale(0)",opacity:0}),(0,k.jt)("300ms",(0,k.oB)({transform:"scale(1)",opacity:1}))]),(0,k.eR)(":leave",[(0,k.oB)({transform:"translateX(0)",opacity:1}),(0,k.jt)("500ms",(0,k.oB)({transform:"translateX(100%)",opacity:0}))])])]}}),i})();var G=C(273),_t=C(3719),Ft=C(584),Lt=C(9463),D=C(5804),Ut=C(9947),ve=C(2254),xe=C(2937),Ce=C(7979),Ze=C(7613);function Bt(...i){const l=(0,Ze.jO)(i);return l?(0,Ce.z)(Bt(...i),(0,xe.Z)(l)):(0,Ut.e)((e,n)=>{(0,D.l)([e,...(0,ve.k)(i)])(n)})}function Te(...i){return Bt(...i)}var Nt=C(2405),H=C(658),Dt=C(423);let nt=(()=>{class i{constructor(e){this.el=e}scrollIntoView(){this.el.nativeElement.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","appScrollableItem",""]],inputs:{key:["appScrollableItem","key"]}}),i})();var kt=C(9287);const Ae=function(i){return["/","devsec",i,"static_scans"]};function ke(i,l){if(1&i&&(t.TgZ(0,"div",28),t._UZ(1,"nb-icon",29),t.TgZ(2,"span",30),t._uU(3),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("routerLink",t.VKq(2,Ae,null==e.data||null==e.data.application||null==e.data.application.applicationId?null:e.data.application.applicationId.$oid)),t.xp6(3),t.hij(" ",null==e.data||null==e.data.config?null:e.data.config.git_repo," ")}}const ye=function(i){return["/","devsec",i,"dynamic_scans"]};function we(i,l){if(1&i&&(t.TgZ(0,"div",28),t._UZ(1,"nb-icon",31),t.TgZ(2,"span",30),t._uU(3),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("routerLink",t.VKq(2,ye,null==e.data||null==e.data.application||null==e.data.application.applicationId?null:e.data.application.applicationId.$oid)),t.xp6(3),t.hij(" ",null==e.data||null==e.data.config?null:e.data.config.app_url," ")}}function Me(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-body",1),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClick()}),t.TgZ(1,"div",26),t.YNc(2,ke,4,4,"div",27),t.YNc(3,we,4,4,"div",27),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",null==e.data||null==e.data.config?null:e.data.config.git_repo),t.xp6(1),t.Q6J("ngIf",null==e.data||null==e.data.config?null:e.data.config.app_url)}}function Oe(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card"),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h5"),t._uU(3," Delete App "),t.qZA(),t.qZA(),t.TgZ(4,"nb-card-body"),t._uU(5),t.qZA(),t.TgZ(6,"nb-card-footer",22),t.TgZ(7,"button",32),t.NdJ("click",function(){return t.CHM(e).dialogRef.close()}),t._uU(8,"Cancel"),t.qZA(),t.TgZ(9,"button",33),t.NdJ("click",function(){const a=t.CHM(e).dialogRef;return t.oxw().deleteApp(a)}),t._uU(10,"Delete"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(5),t.Oqu(e)}}const Pe=function(){return{}};let Ie=(()=>{class i{constructor(e,n,o){this.router=e,this.apiService=n,this.dialogService=o,this.test="#000",this.active=!1,this.integrated=!1,this.onClickEvent=new G.x,this._reset=new G.x}set data$(e){let n=(null==e?void 0:e.platformName)||"";n=n.toLowerCase(),e.platformTag=(null==n?void 0:n.indexOf("web"))>=0?"web":(null==n?void 0:n.indexOf("android"))>=0||(null==n?void 0:n.indexOf("ios"))>=0?"mobile":"unknown",this.data=e}ngOnInit(){}onClick(){console.debug("onClick"),this.selectApp(this.data)}deleteApp(e){var n,o,a;let c=null===(a=null===(o=null===(n=this.data)||void 0===n?void 0:n.application)||void 0===o?void 0:o.applicationId)||void 0===a?void 0:a.$oid;return console.debug("deleteApp",c,this.data),this.apiService.deleteApplication(c).subscribe(r=>{null==e||e.close(),this._reset.next(!0)})}open(e){this.dialogService.open(e,{closeOnBackdropClick:!1,closeOnEsc:!1,hasBackdrop:!0,context:"Are you sure you want to delete the application ?"}).onClose.subscribe(n=>{})}selectApp(e){var o,a,c,r;(null===(a=null===(o=null==e?void 0:e.application)||void 0===o?void 0:o.applicationId)||void 0===a?void 0:a.$oid)&&(console.log("routerselectapp",e),this.router.navigate(["/","devsec",null===(r=null===(c=null==e?void 0:e.application)||void 0===c?void 0:c.applicationId)||void 0===r?void 0:r.$oid,"builds"]))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.F0),t.Y36(M),t.Y36(s.Gln))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-item"]],inputs:{index:"index",active:"active",data$:["data","data$"],selectedId:"selectedId",integrated:"integrated"},outputs:{onClickEvent:"click",_reset:"_reset"},decls:36,vars:21,consts:[["fxFill",""],[3,"click"],["fxFlex","","fxLayoutAlign","center center","fxLayoutGap","10px"],["fxLayoutAlign","center center",1,"circle"],[1,"text"],["fxLayoutGap","10px","fxLayout","column","fxFlex","",2,"height","100%"],["fxFlex","","fxLayout","row","fxLayoutAlign","start start"],["fxLayout","column","fxLayoutAlign","center start","fxFlex","",2,"height","100%"],[1,"text-interactive",2,"margin-left","5px","font-weight","550"],["appearance","outline","size","tiny",1,"buildcount",3,"status","text"],["fxLayout","column","fxLayoutAlign","end center"],["size","medium",1,"buildcount",3,"appearance","status","text"],[1,"text-interactive-2",2,"margin-left","5px","font-weight","350","font-size","0.8rem"],["fxLayoutGap","10px"],["fxLayoutGap","4px","fxLayout","column","fxLayoutAlign","start start"],["fxLayoutAlign","start start","fxFlex","","fxLayoutGap","10px"],["src","https://img.icons8.com/nolan/64/organization.png",1,"icon"],[1,"text-interactive-2"],["fxFlex","","fxLayoutAlign","center start","fxLayoutAlign","end","fxLayoutGap","10px"],["src","https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/64/000000/external-application-mobile-application-icongeek26-outline-gradient-icongeek26.png",1,"icon"],[3,"click",4,"ngIf"],[2,"margin","","0px; padding","10px"],["fxLayoutGap","10px","fxLayoutAlign","end"],["nbButton","","status","success","appearance","outline","size","small",3,"click"],["nbButton","","status","danger","appearance","outline","size","small",3,"click"],["dialog",""],["fxLayout","column"],["fxFlex","","fxLayoutGap","10px",3,"routerLink",4,"ngIf"],["fxFlex","","fxLayoutGap","10px",3,"routerLink"],["icon","shuffle-2-outline",1,"text-interactive"],[1,"text-interactive-2","light"],["icon","sun-outline",1,"text-interactive"],["status","baisc","appearance","outline","size","small","nbButton","",3,"click"],["status","danger","appearance","outline","size","small","nbButton","",3,"click"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header",1),t.NdJ("click",function(){return n.onClick()}),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"span",4),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t.TgZ(9,"span",8),t._uU(10),t.qZA(),t._UZ(11,"nb-tag",9),t.qZA(),t.TgZ(12,"div",10),t._UZ(13,"nb-tag",11),t.TgZ(14,"span",12),t._uU(15," Builds "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"nb-card-body",1),t.NdJ("click",function(){return n.onClick()}),t.TgZ(17,"div",13),t.TgZ(18,"div",14),t.TgZ(19,"div",15),t._UZ(20,"img",16),t.TgZ(21,"span",17),t._uU(22),t.qZA(),t.qZA(),t.TgZ(23,"div",18),t._UZ(24,"img",19),t.TgZ(25,"span",17),t._uU(26),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,Me,4,2,"nb-card-body",20),t.TgZ(28,"nb-card-footer",21),t.TgZ(29,"div",22),t.TgZ(30,"button",23),t.NdJ("click",function(){return n.onClick()}),t._uU(31,"Explore"),t.qZA(),t.TgZ(32,"button",24),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(35);return n.open(c)}),t._uU(33," Delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(34,Oe,11,1,"ng-template",null,25,t.W1O)}2&e&&(t.ekj("selected",null!=(null==n.data||null==n.data.application?null:n.data.application.scan_data))("active",n.active)("integrated",null==n.data||null==n.data.config?null:n.data.config.integrated)("not_integrated",!(null!=n.data&&null!=n.data.config&&n.data.config.integrated)),t.xp6(5),t.hij(" ",null==n.data?null:n.data.businessName[0]," "),t.xp6(5),t.hij(" ",null==n.data||null==n.data.application?null:n.data.application.applicationName," "),t.xp6(1),t.Q6J("status",n.active?"alternative":"basic")("text",null==n.data?null:n.data.platformTag),t.xp6(2),t.Q6J("appearance","outline")("status",n.active?"alternative":"basic")("text",null==n.data||null==n.data.application?null:n.data.application.noOfBuilds),t.xp6(4),t.ekj("active",n.active),t.xp6(5),t.hij(" ",null==n.data?null:n.data.businessName," "),t.xp6(4),t.hij(" ",null==n.data?null:n.data.projectName," "),t.xp6(1),t.Q6J("ngIf",(null==n.data?null:n.data.config)!=t.DdM(20,Pe)))},directives:[s.Asz,_.s9,s.ndF,_.yH,_.Wh,_.SQ,_.xw,s.c2L,s.yKW,h.O5,s.XWE,s.DPz,A.rH,s.fMN],styles:["[_nghost-%COMP%]{cursor:pointer}nb-card-body[_ngcontent-%COMP%]{padding-left:15px!important;padding-top:0}nb-card[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid #7d2ae8;border:2px solid var(--color-basic-500);height:2.2rem;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;width:2.2rem;box-shadow:0 0 3px var(--color-basic-600)}nb-card[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.8rem;color:var(--color-basic-400);font-weight:400;text-transform:capitalize}nb-card.active[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid var(--color-success-500);box-shadow:0 0 3px var(--color-success-600)}nb-card.active[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--color-success-400)}nb-card[_ngcontent-%COMP%]:hover{background-color:var(--color-basic-1000)!important}nb-card[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{color:#000!important}nb-card[_ngcontent-%COMP%]:hover   .caption-2[_ngcontent-%COMP%]{color:#000!important}nb-card[_ngcontent-%COMP%]:hover   .subtitle-2[_ngcontent-%COMP%]{color:#000!important}nb-card[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{color:#000!important}nb-card.selected[_ngcontent-%COMP%]{color:var(--navitem-selected-text);border-left:2px solid var(--color-success-600);border-left-width:2px}nb-card.not_integrated[_ngcontent-%COMP%]{border:1px solid var(--color-danger-600);border-width:1px;border-radius:5px}nb-card.active[_ngcontent-%COMP%]{background:var(--color-alternative-100);color:#006fd6!important;border:1px solid var(--color-success-400);border-width:2px;border-radius:5px}nb-card.active[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{color:#fff!important}nb-card.active[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{color:#fff!important}nb-card.active[_ngcontent-%COMP%]   .caption-2[_ngcontent-%COMP%]{color:#fff!important}nb-card.active[_ngcontent-%COMP%]   .subtitle-2[_ngcontent-%COMP%]{color:#fff!important}.icon[_ngcontent-%COMP%]{width:100%;height:100%}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize}button[_ngcontent-%COMP%]{text-transform:capitalize!important}.dot[_ngcontent-%COMP%]{margin-right:1rem;margin-left:.3rem;color:#fff!important}nb-card-header[_ngcontent-%COMP%]{padding:15px;padding-left:15px!important;border:0}nb-card[_ngcontent-%COMP%]{padding:0;border-radius:10px}.text-interactive[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:650;font-size:1rem}.text-interactive[_ngcontent-%COMP%]:hovers{text-decoration:underline}.text-interactive-2[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:550;font-size:.8rem}.icon[_ngcontent-%COMP%]{width:20px;height:20px}.light[_ngcontent-%COMP%]{font-weight:300}"]}),i})();var qe=C(44),Se=C(2835);let Fe=(()=>{class i{transform(e){return(0,qe.b)(e)?e.pipe((0,m.U)(n=>({loading:!1,value:n})),(0,I.O)({loading:!0}),(0,Se.K)(n=>(0,N.of)({loading:!1,error:n}))):e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"withLoading",type:i,pure:!0}),i})();const Le=["appList"];function Ue(i,l){1&i&&t._UZ(0,"app-business-list")}function Be(i,l){1&i&&t._UZ(0,"app-project-list")}function Ne(i,l){1&i&&(t.TgZ(0,"nb-card",12),t.TgZ(1,"nb-card-body",13),t.TgZ(2,"div",14),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA(),t.qZA(),t.qZA())}function De(i,l){1&i&&(t.TgZ(0,"div",15),t.TgZ(1,"div",16),t.TgZ(2,"div",17),t._UZ(3,"div",18),t._UZ(4,"div",19),t._UZ(5,"div",20),t._UZ(6,"div",21),t._UZ(7,"div",22),t._UZ(8,"div",23),t._UZ(9,"div",24),t.qZA(),t.qZA(),t.qZA())}function Je(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"app-list-item",27),t.NdJ("_reset",function(o){return t.CHM(e),t.oxw(2)._reset(o)})("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).selectApp(a)}),t.ALo(2,"async"),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=l.index,o=t.oxw(2);t.xp6(1),t.Q6J("index",n+1+o.current_slice_offset)("integrated",null==e?null:e.integrated)("active",t.lcZ(2,4,o.activeAppId)==(null==e||null==e.application||null==e.application.applicationId?null:e.application.applicationId.$oid))("data",e)}}function Qe(i,l){if(1&i&&(t.ynx(0),t.YNc(1,Je,3,6,"div",25),t.ALo(2,"async"),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.applications))}}function ze(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-select",40),t.TgZ(2,"nb-option",41),t._uU(3,"All Applications"),t.qZA(),t.TgZ(4,"nb-option",42),t._uU(5,"Integrated"),t.qZA(),t.TgZ(6,"nb-option",42),t._uU(7,"Non-Integrated"),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("formControl",e._integrated),t.xp6(3),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1)}}function Re(i,l){if(1&i&&(t.ynx(0),t.YNc(1,ze,8,3,"ng-container",5),t.BQk()),2&i){const e=l.ngIf;t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.loading))}}function Ee(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",42),t.TgZ(1,"div",44),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"nb-icon",47),t.NdJ("click",function(o){const c=t.CHM(e).$implicit,r=t.oxw(4),d=t.MAs(16);return o.stopPropagation(),o.preventDefault(),r.open(d,{_id:c._id.$oid,name:c.name,description:c.description})}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(3),t.hij(" ",null==e?null:e.name," ")}}function $e(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-select",43),t.TgZ(2,"nb-option",42),t.TgZ(3,"div",44),t.TgZ(4,"span"),t._uU(5," Create "),t.qZA(),t._UZ(6,"nb-icon",45),t.qZA(),t.qZA(),t.TgZ(7,"nb-option",41),t._uU(8,"All Businesses"),t.qZA(),t.YNc(9,Ee,5,2,"nb-option",46),t.qZA(),t.BQk()),2&i){const e=t.oxw().ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("formControl",n._selectedBusiness),t.xp6(1),t.Q6J("value",null),t.xp6(7),t.Q6J("ngForOf",null==e?null:e.value)}}function je(i,l){if(1&i&&(t.ynx(0),t.YNc(1,$e,10,3,"ng-container",6),t.BQk()),2&i){const e=l.ngIf;t.oxw();const n=t.MAs(15);t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.loading))("ngIfElse",n)}}function Ye(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",42),t.TgZ(1,"div",44),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"nb-icon",47),t.NdJ("click",function(o){const c=t.CHM(e).$implicit,r=t.oxw(4),d=t.MAs(18);return o.stopPropagation(),o.preventDefault(),r.open(d,{_id:c._id.$oid,businessId:null==c||null==c.businessId?null:c.businessId.$oid,name:c.name,description:c.description})}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(3),t.hij(" ",null==e?null:e.name," ")}}function Ge(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-select",48),t.TgZ(2,"nb-option",42),t.TgZ(3,"div",44),t.TgZ(4,"span"),t._uU(5," Create "),t.qZA(),t._UZ(6,"nb-icon",45),t.qZA(),t.qZA(),t.TgZ(7,"nb-option"),t._uU(8,"All Projects"),t.qZA(),t.YNc(9,Ye,5,2,"nb-option",46),t.qZA(),t.BQk()),2&i){const e=t.oxw().ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("formControl",n._selectedProject),t.xp6(1),t.Q6J("value",null),t.xp6(7),t.Q6J("ngForOf",null==e?null:e.value)}}function He(i,l){if(1&i&&(t.ynx(0),t.YNc(1,Ge,10,3,"ng-container",6),t.BQk()),2&i){const e=l.ngIf;t.oxw();const n=t.MAs(15);t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.loading))("ngIfElse",n)}}function Ve(i,l){1&i&&t._UZ(0,"nb-select",49)}function We(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",50),t.TgZ(1,"div",51),t.TgZ(2,"button",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2),a=t.MAs(1);return o.openDialog(a)}),t.TgZ(3,"div",53),t._uU(4," Business "),t.qZA(),t.TgZ(5,"div",54),t._uU(6),t.ALo(7,"async"),t.qZA(),t.qZA(),t._UZ(8,"nb-icon",55),t.TgZ(9,"button",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2),a=t.MAs(3);return o.openDialog(a)}),t.TgZ(10,"div",53),t._uU(11," Project "),t.qZA(),t.TgZ(12,"div",54),t._uU(13),t.ALo(14,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);let n,o;t.xp6(6),t.hij(" ",null==(n=t.lcZ(7,2,e.selectedBusiness))?null:n.title," "),t.xp6(7),t.hij(" ",null==(o=t.lcZ(14,4,e.selectedProject))?null:o.title," ")}}function Xe(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",56),t.TgZ(1,"div",57),t.TgZ(2,"div",58),t.TgZ(3,"nb-form-field",57),t.TgZ(4,"input",59),t.NdJ("keyup.escape",function(){return t.CHM(e),t.oxw(2).toggleSearch()}),t.qZA(),t.TgZ(5,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleSearch()}),t._UZ(6,"nb-icon",61),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("formControl",e.searchFieldControl)}}function Ke(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",62),t.TgZ(1,"div",57),t.TgZ(2,"nb-button-group",63),t.TgZ(3,"button",64),t.NdJ("pressedChange",function(o){return t.CHM(e),t.oxw(2).toggleActive(o)}),t._uU(4,"Active"),t.qZA(),t.TgZ(5,"button",65),t.NdJ("pressedChange",function(o){return t.CHM(e),t.oxw(2).toggleInActive(o)}),t._uU(6,"Inactive"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleSearch()}),t._UZ(8,"nb-icon",67),t.qZA(),t.qZA()}2&i&&(t.xp6(3),t.Q6J("pressed",!0),t.xp6(2),t.Q6J("pressed",!0))}function tn(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",68),t.ynx(1),t.TgZ(2,"div",69),t.TgZ(3,"button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).goToPreviousPage()}),t._uU(4),t.qZA(),t.qZA(),t.BQk(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(4),t.hij(" Load ",e.topOffsetId," more apps ")}}function en(i,l){1&i&&t.GkF(0)}function nn(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",79),t.TgZ(1,"button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).goToPreviousPage()}),t._uU(2," Load More "),t.qZA(),t.qZA()}}function on(i,l){if(1&i&&(t.TgZ(0,"nb-list-item",76),t.YNc(1,en,1,0,"ng-container",77),t.YNc(2,nn,3,0,"ng-template",null,78,t.W1O),t.qZA()),2&i){t.oxw(3);const e=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function rn(i,l){1&i&&t.GkF(0)}function ln(i,l){if(1&i&&(t.TgZ(0,"nb-list-item",76),t.YNc(1,rn,1,0,"ng-container",77),t.qZA()),2&i){t.oxw(3);const e=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function an(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",80),t.TgZ(1,"app-list-item",27),t.NdJ("_reset",function(o){return t.CHM(e),t.oxw(3)._reset(o)})("click",function(){const a=t.CHM(e).$implicit;return t.oxw(3).selectApp(a)}),t.ALo(2,"async"),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=l.index,o=t.oxw(3);t.Q6J("appScrollableItem",null==e?null:e.index),t.xp6(1),t.Q6J("index",n+1+o.current_slice_offset)("integrated",null==e?null:e.integrated)("active",t.lcZ(2,5,o.activeAppId)==(null==e||null==e.application||null==e.application.applicationId?null:e.application.applicationId.$oid))("data",e)}}function cn(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item"),t.TgZ(1,"app-list-item",81),t.NdJ("_reset",function(o){return t.CHM(e),t.oxw(3)._reset(o)})("click",function(){const a=t.CHM(e).$implicit;return t.oxw(3).selectApp(null==a?null:a.value)}),t.ALo(2,"async"),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=l.index,o=t.oxw(3);t.xp6(1),t.Q6J("index",n+1+o.current_slice_offset)("integrated",null==e?null:e.integrated)("active",t.lcZ(2,4,o.activeAppId)==(null==e||null==e.value||null==e.value.application||null==e.value.application.applicationId?null:e.value.application.applicationId.$oid))("data",null==e?null:e.value)}}function sn(i,l){1&i&&t.GkF(0)}function dn(i,l){if(1&i&&(t.TgZ(0,"nb-list-item",76),t.YNc(1,sn,1,0,"ng-container",77),t.qZA()),2&i){t.oxw(3);const e=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function un(i,l){1&i&&t.GkF(0)}function pn(i,l){if(1&i&&(t.TgZ(0,"nb-list-item",76),t.YNc(1,un,1,0,"ng-container",77),t.qZA()),2&i){t.oxw(3);const e=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function gn(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list",71,72),t.NdJ("topThreshold",function(o){return t.CHM(e),t.oxw(2).topThresholdTrigger(o)})("bottomThreshold",function(o){return t.CHM(e),t.oxw(2).bottomThresholdTrigger(o)}),t.YNc(2,on,4,1,"nb-list-item",73),t.YNc(3,ln,2,1,"nb-list-item",73),t.YNc(4,an,3,7,"nb-list-item",74),t.ALo(5,"async"),t.YNc(6,cn,3,6,"nb-list-item",75),t.ALo(7,"slice"),t.ALo(8,"keyvalue"),t.ALo(9,"async"),t.YNc(10,dn,2,1,"nb-list-item",73),t.YNc(11,pn,2,1,"nb-list-item",73),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("threshold",150),t.xp6(2),t.Q6J("ngIf",e.enableTopMoreLoading&&e._loadingTop),t.xp6(1),t.Q6J("ngIf",!e.initLoaded$),t.xp6(1),t.Q6J("ngForOf",t.lcZ(5,7,e.applications)),t.xp6(2),t.Q6J("ngForOf",t.Dn7(7,9,t.xi3(8,13,t.lcZ(9,16,e.apps),e.customOrder),e.current_slice_offset,e.current_slice_offset+e.pagination_limit)),t.xp6(4),t.Q6J("ngIf",e._loadingBottom),t.xp6(1),t.Q6J("ngIf",!1)}}function _n(i,l){1&i&&(t.TgZ(0,"nb-list-item"),t.ynx(1),t.TgZ(2,"div",84),t.TgZ(3,"div",16),t.TgZ(4,"div",17),t._UZ(5,"div",18),t._UZ(6,"div",19),t._UZ(7,"div",20),t._UZ(8,"div",21),t._UZ(9,"div",22),t._UZ(10,"div",23),t._UZ(11,"div",24),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.qZA())}function mn(i,l){1&i&&(t.TgZ(0,"nb-list-item"),t.ynx(1),t.TgZ(2,"div",84),t.TgZ(3,"div",16),t.TgZ(4,"div",17),t._UZ(5,"div",18),t._UZ(6,"div",19),t._UZ(7,"div",20),t._UZ(8,"div",21),t._UZ(9,"div",22),t._UZ(10,"div",23),t._UZ(11,"div",24),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.qZA())}function fn(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",85),t.TgZ(1,"app-list-item",86),t.NdJ("_reset",function(o){return t.CHM(e),t.oxw(3)._reset(o)})("click",function(){const a=t.CHM(e).$implicit;return t.oxw(3).selectApp(null==a?null:a.value)}),t.ALo(2,"async"),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("active",t.lcZ(2,2,n.activeAppId)==(null==e||null==e.value||null==e.value.application||null==e.value.application.applicationId?null:e.value.application.applicationId.$oid))("data",null==e?null:e.value)}}function hn(i,l){if(1&i&&(t.TgZ(0,"nb-list",82),t.YNc(1,_n,12,0,"nb-list-item",5),t.YNc(2,mn,12,0,"nb-list-item",5),t.YNc(3,fn,3,4,"nb-list-item",83),t.ALo(4,"slice"),t.ALo(5,"keyvalue"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.loadingSearchResults),t.xp6(1),t.Q6J("ngIf",e.loadingSearchResults),t.xp6(1),t.Q6J("ngForOf",t.Dn7(4,3,t.xi3(5,7,e.apps_filtered,e.customOrder),e.current_slice_offset,e.current_slice_offset+e.pagination_limit))}}function bn(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-footer",87),t.TgZ(1,"button",88),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).goToPreviousPage()}),t._UZ(2,"nb-icon",89),t.qZA(),t.TgZ(3,"div",79),t.TgZ(4,"span",90),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"span",91),t._uU(8," / "),t.qZA(),t.TgZ(9,"span",90),t._uU(10),t.ALo(11,"async"),t.qZA(),t.qZA(),t.TgZ(12,"button",88),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).goToNextPage()}),t.ALo(13,"async"),t._UZ(14,"nb-icon",92),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);let n,o;t.xp6(1),t.Q6J("disabled",e.current_slice_offset<=0),t.xp6(4),t.hij(" ",t.lcZ(6,4,e.current_slice_offset/e.pagination_limit+1)," "),t.xp6(5),t.hij(" ",null==(n=t.lcZ(11,6,e.pagination_text))?null:n.total_pages," "),t.xp6(2),t.Q6J("disabled",e.current_slice_offset/e.pagination_limit+1>=(null==(o=t.lcZ(13,8,e.pagination_text))?null:o.total_pages))}}function vn(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-card",28),t.TgZ(2,"nb-card-header",29),t.TgZ(3,"div",30),t.YNc(4,Re,2,1,"ng-container",5),t.ALo(5,"async"),t.ALo(6,"withLoading"),t.qZA(),t.TgZ(7,"div",31),t.YNc(8,je,2,2,"ng-container",5),t.ALo(9,"async"),t.ALo(10,"withLoading"),t.YNc(11,He,2,2,"ng-container",5),t.ALo(12,"async"),t.ALo(13,"withLoading"),t.YNc(14,Ve,1,0,"ng-template",null,32,t.W1O),t.qZA(),t.qZA(),t.YNc(16,We,15,6,"nb-card-header",33),t.YNc(17,Xe,7,1,"nb-card-header",34),t.YNc(18,Ke,9,2,"nb-card-header",35),t.YNc(19,tn,5,1,"nb-card-header",36),t.TgZ(20,"nb-card-body"),t.YNc(21,gn,12,18,"nb-list",37),t.YNc(22,hn,6,10,"nb-list",38),t.qZA(),t.YNc(23,bn,15,10,"nb-card-footer",39),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",t.lcZ(5,10,t.lcZ(6,12,e.projects$))),t.xp6(4),t.Q6J("ngIf",t.lcZ(9,14,t.lcZ(10,16,e.business$))),t.xp6(3),t.Q6J("ngIf",t.lcZ(12,18,t.lcZ(13,20,e.projects$))),t.xp6(5),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",e.searchActivated&&!1),t.xp6(1),t.Q6J("ngIf",!e.searchActivated&&!1),t.xp6(1),t.Q6J("ngIf",!e.enableTopMoreLoading&&e.topOffsetId>1),t.xp6(2),t.Q6J("ngIf",!e.searchActivated),t.xp6(1),t.Q6J("ngIf",e.searchActivated),t.xp6(1),t.Q6J("ngIf",!1)}}function xn(i,l){1&i&&t._UZ(0,"nb-card",93)}function Cn(i,l){1&i&&(t.TgZ(0,"div",57),t._UZ(1,"router-outlet",94),t.qZA())}function Zn(i,l){if(1&i&&(t.TgZ(0,"nb-card",95),t.TgZ(1,"nb-card-header",96),t.TgZ(2,"div",57),t._uU(3),t.ALo(4,"async"),t.qZA(),t.qZA(),t.TgZ(5,"nb-card-body"),t._UZ(6,"router-outlet",94),t.qZA(),t.qZA()),2&i){const e=t.oxw();let n;t.xp6(3),t.hij(" Integration ",null==(n=t.lcZ(4,1,e.selectedApp))||null==n.application?null:n.application.applicationName," ")}}function Tn(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",97),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h1"),t._uU(3,"Edit Business"),t.qZA(),t.qZA(),t.TgZ(4,"nb-card-body"),t.TgZ(5,"span"),t._uU(6," If you wish to edit the business, please fill in the new name, and press save. "),t._UZ(7,"br"),t.TgZ(8,"strong"),t._uU(9,"Note:"),t.qZA(),t._uU(10," The changes will reflect instantly, so be extra cautious. "),t.qZA(),t.qZA(),t.TgZ(11,"nb-card-body"),t._UZ(12,"input",98,99),t.qZA(),t.TgZ(14,"nb-card-body"),t._UZ(15,"input",100,101),t.qZA(),t.TgZ(17,"nb-card-footer"),t.TgZ(18,"div",102),t.TgZ(19,"button",103),t.NdJ("click",function(){const o=t.CHM(e),a=o.dialogRef,c=o.$implicit,r=t.MAs(13),d=t.MAs(16);return t.oxw().edit(a,c._id,{name:r.value,description:d.value})}),t._uU(20,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(12),t.Q6J("value",e.name),t.xp6(3),t.Q6J("value",e.description)}}function An(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",104),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h1"),t._uU(3,"Edit Project"),t.qZA(),t.qZA(),t.TgZ(4,"nb-card-body"),t.TgZ(5,"span"),t._uU(6," If you wish to edit the project, please fill in the new name, and press save. "),t._UZ(7,"br"),t.TgZ(8,"strong"),t._uU(9,"Note:"),t.qZA(),t._uU(10," The changes will reflect instantly, so be extra cautious. "),t.qZA(),t.qZA(),t.TgZ(11,"nb-card-body"),t._UZ(12,"input",98,105),t.qZA(),t.TgZ(14,"nb-card-body"),t._UZ(15,"input",106,107),t.qZA(),t.TgZ(17,"nb-card-footer"),t.TgZ(18,"div",102),t._UZ(19,"div",108),t.TgZ(20,"button",109),t.NdJ("click",function(){return t.CHM(e).dialogRef.close()}),t._uU(21,"Close "),t.qZA(),t._UZ(22,"div",108),t.TgZ(23,"button",110),t.NdJ("click",function(){const o=t.CHM(e),a=o.dialogRef,c=o.$implicit,r=t.MAs(13),d=t.MAs(16);return t.oxw().editproject(a,c.businessId,c._id,{name:r.value,description:d.value})}),t._uU(24,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(12),t.Q6J("value",e.name),t.xp6(3),t.Q6J("value",e.description)}}let it=(()=>{class i{constructor(e,n,o,a,c){this.apiService=e,this.router=n,this.activatedRoute=o,this.dialogService=a,this.accessChecker=c,this._selectedBusiness=new g.NI(""),this._selectedProject=new g.NI(""),this._integrated=new g.NI(""),this.business$=this.apiService.getAssociatedBusinesses().pipe((0,f.b)(r=>{console.log("bbb",r)})),this.searchQuery$=new F.X(""),this.searchQuery=this.searchQuery$.asObservable().pipe((0,f.b)(r=>{console.log("searchQ")}),(0,f.b)(r=>{this._loadingBottom=!1,this._loadingTop=!1,this.applications$.next("reset")}),(0,Lt.b)(1e3)),this.initLoaded$=!1,this.selectedApp=this.apiService.selectedApp.pipe((0,f.b)(r=>{console.log("selectedApp",r)}),(0,q.d)()),this.pagination_limit=20,this.current_slice_offset=0,this.sidebarVisible=!0,this.searchFieldControl=new g.NI(""),this.searchActivated=!1,this.searchFielObserver=this.searchFieldControl.valueChanges.pipe((0,I.O)(this.searchFieldControl.value),(0,f.b)(r=>{this.apps_filtered.clear(),this.loadingSearchResults=!0}),(0,Lt.b)(1e3),(0,x.w)(r=>r.length<=2?(0,N.of)(new Map):(r=r.toLowerCase(),this.apps.pipe((0,m.U)(d=>{let u=new Map,p=new Map;return[...d.entries()].filter(Z=>{var y,w,Q,z,X,ut,Tt,j,K;let R=null===(Q=null===(w=null===(y=Z[1])||void 0===y?void 0:y.application)||void 0===w?void 0:w.applicationName)||void 0===Q?void 0:Q.toLowerCase().includes(r);return!(1!=R&&(R=null===(X=null===(z=Z[1])||void 0===z?void 0:z.platformName)||void 0===X?void 0:X.toLowerCase().includes(r),1!=R)&&(R=null===(Tt=null===(ut=Z[1])||void 0===ut?void 0:ut.projectName)||void 0===Tt?void 0:Tt.toLowerCase().includes(r),1!=R)&&(R=null===(K=null===(j=Z[1])||void 0===j?void 0:j.businessName)||void 0===K?void 0:K.toLowerCase().includes(r),1!=R))}).forEach(Z=>{var y,w;(null===(w=null===(y=Z[1])||void 0===y?void 0:y.application)||void 0===w?void 0:w.scan_data)?u.set(...Z):p.set(...Z)}),new Map([...Array.from(u.entries()),...Array.from(p.entries())])}))))),this.buildExplorer=!0,this.tabs=[{title:"Details",route:["details"]},{title:"Config",route:["config"]},{title:"Integration",route:["integration"]},{title:"Builds",disabled:!0,route:["builds"]}],this.selectedBusiness=this.apiService.selectedBusiness.pipe(),this.selectedProject=this.apiService.selectedProject.pipe(),this.apps$=new F.X(new Map),this.apps=this.apps$.pipe((0,x.w)(r=>this.toggleInActiveState$.asObservable().pipe(Te(this.toggleActiveState$.asObservable())).pipe((0,tt.x)(),(0,m.U)(d=>new Map(Array.from(r.entries()).filter(([u,p])=>(null==p?void 0:p.integrated)==d[0]||(null==p?void 0:p.integrated)!=d[1])))))),this.pagination_text=this.apps.pipe((0,m.U)(r=>Math.ceil((null==r?void 0:r.size)/this.pagination_limit)),(0,m.U)(r=>({current_page:Math.ceil(this.current_slice_offset/this.pagination_limit),total_pages:r})),(0,q.d)()),this.apps_filtered=new Map,this._loadingTop=!1,this._loadingBottom=!1,this._completedTop=!1,this._completedBottom=!1,this.enableTopMoreLoading=!1,this.loadMoreTop$=new G.x,this.loadMoreTop=this.loadMoreTop$.pipe((0,T.h)(r=>this.enableTopMoreLoading),(0,T.h)(r=>!this._loadingTop),(0,f.b)(r=>{this._loadingTop=!0}),(0,m.U)(r=>"above")),this.loadMoreBottom$=new G.x,this.loadMoreBottom=this.loadMoreBottom$.pipe((0,T.h)(r=>!this._loadingBottom),(0,f.b)(r=>{this._loadingBottom=!0}),(0,m.U)(r=>"below")),this.reset$=new G.x,this.applications$=new G.x,this.applications=this.applications$.pipe((0,Nt.R)((r,d)=>(console.log("val",d),"reset"==d?(this.topOffsetId=void 0,this.bottomOffsetId=void 0,console.log("valreset",d),this._loadingBottom=!1,this._loadingTop=!1,[]):(console.log("_findings_findings",r,d),null==d?[]:null==r?d:(d.length>0&&("above"==d[0]._direction?(r=d.concat(r),this._loadingTop=!1):"below"==d[0]._direction?(r=r.concat(d),this._loadingBottom=!1):r=d),r)))),(0,f.b)(r=>{var d,u;r.length>0&&(this.topOffsetId=null===(d=r[0])||void 0===d?void 0:d.index,this.bottomOffsetId=null===(u=r[r.length-1])||void 0===u?void 0:u.index),0==this.initLoaded$&&(this.initLoaded$=!0,this.bottomThresholdTrigger(void 0),this.topThresholdTrigger(void 0))}),(0,I.O)([])),this.applicationIdChangeObserver=this.searchQuery.pipe((0,x.w)(r=>(console.log("searchQQ",r),(0,_t.T)(this.activatedRoute.data.pipe((0,T.h)(d=>!!d),(0,T.h)(d=>(null==d?void 0:d.no_app_selected)==!!d),(0,m.U)(d=>{})),this.loadMoreTop,this.loadMoreBottom,this.selectedApp.pipe((0,m.U)(d=>null==d?void 0:d.identifier))).pipe((0,H.z)(d=>{if(console.debug("nextnext_",d),console.log("direction",d),"reset"==d)return this.initLoaded$=!1,this._completedTop=!1,this._completedBottom=!1,(0,N.of)("reset");if("below"==d||"above"==d){let u;return"below"==d?u=this.bottomOffsetId:"above"==d&&(u=this.topOffsetId),(b=>this.apiService.getUserApplication({limit:20,direction:d,offsetId:u,searchQuery:b,filterProjectId:this._selectedProject.value,filterBusinessId:this._selectedBusiness.value,integrated:this._integrated.value}).pipe((0,m.U)(v=>(null==v?void 0:v.data).map(Z=>(Z._direction=d,Z))),(0,f.b)(v=>{v.length<=0&&("below"==d?(this._completedBottom=!0,this._loadingBottom=!1):"above"==d&&(this._completedTop=!0,this._loadingTop=!1))}),(0,Dt.x)(()=>{this._loadingBottom=!1,this._loadingTop=!1})))(r)}{this.initLoaded$=!1,this._completedTop=!1,this._completedBottom=!1;let u=1;return null==d&&(u=20),(b=>this.apiService.getUserApplication({limit:u,offsetId:d,includeOffsetId:!0,searchQuery:b,filterProjectId:this._selectedProject.value,filterBusinessId:this._selectedBusiness.value,integrated:this._integrated.value}).pipe((0,m.U)(v=>0==(null==v?void 0:v.status)?[]:(null==v?void 0:v.data).map(Z=>(Z._direction=d,Z))),(0,Dt.x)(()=>{this._loadingBottom=!1,this._loadingTop=!1})))(r)}}))))).subscribe(r=>{console.log("nextnext",r),this.applications$.next(r)}),this._applications=this.apiService.applications.pipe((0,f.b)(r=>{console.debug("appppp",r)}),(0,m.U)(r=>{let d=new Map,u=new Map,p=new Map;r.forEach(v=>{var Z,y,w,Q,z;(null===(Z=null==v?void 0:v.application)||void 0===Z?void 0:Z.scan_data)?(v.integrated=!0,d.set(null===(w=null===(y=null==v?void 0:v.application)||void 0===y?void 0:y.applicationId)||void 0===w?void 0:w.$oid,v)):(v.integrated=!1,u.set(null===(z=null===(Q=null==v?void 0:v.application)||void 0===Q?void 0:Q.applicationId)||void 0===z?void 0:z.$oid,v))});let b=0;return d.forEach((v,Z)=>{v.index=b,p.set(Z,v),b+=1}),u.forEach((v,Z)=>{v.index=b,p.set(Z,v),b+=1}),{apps:p}}),(0,f.b)(r=>{this.apps$.next(r.apps)}),(0,I.O)(void 0)),this.BusinessListComponent=ct,this.ProjectListComponent=gt,this.activeAppId=this.activatedRoute.parent.paramMap.pipe((0,m.U)(r=>(console.debug("activeAppId",r),r.get("app_id"))),(0,T.h)(r=>(this.reset$.next("reset"),this.loadSelectedAppDetailedView(r),!!r)),(0,q.d)()),this.loadingSearchResults=!1,this.appSubscription=Ft.Lv.EMPTY,this.searchFieldControlSubscription=Ft.Lv.EMPTY,this.customOrder=(r,d)=>r.value.index>d.value.index?1:-1,this.toggleInActiveState$=new F.X(!0),this.toggleActiveState$=new F.X(!0)}set setSearchQuery(e){console.log("searchQuery",e),this.searchQuery$.next(e)}handleDayClick(e){console.log("appListEl",e,this.scrollableItems),this.scrollableItems.last.scrollIntoView()}toggleSearch(){this.searchFieldControlSubscription.unsubscribe(),this.searchActivated=!this.searchActivated,1==this.searchActivated&&(this.searchFieldControlSubscription=this.searchFielObserver.subscribe(e=>{this.loadingSearchResults=!1,console.log("filtered_apps"),this.apps_filtered=e}))}ngAfterViewInit(){}changeTab(e){}goToPreviousPage(){this.current_slice_offset-=this.pagination_limit,this.router.navigateByUrl("/devsec/switch")}goToNextPage(){this.current_slice_offset+=this.pagination_limit}_reset(e){console.log("reset"),this.searchQuery$.next(this.searchFieldControl.value)}setDefaultAppForSelection(){var e;this.apps&&(null===(e=this.apps$)||void 0===e?void 0:e.value.size)>0?this.selectApp(this.apps$.value.values().next().value):this.selectApp(void 0)}loadSelectedAppDetailedView(e){return"*"==e?this.setDefaultAppForSelection():e&&this.apps$.value.has(e)?void this.apiService.selectApp(this.apps$.value.get(e)):this.setDefaultAppForSelection()}open(e,n){this.dialogService.open(e,{context:n})}openDialog(e){this.dialogService.open(e,{dialogClass:"positionalDilog",context:{title:"Are you sure you want to delete all the tasks ?",description:"All the tasks will be lost, and you won't be able to recover them in future.    "}}).onClose.subscribe(n=>{})}ngOnDestroy(){this.appSubscription.unsubscribe(),this.searchFieldControlSubscription.unsubscribe(),this.applicationIdChangeObserver.unsubscribe()}ngOnInit(){this.appSubscription.unsubscribe(),this.appSubscription=this.selectedApp.subscribe(console.log),console.log("ngOnInot"),this._selectedBusiness.valueChanges.pipe((0,I.O)(this._selectedBusiness.value),(0,f.b)(e=>{console.log("_selectedBusiness",e),this._selectedProject.setValue(""),this._integrated.setValue(""),this.projects$=""==e?this.apiService.getAllProjects():this.apiService.getAssociatedBusinessesByProjectId(e),this.applications$.next("reset"),this.searchQuery$.next(this.searchQuery$.value)})).subscribe(),this._selectedProject.valueChanges.pipe((0,I.O)(this._selectedProject.value),(0,f.b)(e=>{console.log("_selectedProject",e),this.applications$.next("reset"),this.searchQuery$.next(this.searchQuery$.value)})).subscribe(),this._integrated.valueChanges.pipe((0,I.O)(this._integrated.value),(0,f.b)(e=>{console.log("_selectedProject",e),this.applications$.next("reset"),this.searchQuery$.next(this.searchQuery$.value)})).subscribe()}selectApp(e){}toggleInActive(e){this.toggleActiveState$.next(e)}toggleActive(e){this.toggleInActiveState$.next(e)}trackByFn(e,n){return console.log("customOrder",n),n.name}bottomThresholdTrigger(e){this._completedBottom||!this.initLoaded$||(console.log("bottomThresholdTrigger",e),this.loadMoreBottom$.next(-1))}topThresholdTrigger(e){this._completedTop||!this.initLoaded$||(console.log("topThreshold",e),this.loadMoreTop$.next(1))}edit(e,n,o){this.apiService.editBusiness(n,o).subscribe(a=>{e.close(),this.business$=this.apiService.getAssociatedBusinesses().pipe((0,f.b)(c=>{console.log("bbb",c)})),this.applications$.next("reset"),this.searchQuery$.next(this.searchQuery$.value)})}editproject(e,n,o,a){console.log(n,o,a),this.apiService.editProject(n,o,a).subscribe(c=>{e.close(),this._selectedBusiness.setValue(this._selectedBusiness.value)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(A.F0),t.Y36(A.gz),t.Y36(s.Gln),t.Y36(kt.QH))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Le,5),t.Gf(nt,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.appListEl=o.first),t.iGM(o=t.CRH())&&(n.scrollableItems=o)}},inputs:{setSearchQuery:["searchQuery","setSearchQuery"]},decls:19,vars:5,consts:[["businessListDialog",""],["projectListDialog",""],["loadingView",""],["loadingListItem",""],["fxLayoutAlign","flex-start","fxLayout.xs","column",1,"main"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["buildSearchComp",""],["fxFlex","",4,"ngIf"],["class","main","fxFlex","","fxFill","","style","height: 0; margin-left: 2rem; width: 0px;",4,"ngIf"],["editBusiness",""],["editProjectTemplate",""],["fxFill",""],["fxLayoutAlign","center center"],[1,"lds-ripple"],["fxFlex","",1,"timeline-wrapper"],[1,"timeline-item"],[1,"animated-background"],[1,"background-masker","header-top"],[1,"background-masker","header-left"],[1,"background-masker","header-right"],[1,"background-masker","header-bottom"],[1,"background-masker","subheader-left"],[1,"background-masker","subheader-right"],[1,"background-masker","subheader-bottom"],["fxFlex","50%",4,"ngFor","ngForOf"],["fxFlex","50%"],["fxFill","","fxFkex","",3,"index","integrated","active","data","_reset","click"],["fxFill","","size","small"],["fxLayoutAlign","space-between","fxLayout","row"],["fxLayoutGap","20px","fxLayout","row"],["fxLayoutAlign","space-between","fxLayoutGap","1rem","fxLayout","row",1,"text-heading"],["loading",""],["fxLayoutAlign","end center",4,"ngIf"],["style","padding: 0px; margin: 0px; ","fxLayoutAlign","start center",4,"ngIf"],["class","actionCardHeader","fxLayoutAlign","center  center",4,"ngIf"],["style","margin: 0; padding: 0;",4,"ngIf"],["fxFill","","fxLayout","row wrap","fxLayoutAlign","space-between","nbInfiniteList","",3,"threshold","topThreshold","bottomThreshold",4,"ngIf"],["body","","nbInfiniteList","",4,"ngIf"],["fxLayoutAlign","space-between center",4,"ngIf"],["placeholder","Show Applications","status","control",3,"formControl"],["value",""],[3,"value"],["placeholder","Business","status","control",3,"formControl"],["fxFlex","","fxLayoutAlign","space-between"],["nbPrefix","","icon","plus-outline"],[3,"value",4,"ngFor","ngForOf"],["nbPrefix","","icon","settings-2-outline",3,"click"],["placeholder","Project","status","control",3,"formControl"],["disabled","","placeholder","Loading","status","primary"],["fxLayoutAlign","end center"],["fxFlex","","fxLayoutAlign","center center",2,"overflow","hidden"],["fxLayout","column","fxLayoutAlign","start start","fxFlex","","outline","","status","basic","shape","semi-round","nbButton","","size","small",1,"title",2,"padding","0px","padding-left","20px","padding-bottom","10px","padding-top","10px",3,"click"],[1,"text-alternative",2,"font-size","15px","font-weight","300","margin-bottom","5px"],[2,"font-size","25px","font-weight","500"],["icon","chevron-right-outline"],["fxLayoutAlign","start center",2,"padding","0px","margin","0px"],["fxFlex",""],["fxLayout","row"],["focusOnce","","status","basic","type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Search",3,"formControl","keyup.escape"],["nbSuffix","","nbButton","","control","","status","primary","ghost","",3,"click"],["icon","close-outline"],["fxLayoutAlign","center  center",1,"actionCardHeader"],["shape","round","status","success","outline","","multiple",""],["nbButtonToggle","",3,"pressed","pressedChange"],["nbButtonToggle","",1,"text-italic",3,"pressed","pressedChange"],["shape","round","size","medium","nbButton","","status","basic","filled","",1,"searchBtn",3,"click"],["icon","search-outline"],[2,"margin","0","padding","0"],["fxFlex","","fxLayoutAlign","center center",2,"margin-left","2rem","margin-right","2rem"],["fxFlex","","size","small","nbButton","","status","primary","outline","","shape","round",3,"click"],["fxFill","","fxLayout","row wrap","fxLayoutAlign","space-between","nbInfiniteList","",3,"threshold","topThreshold","bottomThreshold"],["appList",""],["fxFlex","1 0 calc(50% )","fxFlex.lg","1 0 calc(30% )",4,"ngIf"],["fxFlex","1 0 calc(50% )","fxFlex.lg","1 0 calc(30% )",3,"appScrollableItem",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["fxFlex","1 0 calc(50% )","fxFlex.lg","1 0 calc(30% )"],[4,"ngTemplateOutlet"],["enableTopLoadingTempalte",""],["fxFlex","","fxLayoutAlign","center center"],["fxFlex","1 0 calc(50% )","fxFlex.lg","1 0 calc(30% )",3,"appScrollableItem"],["fxFill","","fxFkex","","fxFlex","",3,"index","integrated","active","data","_reset","click"],["body","","nbInfiniteList",""],["style","padding: 1rem; padding-bottom: 0rem",4,"ngFor","ngForOf"],["fxFlex","",1,"timeline-wrapper",2,"padding","1rem","padding-bottom","0px"],[2,"padding","1rem","padding-bottom","0rem"],["fxFill","","fxFkex","","fxFlex","",3,"active","data","_reset","click"],["fxLayoutAlign","space-between center"],["size","medium","nbButton","","status","primary","ghost","",3,"disabled","click"],["icon","arrow-ios-back-outline"],[1,"select_heading"],[1,"select_heading",2,"font-size","1.4rem","margin-left","5px","margin-right","5px"],["icon","arrow-ios-forward-outline"],["fxFlex.gt-xs","1 1 ","fxFill","",2,"height","0"],["name","app_main"],["fxFlex","","fxFill","",1,"main",2,"height","0","margin-left","2rem","width","0px"],["fxLayoutAlign","start center"],[1,"image"],["type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Name",3,"value"],["name_field",""],["type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Description",3,"value"],["description_field",""],[1,"row"],["nbButton","","status","success",1,"col-12",3,"click"],[1,"dialog"],["name",""],["type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Email",3,"value"],["description",""],[1,"col-2"],["nbButton","","outline","","status","danger",1,"col-3",3,"click"],["nbButton","","outline","","status","success",1,"col-3",3,"click"]],template:function(e,n){if(1&e&&(t.YNc(0,Ue,1,0,"ng-template",null,0,t.W1O),t.YNc(2,Be,1,0,"ng-template",null,1,t.W1O),t.YNc(4,Ne,5,0,"ng-template",null,2,t.W1O),t.YNc(6,De,10,0,"ng-template",null,3,t.W1O),t.TgZ(8,"div",4),t.YNc(9,Qe,3,3,"ng-container",5),t.YNc(10,vn,24,22,"ng-container",6),t.YNc(11,xn,1,0,"ng-template",null,7,t.W1O),t.YNc(13,Cn,2,0,"div",8),t.YNc(14,Zn,7,3,"nb-card",9),t.qZA(),t.YNc(15,Tn,21,2,"ng-template",null,10,t.W1O),t.YNc(17,An,25,2,"ng-template",null,11,t.W1O)),2&e){const o=t.MAs(12);t.xp6(9),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",n.buildExplorer)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1)}},directives:[_.Wh,_.xw,h.O5,ct,gt,s.Asz,_.s9,s.yKW,_.yH,h.sg,Ie,s.ndF,_.SQ,s.rs,g.JJ,g.oH,s.q51,s.fMN,s.t3q,s.DPz,s.jBG,s.h8i,g.Fj,at,s.yyc,s.mnu,s.ZDs,s.zP_,s.sTn,s.qBV,h.tP,nt,s.XWE,A.lC],pipes:[h.Ov,Fe,h.OU,h.Nd,h.JJ],styles:["nb-card[_ngcontent-%COMP%]{border-radius:1rem;padding:1rem}nb-card-header[_ngcontent-%COMP%]{height:var(--header-height);background:none}app-list-item[_ngcontent-%COMP%]{margin:0 0 2px}nb-card-footer[_ngcontent-%COMP%]{background:var(--background-basic-color-1)!important}nb-list[_ngcontent-%COMP%]{height:100%;margin:1rem 2px 10px;margin:0!important;overflow-x:hidden}button[_ngcontent-%COMP%]{text-transform:capitalize!important}nb-list-item[_ngcontent-%COMP%]{border:none}nb-card[_ngcontent-%COMP%]{border-radius:1rem;padding:10px;display:flex;background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-4)}nb-card-body[_ngcontent-%COMP%]{border:0;margin:.6rem;background:var(--background-basic-color-2)!important}.head[_ngcontent-%COMP%]{background:var(--background-alternative-color-2);box-shadow:2px 2px 3px #ffffff29,2px 2px 3px #ffffff3b;color:#fff}.noscroll[_ngcontent-%COMP%]{overflow:hidden}.main[_ngcontent-%COMP%]{height:calc(100vh - 8rem)}.timeline-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid;border-color:#e5e6e9 #dfe0e4 #d0d1d5;border-radius:3px;padding:12px;margin:0 auto}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;background:#f6f7f8;background:linear-gradient(to right,#eeeeee 8%,#dddddd 18%,#eeeeee 33%);height:40px;position:relative}.background-masker[_ngcontent-%COMP%]{background:#fff;position:absolute}.background-masker.header-top[_ngcontent-%COMP%], .background-masker.header-bottom[_ngcontent-%COMP%], .background-masker.subheader-bottom[_ngcontent-%COMP%]{top:0;left:40px;right:0;height:10px}.background-masker.header-left[_ngcontent-%COMP%], .background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:10px;left:40px;height:8px;width:10px}.background-masker.header-bottom[_ngcontent-%COMP%]{top:18px;height:6px}.background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:24px;height:6px}.background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{width:auto;left:300px;right:0}.background-masker.subheader-bottom[_ngcontent-%COMP%]{top:30px;height:10px}.background-masker.content-top[_ngcontent-%COMP%], .background-masker.content-second-line[_ngcontent-%COMP%], .background-masker.content-third-line[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%], .background-masker.content-first-end[_ngcontent-%COMP%]{top:40px;left:0;right:0;height:6px}.background-masker.content-top[_ngcontent-%COMP%]{height:20px}.background-masker.content-first-end[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%]{width:auto;left:380px;right:0;top:60px;height:8px}.background-masker.content-second-line[_ngcontent-%COMP%]{top:68px}.background-masker.content-second-end[_ngcontent-%COMP%]{left:420px;top:74px}.background-masker.content-third-line[_ngcontent-%COMP%]{top:82px}.background-masker.content-third-end[_ngcontent-%COMP%]{left:300px;top:88px}.select_heading[_ngcontent-%COMP%]{color:var(--color-primary-400)!important;font-weight:350;font-size:1rem}.mContainer[_ngcontent-%COMP%]{height:100%}nb-button-group[_ngcontent-%COMP%]{height:2rem}.searchBtn[_ngcontent-%COMP%]{height:2rem}.text-heading[_ngcontent-%COMP%]{color:var(--text-hint-color)}.filter-icon[_ngcontent-%COMP%]{color:var(--text-hint-color)}"]}),i})(),yt=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-hamburger-icon"]],inputs:{active:"active"},decls:5,vars:2,consts:[["id","hamburger",1,"hamburger"],[1,"line"]],template:function(e,n){1&e&&(t.ynx(0),t.TgZ(1,"div",0),t._UZ(2,"div",1),t._UZ(3,"div",1),t._UZ(4,"div",1),t.qZA(),t.BQk()),2&e&&(t.xp6(1),t.ekj("active",1==n.active))},styles:[".hamburger[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{zoom:.4;-moz-transform:scale(.4);height:3px;width:50px;scale:.3;background:#fff;margin:8px auto;display:block;transition:all .3s ease-in-out}.hamburger[_ngcontent-%COMP%]:hover{cursor:pointer}#hamburger.active[_ngcontent-%COMP%]{transition:all .3s ease-in-out;transform:rotate(45deg)}#hamburger.active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){width:0}#hamburger.active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){transform:translateY(13px)}#hamburger.active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-13px) rotate(90deg)}"]}),i})();var wt=C(4104);function kn(i,l){1&i&&(t.TgZ(0,"div",2),t._UZ(1,"app-business-list",3),t._UZ(2,"app-project-list",3),t.qZA())}let yn=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-selector"]],decls:3,vars:1,consts:[["fxLayout","row","fxLayoutGap","20px",1,"container"],["class","container","fxLayout","column",4,"ngIf"],["fxLayout","column",1,"container"],["fxFlex","50%"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-list"),t.YNc(2,kn,3,0,"div",1),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",!1))},directives:[_.xw,_.SQ,it,h.O5,ct,_.yH,gt],styles:[".container[_ngcontent-%COMP%]{height:100vh;max-height:100vh}"]}),i})();function wn(i,l){1&i&&t._UZ(0,"app-list-selector")}let Mn=(()=>{class i{constructor(e){this.dialogService=e}ngOnInit(){}openAppListDialog(e){this.dialogService.open(e,{dialogClass:"sidebarNextlDilog",backdropClass:"blurBackdrop"}).onClose.subscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.Gln))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-switch-workspace"]],decls:5,vars:0,consts:[["appListDialog",""],["fxFlex","","shape","round","nbButton","","size","large",1,"title","button",3,"click"],["icon","toggle-left-outline"]],template:function(e,n){if(1&e){const o=t.EpF();t.YNc(0,wn,1,0,"ng-template",null,0,t.W1O),t.TgZ(2,"button",1),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(1);return n.openAppListDialog(c)}),t._UZ(3,"nb-icon",2),t._uU(4," Switch\n"),t.qZA()}},directives:[s.DPz,_.yH,s.fMN,yn],styles:['button[_ngcontent-%COMP%]{text-transform:capitalize!important;margin:0 1rem 0 0;font-weight:500;padding-right:20px!important;padding-left:20px!important}nb-icon[_ngcontent-%COMP%]{color:var(--text-alternative-color)!important}.button[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:.9rem;text-transform:uppercase;font-weight:550;background-color:#7d2ae8!important;color:var(--text-basic-color)!important;box-shadow:0 0 8px #7d2ae8;border:none;transition:all .3s ease 0s;cursor:pointer;outline:none;height:calc(var(--header-height) - 20px)}.button[_ngcontent-%COMP%]:hover{background-color:var(--color-success-500)!important;box-shadow:0 0 8px var(--color-success-400);color:var(--text-alternative-color)!important}']}),i})();var O=C(7908),mt=C(6474),P=C(9468),Jt=C(9985),Qt=C(8889);function ft(i,l){return l?e=>e.pipe(ft((n,o)=>(0,Jt.Xf)(i(n,o)).pipe((0,m.U)((a,c)=>l(n,a,o,c))))):(0,Ut.e)((e,n)=>{let o=0,a=null,c=!1;e.subscribe(new Qt.Q(n,r=>{a||(a=new Qt.Q(n,void 0,()=>{a=null,c&&n.complete()}),(0,Jt.Xf)(i(r,o++)).subscribe(a))},()=>{c=!0,!a&&n.complete()}))})}var E=(()=>{return(i=E||(E={})).Left="left",i.Bottom="bottom",E;var i})(),st=C(348);const On=[(0,k.SB)("left",(0,k.oB)({transform:"translateX(0%)"})),(0,k.SB)("bottom",(0,k.oB)({transform:"translateY(0%)"})),(0,k.eR)("void => left",[(0,k.oB)({transform:"translateX(100%)"}),(0,k.jt)("150ms ease-out")]),(0,k.eR)("left => void",[(0,k.jt)("150ms ease-out",(0,k.oB)({transform:"translateX(100%)"}))]),(0,k.eR)("void => bottom",[(0,k.oB)({transform:"translateY(100%)"}),(0,k.jt)("150ms ease-out")]),(0,k.eR)("bottom => void",[(0,k.jt)("150ms ease-out",(0,k.oB)({transform:"translateY(100%)"}))])];var ot=(()=>{return(i=ot||(ot={})).fixed="fixed",i.absolute="absolute",ot;var i})(),Pn=C(1808);function In(i,l){}const qn=function(i,l){return{context:i,close:l}};let Sn=(()=>{class i{constructor(e,n,o){this.elementRef=e,this.focusTrapFactory=n,this.mediaObserver=o,this.cssClass="",this.isRoot=!0,this.close=new t.vpe,this.position=ot.fixed,this.screenSizeChangeSubscription=O.w0.EMPTY}get size(){return this._size}set size(e){this._size=(0,st.su)(e)}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=(0,st.su)(e)}get closeOnOutsideClick(){return this._closeOnOutsideClick}set closeOnOutsideClick(e){this._closeOnOutsideClick=(0,st.Ig)(e)}get cssClasses(){let e=`ngx-drawer ${this.cssClass}`;return this.isLeft&&(e+=" left-drawer"),this.isBottom&&(e+=" bottom-drawer"),e}get isLeft(){return this.direction===E.Left}get isBottom(){return this.direction===E.Bottom}ngOnInit(){this.screenSizeChangeSubscription=this.mediaObserver.asObservable().pipe((0,T.h)(e=>e.length>0),(0,m.U)(e=>e[0])).subscribe(e=>{"xs"==e.mqAlias||"sm"==e.mqAlias?this.widthSize="100%":("md"==e.mqAlias||"lg"==e.mqAlias||"xl"==e.mqAlias)&&(this.widthSize="50%"),console.log("changeALias",e.mqAlias,this.widthSize)}),this.position=this.isRoot?ot.fixed:ot.absolute,this.setDimensions(this.size),this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement),this.focusTrap.blurPreviouslyFocusedElement(),this.focusTrap.focusInitialElementWhenReady()}ngOnDestroy(){this.screenSizeChangeSubscription.unsubscribe(),this.close.emit(!0),this.focusTrap&&this.focusTrap.restoreFocus()}setDimensions(e){this.heightSize=`${this.isBottom&&e?e:"100%"}`,this.widthSize=0===e?`${this.isLeft&&e?e:"50%"}`:`${this.isLeft&&e?e:"auto"}`}onEscapeKey(){this.close.emit(!0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(s.E_E),t.Y36(Pn.u0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ngx-drawer"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:11,hostBindings:function(e,n){1&e&&t.NdJ("keyup.esc",function(){return n.onEscapeKey()}),2&e&&(t.d8E("@drawerTransition",n.direction),t.Tol(n.cssClasses),t.Udp("width",n.widthSize)("height",n.heightSize)("z-index",n.zIndex)("position",n.position))},inputs:{cssClass:"cssClass",direction:"direction",template:"template",context:"context",isRoot:"isRoot",size:"size",zIndex:"zIndex",closeOnOutsideClick:"closeOnOutsideClick"},outputs:{close:"close"},exportAs:["ngxDrawer"],decls:2,vars:5,consts:[["cdkFocusRegionStart","",1,"ngx-drawer-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,In,0,0,"ng-template",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",t.WLB(2,qn,n.context,n.close)))},directives:[h.tP],styles:[".ngx-drawer{display:block;overflow-x:hidden;text-align:left;z-index:998;background:#1c2029;min-width:50%;width:50%}.ngx-drawer.left-drawer{top:var(--header-height);top:0;right:0;height:100%}.ngx-drawer.bottom-drawer{left:0;bottom:0;width:100%;max-height:100vh}.ngx-drawer .ngx-drawer-content{height:100%;min-height:100%}\n"],encapsulation:2,data:{animation:[(0,k.X$)("drawerTransition",On)]},changeDetection:0}),i})();var zt=C(5711);let ht=(()=>{class i{constructor(e,n,o){this.applicationRef=e,this.componentFactoryResolver=n,this.injector=o}static setGlobalRootViewContainer(e){i.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(i.globalRootViewContainer)return i.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function(i){return i.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,n){if(n){if(void 0!==n.inputs){const o=Object.getOwnPropertyNames(n.inputs);for(const a of o)e.instance[a]=n.inputs[a]}if(void 0!==n.outputs){const o=Object.getOwnPropertyNames(n.outputs);for(const a of o)e.instance[a]=n.outputs[a]}}return e}appendComponent(e,n={},o){o||(o=this.getRootViewContainer());const a=n.inputs&&!1===n.inputs.isRoot?o:this.getComponentRootNode(o),c=new zt.u0(a,this.componentFactoryResolver,this.applicationRef,this.injector),r=new zt.C5(e),d=c.attach(r);return this.projectComponentBindings(d,n),d}}return i.globalRootViewContainer=null,i.\u0275fac=function(e){return new(e||i)(t.LFG(t.z2F),t.LFG(t._Vd),t.LFG(t.zs3))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();const Un=["*"];let Bn=(()=>{class i{constructor(e){this.cdr=e,this.click=new t.vpe,this._visible=!1,this._zIndex=990}get visible(){return this._visible}set visible(e){this._visible=(0,st.Ig)(e),this.cdr.markForCheck()}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=(0,st.su)(e),this.cdr.markForCheck()}get animationState(){return this.visible?"active":"inactive"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ngx-overlay"]],inputs:{visible:"visible",zIndex:"zIndex"},outputs:{click:"click"},exportAs:["ngxOverlay"],ngContentSelectors:Un,decls:2,vars:3,consts:[["cdkTrapFocus","","cdkTrapFocusAutoCapture","",1,"ngx-overlay",3,"click"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("click",function(){return n.click.emit(!0)}),t.Hsn(1),t.qZA()),2&e&&(t.Udp("z-index",n.zIndex),t.Q6J("@overlayTransition",n.animationState))},styles:[".ngx-overlay{position:fixed;top:0;left:0;bottom:0;right:0;width:100%;overflow:hidden;height:100%;background-color:#000;opacity:0;visibility:hidden;text-align:center;line-height:100vh}\n"],encapsulation:2,data:{animation:[(0,k.X$)("overlayTransition",[(0,k.SB)("active",(0,k.oB)({opacity:.8,visibility:"visible"})),(0,k.SB)("inactive",(0,k.oB)({visibility:"hidden",opacity:0})),(0,k.eR)("* => active",[(0,k.jt)("100ms ease-in")]),(0,k.eR)("* => inactive",[(0,k.jt)("100ms ease-out")]),(0,k.eR)("* => void",[(0,k.oB)({opacity:0,visibility:"hidden","pointer-events":"none"}),(0,k.jt)("100ms ease-out")])])]},changeDetection:0}),i})(),bt=(()=>{class i{constructor(e){this.injectionService=e,this.triggerComponents=[],this.click=new t.vpe}get instance(){if(this.component)return this.component.instance}show(e={}){if(!e.triggerComponent)throw new Error("ngx-ui OverlayService.show: triggerComponent missing ");return this.component||(this.component=this.injectComponent(),this.instance.click.subscribe(this.onClick.bind(this))),this.triggerComponents.push({component:e.triggerComponent,zIndex:e.zIndex}),this.component.instance.visible=!0,this.updateZIndex(),this.component}hide(){0===this.triggerComponents.length&&(this.component.instance.visible=!1)}destroy(){this.component&&(this.hide(),setTimeout(()=>{this.component&&0===this.triggerComponents.length&&(this.component.destroy(),this.component=void 0)},100))}injectComponent(){return this.injectionService.appendComponent(Bn)}onClick(){this.triggerComponents.length>0&&this.click.emit(this.triggerComponents[this.triggerComponents.length-1].component)}removeTriggerComponent(e){const n=this.triggerComponents.findIndex(o=>o.component===e);-1!==n&&this.triggerComponents.splice(n,1),this.updateZIndex(),0===this.triggerComponents.length&&this.destroy()}updateZIndex(){if(0===this.triggerComponents.length)return;const e=this.triggerComponents.map(o=>o.zIndex),n=Math.max(...e)-1;this.instance.zIndex=n}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(ht))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})(),dt=(()=>{class i extends class{constructor(l){this.injectionService=l,this.defaults={},this.components=new Map}getByType(l=this.type){return this.components.get(l)}create(l){return this.createByType(this.type,l)}createByType(l,e){const n=e.parentContainer;e=this.assignDefaults(e);const o=this.injectComponent(l,e,n);return this.register(l,o),o}destroy(l){const e=this.components.get(l.componentType);if(e&&e.length){const n=e.indexOf(l);n>-1&&(e[n].destroy(),e.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(l){const e=this.components.get(l);if(e&&e.length){let n=e.length-1;for(;n>=0;)this.destroy(e[n--])}}injectComponent(l,e,n){return this.injectionService.appendComponent(l,e,n)}assignDefaults(l){const e=Object.assign({},this.defaults.inputs),n=Object.assign({},this.defaults.outputs);return!l.inputs&&!l.outputs&&(l={inputs:l}),e&&(l.inputs=Object.assign(Object.assign({},e),l.inputs)),n&&(l.outputs=Object.assign(Object.assign({},n),l.outputs)),l}register(l,e){this.components.has(l)||this.components.set(l,[]),this.components.get(l).push(e)}}{constructor(e,n,o){super(e),this.injectionService=e,this.overlayService=n,this.rendererFactory=o,this.type=Sn,this.defaults={inputs:{direction:E.Left}},this.zIndex=995,this.size=80,this.renderer=this.rendererFactory.createRenderer(null,null)}create(e){const n=super.create(e);return this.createSubscriptions(n,e.isRoot,e.parentContainer),n}destroy(e){e&&e.instance&&(e.instance.size=0),setTimeout(()=>{this.zIndex=this.zIndex-2,this.size=this.size+10,this.overlayService.removeTriggerComponent(e),super.destroy(e)},10)}assignDefaults(e){return(e=super.assignDefaults(e)).inputs.zIndex||(this.zIndex=this.overlayService.instance?this.overlayService.instance.zIndex+3:this.zIndex+2,e.inputs.zIndex=this.zIndex),this.size=this.size-10,e.inputs.size||(e.inputs.size=this.size),e}createSubscriptions(e,n=!0,o){let a,c;n&&this.overlayService.show({triggerComponent:e,zIndex:this.zIndex});const r=d=>{e===d&&(a.unsubscribe(),c&&c.unsubscribe(),this.parentListenerFunc&&1===this.components.get(this.type).length&&this.parentListenerFunc(),this.destroy(e))};if(console.log("___"),a=e.instance.close.subscribe(r.bind(this,e)),e.instance.closeOnOutsideClick)if(n)c=this.overlayService.click.subscribe(r);else{const d=this.components.get(this.type);this.parentListenerFunc=this.renderer.listen(o,"click",u=>{u.target===o&&r(d[d.length-1])})}}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(ht),t.LFG(bt),t.LFG(t.FYo))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();const Nn=["editTmpl"];function Dn(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",5),t.TgZ(1,"div"),t.TgZ(2,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().loadNewBuilds()}),t._UZ(3,"nb-icon",7),t.TgZ(4,"span"),t._uU(5," New Builds Found "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function Jn(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",8),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().onClickBuild(a)}),t._UZ(1,"app-build-item",9),t.ALo(2,"async"),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.xp6(1),t.Q6J("active",t.lcZ(2,2,n.activeBuildId)==(null==e||null==e._id?null:e._id.$oid))("build",e)}}let Qn=(()=>{class i{constructor(e,n,o,a,c){this.apiService=e,this.drawerMngr=n,this.router=o,this.activatedRoute=a,this.nbSidebarService=c,this.buildListLimit=20,this.buildInvalidateIds=new Map,this.topBuildId=void 0,this.bottomBuildId=void 0,this.activeBuildId=this.apiService.selectedBuildId.pipe((0,q.d)(),(0,f.b)(r=>{console.log("resetBuilds",r)})),this.selectedApp=this.apiService.selectedApp,this.buildTransformerPipe=r=>{let d=0,u=[{state:null==r?void 0:r.state_requested,ts:null==r?void 0:r.state_requested_ts,time_taken:0,title:"Enqueued"},{state:null==r?void 0:r.state_execution,ts:null==r?void 0:r.state_execution_ts,time_taken:0,title:"Executing"},{state:null==r?void 0:r.state_download_raw,ts:null==r?void 0:r.state_download_raw_ts,time_taken:0,title:"Report Generated"},{state:null==r?void 0:r.state_pushed_to_parser,ts:null==r?void 0:r.state_pushed_to_parser_ts,time_taken:0,title:"Analyzing"},{state:null==r?void 0:r.state_parsing_started,ts:null==r?void 0:r.state_parsing_started_ts,time_taken:0,title:"Parsing"},{state:null==r?void 0:r.state_parsing_completed,ts:null==r?void 0:r.state_parsing_completed_ts,time_taken:0,title:"Finished"}];return r.success=void 0,r.failed=!1,u.map((p,b)=>{var v,Z;if(0==b)return p;let y=u[b-1];return p.time_taken=(null===(v=null==p?void 0:p.ts)||void 0===v?void 0:v.$date)-(null===(Z=null==y?void 0:y.ts)||void 0===Z?void 0:Z.$date),p.time_taken=(null==p?void 0:p.time_taken)/1e3,p.time_taken=0|(null==p?void 0:p.time_taken),p.time_taken=Math.ceil(p.time_taken),d+=p.time_taken,0==(null==p?void 0:p.state)&&(r.failed=!0),p}),r.build_state=u,r.timeElpased=d,r.finding_stats=this.apiService.getFindingStats(null==r?void 0:r.applicationId,null==r?void 0:r._id).pipe(),r},this.builds$=[],this.allBuildsLoaded=!1,this.loading=!0,this.refreshBuildData=O.w0.EMPTY,this.newBuildsAvailable=!1,this.REFRESH_INTERVAL_PERIOD=1e3}ngOnDestroy(){this.nbSidebarService.expand(),this.refreshBuildData.unsubscribe()}getBuildData(e){var n;return this.apiService.getDevsecopsBuildData({businessId:null==e?void 0:e.businessId,projectId:null==e?void 0:e.projectId,platformId:null==e?void 0:e.platformId,applicationId:null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.applicationId},{offset:this.bottomBuildId,limit:this.buildListLimit,direction:"below"}).pipe((0,T.h)(o=>!!o),(0,m.U)(o=>o.map(a=>this.buildTransformerPipe(a))),(0,f.b)(o=>{if((null==o?void 0:o.length)<this.buildListLimit&&(this.allBuildsLoaded=!0),o.length<=0||!o)console.log("noBuilds",o);else{console.log("activeBuildId");let a=o[0];this.activeBuildId.pipe((0,P.q)(1)).subscribe(c=>{var r,d;null==c&&(console.log("activeBuildId",c),console.log("activeBuildId",c,`${null===(r=null==a?void 0:a._id)||void 0===r?void 0:r.$oid}`),this.router.navigate([`${null===(d=null==a?void 0:a._id)||void 0===d?void 0:d.$oid}`],{relativeTo:this.activatedRoute}))})}}),(0,f.b)(o=>{let a=new Map;o.forEach((c,r)=>{var d,u,p;0==r&&(this.topBuildId=null===(d=null==c?void 0:c._id)||void 0===d?void 0:d.$oid),r+1==(null==o?void 0:o.length)&&(this.bottomBuildId=null===(u=null==c?void 0:c._id)||void 0===u?void 0:u.$oid),(null==c?void 0:c.transition_state)!=L.FAILED&&(null==c?void 0:c.transition_state)!=L.PARSING_FINISHED&&a.set(null===(p=null==c?void 0:c._id)||void 0===p?void 0:p.$oid,r)}),this.buildInvalidateIds=a,console.log("buildInvalidateIds",this.buildInvalidateIds)}))}downloadRaw(e){var n,o,a;this.apiService.downloadReportZip({businessId:null===(n=null==e?void 0:e.businessId)||void 0===n?void 0:n.$oid,projectId:null===(o=null==e?void 0:e.projectId)||void 0===o?void 0:o.$oid,platformId:null===(a=null==e?void 0:e.platformId)||void 0===a?void 0:a.$oid}).subscribe(c=>{})}onClick(e,n){}refreshBuildDataFn(){return(0,mt.F)(this.REFRESH_INTERVAL_PERIOD).pipe(ft(e=>{let n=Array.from(this.buildInvalidateIds.keys());return 0==n.length&&this.buildTopOffsetId$?Y.E:this.apiService.getBuildByIds(n,this.buildTopOffsetId$).pipe((0,f.b)(o=>console.debug(o)))}),(0,f.b)(e=>console.debug(e)),(0,f.b)(e=>{e.builds.forEach(n=>{var o;let a=null===(o=null==n?void 0:n._id)||void 0===o?void 0:o.$oid;this.buildInvalidateIds.get(a)}),this.newBuildsAvailable=null==e?void 0:e.newBuildsFound}),(0,f.b)(e=>{e.builds.forEach(o=>{var a;console.debug("mBuild;d",o),o=this.buildTransformerPipe(o),console.debug("_mBuild;d",o);let c=null===(a=null==o?void 0:o._id)||void 0===a?void 0:a.$oid,r=this.buildInvalidateIds.get(c);o.index=this.builds$[r].index,this.builds$[r]=o})}))}resetBuilds(){this.builds$=[]}loadBuilds(){this.selectedApp.pipe((0,f.b)(e=>{this.resetBuilds(),this.loading=!0}),(0,T.h)(e=>!!e),(0,x.w)(e=>this.getBuildData(e)),(0,f.b)(e=>{var n,o;this.buildTopOffsetId$=e.length>0?null===(o=null===(n=e[0])||void 0===n?void 0:n._id)||void 0===o?void 0:o.$oid:void 0,this.builds$.push(...e),this.loading=!1})).subscribe()}ngOnInit(){this.refreshBuildData=this.refreshBuildDataFn().subscribe(),this.nbSidebarService.collapse(),this.loadBuilds()}onClickBuild(e){var n;this.router.navigate([`${null===(n=null==e?void 0:e._id)||void 0===n?void 0:n.$oid}`],{relativeTo:this.activatedRoute})}openDrawer(e,n="left",o,a=!0,c=this.editTmpl,r=!0,d){var u,p;this.drawerMngr.create({direction:E.Left,template:c,size:o,context:{build_id:null===(u=null==e?void 0:e._id)||void 0===u?void 0:u.$oid,application_id:null===(p=null==e?void 0:e.applicationId)||void 0===p?void 0:p.$oid},closeOnOutsideClick:a,parentContainer:d,isRoot:r})}trackBuild(e,n){var o;return null===(o=null==n?void 0:n._id)||void 0===o?void 0:o.$oid}loadNewBuilds(){this.loadBuilds()}bottomThresholdTrigger(e){this.loading||this.allBuildsLoaded||(console.log("bottomThresholdTrigger",this.allBuildsLoaded,e),this.loadBuilds())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(dt),t.Y36(A.F0),t.Y36(A.gz),t.Y36(s.lzT))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-build-list"]],viewQuery:function(e,n){if(1&e&&t.Gf(Nn,5),2&e){let o;t.iGM(o=t.CRH())&&(n.editTmpl=o.first)}},decls:5,vars:5,consts:[["fxFill","",1,"listContainer"],["fxFlex","","fxFill","",1,"nbCardList"],["style","margin: 0px; padding: 10px;",4,"ngIf"],["nbListPageTracker","","nbInfiniteList","","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data",3,"threshold","nbSpinner","bottomThreshold"],["fxLayout","row",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[2,"margin","0px","padding","10px"],["nbButton","","filled","","status","primary",2,"text-transform","capitalize",3,"click"],["icon","refresh-outline"],["fxLayout","row",3,"click"],["fxFlex","",3,"active","build"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"nb-card",1),t.YNc(2,Dn,6,0,"nb-card-header",2),t.TgZ(3,"nb-list",3),t.NdJ("bottomThreshold",function(a){return n.bottomThresholdTrigger(a)}),t.YNc(4,Jn,3,4,"nb-list-item",4),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",n.newBuildsAvailable),t.xp6(1),t.Q6J("threshold",50)("nbSpinner",n.loading),t.xp6(1),t.Q6J("ngForOf",n.builds$)("ngForTrackBy",n.trackBuild))},directives:[_.s9,s.Asz,_.yH,h.O5,s.zP_,s.B8d,s.sTn,s.Q7R,h.sg,s.ndF,s.DPz,s.fMN,s.qBV,_.xw,pt],pipes:[h.Ov],styles:["nb-list[_ngcontent-%COMP%]{height:30rem;background:var(--background-basic-color-5)}nb-list-item[_ngcontent-%COMP%]{border:none;padding:0;margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:keep-all}nb-card-body[_ngcontent-%COMP%]{padding:0}span[_ngcontent-%COMP%]{text-overflow:ellipsis}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}code[_ngcontent-%COMP%]{color:#f8f8f2;font-size:.875rem}.container[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin-left:5px}.container.fail[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.container.active[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.icon[_ngcontent-%COMP%]{height:100%}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize}.dot[_ngcontent-%COMP%]{font-size:20px;font-weight:300}.dot[_ngcontent-%COMP%]:hover{font-size:40px;transition:.2s}.horizontal_line[_ngcontent-%COMP%]{width:30px;height:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.spin[_ngcontent-%COMP%]{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;display:flex;width:3rem;height:3rem;line-height:3rem;border-radius:50%;font-size:.8rem;text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-primary-600),1px -1px 1px var(--color-primary-600),-1px -1px 1px var(--color-primary-600);box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.circle.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600);text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-success-600),1px -1px 1px var(--color-success-600),-1px -1px 1px var(--color-success-600)}.circle.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600);text-shadow:1px 1px 1px var(--color-danger-300),-1px 1px 1px var(--color-danger-600),1px -1px 1px var(--color-danger-600),-1px -1px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]:hover{font-size:1rem;transition:.2s;width:4rem;height:4rem}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 2px 2px 5px 1px var(--color-primary-300),2px 0 5px 1px var(--color-primary-600)}.vertical_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.vertical_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}.xContainer[_ngcontent-%COMP%]{padding:1rem}.listContainer[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;padding-top:10px;background:var(--background-basic-color-4);display:flex;flex:0 0 var(--sidebar-width)}.content[_ngcontent-%COMP%]{display:flex;flex:0 1 900px}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.contentContainer[_ngcontent-%COMP%]{min-width:0}"]}),i})();const zn=["businessListDialog"],Rn=["projectListDialog"];function En(i,l){1&i&&t._UZ(0,"app-business-list",8),2&i&&t.Q6J("dialogRef",l.dialogRef)}function $n(i,l){1&i&&t._UZ(0,"app-project-list",8),2&i&&t.Q6J("dialogRef",l.dialogRef)}function jn(i,l){1&i&&t._UZ(0,"app-list")}function Yn(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3),a=t.MAs(1);return o.openBusinessDialog(a)}),t.TgZ(2,"div",21),t._uU(3," Business "),t.qZA(),t.TgZ(4,"div",22),t._uU(5),t.ALo(6,"async"),t.qZA(),t.qZA(),t._UZ(7,"nb-icon",23),t.TgZ(8,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3),a=t.MAs(3);return o.openProjectDialog(a)}),t.TgZ(9,"div",21),t._uU(10," Project "),t.qZA(),t.TgZ(11,"div",22),t._uU(12),t.ALo(13,"async"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(3);let n,o;t.xp6(5),t.hij(" ",null==(n=t.lcZ(6,2,e.selectedBusiness))?null:n.title," "),t.xp6(7),t.hij(" ",null==(o=t.lcZ(13,4,e.selectedProject))?null:o.title," ")}}function Gn(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",9),t.TgZ(2,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleMenu()}),t._UZ(3,"app-hamburger-icon",11),t.ALo(4,"async"),t.TgZ(5,"span",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleMenu()}),t._uU(6),t._UZ(7,"span",13),t.qZA(),t.qZA(),t.TgZ(8,"div",14),t._UZ(9,"nb-icon",15),t.TgZ(10,"span",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleMenu()}),t._uU(11),t._UZ(12,"span",13),t.qZA(),t.qZA(),t._UZ(13,"div",16),t.qZA(),t.TgZ(14,"app-switch-workspace",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2),a=t.MAs(5);return o.openAppListDialog(a)}),t.qZA(),t.YNc(15,Yn,14,6,"div",18),t.BQk()}if(2&i){const e=l.ngIf,n=t.oxw(2);t.xp6(3),t.Q6J("active",t.lcZ(4,6,n.isSidebarOpen)),t.xp6(3),t.AsE(" ",null==e||null==e.application?null:e.application.applicationName," "," ("+(null==e?null:e.platformName)+") "," "),t.xp6(5),t.AsE(" ",null==e||null==e.application?null:e.application.applicationName," "," ("+(null==e?null:e.platformName)+") "," "),t.xp6(4),t.Q6J("ngIf",!1)}}function Hn(i,l){if(1&i&&(t.TgZ(0,"nb-layout-header"),t.YNc(1,Gn,16,8,"ng-container",3),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.selectedApp))}}function Vn(i,l){if(1&i&&(t.TgZ(0,"nb-sidebar",24),t._UZ(1,"router-outlet",25),t.qZA()),2&i){const e=t.oxw();t.Q6J("state",e.SIDEBAR_DEFAULT_STATE)}}function Wn(i,l){1&i&&(t.TgZ(0,"nb-sidebar",26),t._UZ(1,"app-build-list"),t.qZA())}let W=(()=>{class i{constructor(e,n,o,a,c,r){this.apiService=e,this.themeService=n,this.activatedRoute=o,this.sidebarService=a,this.dialogService=c,this.router=r,this.selectedBusiness=this.apiService.selectedBusiness,this.selectedProject=this.apiService.selectedProject,this.selectedApp=this.apiService.selectedApp.pipe(),this.activeAppId=this.activatedRoute.paramMap.pipe((0,f.b)(d=>console.log("logger",d)),(0,m.U)(d=>(console.log("logger",d.get("app_id")),d.get("app_id"))),(0,T.h)(d=>!!d),(0,q.d)()).subscribe(),this.SIDEBAR_DEFAULT_STATE="expanded",this.isSidebarOpen=this.sidebarService.onToggle().pipe((0,f.b)(d=>{console.log("state",d)}),(0,x.w)(d=>this.sidebarService.getSidebarState()),(0,m.U)(d=>"expanded"==d),(0,I.O)("expanded"==this.SIDEBAR_DEFAULT_STATE))}ngOnInit(){this.themeService.changeTheme("dark"),this.activatedRoute.paramMap.pipe((0,m.U)(n=>n.get("app_id")),(0,T.h)(n=>!!n),(0,x.w)(n=>(console.debug("activeAppId",n),"*"==n?(0,N.of)(void 0):this.apiService.getUserApplicationById(n))),(0,f.b)(n=>{console.log("selectApp_test",n),this.apiService.selectApp(n)})).subscribe()}ngOnDestroy(){this.themeService.changeTheme("default"),console.log("ngOnDestroy")}retry(e){this.apiService.retry(e).subscribe(n=>{n.status&&this.apiService.toastrService.success("REQUEST SENT!!")})}toggleMenu(){this.sidebarService.toggle(!1,"applist")}openAppListDialog(e){this.dialogService.open(e,{dialogClass:"sidebarlDilog",backdropClass:"blurBackdrop"}).onClose.subscribe()}openBusinessDialog(e){this.openDialog(e,()=>{this.openProjectDialog(this.projectListDialog)})}openProjectDialog(e){this.openDialog(e)}openDialog(e,n){this.dialogService.open(e,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{title:"Are you sure you want to delete all the tasks ?",description:"All the tasks will be lost, and you won't be able to recover them in future.    "}}).onClose.subscribe(o=>{1==o&&n&&n()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(s.WMF),t.Y36(A.gz),t.Y36(s.lzT),t.Y36(s.Gln),t.Y36(A.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-bootstrap"]],viewQuery:function(e,n){if(1&e&&(t.Gf(zn,5),t.Gf(Rn,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.businessListDialog=o.first),t.iGM(o=t.CRH())&&(n.projectListDialog=o.first)}},decls:14,vars:3,consts:[["businessListDialog",""],["projectListDialog",""],["appListDialog",""],[4,"ngIf"],["tag","menuSidebar",1,"menuSidebar"],["name","sidebar"],["tag","menuSidebar","tag","applist","right","","fixed","",3,"state",4,"ngIf"],["tag","menuSidebar","tag","builds","state","expanded","right","",4,"ngIf"],[3,"dialogRef"],["fxFlex","","fxLayout","row"],["fxLayoutAlign","start  center","outline","","status","success","nbButtonToggle","",1,"sidebar-header",3,"click"],[3,"active"],["fxHide.lt-sm","","fxShow","",1,"title",3,"click"],[1,"caption-2"],["fxLayoutGap","1rem","fxLayoutAlign","start center"],["status","danger","icon","chevron-right-outline"],["fxLayoutGap","1rem","fxHide.lt-md","","fxShow","","fxLayoutGap","1rem","fxFlex","","fxLayoutAlign","end center"],[3,"click"],["style","overflow: hidden; ","fxLayoutAlign","center center",4,"ngIf"],["fxLayoutAlign","center center",2,"overflow","hidden"],["fxLayout","column","fxLayoutAlign","start start","fxFlex","","outline","","status","basic","shape","semi-round","nbButton","","size","small",1,"title",2,"padding","0px","padding-left","20px","padding-bottom","10px","padding-top","10px",3,"click"],[1,"text-alternative",2,"font-size","15px","font-weight","300","margin-bottom","5px"],[2,"font-size","25px","font-weight","500"],["icon","chevron-right-outline"],["tag","menuSidebar","tag","applist","right","","fixed","",3,"state"],["name","appList"],["tag","menuSidebar","tag","builds","state","expanded","right",""]],template:function(e,n){1&e&&(t.YNc(0,En,1,1,"ng-template",null,0,t.W1O),t.YNc(2,$n,1,1,"ng-template",null,1,t.W1O),t.YNc(4,jn,1,0,"ng-template",null,2,t.W1O),t.TgZ(6,"nb-layout"),t.YNc(7,Hn,3,3,"nb-layout-header",3),t.TgZ(8,"nb-sidebar",4),t._UZ(9,"router-outlet",5),t.qZA(),t.YNc(10,Vn,2,1,"nb-sidebar",6),t.YNc(11,Wn,2,0,"nb-sidebar",7),t.TgZ(12,"nb-layout-column"),t._UZ(13,"router-outlet"),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngIf",!1),t.xp6(3),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1))},directives:[s.Aqw,h.O5,s.nZR,A.lC,s.dP_,ct,gt,it,s.dmS,_.yH,_.xw,s.ZDs,_.Wh,yt,wt.b8,_.SQ,s.fMN,Mn,s.DPz,Qn],pipes:[h.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center}.test[_ngcontent-%COMP%]{flex:1}td[_ngcontent-%COMP%]{text-transform:capitalize}.caption[_ngcontent-%COMP%]{font-size:.9rem!important;margin:.1rem}.caption-2[_ngcontent-%COMP%]{font-size:.9rem!important;margin:.1rem}tr[_ngcontent-%COMP%]{margin-bottom:1rem}th[_ngcontent-%COMP%]{font-style:bold;color:#000;background:var(--select-filled-basic-background-color);border-color:var(--select-filled-basic-border-color)}.hoverOn[_ngcontent-%COMP%]{background:var(--select-outline-basic-hover-background-color);color:#000}th[_ngcontent-%COMP%]{padding:0;text-align:center}._heading[_ngcontent-%COMP%]{font-size:1rem;margin:.2rem;font-weight:400}._subheading[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500}.opt[_ngcontent-%COMP%]{margin-left:1rem;font-size:.8rem;font-weight:500}.optH[_ngcontent-%COMP%]{margin-left:0;font-weight:600;font-size:.8rem}h5[_ngcontent-%COMP%]{font-size:1.2rem;margin-top:.3rem;padding:0;margin-bottom:.3rem;font-weight:400}.loader[_ngcontent-%COMP%]{padding-top:5rem;padding-bottom:5rem}.content[_ngcontent-%COMP%]{display:flex}.flex[_ngcontent-%COMP%]{flex:1}.picture[_ngcontent-%COMP%]{background-position:center;background-size:cover;position:relative;border-top-left-radius:.25rem;border-top-right-radius:.25rem;flex:1;background-image:url(/assets/rocket.png)}.card[_ngcontent-%COMP%]{padding:0}.icons-block[_ngcontent-%COMP%]{width:1.4rem;height:1.4rem;border-radius:50%;background-color:#fff;box-shadow:0 .5rem 1.25rem #dae0eb99;margin-left:1rem;margin-right:1rem}.stateicon[_ngcontent-%COMP%]{width:1.8rem;height:1.8rem}.icons-block[_ngcontent-%COMP%]:hover{box-shadow:0 1rem 1.95rem #dae0eb99}.status-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#484747}.stateicon[_ngcontent-%COMP%]{margin-left:auto}.heading[_ngcontent-%COMP%]{font-weight:600}.low[_ngcontent-%COMP%]{background-color:var(--button-filled-primary-background-color)}.medium[_ngcontent-%COMP%]{background-color:var(--button-filled-warning-background-color)}.high[_ngcontent-%COMP%]{background-color:var(--button-filled-danger-background-color)}.critical[_ngcontent-%COMP%]{background-color:var(--button-filled-danger-background-color)}nb-select[_ngcontent-%COMP%]{align-self:center}.accordianitem[_ngcontent-%COMP%]{width:100%}.subName[_ngcontent-%COMP%]{font-weight:600;height:inherit}.headName[_ngcontent-%COMP%]{font-weight:600;height:inherit}.name[_ngcontent-%COMP%]{font-weight:400;height:inherit}.nooverflow[_ngcontent-%COMP%]{overflow:hidden}.textSpace[_ngcontent-%COMP%]{padding-left:1rem;text-overflow:ellipsis;overflow:hidden;flex:1}.textSpace1[_ngcontent-%COMP%]{padding-left:1rem;text-overflow:ellipsis;overflow:auto;flex:1;font-size:medium}.textSpaceLower[_ngcontent-%COMP%]{padding-left:3.4rem;text-overflow:ellipsis;white-space:nowrap}.controlpanelbg[_ngcontent-%COMP%]{background:var(--color-primary-default)}.controlpanelbg2[_ngcontent-%COMP%]{background:var(--color-secondary-default)}h3[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem;line-height:2rem}.buttonspace[_ngcontent-%COMP%]{margin-right:10px}.nomar[_ngcontent-%COMP%]{margin:0;padding:0}.usericon[_ngcontent-%COMP%]{color:var(--color-primary-default)}nb-list[_ngcontent-%COMP%]{overflow:visible}.bold[_ngcontent-%COMP%]{font-weight:650}.nomar[_ngcontent-%COMP%]{margin:0}nb-card[_ngcontent-%COMP%]{max-height:100vh;margin:0}nb-card-body[_ngcontent-%COMP%]{padding:0}.ipaddress[_ngcontent-%COMP%]{font-size:.9rem}button[_ngcontent-%COMP%]{text-transform:capitalize!important}input[_ngcontent-%COMP%]{max-width:150px!important}nb-select[_ngcontent-%COMP%]{width:100px!important;overflow:hidden}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-basic-400)}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-primary-400);color:#fff}nb-list-item.selected[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff!important}nb-list-item.selected.primary[_ngcontent-%COMP%]{background-color:var(--color-primary-500)}nb-list-item.selected.success[_ngcontent-%COMP%]{background-color:var(--color-success-500)}nb-list-item.selected.danger[_ngcontent-%COMP%]{background-color:var(--color-danger-500)}nb-list-item.selected.warning[_ngcontent-%COMP%]{background-color:var(--color-warning-500)}nb-list-item.selected.basic[_ngcontent-%COMP%]{background-color:var(--color-basic-500)}.dot[_ngcontent-%COMP%]{font-size:60px;margin-right:1rem;margin-left:.3rem}.dot.primary[_ngcontent-%COMP%]{color:var(--color-primary-500)}.dot.success[_ngcontent-%COMP%]{color:var(--color-success-500)}.dot.danger[_ngcontent-%COMP%]{color:var(--color-danger-500)}.dot.warning[_ngcontent-%COMP%]{color:var(--color-warning-500)}.dot.basic[_ngcontent-%COMP%]{color:var(--color-basic-500)}.dot.selected[_ngcontent-%COMP%]{color:#fff!important}.src[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.dst[_ngcontent-%COMP%]{font-weight:500;font-size:1rem}nb-layout-column[_ngcontent-%COMP%]{padding:.2rem!important;background:var(--background-basic-color-1)!important}nb-layout-column[_ngcontent-%COMP%]{padding:0!important}  nb-sidebar{transition:width .1s}  nb-sidebar div{transition:width .1s}  nb-sidebar.menuSidebar div{top:0!important;height:100%}nb-layout-header[_ngcontent-%COMP%]{background-color:var(--background-basic-color-3)}.timeline-item[_ngcontent-%COMP%]{border-radius:3px;margin:0 auto}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{-webkit-animation-duration:4.5s;animation-duration:4.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;background:var(--background-basic-color-2);background:linear-gradient(to right,var(--background-basic-color-2) 8%,var(--background-basic-color-1) 18%,var(--background-basic-color-1) 33%);height:calc(var(--header-height) - 20px);position:relative}.background-masker[_ngcontent-%COMP%]{background:var(--background-alternative-color-1);opacity:.6;position:absolute;border-radius:4px}.background-masker.header-top[_ngcontent-%COMP%], .background-masker.header-bottom[_ngcontent-%COMP%], .background-masker.subheader-bottom[_ngcontent-%COMP%]{top:5px;left:40px;right:0;height:10px}.background-masker.header-left[_ngcontent-%COMP%], .background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:10px;left:40px;height:calc(var(--header-height) / 3);width:10px}.background-masker.header-bottom[_ngcontent-%COMP%]{top:calc(10px + var(--header-height) / 3);bottom:10px;height:calc(var(--header-height) / 3)}.background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:24px;height:calc(var(--header-height) / 2)}.background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{width:auto;left:300px;right:0}.background-masker.subheader-bottom[_ngcontent-%COMP%]{top:30px;height:calc(var(--header-height) / 2)}.background-masker.content-top[_ngcontent-%COMP%], .background-masker.content-second-line[_ngcontent-%COMP%], .background-masker.content-third-line[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%], .background-masker.content-first-end[_ngcontent-%COMP%]{top:40px;left:0;right:0;height:6px}.background-masker.content-top[_ngcontent-%COMP%]{height:20px}.background-masker.content-first-end[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%]{width:auto;left:380px;right:0;top:60px;height:8px}.background-masker.content-second-line[_ngcontent-%COMP%]{top:68px}.background-masker.content-second-end[_ngcontent-%COMP%]{left:420px;top:74px}.background-masker.content-third-line[_ngcontent-%COMP%]{top:82px}.background-masker.content-third-end[_ngcontent-%COMP%]{left:300px;top:88px}.lds-ripple[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid var(--background-alternative-color-2);opacity:1;border-radius:50%;-webkit-animation:lds-ripple 1s cubic-bezier(0,.2,.8,1) infinite;animation:lds-ripple 1s cubic-bezier(0,.2,.8,1) infinite}.lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.5s;animation-delay:-.5s}@-webkit-keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0px;left:0px;width:72px;height:72px;opacity:0}}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0px;left:0px;width:72px;height:72px;opacity:0}}.sidebar-header[_ngcontent-%COMP%]{width:var(--sidebar-width)!important;max-width:var(--sidebar-width)!important;height:var(--header-height)!important}"]}),i})();class Xn{constructor(l,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),o=n.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",n.setAttribute("aria-hidden","true"),n.value=l,this._document.body.appendChild(n)}copy(){const l=this._textarea;let e=!1;try{if(l){const n=this._document.activeElement;l.select(),l.setSelectionRange(0,l.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch(n){}return e}destroy(){const l=this._textarea;l&&(l.remove(),this._textarea=void 0)}}let vt=(()=>{class i{constructor(e){this._document=e}copy(e){const n=this.beginCopy(e),o=n.copy();return n.destroy(),o}beginCopy(e){return new Xn(e,this._document)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(h.K0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Kn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();function ti(i,l){1&i&&(t.TgZ(0,"div",3),t.TgZ(1,"div"),t.TgZ(2,"div",4),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA(),t.qZA(),t.qZA())}const ei=function(){return{exact:!1}};function ni(i,l){if(1&i&&(t.ynx(0),t._UZ(1,"nb-route-tabset",5),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("activeLinkOptions",t.DdM(2,ei))("tabs",e.tabs)}}let Rt=(()=>{class i{constructor(e,n,o,a){this.apiService=e,this.clipboard=n,this.toastrService=o,this.activatedRoute=a,this.tabs=[{title:"Config",route:["config"],badgeText:"23"},{title:"Integration",route:["integration"]},{title:"Builds",route:["builds"]},{title:"Findings",route:["findings"]}],this.selectedApp=this.apiService.selectedApp.pipe((0,T.h)(c=>!!c))}ngOnInit(){}getToken(e){var n,o;let a={businessId:null==e?void 0:e.businessId,businessName:null==e?void 0:e.businessName,projectId:null==e?void 0:e.projectId,projectName:null==e?void 0:e.projectName,platformId:null==e?void 0:e.platformId,applicationId:null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.applicationId,applicationName:null===(o=null==e?void 0:e.application)||void 0===o?void 0:o.applicationName};return this.apiService.getAppToken(a).pipe((0,m.U)(c=>null==c?void 0:c.data),(0,m.U)(c=>`curl --request POST http://hawki-api.indiatimes.com/stargate/api/api/v1/devsecops/getCodeSnipppet?token=${c} | sh`))}copyToCB(e){this.clipboard.copy(e),this.toastrService.success("Success","Copied to clipboard")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(vt),t.Y36(s.quB),t.Y36(A.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-main-app"]],decls:5,vars:4,consts:[["loadingView",""],[1,"content"],[4,"ngIf","ngIfElse"],["fxLayoutAlign","center center",1,"content"],["fxLayoutAlign","center center",1,"lds-ripple"],[3,"activeLinkOptions","tabs"]],template:function(e,n){if(1&e&&(t.YNc(0,ti,5,0,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.YNc(3,ni,2,3,"ng-container",2),t.ALo(4,"async"),t.qZA()),2&e){const o=t.MAs(1);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,n.selectedApp))("ngIfElse",o)}},directives:[h.O5,_.Wh,s.l0$],pipes:[h.Ov],styles:[".containers[_ngcontent-%COMP%]{width:0}nb-card-footer[_ngcontent-%COMP%]{padding:.3rem}.content[_ngcontent-%COMP%]{background:var(--background-basic-color-2);max-height:calc(100vh - var(--header-height));height:calc(100vh - var(--header-height));overflow-y:hidden}[_nghost-%COMP%]     ul{justify-content:end;height:var(--header-height);padding-left:1rem!important;box-shadow:0 8px 6px -6px var(--background-basic-color-1);padding-right:2rem!important}[_nghost-%COMP%]     ul li{margin-left:.5rem}"]}),i})();function ii(i,l){1&i&&(t.TgZ(0,"div",9),t._UZ(1,"app-config"),t.qZA())}function oi(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ul",10),t.TgZ(2,"li"),t._uU(3," Add a new build step for shell script execution in the Jenkins build job / pipeline. "),t.qZA(),t.TgZ(4,"li"),t._uU(5," Copy & paste the below code-snippet in the newly created build step. "),t.qZA(),t.TgZ(6,"div",11),t.NdJ("click",function(){const a=t.CHM(e).ngIf;return t.oxw().copyToCB(null==a?null:a.code_snippet)}),t.TgZ(7,"div",12),t.TgZ(8,"div",13),t.TgZ(9,"div",14),t.TgZ(10,"div",15),t.TgZ(11,"span",16),t._uU(12," Shell Script "),t.qZA(),t.TgZ(13,"button",17),t.NdJ("click",function(){const a=t.CHM(e).ngIf;return t.oxw().copyToCB(null==a?null:a.code_snippet)}),t._UZ(14,"nb-icon",18),t._uU(15," Copy "),t.qZA(),t.qZA(),t.TgZ(16,"div",19),t.TgZ(17,"code"),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"li"),t._uU(20," Make sure the newly added build step executes at the last. "),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.ngIf;t.xp6(18),t.hij(" ",null==e?null:e.code_snippet," ")}}let rt=(()=>{class i{constructor(e,n,o,a){this.apiService=e,this.nbToastrService=n,this.clipboard=o,this.nbDialogService=a,this.selectedApp=this.apiService.selectedApp.pipe((0,T.h)(c=>!!c),(0,x.w)(c=>(console.log("selectedApp",c),this.getToken(c).pipe((0,m.U)(r=>(c.code_snippet=r,c)))))),this.DEVSECOPS_ENDPOINT=et.N.hawki_api_hostname}ngOnInit(){}editConfig(e){this.openDialog(e)}openDialog(e){this.nbDialogService.open(e,{dialogClass:"fullScreenDialog",context:{title:"Are you sure you want to delete all the tasks ?",description:"All the tasks will be lost, and you won't be able to recover them in future.    "}}).onClose.subscribe(n=>{})}getToken(e){var n,o;let a={businessId:null==e?void 0:e.businessId,businessName:null==e?void 0:e.businessName,projectId:null==e?void 0:e.projectId,projectName:null==e?void 0:e.projectName,platformId:null==e?void 0:e.platformId,applicationId:null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.applicationId,applicationName:null===(o=null==e?void 0:e.application)||void 0===o?void 0:o.applicationName};return this.apiService.getAppToken(a).pipe((0,m.U)(c=>null==c?void 0:c.data),(0,m.U)(c=>`curl --request POST http://${this.DEVSECOPS_ENDPOINT}/api/v1/devsecops/getCodeSnipppet?token=${c} | sh || true`))}copyToCB(e){this.clipboard.copy(e),this.nbToastrService.success("Code snipped has been copied to your clipboard!","Copied to clipboard")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(s.quB),t.Y36(vt),t.Y36(s.Gln))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-integration"]],decls:14,vars:3,consts:[["editConfigTemplate",""],["fxFill","",2,"padding","2rem"],["fxFlex","1 1"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start center",1,"h5"],["disabled","","outline","","size","medium","status","success","nbButton","",3,"click"],["icon","sun-outline"],["fxLayoutAlign","center center"],[4,"ngIf"],["fxFlex",""],[1,"live"],[1,"_item",3,"click"],[1,"mb-n7","text-left","rules","col","col-12"],[1,"ml-5"],["fxLayout","column",1,"main"],["fxLayoutAlign","start center",1,"btn"],["fxFlex","",1,"codetitle",2,"font-size","1.2rem"],["size","tiny","status","warning","nbButton","","outline","",3,"click"],["icon","copy-outline"],["fxFill","",1,"rows"]],template:function(e,n){if(1&e){const o=t.EpF();t.YNc(0,ii,2,0,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.TgZ(3,"nb-card",2),t.TgZ(4,"nb-card-header",3),t.TgZ(5,"div",4),t._uU(6," Integration Guides "),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"button",5),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(1);return n.editConfig(c)}),t._UZ(9,"nb-icon",6),t._uU(10," Setup "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"nb-card-body",7),t.YNc(12,oi,21,1,"div",8),t.ALo(13,"async"),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(12),t.Q6J("ngIf",t.lcZ(13,1,n.selectedApp)))},styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:center}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#fff;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin:40px}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%]{color:#fff}._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 20px 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}']}),i})();function ri(i,l){if(1&i&&(t.TgZ(0,"nb-option",29),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function li(i,l){if(1&i&&(t.TgZ(0,"nb-option",29),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ai(i,l){1&i&&(t.ynx(0),t.ynx(1),t.TgZ(2,"div",30),t.TgZ(3,"div",31),t.TgZ(4,"h6",32),t._uU(5,"Code Repository"),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.BQk())}function ci(i,l){1&i&&(t.ynx(0),t.ynx(1),t.TgZ(2,"div",33),t.TgZ(3,"div",31),t.TgZ(4,"h6",32),t._uU(5,"Branch"),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.BQk())}function si(i,l){1&i&&(t.ynx(0),t.ynx(1),t.TgZ(2,"div",34),t.TgZ(3,"div",31),t.TgZ(4,"h6",32),t._uU(5,"Website URL "),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.BQk())}function di(i,l){1&i&&(t.ynx(0),t.ynx(1),t.TgZ(2,"div",35),t.TgZ(3,"div",36),t.TgZ(4,"h6",32),t._uU(5,"Coding Language"),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.BQk())}function ui(i,l){1&i&&(t.ynx(0),t.ynx(1),t.TgZ(2,"div",35),t.TgZ(3,"div",36),t.TgZ(4,"h6",32),t._uU(5,"Integration"),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.BQk())}function pi(i,l){1&i&&t.GkF(0)}function gi(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-icon",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).index;return t.oxw(2).changeStep(o)}),t.qZA()}if(2&i){const e=t.oxw(2),n=e.index,o=e.$implicit,a=t.oxw(2);t.ekj("current_step",a.currentStep==n)("invaliid_step",null==a.scanDetails?null:a.scanDetails.get(null==o?null:o.key).invalid),t.Q6J("icon",null!=a.scanDetails&&a.scanDetails.get(null==o?null:o.key).valid?"checkmark-circle-2-outline":"close-circle-outline")}}function _i(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"nb-icon",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).index;return t.oxw(2).changeStep(o)}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2),n=e.$implicit,o=e.index,a=t.oxw(2);t.xp6(1),t.ekj("invaliid_step",null==a.scanDetails?null:a.scanDetails.get(null==n?null:n.key).invalid)("current_step",a.currentStep==o),t.Q6J("icon",null!=a.scanDetails&&a.scanDetails.get(null==n?null:n.key).valid?"checkmark-circle-2-outline":"close-circle-outline")}}function mi(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"div",16),t.YNc(2,gi,1,5,"ng-template",null,39,t.W1O),t.YNc(4,_i,2,5,"ng-container",13),t.TgZ(5,"div",18),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div",40),t._uU(8," \xa0 "),t.qZA(),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw(),o=n.index,a=n.$implicit,c=t.oxw(2);t.xp6(4),t.Q6J("ngIf",c.currentStep==o)("ngIfElse",e),t.xp6(1),t.ekj("current_step_title",c.currentStep==o),t.xp6(1),t.hij(" ",null==a?null:a.alias," ")}}function fi(i,l){if(1&i&&(t.ynx(0),t.YNc(1,mi,9,5,"ng-container",38),t.BQk()),2&i){const e=l.$implicit,n=t.oxw(2);let o;t.xp6(1),t.Q6J("ngIf",null==(null==e?null:e.depends_upon)||1==(null==n.scanDetails||null==(o=n.scanDetails.get(null==n.stepper[null==e?null:e.depends_upon]?null:n.stepper[null==e?null:e.depends_upon].key))?null:o.valid))}}function hi(i,l){if(1&i&&t.YNc(0,fi,2,1,"ng-container",37),2&i){const e=t.oxw();t.Q6J("ngForOf",e.stepper)}}function bi(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.ynx(1),t.TgZ(2,"div",42),t.TgZ(3,"div",43),t.TgZ(4,"div",44),t.TgZ(5,"span",45),t._uU(6,"\xa0 Please make sure that you have provided read access permission of the code-repository to "),t.TgZ(7,"b"),t._uU(8," `whitehat` "),t.qZA(),t._uU(9," group. "),t.qZA(),t.qZA(),t.TgZ(10,"div",44),t.TgZ(11,"span",46),t._uU(12,"\xa0 Or "),t.qZA(),t.qZA(),t.TgZ(13,"div",44),t.TgZ(14,"span",45),t._uU(15,"\xa0 Add SSH Public Access key "),t.TgZ(16,"button",47),t.NdJ("click",function(){return t.CHM(e),t.oxw().copySshKey()}),t._UZ(17,"nb-icon",48),t.TgZ(18,"span"),t._uU(19," Copy "),t.qZA(),t.qZA(),t._uU(20," to your Bitbucket Cloud repositories. "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"nb-form-field",49),t._UZ(22,"nb-icon",50),t.TgZ(23,"input",51),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().validateGitAccess()}),t.qZA(),t.TgZ(24,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleCodeRepo()}),t._UZ(25,"nb-icon",53),t.qZA(),t.qZA(),t.TgZ(26,"div",31),t.TgZ(27,"span",46),t._uU(28),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.BQk()}if(2&i){const e=t.oxw(),n=t.MAs(4);t.xp6(21),t.Q6J("nbSpinner",e.disableFormChange),t.xp6(1),t.Q6J("icon",e.loadingGeneric?"refresh-outline":"checkmark-outline"),t.xp6(1),t.ekj("disabled",e.disableFormChange||e.CODE_REPOSITORY_DISABLED),t.Q6J("disabled",!0)("nbAutocomplete",n)("status",e.disableFormChange||e.CODE_REPOSITORY_DISABLED?"basic":"primary")("readonly",e.disableFormChange||e.CODE_REPOSITORY_DISABLED),t.xp6(1),t.Q6J("status",e.CODE_REPOSITORY_DISABLED?"primary":"success"),t.xp6(1),t.Q6J("icon",e.CODE_REPOSITORY_DISABLED?"edit-outline":"corner-down-left-outline"),t.xp6(3),t.hij("\xa0 ",e.code_repository_message," ")}}function vi(i,l){if(1&i&&t._UZ(0,"nb-icon",62),2&i){const e=t.oxw(3);t.Q6J("icon",e.loadingGeneric?"refresh-outline":"checkmark-outline")}}function xi(i,l){if(1&i&&t._UZ(0,"nb-icon",62),2&i){const e=t.oxw(4);t.Q6J("icon",e.loadingGeneric?"refresh-outline":"checkmark-outline")}}function Ci(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",57),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(3).selectBranch(a)}),t.TgZ(1,"div",58),t._uU(2),t.qZA(),t.YNc(3,xi,1,1,"nb-icon",59),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(3);t.ekj("selected",(null==n.scanDetails||null==n.scanDetails.controls||null==n.scanDetails.controls.GIT_BRANCH?null:n.scanDetails.controls.GIT_BRANCH.value)==e),t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",(null==n.scanDetails||null==n.scanDetails.controls||null==n.scanDetails.controls.GIT_BRANCH?null:n.scanDetails.controls.GIT_BRANCH.value)==e)}}function Zi(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",15),t.TgZ(1,"button",63),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).validateGitAccess()}),t._UZ(2,"nb-icon",64),t._uU(3," Retry "),t.qZA(),t.qZA()}}function Ti(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",55),t.TgZ(2,"nb-list",56),t.TgZ(3,"nb-list-item",57),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).selectBranch(void 0)}),t.TgZ(4,"div",58),t._uU(5," Default "),t.qZA(),t.YNc(6,vi,1,1,"nb-icon",59),t.qZA(),t.YNc(7,Ci,4,4,"nb-list-item",60),t.qZA(),t.YNc(8,Zi,4,0,"div",61),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("nbSpinner",e.disableFormChange),t.xp6(5),t.Q6J("ngIf",""==(null==e.scanDetails||null==e.scanDetails.controls||null==e.scanDetails.controls.GIT_BRANCH?null:e.scanDetails.controls.GIT_BRANCH.value)),t.xp6(1),t.Q6J("ngForOf",e.repoBranchList),t.xp6(1),t.Q6J("ngIf",e.retryBranchFetch)}}function Ai(i,l){if(1&i&&(t.TgZ(0,"nb-list",65),t.TgZ(1,"nb-list-item"),t.TgZ(2,"div",66),t.TgZ(3,"div",67),t._uU(4," Loading branches for repository: "),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",68),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("nbSpinner",e.disableFormChange),t.xp6(7),t.hij(" ",null==e.scanDetails||null==e.scanDetails.controls||null==e.scanDetails.controls.GIT_URL?null:e.scanDetails.controls.GIT_URL.value," ")}}function ki(i,l){if(1&i&&(t.ynx(0),t.YNc(1,Ti,9,4,"ng-container",13),t.YNc(2,Ai,8,2,"ng-template",null,54,t.W1O),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.disableFormChange)("ngIfElse",e)}}function yi(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.ynx(1),t.TgZ(2,"div",34),t.TgZ(3,"nb-form-field",49),t.TgZ(4,"input",69),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().validateWebsiteHealthCheck()}),t.qZA(),t.TgZ(5,"button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw().validateWebsiteHealthCheck()}),t._UZ(6,"nb-icon",64),t.qZA(),t.qZA(),t.TgZ(7,"div",31),t.TgZ(8,"span",46),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("nbSpinner",e.website_healthcheck_loading),t.xp6(1),t.Q6J("status",null!=e.scanDetails&&null!=e.scanDetails.controls&&null!=e.scanDetails.controls.APP_URL&&e.scanDetails.controls.APP_URL.valid?"primary":"danger")("readonly",e.website_healthcheck_loading),t.xp6(5),t.hij("\xa0 ",e.website_healthcheck_message," ")}}function wi(i,l){if(1&i&&t._UZ(0,"nb-icon",62),2&i){const e=t.oxw(3);t.Q6J("icon",e.loadingGeneric?"refresh-outline":"checkmark-outline")}}function Mi(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",57),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).selectLang(a)}),t.TgZ(1,"div",58),t._uU(2),t.qZA(),t.YNc(3,wi,1,1,"nb-icon",59),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.ekj("selected",(null==n.scanDetails||null==n.scanDetails.controls||null==n.scanDetails.controls.LANG_NAME?null:n.scanDetails.controls.LANG_NAME.value)==e),t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",(null==n.scanDetails||null==n.scanDetails.controls||null==n.scanDetails.controls.LANG_NAME?null:n.scanDetails.controls.LANG_NAME.value)==e)}}function Oi(i,l){if(1&i&&(t.ynx(0),t.ynx(1),t.TgZ(2,"div",35),t.TgZ(3,"nb-list",71),t.YNc(4,Mi,4,4,"nb-list-item",60),t.qZA(),t.qZA(),t.BQk(),t.BQk()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.programming_languages)}}function Pi(i,l){1&i&&(t.ynx(0),t.ynx(1),t._UZ(2,"app-integration"),t.BQk(),t.BQk())}function Ii(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",57),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).selectLang(a)}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.ekj("selected",(null==n.scanDetails||null==n.scanDetails.controls||null==n.scanDetails.controls.LANG_NAME?null:n.scanDetails.controls.LANG_NAME.value)==e),t.xp6(1),t.hij(" ",e," ")}}function qi(i,l){1&i&&(t.ynx(0),t.TgZ(1,"div",104),t._uU(2," \xa0 "),t.qZA(),t.TgZ(3,"div",15),t._UZ(4,"nb-icon",103),t.qZA(),t.BQk())}function Si(i,l){if(1&i&&(t.TgZ(0,"div",102),t.TgZ(1,"div",15),t._UZ(2,"nb-icon",103),t.qZA(),t.YNc(3,qi,5,0,"ng-container",37),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.stepper)}}function Fi(i,l){if(1&i&&(t.TgZ(0,"nb-option",29),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Li(i,l){if(1&i&&(t.TgZ(0,"nb-option",29),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Ui(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-body",72,73),t.TgZ(2,"div",74),t.ynx(3),t.TgZ(4,"div",75),t.TgZ(5,"nb-form-field",49),t.TgZ(6,"input",76),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().validateGitAccess()}),t.qZA(),t.TgZ(7,"button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw().validateGitAccess()}),t._UZ(8,"nb-icon",64),t.qZA(),t.qZA(),t.TgZ(9,"div",31),t.TgZ(10,"span",46),t._uU(11),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.ynx(12),t.TgZ(13,"div",34),t.TgZ(14,"nb-form-field",49),t.TgZ(15,"input",77,78),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().validateWebsiteHealthCheck()}),t.qZA(),t.TgZ(17,"button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw().validateWebsiteHealthCheck()}),t._UZ(18,"nb-icon",64),t.qZA(),t.qZA(),t.TgZ(19,"div",31),t.TgZ(20,"span",46),t._uU(21),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.ynx(22),t.TgZ(23,"div",35),t.TgZ(24,"nb-list",79),t.YNc(25,Ii,2,3,"nb-list-item",60),t.qZA(),t.qZA(),t.BQk(),t.YNc(26,Si,4,1,"div",80),t.TgZ(27,"div",81),t.TgZ(28,"span"),t._uU(29," Feed in the below details devsecops mapping. "),t._UZ(30,"br"),t.TgZ(31,"strong"),t._uU(32,"Note:"),t.qZA(),t._uU(33," The changes would reflect instantly, so be extra cautious. "),t.qZA(),t.qZA(),t.TgZ(34,"div",81),t._UZ(35,"input",82),t.TgZ(36,"nb-autocomplete",null,0),t.YNc(38,Fi,2,2,"nb-option",1),t.qZA(),t.qZA(),t.TgZ(39,"div",81),t._UZ(40,"input",83),t.TgZ(41,"nb-autocomplete",null,2),t.YNc(43,Li,2,2,"nb-option",1),t.qZA(),t.qZA(),t.TgZ(44,"div",81),t.TgZ(45,"div",84),t.TgZ(46,"span",85),t._uU(47," Platform "),t.qZA(),t.qZA(),t.TgZ(48,"nb-select",86),t.TgZ(49,"nb-option",87),t._uU(50,"web"),t.qZA(),t.TgZ(51,"nb-option",88),t._uU(52,"mobile"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(53,"div",81),t.TgZ(54,"div",84),t.TgZ(55,"span",85),t._uU(56," Programming Language "),t.qZA(),t.qZA(),t.TgZ(57,"nb-select",89),t.TgZ(58,"nb-option",90),t._uU(59,"java"),t.qZA(),t.TgZ(60,"nb-option",91),t._uU(61,"go"),t.qZA(),t.TgZ(62,"nb-option",92),t._uU(63,"javascript"),t.qZA(),t.TgZ(64,"nb-option",93),t._uU(65,"python"),t.qZA(),t.TgZ(66,"nb-option",94),t._uU(67,"ruby"),t.qZA(),t.TgZ(68,"nb-option",95),t._uU(69,"php"),t.qZA(),t.TgZ(70,"nb-option",96),t._uU(71,"nodejs"),t.qZA(),t.TgZ(72,"nb-option",97),t._uU(73,"django"),t.qZA(),t.TgZ(74,"nb-option",98),t._uU(75,"flask"),t.qZA(),t.TgZ(76,"nb-option",99),t._uU(77,"react"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(78,"div",100),t.TgZ(79,"div",84),t.TgZ(80,"span",85),t._uU(81," Deployment Time "),t.qZA(),t.qZA(),t._UZ(82,"input",101),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(37),n=t.MAs(42),o=t.oxw();t.Q6J("formGroup",o.scanDetails),t.xp6(5),t.Q6J("nbSpinner",o.disableFormChange),t.xp6(1),t.Q6J("status",null!=o.scanDetails&&null!=o.scanDetails.controls&&null!=o.scanDetails.controls.GIT_URL&&o.scanDetails.controls.GIT_URL.valid?"primary":"danger")("readonly",o.disableFormChange),t.xp6(5),t.hij("\xa0 ",o.code_repository_message," "),t.xp6(3),t.Q6J("nbSpinner",o.website_healthcheck_loading),t.xp6(1),t.Q6J("nbAutocomplete",e)("status",null!=o.scanDetails&&null!=o.scanDetails.controls&&null!=o.scanDetails.controls.APP_URL&&o.scanDetails.controls.APP_URL.valid?"primary":"danger")("readonly",o.website_healthcheck_loading),t.xp6(6),t.hij("\xa0 ",o.website_healthcheck_message," "),t.xp6(4),t.Q6J("ngForOf",o.programming_languages),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(9),t.Q6J("nbAutocomplete",e)("status",null!=o.scanDetails&&null!=o.scanDetails.controls&&null!=o.scanDetails.controls.APP_URL&&o.scanDetails.controls.APP_URL.valid?"primary":"danger")("placeholder","Application URL (e.g. http://hawki.indiatimes.com/)"),t.xp6(3),t.Q6J("ngForOf",null==o.appSuggestions?null:o.appSuggestions.APP_URL),t.xp6(2),t.Q6J("nbAutocomplete",n)("status",null!=o.scanDetails&&null!=o.scanDetails.controls&&null!=o.scanDetails.controls.GIT_URL&&o.scanDetails.controls.GIT_URL.valid?"primary":"danger")("placeholder","Git Repo URL (e.g. git@bitbucket.org:times_internet/hawkeye-ui.git)"),t.xp6(3),t.Q6J("ngForOf",null==o.appSuggestions?null:o.appSuggestions.GIT_URL),t.xp6(5),t.Q6J("status",null!=o.scanDetails&&null!=o.scanDetails.controls&&null!=o.scanDetails.controls.APP_TYPE&&o.scanDetails.controls.APP_TYPE.valid?"primary":"danger"),t.xp6(9),t.Q6J("status",null!=o.scanDetails&&null!=o.scanDetails.controls&&null!=o.scanDetails.controls.LANG_NAME&&o.scanDetails.controls.LANG_NAME.valid?"primary":"danger"),t.xp6(25),t.Q6J("status",null!=o.scanDetails&&null!=o.scanDetails.controls&&null!=o.scanDetails.controls.DEP_TIME&&o.scanDetails.controls.DEP_TIME.valid?"primary":"danger")("placeholder","Deployment Time (e.g. 100)")}}function Bi(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",105),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveScanDetails()}),t.TgZ(1,"span"),t._uU(2," Save "),t.qZA(),t._UZ(3,"nb-icon",106),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("disabled",0==e.currentStep)}}const Ni=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?|^((http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;var $=(()=>{return(i=$||($={}))[i.GIT_URL=0]="GIT_URL",i[i.GIT_BRANCH=1]="GIT_BRANCH",i[i.APP_URL=2]="APP_URL",i[i.LANG=3]="LANG",i[i.INTEGRATION=4]="INTEGRATION",$;var i})();let lt=(()=>{class i{constructor(e,n,o,a,c){this.apiService=e,this.activatedRoute=n,this.router=o,this.clipboard=a,this.nbToastrService=c,this.CODE_REPOSITORY_DISABLED=!0,this.REPOSITORY_BRANCH_DISABLED=!0,this.WEBSITE_URL_DISABLED=!0,this.CODING_LANG_DISABLED=!0,this.StepTypeEnum=$,this.currentStep=$.GIT_URL,this.code_repository_message="",this.website_healthcheck_message="",this.repoBranchList=[],this.disableFormChange=!1,this.stepper=[{key:"GIT_URL",alias:"1.Code Repository"},{key:"GIT_BRANCH",alias:"2.Repository Branch",depends_upon:0},{key:"APP_URL",alias:"3.Webapp URL"},{key:"LANG_NAME",alias:"4.Programming Lang."}],this.appDetails={businessId:"",businessName:"",projectId:"",projectName:"",platformId:"",platformName:"",applicationId:"",applicationName:""},this.programming_languages=["java","go","javascript","python","ruby","php","nodejs","django","flask","react","Other"],this.scan_details_default={APP_URL:"",APP_TYPE:"",LANG_NAME:"",GIT_URL:"",GIT_BRANCH:"",DEP_TIME:""},this.scanDetails=new g.cw({GIT_URL:new g.NI("",{validators:[g.kI.required]}),GIT_BRANCH:new g.NI("",{validators:[this.branchValidator.bind(this)]}),APP_URL:new g.NI("",{validators:[g.kI.pattern(Ni),g.kI.required]}),APP_TYPE:new g.NI("",{validators:[g.kI.required]}),LANG_NAME:new g.NI("",{validators:[g.kI.required]}),DEP_TIME:new g.NI("",{validators:[g.kI.required,g.kI.pattern("^[0-9]*$")]})}),this.integrationProgress=this.scanDetails.valueChanges.pipe((0,m.U)(r=>({progress:"10%"}))).subscribe(),this.scan_details={APP_URL:"",APP_TYPE:"",LANG_NAME:"",GIT_URL:"",DEP_TIME:""},this.appSuggestions={GIT_URL:[],APP_URL:[]},this.giturl_loading=!1,this.website_healthcheck_loading=!1,this.loadingGeneric=!1,this.retryBranchFetch=!1}toggleCodeRepo(){this.CODE_REPOSITORY_DISABLED||this.validateGitAccess(),this.CODE_REPOSITORY_DISABLED=!this.CODE_REPOSITORY_DISABLED}copySshKey(){this.clipboard.copy("ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC1Bkdt4M4kJ8K01EUxyY3c/pBCPj8ForBIQs7Up9VaWaKpJ6HqY8Z14k5KnN8T3tu2G0EOP2TQ3PIHDhQBJaU6xpEbqmYk4VCb30uRBUjfOz4xJSPqVl8DcpU7USupSSFqJMWXj4YLjVmMQTq1vA/MFAuVlpTuDOy86AnqIbq6mw4vrUpZoZegozg/jA4NzaXkQTEOYI92fWC6w1YznynFQNQtI+aXp33LhzgUGTYFLTDD7/ueINjlu5PAc2Rle8+tQ7cUxBC9xKUxzTC2+NI9PIlh6LJCiogESjLUXouNw5f7lmkIhmr9NdE3I/i1D2E6Oefgxnk9iAjbYIkl6GNv prakhar.agnihotri@prakharagnihotri.local"),this.nbToastrService.primary("Copied to clipboard!","SSH Public Key")}changeStep(e){switch(e){case 0:this.currentStep=$.GIT_URL;break;case 1:this.currentStep=$.GIT_BRANCH;break;case 2:this.currentStep=$.APP_URL;break;case 3:this.currentStep=$.LANG;break;case 4:this.currentStep=$.INTEGRATION}}branchValidator(e){return this.repoBranchList.includes(e.value)?null:{error:"Invalid Branch"}}getRemoteDetails(){}ngOnInit(){this.giturl_loading=!0,this.apiService.selectedApp.subscribe(e=>{var n,o,a,c;if(this.appDetails.businessId=null==e?void 0:e.businessId,this.appDetails.businessName=null==e?void 0:e.businessName,this.appDetails.projectId=null==e?void 0:e.projectId,this.appDetails.projectName=null==e?void 0:e.projectName,this.appDetails.platformId=null==e?void 0:e.platformId,this.appDetails.platformName=null==e?void 0:e.platformName,this.appDetails.applicationId="",this.appDetails.applicationName="",this.scanDetails.reset(),this.appSuggestions={GIT_URL:[],APP_URL:[]},this.appSuggestions=null==e?void 0:e.appSuggestions,(null==e?void 0:e.application)&&(this.appDetails.applicationId=null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.applicationId,this.appDetails.applicationName=null===(o=null==e?void 0:e.application)||void 0===o?void 0:o.applicationName,null===(a=null==e?void 0:e.application)||void 0===a?void 0:a.scan_data)){let d=Object.assign(Object.assign({},this.scan_details_default),null===(c=null==e?void 0:e.application)||void 0===c?void 0:c.scan_data);this.scanDetails.setValue(d),this.validateGitAccess()}this.giturl_loading=!1})}saveScanDetails(){this.apiService.addDevsecopsScanDetails(this.appDetails,this.scanDetails.value).pipe((0,f.b)(e=>{this.loadingGeneric=!0})).subscribe(e=>{this.loadingGeneric=!1})}validateWebsiteHealthCheck(){console.log(this.scanDetails.value);let e=this.scanDetails.get("APP_URL").value;this.website_healthcheck_loading=!0,this.website_healthcheck_message="Checking access to website",this.apiService.healthcheck(e).subscribe(n=>{this.website_healthcheck_loading=!1,this.website_healthcheck_message="Status Code:"+(null==n?void 0:n.data)})}validateGitAccess(){this.retryBranchFetch=!1;let e=this.scanDetails.get("GIT_URL").value;this.disableFormChange=!0,this.code_repository_message="Validating access to code repository.",this.apiService.lsremote(e).pipe((0,m.U)(n=>{let o=[];if(1!=(null==n?void 0:n.status))throw Error("Unauthenticated access. Make sure that `whitehat` group has read permission for this repository.");return o=Object.keys(null==n?void 0:n.data),o}),(0,m.U)(n=>n.map(o=>o.split("/").pop()))).subscribe(n=>{this.repoBranchList=n,this.disableFormChange=!1,this.code_repository_message="",this.scanDetails.get("GIT_BRANCH").updateValueAndValidity(),this.scanDetails.markAsTouched()},n=>{this.repoBranchList=[],console.error("failed"),this.disableFormChange=!1,this.code_repository_message=n,this.scanDetails.get("GIT_BRANCH").updateValueAndValidity(),this.scanDetails.markAsTouched(),this.retryBranchFetch=!0})}selectLang(e){this.scanDetails.get("LANG_NAME").setValue(e),this.saveScanDetails()}selectBranch(e){this.scanDetails.get("GIT_BRANCH").setValue(e),this.saveScanDetails()}nextStep(){this.currentStep<this.stepper.length-1&&(this.currentStep+=1)}previousStep(){this.currentStep>0&&(this.currentStep-=1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(A.gz),t.Y36(A.F0),t.Y36(vt),t.Y36(s.quB))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-config"]],decls:53,vars:26,consts:[["autoWebUrl",""],[3,"value",4,"ngFor","ngForOf"],["autoGitUrl",""],["fxFill","","fxFlex","0 1 900px",1,"_mainRemain"],["nbSpinnerStatus","danger","fxLayout","row",2,"padding","0px"],["fxLayoutAlign","center center","fxFlex",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["fxLayoutGap","10px","outline","","size","small","nbButton","","status","basic",2,"text-transform","capitalize","margin-right","20px !important",3,"click"],["icon","info-outline"],["fxLayoutGap","50px","fxLayoutAlign","center center","nbSpinnerStatus","danger","fxLayout","row",3,"formGroup"],["fxLayout","row","fxFlex","0 1 900px"],["fxFlex","","fxLayoutAlign","center center","fxLayout","row",2,"height","4rem"],[4,"ngIf","ngIfElse"],["stepperTemplate",""],["fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center center",2,"margin-top","0.0rem"],["icon","message-square-outline","status","primary",1,"dot",3,"click"],[1,"caption-2",2,"text-align","center"],["fxLayoutAlign","end center","nbSpinnerStatus","danger","fxLayout","row"],["fxLayoutAlign","center start",3,"formGroup"],["fxLayoutAlign","center","fxFlex","0 1 900px",2,"align-self","center"],["nbSpinnerStatus","danger",3,"formGroup",4,"ngIf"],["fxLayoutAlign","end","fxLayoutGap","1rem","fxFlex",""],["fxLayoutGap","1rem","outline","","size","medium","nbButton","","status","basic",2,"text-transform","capitalize",3,"disabled","click"],["icon","chevron-left-outline"],["outline","","size","medium","nbButton","","status","primary",2,"text-transform","capitalize",3,"disabled","click"],["icon","chevron-right-outline"],["fxLayoutGap","1rem","outline","","style","text-transform:capitalize;","size","medium","nbButton","","status","success",3,"disabled","click",4,"ngIf"],[3,"value"],["fxFlex","","fxLayout","column","fxLayoutAlign","center start"],["fxLayoutAlign","center  center"],[1,"title"],["fxFlex","","fxLayoutAlign","center center","fxLayout","column",1,"cardbody",2,"justify-content","center"],["fxFlex","","fxLayout","column","fxLayoutAlign","center center",2,"justify-content","center"],["fxFlex","","fxLayoutAlign","center center","fxLayout","column",1,"cardbody"],["fxFlex","","fxLayoutAlign","center  center"],[4,"ngFor","ngForOf"],[4,"ngIf"],["defaultIconTemplate",""],["fxFlex","1 1 100%",1,"horizontal_line"],["status","primary",1,"dot",3,"icon","click"],["fxLayoutGap","2rem","fxLayout","column","fxLayoutAlign","center center"],["fxLayoutGap","1rem","fxLayout","column","fxLayoutAlign","center  center"],["fxLayoutAlign","center  center","fxFlex",""],[1,"caption-2","text-basic",2,"font-size","1rem","font-weight","500","margin-top","0.0rem"],[1,"caption-2",2,"font-size","1rem","font-weight","500","margin-top","0.0rem"],["size","tiny","nbButton","","filled","","status","basic","outline","",2,"text-transform","capitalize",3,"click"],["icon","copy-outline"],["nbSpinnerStatus","danger",3,"nbSpinner"],["nbPrefix","","status","basic",3,"icon"],["fullWidth","","type","text","nbInput","","fieldSize","giant","formControlName","GIT_URL","placeholder","git@bitbucket.org:times_internet/hawkeye-api.git",3,"disabled","nbAutocomplete","status","readonly","keyup.enter"],["size","small","nbSuffix","","nbButton","","filled","",3,"status","click"],[3,"icon"],["loadingBranches",""],["fxFlex","01 1 500px","fxLayoutAlign","center center","fxLayoutGap","20px","fxLayout","column",1,"cardbody",3,"nbSpinner"],["fxLayout","column",2,"max-height","500px"],[3,"click"],["fxFlex",""],["class","loading-icon",3,"icon",4,"ngIf"],[3,"selected","click",4,"ngFor","ngForOf"],["fxLayoutAlign","center center",4,"ngIf"],[1,"loading-icon",3,"icon"],["nbSuffix","","nbButton","","filled","","status","danger",2,"text-transform","capitalize",3,"click"],["icon","refresh-outline"],["fxLayout","column",3,"nbSpinner"],["fxLayout","column","fxLayoutGap","2rem","fxFlex",""],["fxLayoutAlign","center center",1,"title"],["fxLayoutAlign","center center",1,"subtitle"],["fullWidth","","type","text","nbInput","","fieldSize","giant","formControlName","APP_URL","placeholder","http://hawki.indiatimes.com",3,"status","readonly","keyup.enter"],["nbSuffix","","nbButton","","filled","","status","primary",3,"click"],["fxLayout","column",2,"max-width","500px","width","100%","max-height","500px"],["nbSpinnerStatus","danger",3,"formGroup"],["overlayHost",""],["fxLayout","column"],["fxLayout","column","fxLayoutAlign","center center"],["fullWidth","","type","text","nbInput","","fieldSize","giant","formControlName","GIT_URL","placeholder","git@bitbucket.org:times_internet/hawkeye-api.git",3,"status","readonly","keyup.enter"],["scrollStrategy","close","fullWidth","","type","text","nbInput","","fieldSize","giant","formControlName","APP_URL","placeholder","http://hawki.indiatimes.com",3,"nbAutocomplete","status","readonly","keyup.enter"],["websiteInp",""],["fxLayout","column",2,"max-width","500px","width","100%"],["fxFlex","","fxLayoutAlign","center center","fxLayout","row",4,"ngIf"],[1,"row"],["type","text","fullWidth","","nbInput","","fieldSize","small","formControlName","APP_URL",3,"nbAutocomplete","status","placeholder"],["type","text","fullWidth","","nbInput","","fieldSize","small","formControlName","GIT_URL",3,"nbAutocomplete","status","placeholder"],[1,"label"],[1,"caption-2"],["size","small","fullWidth","","placeholder","--Select App Type--","formControlName","APP_TYPE",3,"status"],["value","web"],["value","mobile"],["size","small","formControlName","LANG_NAME","fullWidth","","placeholder","Language Used",3,"status"],["value","java"],["value","go"],["value","javascript"],["value","python"],["value","ruby"],["value","php"],["value","nodejs"],["value","django"],["value","flask"],["value","react"],["fxLayoutGap","1rem",1,"row"],["type","number","type","text","fullWidth","","nbInput","","fieldSize","small","formControlName","DEP_TIME",3,"status","placeholder"],["fxFlex","","fxLayoutAlign","center center","fxLayout","row"],["status","success","icon","checkmark-circle-2-outline",1,"dot"],["fxFlex","",1,"horizontal_line"],["fxLayoutGap","1rem","outline","","size","medium","nbButton","","status","success",2,"text-transform","capitalize",3,"disabled","click"],["icon","sync-outline"]],template:function(e,n){if(1&e&&(t.TgZ(0,"nb-autocomplete",null,0),t.YNc(2,ri,2,2,"nb-option",1),t.qZA(),t.TgZ(3,"nb-autocomplete",null,2),t.YNc(5,li,2,2,"nb-option",1),t.qZA(),t.TgZ(6,"nb-card",3),t.TgZ(7,"nb-card-header",4),t.TgZ(8,"div",5),t.ynx(9,6),t.YNc(10,ai,6,0,"ng-container",7),t.YNc(11,ci,6,0,"ng-container",7),t.YNc(12,si,6,0,"ng-container",7),t.YNc(13,di,6,0,"ng-container",7),t.YNc(14,ui,6,0,"ng-container",7),t.BQk(),t.TgZ(15,"button",8),t.NdJ("click",function(){return n.saveScanDetails()}),t.TgZ(16,"span"),t._uU(17," Save "),t.qZA(),t._UZ(18,"nb-icon",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"nb-card-header",10),t.TgZ(20,"div",11),t.TgZ(21,"div",12),t.YNc(22,pi,1,0,"ng-container",13),t.YNc(23,hi,1,1,"ng-template",null,14,t.W1O),t.TgZ(25,"div",15),t.TgZ(26,"div",16),t.TgZ(27,"nb-icon",17),t.NdJ("click",function(){return n.changeStep(4)}),t.qZA(),t.TgZ(28,"div",18),t._uU(29," Integration Guide "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"nb-card-header",19),t.TgZ(31,"nb-toggle"),t._uU(32,"Toggle with FormControl"),t.qZA(),t.qZA(),t.TgZ(33,"nb-card-body",20),t.TgZ(34,"div",21),t.ynx(35,6),t.YNc(36,bi,29,11,"ng-container",7),t.YNc(37,ki,4,2,"ng-container",7),t.YNc(38,yi,10,4,"ng-container",7),t.YNc(39,Oi,5,1,"ng-container",7),t.YNc(40,Pi,3,0,"ng-container",7),t.BQk(),t.qZA(),t.qZA(),t.YNc(41,Ui,83,24,"nb-card-body",22),t.TgZ(42,"nb-card-footer"),t.TgZ(43,"div",23),t.TgZ(44,"button",24),t.NdJ("click",function(){return n.previousStep()}),t._UZ(45,"nb-icon",25),t.TgZ(46,"span"),t._uU(47," Back "),t.qZA(),t.qZA(),t.TgZ(48,"button",26),t.NdJ("click",function(){return n.nextStep()}),t.TgZ(49,"span"),t._uU(50," Next "),t.qZA(),t._UZ(51,"nb-icon",27),t.qZA(),t.qZA(),t.YNc(52,Bi,4,1,"button",28),t.qZA(),t.qZA()),2&e){const o=t.MAs(24);t.xp6(2),t.Q6J("ngForOf",null==n.appSuggestions?null:n.appSuggestions.APP_URL),t.xp6(3),t.Q6J("ngForOf",null==n.appSuggestions?null:n.appSuggestions.GIT_URL),t.xp6(4),t.Q6J("ngSwitch",n.currentStep),t.xp6(1),t.Q6J("ngSwitchCase",n.StepTypeEnum.GIT_URL),t.xp6(1),t.Q6J("ngSwitchCase",n.StepTypeEnum.GIT_BRANCH),t.xp6(1),t.Q6J("ngSwitchCase",n.StepTypeEnum.APP_URL),t.xp6(1),t.Q6J("ngSwitchCase",n.StepTypeEnum.LANG),t.xp6(1),t.Q6J("ngSwitchCase",n.StepTypeEnum.INTEGRATION),t.xp6(5),t.Q6J("formGroup",n.scanDetails),t.xp6(3),t.Q6J("ngIf",n.currentStep==n.StepTypeEnum.INTEGRATION)("ngIfElse",o),t.xp6(5),t.ekj("invaliid_step",null==n.scanDetails?null:n.scanDetails.invalid)("current_step",4==n.currentStep),t.xp6(6),t.Q6J("formGroup",n.scanDetails),t.xp6(2),t.Q6J("ngSwitch",n.currentStep),t.xp6(1),t.Q6J("ngSwitchCase",n.StepTypeEnum.GIT_URL),t.xp6(1),t.Q6J("ngSwitchCase",n.StepTypeEnum.GIT_BRANCH),t.xp6(1),t.Q6J("ngSwitchCase",n.StepTypeEnum.APP_URL),t.xp6(1),t.Q6J("ngSwitchCase",n.StepTypeEnum.LANG),t.xp6(1),t.Q6J("ngSwitchCase",n.StepTypeEnum.INTEGRATION),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(3),t.Q6J("disabled",0==n.currentStep),t.xp6(4),t.Q6J("disabled",n.currentStep==n.stepper.length-1),t.xp6(4),t.Q6J("ngIf",!1)}},directives:[s.Xh,h.sg,s.Asz,_.s9,_.yH,s.ndF,_.xw,_.Wh,h.RF,h.n9,s.DPz,_.SQ,s.fMN,g.JL,g.sg,h.O5,s.BLq,s.yKW,s.XWE,s.q51,s.jBG,s.Q7R,s.t3q,s.h8i,g.Fj,s.wNd,g.JJ,g.u,s.yyc,s.zP_,s.qBV,rt,s.rs],styles:[".caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.row[_ngcontent-%COMP%]{padding-bottom:1rem;padding-right:1rem;padding-left:1rem;margin:1rem}[_nghost-%COMP%]{justify-content:center}nb-step[_ngcontent-%COMP%]{height:100%}.nb-stepper[_ngcontent-%COMP%]{background-color:#000!important;padding:60px 0 0;border-radius:0!important}nb-stepper[_ngcontent-%COMP%]{padding:2rem!important}.disabled[_ngcontent-%COMP%]{color:var(--text-disabled-color)}.horizontal_line[_ngcontent-%COMP%]{height:2px;align-self:start;margin-top:1rem;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.dot[_ngcontent-%COMP%]{font-size:2.3rem;font-weight:300;transition-duration:.4s;line-height:3rem;height:3rem}.dot[_ngcontent-%COMP%]:hover{color:var(--color-success-hover);font-size:2.8rem}.dot.invaliid_step[_ngcontent-%COMP%]{color:var(--color-danger-active)!important;font-size:2.3rem;transition-duration:1s}.dot.current_step[_ngcontent-%COMP%]{color:var(--color-success-active);font-size:3rem;transition-duration:1s}.current_step_title[_ngcontent-%COMP%]{color:var(--color-basic-active)!important;font-weight:750!important}h6[_ngcontent-%COMP%]{color:var(--color-basic-400);font-weight:300;font-size:1.4rem}.title[_ngcontent-%COMP%]{margin:1rem}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4);padding:1rem}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}nb-card-body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}nb-card-footer[_ngcontent-%COMP%]{padding:1rem!important}nb-form-field[_ngcontent-%COMP%]{width:100%}nb-list[_ngcontent-%COMP%]{width:100%;border-radius:10px}nb-card[_ngcontent-%COMP%]{margin:0}input[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{margin:0!important}.loading-icon[_ngcontent-%COMP%]{font-weight:700}"]}),i})();var Mt=C(3174);function Di(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggle("info")}),t.TgZ(3,"div",5),t._uU(4," Info "),t.qZA(),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggle("low")}),t.TgZ(8,"div",5),t._uU(9," Low "),t.qZA(),t.TgZ(10,"div",6),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggle("medium")}),t.TgZ(13,"div",5),t._uU(14," Medium "),t.qZA(),t.TgZ(15,"div",6),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggle("high")}),t.TgZ(18,"div",5),t._uU(19," High "),t.qZA(),t.TgZ(20,"div",6),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggle("critical")}),t.TgZ(23,"div",5),t._uU(24," Critical "),t.qZA(),t.TgZ(25,"div",6),t._uU(26),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("nbSpinner",!e),t.xp6(1),t.Q6J("appearance",n.info_status?"outline":"ghost")("disabled",!e||"0"==(null==e?null:e.info)),t.xp6(4),t.hij(" ",null==e?null:e.info," "),t.xp6(1),t.Q6J("disabled",!e||"0"==(null==e?null:e.low))("appearance",n.low_status?"outline":"ghost"),t.xp6(4),t.hij(" ",null==e?null:e.low," "),t.xp6(1),t.Q6J("disabled",!e||"0"==(null==e?null:e.medium))("appearance",n.medium_status?"outline":"ghost"),t.xp6(4),t.hij(" ",null==e?null:e.medium," "),t.xp6(1),t.Q6J("disabled",!e||"0"==(null==e?null:e.high))("appearance",n.high_status?"outline":"ghost"),t.xp6(4),t.hij(" ",null==e?null:e.high," "),t.xp6(1),t.Q6J("disabled",!e||"0"==(null==e?null:e.critical))("appearance",n.critical_status?"outline":"ghost"),t.xp6(4),t.hij(" ",null==e?null:e.critical," ")}}function Ji(i,l){if(1&i&&(t.ynx(0),t.YNc(1,Di,27,16,"div",1),t.ALo(2,"async"),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.findingStats))}}function Qi(i,l){if(1&i&&(t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"div",15),t.TgZ(3,"span",16),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",17),t._uU(6," Info "),t.qZA(),t.qZA(),t.TgZ(7,"div",14),t.TgZ(8,"div",18),t.TgZ(9,"span",16),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"div",19),t._uU(12," Low "),t.qZA(),t.qZA(),t.TgZ(13,"div",14),t.TgZ(14,"div",20),t.TgZ(15,"span",16),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"div",21),t._uU(18," Medium "),t.qZA(),t.qZA(),t.TgZ(19,"div",14),t.TgZ(20,"div",22),t.TgZ(21,"span",16),t._uU(22),t.qZA(),t.qZA(),t.TgZ(23,"div",23),t._uU(24," High "),t.qZA(),t.qZA(),t.TgZ(25,"div",14),t.TgZ(26,"div",24),t.TgZ(27,"span",16),t._uU(28),t.qZA(),t.qZA(),t.TgZ(29,"div",25),t._uU(30," Critical "),t.qZA(),t.qZA(),t.qZA()),2&i){const e=l.ngIf;t.xp6(4),t.hij(" ",null==e?null:e.info," "),t.xp6(6),t.hij(" ",null==e?null:e.low," "),t.xp6(6),t.hij(" ",null==e?null:e.medium," "),t.xp6(6),t.hij(" ",null==e?null:e.high," "),t.xp6(6),t.hij(" ",null==e?null:e.critical," ")}}function zi(i,l){1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"div",17),t.TgZ(2,"span",27),t._uU(3," Info "),t.qZA(),t.qZA(),t.TgZ(4,"div",19),t.TgZ(5,"span",27),t._uU(6," Low "),t.qZA(),t.qZA(),t.TgZ(7,"div",21),t.TgZ(8,"span",27),t._uU(9," Medium "),t.qZA(),t.qZA(),t.TgZ(10,"div",23),t.TgZ(11,"span",27),t._uU(12," High "),t.qZA(),t.qZA(),t.TgZ(13,"div",25),t.TgZ(14,"span",27),t._uU(15," Critical "),t.qZA(),t.qZA(),t.qZA())}function Ri(i,l){if(1&i&&(t.ynx(0),t.YNc(1,Qi,31,5,"div",11),t.ALo(2,"async"),t.YNc(3,zi,16,0,"div",12),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.findingStats)),t.xp6(2),t.Q6J("ngIf",!1)}}let Et=(()=>{class i{constructor(e){this.apiService=e,this.info_status=!0,this.low_status=!0,this.medium_status=!0,this.high_status=!0,this.critical_status=!0,this.interactive=!0,this.theme=0,this._findingStats={info:"0",low:"0",medium:"0",high:"0",critical:"0"},this.findingStats=(0,D.a)([this.apiService.selectedBuildId,this.apiService.selectedApp.pipe((0,m.U)(n=>null==n?void 0:n.identifier),(0,T.h)(n=>!!n))]).pipe((0,T.h)(n=>!n.includes(void 0)),(0,x.w)(n=>(console.log("findingStats",n),this.apiService.getFindingStats({$oid:n[1]},{$oid:n[0]}))),(0,f.b)(n=>{this.totalFindings=n,console.log("tapper",n)}),(0,Mt.B)()),this.totalFindings={},this.severityFilter=new F.X({Info:this.info_status,Low:this.low_status,Medium:this.medium_status,High:this.high_status,Critical:this.critical_status,TotalIssues:0})}ngOnInit(){this.totalFindings={}}toggle(e){if(0!=this.interactive){switch(e){case"info":this.info_status=!this.info_status;break;case"low":this.low_status=!this.low_status;break;case"medium":this.medium_status=!this.medium_status;break;case"high":this.high_status=!this.high_status;break;case"critical":this.critical_status=!this.critical_status}this.severityFilter.next({Info:this.info_status,Low:this.low_status,Medium:this.medium_status,High:this.high_status,Critical:this.critical_status,TotalIssues:0})}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-finding-stats"]],inputs:{interactive:"interactive",theme:"theme",_findingStats:["findingStats","_findingStats"]},outputs:{severityFilter:"severityFilter"},decls:2,vars:2,consts:[[4,"ngIf"],["fxLayout","column",4,"ngIf"],["fxLayout","column"],["nbSpinnerStatus","danger","fxLayoutGap","5px","fxFlex","","id","bar-container",3,"nbSpinner"],["fxLayout","column","status","basic","nbButton","","size","small","fxFlex","","id","bar-info",3,"appearance","disabled","click"],[1,"field_name"],[1,"field_value"],["fxLayout","column","status","info","nbButton","","size","small","fxFlex","","id","bar-low",3,"disabled","appearance","click"],["fxLayout","column","status","primary","nbButton","","size","small","fxFlex","","id","bar-medium",3,"disabled","appearance","click"],["fxLayout","column","status","warning","nbButton","","size","small","fxFlex","","id","bar-high",3,"disabled","appearance","click"],["fxLayout","column","status","danger","nbButton","","size","small","fxFlex","","id","bar-critical",3,"disabled","appearance","click"],["style","justify-self: center;","fxFlex","0 1 900px","fxLayout","row-reverse ",4,"ngIf"],["fxLayoutGap","20px",4,"ngIf"],["fxFlex","0 1 900px","fxLayout","row-reverse ",2,"justify-self","center"],["fxFlex.lt-lg","50","fxFlex","30","fxLayout","column"],["fxFlex","",1,"box","box1"],["fxFlex","","fxLayoutAlign","center center",1,"font-size:","30vmin;"],["fxLayoutAlign","center center","fxFlex","",1,"textbox","select_heading","box1"],["fxFlex","",1,"box","box2"],["fxLayoutAlign","center center","fxFlex","",1,"textbox","select_heading","box2"],["fxFlex","",1,"box","box3"],["fxLayoutAlign","center center","fxFlex","",1,"textbox","select_heading","box3"],["fxFlex","",1,"box","box4"],["fxLayoutAlign","center center","fxFlex","",1,"textbox","select_heading","box4"],["fxFlex","",1,"box","box5"],["fxLayoutAlign","center center","fxFlex","",1,"textbox","select_heading","box5"],["fxLayoutGap","20px"],[1,"textMargin"]],template:function(e,n){1&e&&(t.YNc(0,Ji,3,3,"ng-container",0),t.YNc(1,Ri,4,4,"ng-container",0)),2&e&&(t.Q6J("ngIf",0==n.theme),t.xp6(1),t.Q6J("ngIf",1==n.theme))},directives:[h.O5,_.xw,_.SQ,_.yH,s.Q7R,s.DPz,_.Wh],pipes:[h.Ov],styles:['div[_ngcontent-%COMP%]{text-transform:capitalize!important}.field_name[_ngcontent-%COMP%]{font-size:15px;font-weight:400;margin-left:5px;margin-right:5px}.field_value[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:13px}#bar-container[_ngcontent-%COMP%]{height:40px;background-color:var(--select-outline-basic-background-color);border-color:var(--select-outline-basic-border-color);color:var(--select-outline-basic-text-color);border-style:var(--select-outline-border-style);border-width:var(--select-outline-border-width);border-radius:var(--select-rectangle-border-radius)}button[_ngcontent-%COMP%]{min-width:50px;padding-left:4px;padding-right:4px}.select_heading[_ngcontent-%COMP%]{color:var(--color-primary-400)!important;margin-top:.5rem;font-weight:450;font-size:1.4rem}.textMargin[_ngcontent-%COMP%]{font-size:1.6rem;line-height:2rem}nb-select[_ngcontent-%COMP%]{align-self:center}.box[_ngcontent-%COMP%]{margin:5px;background:var(--color-alternative-900);border-radius:5%!important;border:2px solid rgba(0,0,0,.125)}.box[_ngcontent-%COMP%]:after{content:"";display:block;padding-bottom:100%}.box1[_ngcontent-%COMP%]{border-color:var(--color-basic-500)!important;color:var(--color-basic-400)!important}.box2[_ngcontent-%COMP%]{border-color:var(--color-primary-500)!important;color:var(--color-primary-400)!important}.box3[_ngcontent-%COMP%]{border-color:var(--color-warning-500)!important;color:var(--color-warning-600)!important}.box4[_ngcontent-%COMP%]{border-color:var(--color-danger-400)!important;color:var(--color-danger-500)!important}.box5[_ngcontent-%COMP%]{border-color:var(--color-danger-500)!important;color:var(--color-danger-500)!important}.textbox[_ngcontent-%COMP%]{margin:10px 0 20px!important}.box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10vmin!important;color:var(--text-color-basic)}[_nghost-%COMP%]{justify-content:center}']}),i})(),Ei=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-build-loading-animation"]],decls:9,vars:0,consts:[["fxLayoutAlign","center center"],[1,"lds-ellipsis"],[1,"loading-text"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"div"),t._UZ(3,"div"),t._UZ(4,"div"),t._UZ(5,"div"),t.qZA(),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"span",2),t._uU(8," Scan is in progress. "),t.qZA(),t.qZA())},directives:[_.Wh],styles:[".loading-text[_ngcontent-%COMP%]{color:var(--text-success-color);font-size:1.5rem;font-weight:400}.lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:var(--text-success-color);-webkit-animation-timing-function:cubic-bezier(0,1,1,0);animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;-webkit-animation:lds-ellipsis1 .6s infinite;animation:lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;-webkit-animation:lds-ellipsis2 .6s infinite;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;-webkit-animation:lds-ellipsis2 .6s infinite;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;-webkit-animation:lds-ellipsis3 .6s infinite;animation:lds-ellipsis3 .6s infinite}@-webkit-keyframes lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@-webkit-keyframes lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@-webkit-keyframes lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}@keyframes lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}"]}),i})();function $i(i,l){if(1&i&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" Took ",null==e?null:e.time_taken," seconds ")}}function ji(i,l){if(1&i&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t._uU(2),t.qZA(),t.TgZ(3,"div",4),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,$i,2,1,"div",5),t.qZA()),2&i){const e=l.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.title," "),t.xp6(2),t.hij(" ",t.lcZ(5,3,null==e||null==e.ts?null:e.ts.$date)," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.time_taken)}}function Yi(i,l){if(1&i&&(t.ynx(0),t._UZ(1,"div",9),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.ekj("fail",0==(null==e?null:e.state))("primary",null==(null==e?null:e.state))("success",1==(null==e?null:e.state))}}function Gi(i,l){if(1&i&&(t.ynx(0),t.YNc(1,Yi,2,6,"ng-container",6),t.TgZ(2,"div",7),t._UZ(3,"nb-icon",8),t.qZA(),t.BQk()),2&i){const e=l.$implicit,n=l.index;t.oxw();const o=t.MAs(1);t.xp6(1),t.Q6J("ngIf",0!=n),t.xp6(2),t.ekj("spin",1!=(null==e?null:e.state)),t.Q6J("nbPopoverContext",e)("nbPopover",null!=e&&e.ts?o:null)("status",1==(null==e?null:e.state)?"success":"danger")("icon",1==(null==e?null:e.state)?"checkmark-circle-2-outline":"close-circle-outline")}}let $t=(()=>{class i{constructor(e){this.apiService=e,this.active=!1}set build$(e){this.build=this.apiService.buildTransformerPipe(e)}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-build-progress-view"]],inputs:{active:"active",build$:["build","build$"]},decls:4,vars:7,consts:[["hintPopover",""],["fxFlex","","fxLayoutAlign","center center","fxLayout","row",1,"container","selected"],[4,"ngFor","ngForOf"],["fxLayout","column",2,"padding","1rem"],["fxFlex",""],["fxFlex","",4,"ngIf"],[4,"ngIf"],["fxLayoutAlign","start center"],["nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"dot",3,"nbPopoverContext","nbPopover","status","icon"],["fxFlex","",1,"horizontal_line"]],template:function(e,n){1&e&&(t.YNc(0,ji,7,5,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.YNc(3,Gi,4,7,"ng-container",2),t.qZA()),2&e&&(t.xp6(2),t.ekj("active",n.active)("success","SUCCESS"==(null==n.build?null:n.build.status))("fail","FAIL"==(null==n.build?null:n.build.status)),t.xp6(1),t.Q6J("ngForOf",null==n.build?null:n.build.build_state))},directives:[_.yH,_.Wh,_.xw,h.sg,h.O5,s.fMN,s.ydg],pipes:[h.uU],styles:[".horizontal_line[_ngcontent-%COMP%]{width:30px;height:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.spin[_ngcontent-%COMP%]{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.container[_ngcontent-%COMP%]{opacity:.3}.container.active[_ngcontent-%COMP%]{opacity:1}.circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;display:flex;width:3rem;height:3rem;line-height:3rem;border-radius:50%;font-size:.8rem;text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-primary-600),1px -1px 1px var(--color-primary-600),-1px -1px 1px var(--color-primary-600);box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.circle.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600);text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-success-600),1px -1px 1px var(--color-success-600),-1px -1px 1px var(--color-success-600)}.circle.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600);text-shadow:1px 1px 1px var(--color-danger-300),-1px 1px 1px var(--color-danger-600),1px -1px 1px var(--color-danger-600),-1px -1px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]:hover{font-size:1rem;transition:.2s;width:4rem;height:4rem}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 2px 2px 5px 1px var(--color-primary-300),2px 0 5px 1px var(--color-primary-600)}.vertical_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.vertical_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}"]}),i})(),jt=(()=>{class i{transform(e){let n="";return null==e||e.split("_").map(o=>o[0].toUpperCase()+o.substr(1).toLowerCase()).forEach(o=>{n+=o+" "}),n}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"textShowcase",type:i,pure:!0}),i})();function Hi(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",2),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h5",3),t._UZ(3,"nb-icon",4),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"nb-card-body"),t.TgZ(6,"h6",5),t._uU(7," All the scan-progress wil be lost. "),t._UZ(8,"br"),t._uU(9," Are you sure you want to stop build from scanning ? "),t.qZA(),t.qZA(),t.TgZ(10,"nb-card-footer",6),t.TgZ(11,"button",7),t.NdJ("click",function(){return t.CHM(e).dialogRef.close()}),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){const o=t.CHM(e),a=o.$implicit,c=o.dialogRef;return t.oxw().stopBuildScan(null==a?null:a.buildId,null==a?null:a.delete_all,c)}),t._uU(14,"Stop"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(4),t.hij(" Stop ",null!=e&&e.delete_all?"All":""," Scan ")}}function Vi(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,a=t.oxw(),c=t.MAs(1);return a.openDialog(c,{buildId:null==o||null==o._id?null:o._id.$oid,delete_all:!1})}),t._UZ(1,"nb-icon",39),t._uU(2," Stop "),t.qZA()}}function Wi(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,a=t.oxw(),c=t.MAs(1);return a.openDialog(c,{buildId:null==o||null==o._id?null:o._id.$oid,delete_all:!0})}),t._uU(1," All "),t.qZA()}}function Xi(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf;return t.oxw().downloadFile(null==o||null==o.extras?null:o.extras.report_file)}),t._UZ(1,"nb-icon",42),t._uU(2," Download Report "),t.qZA()}}function Ki(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf;return t.oxw().downloadFile(null==o?null:o.file)}),t._UZ(1,"nb-icon",42),t._uU(2," Download "),t.qZA()}}function to(i,l){if(1&i&&(t.TgZ(0,"nb-card-header",29),t.TgZ(1,"span",30),t.TgZ(2,"div",31),t._UZ(3,"nb-tag",32),t.qZA(),t.qZA(),t.TgZ(4,"div",33),t.TgZ(5,"nb-button-group",34),t.YNc(6,Vi,3,0,"button",35),t.YNc(7,Wi,2,0,"button",36),t.qZA(),t.YNc(8,Xi,3,0,"button",37),t.YNc(9,Ki,3,0,"button",37),t.qZA(),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(3),t.Q6J("text","#"+(null==e?null:e.buildNo)),t.xp6(3),t.Q6J("ngIf","Failed"!=(null==e?null:e.buildState)&&"Completed"!=(null==e?null:e.buildState)),t.xp6(1),t.Q6J("ngIf","Failed"!=(null==e?null:e.buildState)&&"Completed"!=(null==e?null:e.buildState)),t.xp6(1),t.Q6J("ngIf",null==e?null:e.report_generated),t.xp6(1),t.Q6J("ngIf",null==e?null:e.file)}}function eo(i,l){if(1&i&&(t.TgZ(0,"nb-card-header"),t._UZ(1,"app-finding-stats",43),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("interactive",!1)("findingStats",t.lcZ(2,2,e.findingStats))}}function no(i,l){1&i&&(t.TgZ(0,"div",44),t._UZ(1,"app-build-loading-animation"),t.qZA())}function io(i,l){if(1&i&&(t.TgZ(0,"div",45),t._UZ(1,"app-finding-stats",46),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("interactive",!1)("findingStats",t.lcZ(2,2,e.findingStats))}}function oo(i,l){if(1&i&&(t.TgZ(0,"div",47),t._UZ(1,"app-build-progress-view",48),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("build",e)}}function ro(i,l){if(1&i&&(t.TgZ(0,"div",28),t.TgZ(1,"div",21),t.TgZ(2,"span",50),t._uU(3),t.qZA(),t.TgZ(4,"span",23),t._uU(5),t.qZA(),t._UZ(6,"nb-tag",51),t.qZA(),t.qZA()),2&i){const e=l.$implicit,n=l.index;t.xp6(3),t.hij(" ",n+1,". "),t.xp6(2),t.hij(" ",null==e?null:e.key," "),t.xp6(1),t.Q6J("text",null!=e&&e.value?"Success":"Failed")("status",null!=e&&e.value?"success":"danger")}}function lo(i,l){if(1&i&&(t.TgZ(0,"nb-accordion-item",49),t.TgZ(1,"nb-accordion-item-header",19),t._uU(2," Tools / Scans "),t.qZA(),t.TgZ(3,"nb-accordion-item-body"),t.YNc(4,ro,7,4,"div",27),t.ALo(5,"keyvalue"),t.qZA(),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,null==e?null:e.tools_executed))}}function ao(i,l){if(1&i&&t._UZ(0,"nb-tag",53),2&i){const e=t.oxw(2).$implicit,n=t.oxw().ngIf;t.Q6J("text",null==n||null==n.tools_execution_progress[null==e?null:e.key]?null:n.tools_execution_progress[null==e?null:e.key].status)}}function co(i,l){if(1&i&&(t.ynx(0),t.YNc(1,ao,1,1,"nb-tag",52),t.BQk()),2&i){const e=t.oxw().$implicit,n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",null==n?null:n.tools_execution_progress[null==e?null:e.key])}}function so(i,l){if(1&i&&(t.TgZ(0,"div",28),t.TgZ(1,"div",21),t.TgZ(2,"span",50),t._uU(3),t.qZA(),t.TgZ(4,"span",23),t._uU(5),t.ALo(6,"textShowcase"),t.qZA(),t.YNc(7,co,2,1,"ng-container",1),t.qZA(),t.qZA()),2&i){const e=l.$implicit,n=l.index,o=t.oxw().ngIf;t.xp6(3),t.hij(" ",n+1,". "),t.xp6(2),t.hij(" ",t.lcZ(6,3,null==e?null:e.key)," "),t.xp6(2),t.Q6J("ngIf",null==o?null:o.tools_execution_progress)}}function uo(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"div",55),t.TgZ(2,"div",56),t.TgZ(3,"button",57),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",56),t.TgZ(6,"button",58),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=l.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.key," "),t.xp6(3),t.hij(" ",null==e?null:e.value," ")}}function po(i,l){if(1&i&&(t.ynx(0),t.YNc(1,uo,8,2,"ng-container",54),t.ALo(2,"keyvalue"),t.BQk()),2&i){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,null==e?null:e.raw_request_sent_for_execution))}}function go(i,l){if(1&i&&(t.TgZ(0,"nb-card"),t.YNc(1,to,10,5,"nb-card-header",9),t.YNc(2,eo,3,4,"nb-card-header",1),t.TgZ(3,"nb-card-body",10),t.TgZ(4,"div",11),t._UZ(5,"nb-tag",12),t.qZA(),t.TgZ(6,"div",11),t._UZ(7,"nb-icon",13),t.TgZ(8,"span",14),t._uU(9),t.qZA(),t.qZA(),t.YNc(10,no,2,0,"div",15),t.YNc(11,io,3,4,"div",16),t.YNc(12,oo,2,1,"div",17),t.TgZ(13,"nb-accordion"),t.TgZ(14,"nb-accordion-item",18),t.TgZ(15,"nb-accordion-item-header",19),t._uU(16," Scan Info. "),t.qZA(),t.TgZ(17,"nb-accordion-item-body"),t.TgZ(18,"div",20),t.TgZ(19,"div",21),t._UZ(20,"nb-tag",22),t.TgZ(21,"span",23),t._uU(22),t.qZA(),t.qZA(),t.TgZ(23,"div",21),t._UZ(24,"nb-tag",24),t.TgZ(25,"span",23),t._uU(26),t.qZA(),t._UZ(27,"nb-tag",25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(28,lo,6,3,"nb-accordion-item",26),t.TgZ(29,"nb-accordion-item",18),t.TgZ(30,"nb-accordion-item-header",19),t._uU(31," Tools Config "),t.qZA(),t.TgZ(32,"nb-accordion-item-body"),t.YNc(33,so,8,5,"div",27),t.ALo(34,"keyvalue"),t.qZA(),t.qZA(),t.TgZ(35,"nb-accordion-item",18),t.TgZ(36,"nb-accordion-item-header",19),t._uU(37," Environment "),t.qZA(),t.TgZ(38,"nb-accordion-item-body"),t.TgZ(39,"div",28),t.YNc(40,po,3,3,"ng-container",1),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=l.ngIf;t.xp6(1),t.Q6J("ngIf",!0),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(3),t.Q6J("status",null==e?null:e._status)("text",null==e?null:e.buildState),t.xp6(4),t.hij(" ",(null==e?null:e.timeElpased)||"-"," sec. elpased "),t.xp6(1),t.Q6J("ngIf","Failed"!=(null==e?null:e.buildState)&&"Completed"!=(null==e?null:e.buildState)),t.xp6(1),t.Q6J("ngIf","Completed"==(null==e?null:e.buildState)),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(10),t.hij(" ",null==e||null==e.scan_data?null:e.scan_data.APP_URL," "),t.xp6(4),t.hij(" ",null==e||null==e.scan_data?null:e.scan_data.GIT_URL," "),t.xp6(1),t.Q6J("text",null==e||null==e.scan_data?null:e.scan_data.GIT_BRANCH),t.xp6(1),t.Q6J("ngIf","Failed"==(null==e?null:e.buildState)||"Completed"==(null==e?null:e.buildState)),t.xp6(5),t.Q6J("ngForOf",t.lcZ(34,14,null==e?null:e.tools_execution_config)),t.xp6(7),t.Q6J("ngIf",e)}}let J=(()=>{class i{constructor(e,n,o,a){this.apiService=e,this.activatedRoute=n,this.router=o,this.dialogService=a,this.selectedBuild$=new F.X(void 0),this.selectedBuild=this.selectedBuild$.pipe((0,f.b)(c=>{console.log("__selectedBuild","ngOnInit","Obs")})),this.buildDetails=this.selectedBuild.pipe((0,x.w)(c=>(console.log("buildDetails",c),c?this.apiService.getBuildById(c.buildId).pipe((0,f.b)(r=>{console.log("buildDetails",r)}),(0,m.U)(r=>this.apiService.buildTransformerPipe(r)),(0,m.U)(r=>this.apiService.buildDetailedPipe(r)),(0,q.d)()):(0,N.of)(c)))),this.findingStats=this.selectedBuild.pipe((0,x.w)(c=>this.findingStats=this.apiService.getFindingStats({$oid:c.applicationId},{$oid:c.buildId}))),this.refreshBuildData=O.w0.EMPTY,this.newBuildsAvailable=!1,this.REFRESH_INTERVAL_PERIOD=1e3,this.subscription_1=O.w0.EMPTY,this.subscription_2=O.w0.EMPTY}set selected_build$(e){console.log("___selectedBuild",e)}refreshBuildDataFn(){return(0,mt.F)(this.REFRESH_INTERVAL_PERIOD).pipe((0,f.b)(e=>{}))}ngOnDestroy(){this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.refreshBuildData.unsubscribe()}downloadFile(e){this.apiService.downloadFile(e).pipe((0,f.b)(n=>{window.open(et.N.minio_url+(null==n?void 0:n.url),"_blank")})).subscribe()}goToFindings(e){this.router.navigate(["issues"],{relativeTo:this.activatedRoute})}forceStopBuild(e){}ngOnInit(){console.log("__selectedBuild","ngOnInit"),this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.subscription_1=(0,D.a)([this.apiService.selectedBuildId.pipe((0,f.b)(e=>{this.selectedBuild$.next(void 0)}),(0,T.h)(e=>!!e)),this.apiService.selectedApp.pipe((0,f.b)(e=>{this.selectedBuild$.next(void 0)}),(0,m.U)(e=>null==e?void 0:e.identifier),(0,T.h)(e=>!!e))]).subscribe(e=>{console.log("combineLatest",e),console.log("!__selectedBuild",{applicationId:e[1],buildId:e[0]}),this.selectedBuild$.next({applicationId:e[1],buildId:e[0]})}),this.subscription_2=this.apiService.selectedBuildId.pipe((0,f.b)(e=>{this.resetComponent()})).subscribe(),(0,D.a)([this.activatedRoute.parent.params,this.activatedRoute.params]).pipe((0,f.b)(e=>{this.resetComponent()}),(0,m.U)(e=>{let n={};return e.forEach(o=>{n=Object.assign(n,o)}),console.log("paramsparms",n),n}),(0,T.h)(e=>"build_id"in e&&"buildId"in e),(0,f.b)(e=>{console.log("_selectedBuild",{applicationId:null==e?void 0:e.build_id,buildId:null==e?void 0:e.buildId}),this.selectedBuild$.next({applicationId:null==e?void 0:e.build_id,buildId:null==e?void 0:e.buildId})}))}resetComponent(){}reloadComponent(){}openDialog(e,n){this.dialogService.open(e,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:n})}stopBuildScan(e,n,o){1==n?this.selectedBuild.pipe((0,x.w)(c=>this.apiService.stopAllPrevious(c.applicationId,e))).subscribe(()=>{o.close(!0)}):this.selectedBuild.pipe((0,x.w)(c=>this.apiService.stopBuildScan(c.applicationId,e))).subscribe(()=>{o.close(!0)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(A.gz),t.Y36(A.F0),t.Y36(s.Gln))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-build-detail-view"]],inputs:{selected_build$:["selected_build","selected_build$"]},decls:4,vars:3,consts:[["stopBuildDialog",""],[4,"ngIf"],["accent","danger"],[1,"text-danger"],["icon","stop-circle-outline","status","danger",2,"margin","10px"],[2,"line-height","2rem"],["fxLayoutAlign","end","fxLayoutGap","1rem"],["status","basic","outline","","nbButton","",3,"click"],["status","danger","outline","","nbButton","",3,"click"],["fxLayoutAlign","space-between center",4,"ngIf"],["fxLayoutGap","20px","fxLayout","column",2,"padding","2rem"],["fxLayoutGap","10px","fxLayoutAlign","end center"],["appearance","outline","size","medium",1,"status-tag",3,"status","text"],["icon","clock-outline",1,"text-interactive"],[1,"text-interactive"],["fxLayoutAlign","center center","style","padding: 2rem;",4,"ngIf"],["class","findingstats",4,"ngIf"],["style","padding: 2rem;","fxFlex","",4,"ngIf"],["expanded",""],[1,"text-basic"],["fxLayoutGap","1rem","fxLayout","column"],["fxLayoutGap","1rem","fxFlex",""],["appearance","outline","size","small","text","1. Url","status","alternative"],[1,"caption","text-hint",2,"font-size","1.2rem","line-height","1.8rem"],["appearance","outline","size","small","text","2. Git","status","alternative"],["appearance","filled","size","tiny","status","basic",3,"text"],["expanded","","expanded","",4,"ngIf"],["fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"subtitle"],["fxLayoutGap","5px"],["appearance","filled","size","medium","status","alternative",3,"text"],["fxLayout","row","fxLayoutGap","10px"],["fxLayoutGap","1px","appearance","filled","size","small","status","primary","shape","semi-round"],["nbButton","","size","small","status","danger",3,"click",4,"ngIf"],["nbButton","","size","small","filled","","status","danger",3,"click",4,"ngIf"],["nbButton","","size","small","status","success",3,"click",4,"ngIf"],["nbButton","","size","small","status","danger",3,"click"],["icon","stop-circle-outline"],["nbButton","","size","small","filled","","status","danger",3,"click"],["nbButton","","size","small","status","success",3,"click"],["icon","download-outline"],["theme","1",3,"interactive","findingStats"],["fxLayoutAlign","center center",2,"padding","2rem"],[1,"findingstats"],["fxFlex","","theme","1",3,"interactive","findingStats"],["fxFlex","",2,"padding","2rem"],[3,"build"],["expanded","","expanded",""],[1,"caption-2","text-primary",2,"font-size","1.2rem","line-height","1.8rem"],["appearance","outline","size","small",3,"text","status"],["appearance","outline","size","small",3,"text",4,"ngIf"],["appearance","outline","size","small",3,"text"],[4,"ngFor","ngForOf"],["fxFlex","","fxLayout","row"],["fxLayout","column","fxFlex","50%"],["size","medium","status","basic","nbButton","","ghost",""],["size","medium","classstatus","basic","nbButton","","ghost",""]],template:function(e,n){1&e&&(t.YNc(0,Hi,15,1,"ng-template",null,0,t.W1O),t.YNc(2,go,41,16,"nb-card",1),t.ALo(3,"async")),2&e&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,n.buildDetails)))},directives:[h.O5,s.Asz,s.ndF,s.fMN,s.yKW,s.XWE,_.Wh,_.SQ,s.DPz,_.xw,s.c2L,s.qCO,s.SaG,s.YZd,s.AvE,_.yH,h.sg,s.mnu,Et,Ei,$t],pipes:[h.Ov,h.Nd,jt],styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";.field[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:400;color:var(--text-hint-color);padding:.5rem .5rem .5rem 10px;border-left:4px solid var(--color-basic-200);margin-bottom:1rem}.field_details[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:500;padding:.5rem .5rem .5rem 20px;color:var(--text-basic-color)}nb-card[_ngcontent-%COMP%]{margin:0!important;max-height:calc(100vh - 4rem);background:var(--background-basic-color-2)!important}nb-card-header[_ngcontent-%COMP%]{background:var(--background-basic-color-1)!important}nb-accordion-item[_ngcontent-%COMP%]{background:var(--background-basic-color-4)!important;margin-bottom:1rem}nb-accordion-item-header[_ngcontent-%COMP%]{background:var(--background-basic-color-3)!important;padding:1rem}nb-accordion-item-header[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-2)!important}.chip[_ngcontent-%COMP%]{font-weight:500;color:#fff;background-color:var(--color-primary-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px}.sub_chip[_ngcontent-%COMP%]{font-weight:500;color:var(--color-basic-200);background-color:var(--color-danger-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:1rem 5px 5px;border-radius:9px}hr[_ngcontent-%COMP%]{display:block;height:1px;border:0;border-top:1px solid var(--text-alternate-color);margin:1em 0 1rem;padding:0}.item[_ngcontent-%COMP%]{border-radius:.3rem;font-size:1rem;line-height:1.5rem;padding:var(--button-ghost-medium-padding);padding-right:0!important;max-lines:2;white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis}.item[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:1s}button[_ngcontent-%COMP%]{text-transform:none!important;text-align:start;justify-content:start;overflow-x:hidden}.text-interactive[_ngcontent-%COMP%]{color:var(--text-warning-color);font-weight:550}.status-tag[_ngcontent-%COMP%]{color:var(--text-basic-color)!important}.findingstats[_ngcontent-%COMP%]{min-width:0;display:flex}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize!important}']}),i})();const _o=["editTmpl"];function mo(i,l){1&i&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"div",18),t._UZ(3,"div",19),t._UZ(4,"div",20),t._UZ(5,"div",21),t._UZ(6,"div",22),t._UZ(7,"div",23),t._UZ(8,"div",24),t._UZ(9,"div",25),t.qZA(),t.qZA(),t.qZA())}const Yt=function(){return{exact:!1}};function fo(i,l){if(1&i&&(t.TgZ(0,"button",26,27),t.NdJ("click",function(n){return n.stopPropagation(),n.preventDefault()}),t._uU(2),t.qZA()),2&i){const e=l.$implicit,n=t.MAs(1);t.Q6J("appearance",null!=n&&n.isActive?"outline":"ghost")("status",null!=n&&n.isActive?"success":"basic")("routerLink",null==e?null:e.route)("routerLinkActiveOptions",t.DdM(5,Yt)),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}const ho=function(){return["../"]};function bo(i,l){1&i&&(t.TgZ(0,"nb-card-header",28),t.TgZ(1,"div",29),t.TgZ(2,"button",30),t._UZ(3,"nb-icon",31),t.TgZ(4,"span"),t._uU(5," Latest Build "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.Q6J("routerLink",t.DdM(1,ho)))}function vo(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",32),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().onClickBuild(a)}),t._UZ(1,"app-build-item",33),t.ALo(2,"async"),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("appScrollableItem",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.Q6J("active",t.lcZ(2,3,n.activeBuildId)==(null==e||null==e._id?null:e._id.$oid))("build",e)}}function xo(i,l){1&i&&t.GkF(0)}function Co(i,l){if(1&i&&(t.ynx(0),t.ynx(1),t.YNc(2,xo,1,0,"ng-container",34),t.BQk(),t.BQk()),2&i){t.oxw();const e=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function Zo(i,l){1&i&&t.GkF(0)}function To(i,l){if(1&i&&(t.ynx(0),t.ynx(1),t.YNc(2,Zo,1,0,"ng-container",34),t.BQk(),t.BQk()),2&i){t.oxw();const e=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function Ao(i,l){if(1&i&&(t.TgZ(0,"button",43,27),t.NdJ("click",function(n){return n.stopPropagation(),n.preventDefault()}),t._uU(2),t.qZA()),2&i){const e=l.$implicit,n=t.MAs(1);t.Q6J("disabled",!0)("routerLink",null==e?null:e.route)("routerLinkActiveOptions",t.DdM(5,Yt))("pressed",null==n?null:n.isActive),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}function ko(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",28),t.TgZ(1,"div",44),t.TgZ(2,"button",45),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).loadNewBuilds()}),t._UZ(3,"nb-icon",31),t.TgZ(4,"span"),t._uU(5," New Builds Found "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function yo(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",32),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onClickBuild(a)}),t._UZ(1,"app-build-item",33),t.ALo(2,"async"),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.Q6J("appScrollableItem",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.Q6J("active",t.lcZ(2,3,n.activeBuildId)==(null==e||null==e._id?null:e._id.$oid))("build",e)}}function wo(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",35),t.TgZ(1,"div",36),t.TgZ(2,"div",3),t._uU(3," Build Details "),t.qZA(),t.TgZ(4,"nb-button-group",37),t.TgZ(5,"div"),t.YNc(6,Ao,3,6,"button",38),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",39),t.TgZ(8,"div",40),t.TgZ(9,"nb-card",41),t.YNc(10,ko,6,0,"nb-card-header",9),t.TgZ(11,"nb-list",10),t.NdJ("bottomThreshold",function(o){return t.CHM(e),t.oxw().bottomThresholdTrigger(o)}),t.YNc(12,yo,3,5,"nb-list-item",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",42),t.TgZ(14,"router-outlet",13),t.NdJ("activate",function(o){return t.CHM(e),t.oxw().onRouterOutletActivate(o)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.tabs),t.xp6(4),t.Q6J("ngIf",e.newBuildsAvailable),t.xp6(1),t.Q6J("threshold",50)("nbSpinner",e.loading),t.xp6(1),t.Q6J("ngForOf",e.builds$)("ngForTrackBy",e.trackBuild)}}const Mo=function(i,l){return{buildId:i,applicationId:l}};function Oo(i,l){if(1&i&&t._UZ(0,"app-build-detail-view",46),2&i){const e=l.context;t.Q6J("selected_build",t.WLB(1,Mo,null==e?null:e.build_id,null==e?null:e.application_id))}}let B=(()=>{class i{constructor(e,n,o,a,c){this.apiService=e,this.drawerMngr=n,this.router=o,this.activatedRoute=a,this.nbSidebarService=c,this.tabs=[{title:"Details",route:["details"]},{title:"Finding",route:["issues"]},{title:"Logs",route:["logs"]},{title:"Builds",route:["builds"]}],this.isMenuOpen=(0,_t.T)(this.nbSidebarService.onExpand(),this.nbSidebarService.onToggle(),this.nbSidebarService.onCollapse(),this.nbSidebarService.onCompact(),(0,N.of)({tag:"buildList"})).pipe((0,T.h)(r=>"buildList"==(null==r?void 0:r.tag)),(0,x.w)(r=>this.nbSidebarService.getSidebarState("buildList")),(0,m.U)(r=>(console.debug("menumenu2",r),"expanded"==r?(this.nbSidebarService.expand("menuSidebar"),!0):(this.nbSidebarService.collapse("menuSidebar"),!1))),(0,f.b)(r=>{console.debug("menumenu",r)}),(0,q.d)()),this.buildListLimit=20,this.buildInvalidateIds=new Map,this.topBuildId=void 0,this.bottomBuildId=void 0,this.active_protection=!1,this.extra_filters={},this.uuid=void 0,this.activeBuildId=this.apiService.selectedBuildId.pipe((0,q.d)()),this.scrollToActiveIdObserver=this.activeBuildId.pipe((0,tt.x)(),(0,f.b)(r=>{console.debug("distinctUntilChanged",r),this.builds$=[],this.initialResultsLoaded=!1,this.bottomBuildId=r,this.buildInvalidateIds.clear()})),this.scrollToActiveIdObserverSubscription=O.w0.EMPTY,this.routeSubscription=O.w0.EMPTY,this.activeBuildSubscription=O.w0.EMPTY,this.reportDownloaderZipSubscription=O.w0.EMPTY,this.selectedAppSubscription=O.w0.EMPTY,this.selectedApp=this.apiService.selectedApp,this.buttonState="",this.buildTransformerPipe=r=>{console.log("buildTransformerPipe",r);let d=0,u=[{state:null==r?void 0:r.state_requested,ts:null==r?void 0:r.state_requested_ts,time_taken:0,title:"Enqueued"},{state:null==r?void 0:r.state_execution,ts:null==r?void 0:r.state_execution_ts,time_taken:0,title:"Executing"},{state:null==r?void 0:r.state_download_raw,ts:null==r?void 0:r.state_download_raw_ts,time_taken:0,title:"Report Generated"},{state:null==r?void 0:r.state_pushed_to_parser,ts:null==r?void 0:r.state_pushed_to_parser_ts,time_taken:0,title:"Analyzing"},{state:null==r?void 0:r.state_parsing_started,ts:null==r?void 0:r.state_parsing_started_ts,time_taken:0,title:"Parsing"},{state:null==r?void 0:r.state_parsing_completed,ts:null==r?void 0:r.state_parsing_completed_ts,time_taken:0,title:"Finished"}];return r.success=void 0,r.failed=!1,u.map((p,b)=>{var v,Z;if(0==b)return p;let y=u[b-1];return p.time_taken=(null===(v=null==p?void 0:p.ts)||void 0===v?void 0:v.$date)-(null===(Z=null==y?void 0:y.ts)||void 0===Z?void 0:Z.$date),p.time_taken=(null==p?void 0:p.time_taken)/1e3,p.time_taken=0|(null==p?void 0:p.time_taken),p.time_taken=Math.ceil(p.time_taken),d+=p.time_taken,0==(null==p?void 0:p.state)&&(r.failed=!0),p}),r.build_state=u,r.timeElpased=d,r.finding_stats=this.apiService.getFindingStats(null==r?void 0:r.applicationId,null==r?void 0:r._id).pipe(),r},this.builds$=[],this.allBuildsLoaded=!1,this.initialResultsLoaded=!1,this.loading=!0,this.refreshBuildData=O.w0.EMPTY,this.newBuildsAvailable=!1,this.REFRESH_INTERVAL_PERIOD=1e3,this.subscrption=O.w0.EMPTY}scrollToSelectedItem(e){var n;console.log("distinctUntilChanged",e,this.scrollableItems);const o=null===(n=this.scrollableItems)||void 0===n?void 0:n.find(a=>a.key===e);null==o||o.scrollIntoView(),console.log("distinctUntilChanged",e,o)}onRouterOutletActivate(e){"FindingsComponent"==(null==e?void 0:e.constructor.name)?this.buttonState="finding":"BuildsComponent"==(null==e?void 0:e.constructor.name)&&(this.buttonState="build"),console.log("event",e)}ngAfterViewInit(){}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.activeBuildSubscription.unsubscribe(),this.reportDownloaderZipSubscription.unsubscribe(),this.selectedAppSubscription.unsubscribe(),this.scrollToActiveIdObserverSubscription.unsubscribe(),this.subscrption.unsubscribe(),this.nbSidebarService.expand(),this.refreshBuildData.unsubscribe()}getBuildData(e){var n;this.activatedRoute.params.pipe((0,P.q)(1)).pipe((0,f.b)(a=>{console.log("console__",a)})).subscribe(a=>{});let o=Object.assign({applicationId:null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.applicationId},this.extra_filters);return!0===this.active_protection&&(o=Object.assign({active_protection:!0},this.extra_filters)),this.apiService.getDevsecopsBuildData(o,{offset:this.bottomBuildId,limit:this.buildListLimit,includeOffsetId:!this.initialResultsLoaded||void 0}).pipe((0,T.h)(a=>!!a),(0,m.U)(a=>a.map(c=>this.buildTransformerPipe(c))),(0,f.b)(a=>{var c;if((null==a?void 0:a.length)<this.buildListLimit&&(this.allBuildsLoaded=!0),a.length<=0||!a)console.log("noBuilds",a);else{console.log("activeBuildId",this.bottomBuildId);let r=a[0];0==this.initialResultsLoaded&&(this.buildTopOffsetId$=null===(c=null==r?void 0:r._id)||void 0===c?void 0:c.$oid,this.initialResultsLoaded=!0,this.routeSubscription=(0,D.a)([this.activatedRoute.data,this.activatedRoute.params]).pipe((0,P.q)(1),(0,m.U)(d=>Object.assign({},...d)),(0,f.b)(d=>{var u,p,b;console.log("activedataroute",d,this.buttonState,"finding"==this.buttonState),(null==d?void 0:d.buildId)!=(null===(u=null==r?void 0:r._id)||void 0===u?void 0:u.$oid)&&this.router.navigate("finding"==this.buttonState?[`${null===(p=null==r?void 0:r._id)||void 0===p?void 0:p.$oid}`,"issues"]:[`${null===(b=null==r?void 0:r._id)||void 0===b?void 0:b.$oid}`],{relativeTo:this.activatedRoute})})).subscribe()),this.activeBuildSubscription=this.activeBuildId.pipe((0,P.q)(1)).subscribe(d=>{var u;null==d&&(console.log("activeBuildId",d),console.log("activeBuildId",d,`${null===(u=null==r?void 0:r._id)||void 0===u?void 0:u.$oid}`))})}}),(0,f.b)(a=>{let c=new Map;a.forEach((r,d)=>{var u,p,b;0==d&&(this.topBuildId=null===(u=null==r?void 0:r._id)||void 0===u?void 0:u.$oid),d+1==(null==a?void 0:a.length)&&(this.bottomBuildId=null===(p=null==r?void 0:r._id)||void 0===p?void 0:p.$oid),(null==r?void 0:r.transition_state)!=L.FAILED&&(null==r?void 0:r.transition_state)!=L.PARSING_FINISHED&&c.set(null===(b=null==r?void 0:r._id)||void 0===b?void 0:b.$oid,d)}),this.buildInvalidateIds=c,console.log("buildInvalidateIds",this.buildInvalidateIds)}))}downloadRaw(e){this.reportDownloaderZipSubscription=this.apiService.downloadReportZip(Object.assign({},this.extra_filters)).subscribe(n=>{})}onClick(e,n){}refreshBuildDataFn(){return(0,mt.F)(this.REFRESH_INTERVAL_PERIOD).pipe(ft(e=>{console.debug("REFRESH_INTERVAL_PERIOD!");let n=Array.from(this.buildInvalidateIds.keys());return this.apiService.getBuildByIds(n,this.buildTopOffsetId$,this.extra_filters).pipe((0,f.b)(o=>console.debug(o)))}),(0,f.b)(e=>console.debug(e)),(0,f.b)(e=>{e.builds.forEach(n=>{var o;let a=null===(o=null==n?void 0:n._id)||void 0===o?void 0:o.$oid;this.buildInvalidateIds.get(a)}),console.log("newBuildsAvailable",this.extra_filters),this.newBuildsAvailable=null==e?void 0:e.newBuildsFound}),(0,f.b)(e=>{e.builds.forEach(o=>{var a;console.debug("mBuild;d",o),o=this.buildTransformerPipe(o),console.debug("_mBuild;d",o);let c=null===(a=null==o?void 0:o._id)||void 0===a?void 0:a.$oid,r=this.buildInvalidateIds.get(c);o.index=this.builds$[r].index,this.builds$[r]=o})}))}loadBuilds(){this.selectedAppSubscription=this.selectedApp.pipe((0,x.w)(e=>this.apiService.selectedBuildId.pipe((0,P.q)(1),(0,f.b)(n=>{console.debug("switchMap",n)}),(0,m.U)(n=>e))),(0,f.b)(e=>{this.loading=!0}),(0,T.h)(e=>!!e),(0,x.w)(e=>(console.log("_appoopo",e),this.getBuildData(e))),(0,f.b)(e=>{e.length>0||(this.buildTopOffsetId$=void 0),this.builds$.push(...e),this.loading=!1})).subscribe()}ngOnInit(){var e,n;this.routeSubscription.unsubscribe(),this.activeBuildSubscription.unsubscribe(),this.reportDownloaderZipSubscription.unsubscribe(),this.selectedAppSubscription.unsubscribe(),this.subscrption.unsubscribe(),this.scrollToActiveIdObserverSubscription.unsubscribe(),this.scrollToActiveIdObserverSubscription=this.scrollToActiveIdObserver.subscribe(),this.nbSidebarService.expand("buildList"),this.subscrption=(0,D.a)([null===(e=this.activatedRoute)||void 0===e?void 0:e.params,null===(n=this.activatedRoute)||void 0===n?void 0:n.data]).pipe((0,f.b)(o=>{this.apiService.selectedBuildId$.next(void 0)}),(0,m.U)(o=>{console.log("paramspaps",o);let a={};return o.forEach(c=>{a=Object.assign(a,c)}),a}),(0,f.b)(o=>{this.apiService.selectedBuildId$.next(null==o?void 0:o.buildId)})).subscribe(o=>{this.active_protection=(null==o?void 0:o.active_protection)||!1,this.extra_filters=(null==o?void 0:o.extra_filters)||{},(null==o?void 0:o.uuid)&&(this.extra_filters.uuid=null==o?void 0:o.uuid),console.debug("active+protection",o.active_protection,this.extra_filters),this.loadBuilds()}),this.refreshBuildData=this.refreshBuildDataFn().subscribe()}onClickBuild(e){var n;this.router.navigate(["../",`${null===(n=null==e?void 0:e._id)||void 0===n?void 0:n.$oid}`],{relativeTo:this.activatedRoute})}openDrawer(e,n="left",o,a=!0,c=this.editTmpl,r=!0,d){var u,p;this.drawerMngr.create({direction:E.Left,template:c,size:o,context:{build_id:null===(u=null==e?void 0:e._id)||void 0===u?void 0:u.$oid,application_id:null===(p=null==e?void 0:e.applicationId)||void 0===p?void 0:p.$oid},closeOnOutsideClick:a,parentContainer:d,isRoot:r})}trackBuild(e,n){var o;return null===(o=null==n?void 0:n._id)||void 0===o?void 0:o.$oid}toggleSidebar(){this.nbSidebarService.toggle(!1,"buildList")}loadNewBuilds(){this.router.navigate(["./"],{relativeTo:this.activatedRoute.parent}),this.loadBuilds()}bottomThresholdTrigger(e){this.loading||this.allBuildsLoaded||(console.log("bottomThresholdTrigger",this.allBuildsLoaded,e),this.loadBuilds())}resetBuilds(){this.builds$=[]}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(dt),t.Y36(A.F0),t.Y36(A.gz),t.Y36(s.lzT))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-builds"]],viewQuery:function(e,n){if(1&e&&(t.Gf(_o,5),t.Gf(nt,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.editTmpl=o.first),t.iGM(o=t.CRH())&&(n.scrollableItems=o)}},decls:27,vars:12,consts:[["loadingListItem",""],["fxLayoutAlign","center","fxFlex",""],["fxLayoutAlign","center center","fxLayout","row",1,"buildListBtn",3,"click"],[2,"margin-left","20px","margin-right","20px"],[3,"active"],["fxFlex","","fxLayoutAlign","end end"],["size","medium","shape","round","routerLinkActive","","nbButton","",3,"appearance","status","routerLink","routerLinkActiveOptions","click",4,"ngFor","ngForOf"],["tag","buildList","containerFixed",""],["fxFlex","",1,"nbCardList"],["style","margin: 0px; padding: 10px;",4,"ngIf"],["nbListPageTracker","","nbInfiniteList","","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data",3,"threshold","nbSpinner","bottomThreshold"],["fxLayout","row",3,"appScrollableItem","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"activate"],["fxLayout","column",4,"ngIf"],["editTmpl",""],["fxFlex","",1,"timeline-wrapper",2,"margin","1rem"],[1,"timeline-item"],[1,"animated-background"],[1,"background-masker","header-top"],[1,"background-masker","header-left"],[1,"background-masker","header-right"],[1,"background-masker","header-bottom"],[1,"background-masker","subheader-left"],[1,"background-masker","subheader-right"],[1,"background-masker","subheader-bottom"],["size","medium","shape","round","routerLinkActive","","nbButton","",3,"appearance","status","routerLink","routerLinkActiveOptions","click"],["rla","routerLinkActive"],[2,"margin","0px","padding","10px"],["fxLayoutAlign","center","fxFlex","",2,"margin-left","20px","margin-right","20px"],["nbButton","","outline","","shape","round","status","basic","size","small",2,"text-transform","capitalize",3,"routerLink"],["icon","refresh-outline"],["fxLayout","row",3,"appScrollableItem","click"],["fxFlex","",3,"active","build"],[4,"ngTemplateOutlet"],["fxLayout","column"],["fxLayoutAlign","space-between center",1,"header"],["outline","","status","success","size","small","shape","round"],["routerLinkActive","","nbButtonToggle","","pressed","",3,"disabled","routerLink","routerLinkActiveOptions","pressed","click",4,"ngFor","ngForOf"],["fxLayout","row",1,"body"],[1,"listContainer"],["fxFlex","","fxFill","",1,"nbCardList"],["fxFlex","",1,"contentContainer"],["routerLinkActive","","nbButtonToggle","","pressed","",3,"disabled","routerLink","routerLinkActiveOptions","pressed","click"],["fxFlex",""],["fullWidth","","nbButton","","filled","","status","primary",2,"text-transform","capitalize",3,"click"],[3,"selected_build"]],template:function(e,n){1&e&&(t.YNc(0,mo,10,0,"ng-template",null,0,t.W1O),t.TgZ(2,"nb-layout"),t.TgZ(3,"nb-layout-header"),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.NdJ("click",function(){return n.toggleSidebar()}),t.TgZ(6,"div",3),t._UZ(7,"app-hamburger-icon",4),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"div"),t._uU(10," Build Details "),t.qZA(),t.qZA(),t.TgZ(11,"div",5),t.YNc(12,fo,3,6,"button",6),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"nb-sidebar",7),t.TgZ(14,"nb-card",8),t.YNc(15,bo,6,2,"nb-card-header",9),t.TgZ(16,"nb-list",10),t.NdJ("bottomThreshold",function(a){return n.bottomThresholdTrigger(a)}),t.YNc(17,vo,3,5,"nb-list-item",11),t.TgZ(18,"nb-list-item"),t.YNc(19,Co,3,1,"ng-container",12),t.qZA(),t.TgZ(20,"nb-list-item"),t.YNc(21,To,3,1,"ng-container",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"nb-layout-column"),t.TgZ(23,"router-outlet",13),t.NdJ("activate",function(a){return n.onRouterOutletActivate(a)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,wo,15,6,"div",14),t.YNc(25,Oo,1,4,"ng-template",null,15,t.W1O)),2&e&&(t.xp6(7),t.Q6J("active",t.lcZ(8,10,n.isMenuOpen)),t.xp6(5),t.Q6J("ngForOf",n.tabs),t.xp6(3),t.Q6J("ngIf",n.newBuildsAvailable),t.xp6(1),t.Q6J("threshold",50)("nbSpinner",n.loading),t.xp6(1),t.Q6J("ngForOf",n.builds$)("ngForTrackBy",n.trackBuild),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("ngIf",!1))},directives:[s.Aqw,s.dmS,_.Wh,_.yH,_.xw,yt,h.sg,s.nZR,s.Asz,h.O5,s.zP_,s.B8d,s.sTn,s.Q7R,s.qBV,s.dP_,A.lC,s.DPz,A.Od,A.rH,s.ndF,s.fMN,nt,pt,h.tP,s.mnu,_.s9,s.ZDs,J],pipes:[h.Ov],styles:[".buildListBtn[_ngcontent-%COMP%]{cursor:pointer}nb-list[_ngcontent-%COMP%]{background:var(--background-basic-color-3)}nb-list-item[_ngcontent-%COMP%]{border:none;padding:0;margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:keep-all}.nbCardList[_ngcontent-%COMP%]{margin:0!important}nb-card-body[_ngcontent-%COMP%]{padding:0}span[_ngcontent-%COMP%]{text-overflow:ellipsis}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}code[_ngcontent-%COMP%]{color:#f8f8f2;font-size:.875rem}.container[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin-left:5px}.container.fail[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.container.active[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.icon[_ngcontent-%COMP%]{height:100%}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize}.dot[_ngcontent-%COMP%]{font-size:20px;font-weight:300}.dot[_ngcontent-%COMP%]:hover{font-size:40px;transition:.2s}.horizontal_line[_ngcontent-%COMP%]{width:30px;height:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.spin[_ngcontent-%COMP%]{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;display:flex;width:3rem;height:3rem;line-height:3rem;border-radius:50%;font-size:.8rem;text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-primary-600),1px -1px 1px var(--color-primary-600),-1px -1px 1px var(--color-primary-600);box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.circle.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600);text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-success-600),1px -1px 1px var(--color-success-600),-1px -1px 1px var(--color-success-600)}.circle.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600);text-shadow:1px 1px 1px var(--color-danger-300),-1px 1px 1px var(--color-danger-600),1px -1px 1px var(--color-danger-600),-1px -1px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]:hover{font-size:1rem;transition:.2s;width:4rem;height:4rem}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 2px 2px 5px 1px var(--color-primary-300),2px 0 5px 1px var(--color-primary-600)}.vertical_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.vertical_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}.xContainer[_ngcontent-%COMP%]{padding:1rem}.listContainer[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;padding-top:10px;background:var(--background-basic-color-4);display:flex;flex:0 0 var(--sidebar-width)}.content[_ngcontent-%COMP%]{display:flex;flex:0 1 900px}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.contentContainer[_ngcontent-%COMP%]{min-width:0}.header[_ngcontent-%COMP%]{height:4rem}.body[_ngcontent-%COMP%]{max-height:calc(100vh - 4rem);min-height:calc(100vh - 4rem)}nb-layout-column[_ngcontent-%COMP%]{padding:0!important}  nb-sidebar{transition:width .1s}  nb-sidebar div{transition:width .1s}  nb-sidebar.menuSidebar div{top:0!important;height:100%}.timeline-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid;border-color:#e5e6e9 #dfe0e4 #d0d1d5;border-radius:3px;padding:12px;margin:0 auto}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;background:#f6f7f8;background:linear-gradient(to right,#eeeeee 8%,#dddddd 18%,#eeeeee 33%);height:40px;position:relative}.background-masker[_ngcontent-%COMP%]{background:#fff;position:absolute}.background-masker.header-top[_ngcontent-%COMP%], .background-masker.header-bottom[_ngcontent-%COMP%], .background-masker.subheader-bottom[_ngcontent-%COMP%]{top:0;left:40px;right:0;height:10px}.background-masker.header-left[_ngcontent-%COMP%], .background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:10px;left:40px;height:8px;width:10px}.background-masker.header-bottom[_ngcontent-%COMP%]{top:18px;height:6px}.background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:24px;height:6px}.background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{width:auto;left:300px;right:0}.background-masker.subheader-bottom[_ngcontent-%COMP%]{top:30px;height:10px}.background-masker.content-top[_ngcontent-%COMP%], .background-masker.content-second-line[_ngcontent-%COMP%], .background-masker.content-third-line[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%], .background-masker.content-first-end[_ngcontent-%COMP%]{top:40px;left:0;right:0;height:6px}.background-masker.content-top[_ngcontent-%COMP%]{height:20px}.background-masker.content-first-end[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%]{width:auto;left:380px;right:0;top:60px;height:8px}.background-masker.content-second-line[_ngcontent-%COMP%]{top:68px}.background-masker.content-second-end[_ngcontent-%COMP%]{left:420px;top:74px}.background-masker.content-third-line[_ngcontent-%COMP%]{top:82px}.background-masker.content-third-end[_ngcontent-%COMP%]{left:300px;top:88px}"]}),i})();function Po(i,l){1&i&&(t.TgZ(0,"div"),t.TgZ(1,"nb-card",3),t.TgZ(2,"nb-card-body",4),t.TgZ(3,"h6"),t._uU(4,"Latest Build"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}let xt=(()=>{class i{constructor(){this.test=[2,2,32,32,321,312,3,123,21]}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-application-details"]],decls:3,vars:1,consts:[["fxFill","",1,"container"],[1,"container"],[4,"ngFor","ngForOf"],["size","medium","fxFlex","50%",1,"content"],[1,"content"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-body",1),t.YNc(2,Po,5,0,"div",2),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",n.test))},directives:[s.Asz,_.s9,s.yKW,h.sg,_.yH],styles:["nb-card.container[_ngcontent-%COMP%]{background:var(--background-basic-color-3)}nb-card.container[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin:2rem;background:var(--background-basic-color-1)}nb-card.content[_ngcontent-%COMP%]{background:var(--color-success-400);border-radius:1rem}nb-card.content[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{background:var(--color-success-400)}"]}),i})();function Io(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",2),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h1",3),t.TgZ(3,"strong"),t._uU(4,"Critical Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"nb-card-body"),t.TgZ(6,"span",4),t._uU(7),t._UZ(8,"br"),t.TgZ(9,"input",5,6),t.NdJ("keyup.enter",function(){const a=t.CHM(e).dialogRef,c=t.MAs(10);return a.close(null==c?null:c.value)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"nb-card-footer",7),t.TgZ(12,"div",8),t.TgZ(13,"button",9),t.NdJ("click",function(){const a=t.CHM(e).dialogRef,c=t.MAs(10);return a.close(null==c?null:c.value)}),t._uU(14,"Update"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.MAs(10);t.xp6(7),t.hij(" ",e," "),t.xp6(6),t.Q6J("disabled",n.value.length<=0)}}function qo(i,l){if(1&i&&(t.TgZ(0,"div",21),t.TgZ(1,"span",22),t.TgZ(2,"b"),t._uU(3," Last Action: "),t.qZA(),t.qZA(),t.TgZ(4,"span",22),t._uU(5),t.qZA(),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e||null==e.hawki_attributes||null==e.hawki_attributes.supress_vuln?null:e.hawki_attributes.supress_vuln.performed_by," ")}}function So(i,l){if(1&i&&(t.TgZ(0,"div",21),t.TgZ(1,"span",22),t.TgZ(2,"b"),t._uU(3," Last Action: "),t.qZA(),t.qZA(),t.TgZ(4,"span",22),t._uU(5),t.qZA(),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e||null==e.hawki_attributes||null==e.hawki_attributes.accept_risk?null:e.hawki_attributes.accept_risk.performed_by," ")}}function Fo(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," Discovered By "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.found_by)}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.found_by," ")}}function Lo(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," Scan Type "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.found_by)}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.AsE(" ",null!=e&&e.static_finding?"Static Analysis":""," ",null!=e&&e.dynamic_finding?"Dynamic Analysis":""," ")}}function Uo(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",26),t._uU(3," Title "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.title)}),t._uU(5),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.title," ")}}function Bo(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",26),t._uU(3," Severity "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.severity)}),t._uU(5),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.severity," ")}}function No(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," Description "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.description)}),t._uU(5),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.description," ")}}function Do(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",24),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(3).copyToCB(a)}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Jo(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," Endpoints "),t.qZA(),t.YNc(4,Do,2,1,"div",27),t.qZA(),t.BQk()),2&i){const e=t.oxw().ngIf;t.xp6(4),t.Q6J("ngForOf",null==e?null:e.endpoints)}}function Qo(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," Mitigation "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.mitigation)}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.mitigation," ")}}function zo(i,l){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(3).ngIf;t.xp6(1),t.hij(" @",null==e?null:e.component_version,"")}}function Ro(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t.YNc(4,zo,2,1,"ng-container",20),t.qZA(),t.BQk()),2&i){const e=t.oxw(2).ngIf;t.xp6(2),t.Oqu(null==e?null:e.component_name),t.xp6(2),t.Q6J("ngIf",null==e?null:e.component_version)}}function Eo(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",3),t._uU(3," Component "),t.qZA(),t.TgZ(4,"div",28),t.YNc(5,Ro,5,2,"ng-container",20),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw().ngIf;t.xp6(5),t.Q6J("ngIf",null==e?null:e.component_name)}}function $o(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," Date "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.date)}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.date," ")}}function jo(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," CWE "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.cwe)}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.cwe," ")}}function Yo(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," CVE "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.cve)}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.cve," ")}}function Go(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," Refrences "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.references)}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.references," ")}}function Ho(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," File Path "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.file_path)}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.file_path," ")}}function Vo(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," Line No. "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw().copyToCB(null==o?null:o.line)}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.line," ")}}function Wo(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t.TgZ(2,"div",23),t._uU(3," Go To Line "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,a=t.oxw().ngIf;return t.oxw().goToFile(null==a?null:a.file_path,null==a?null:a.line,null==o||null==o.raw_request_sent_for_execution?null:o.raw_request_sent_for_execution.GIT_URL,null==o||null==o.raw_request_sent_for_execution?null:o.raw_request_sent_for_execution.GIT_COMMIT)}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2).ngIf;t.xp6(5),t.hij(" ",null==e?null:e.line," ")}}function Xo(i,l){if(1&i&&(t.ynx(0),t.YNc(1,Wo,8,1,"ng-container",20),t.BQk()),2&i){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",null==e?null:e.line)}}function Ko(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",10),t.TgZ(1,"nb-card-header"),t.TgZ(2,"div",11),t.TgZ(3,"h6"),t._uU(4," Finding Details "),t.qZA(),t.qZA(),t.TgZ(5,"div",12),t.TgZ(6,"div",13),t.TgZ(7,"button",14),t.NdJ("click",function(){const a=t.CHM(e).ngIf,c=t.oxw(),r=t.MAs(1);return c.open(r,"Are you sure you want to reset the vulnerability state ?","resetFindingState",null==a||null==a._id?null:a._id.$oid)}),t._UZ(8,"nb-icon",15),t.TgZ(9,"span"),t._uU(10," Reset "),t.qZA(),t.qZA(),t.TgZ(11,"button",16),t.NdJ("click",function(){const a=t.CHM(e).ngIf,c=t.oxw(),r=t.MAs(1);return c.open(r,"Are you sure you want to supress the vulnerability ?","suppressFinding",null==a||null==a._id?null:a._id.$oid)}),t._UZ(12,"nb-icon",15),t.TgZ(13,"span"),t._uU(14," Supress "),t.qZA(),t.qZA(),t.TgZ(15,"button",17),t.NdJ("click",function(){const a=t.CHM(e).ngIf,c=t.oxw(),r=t.MAs(1);return c.open(r,"Are you sure you want to accept the risk ?","acceptRisk",null==a||null==a._id?null:a._id.$oid)}),t._UZ(16,"nb-icon",15),t.TgZ(17,"span"),t._uU(18," Known Risk "),t.qZA(),t.qZA(),t.qZA(),t.YNc(19,qo,6,1,"div",18),t.YNc(20,So,6,1,"div",18),t.qZA(),t.qZA(),t.TgZ(21,"nb-card-body",19),t.YNc(22,Fo,8,1,"ng-container",20),t.YNc(23,Lo,8,2,"ng-container",20),t.YNc(24,Uo,6,1,"ng-container",20),t.YNc(25,Bo,6,1,"ng-container",20),t.YNc(26,No,6,1,"ng-container",20),t.YNc(27,Jo,5,1,"ng-container",20),t.YNc(28,Qo,8,1,"ng-container",20),t.YNc(29,Eo,6,1,"ng-container",20),t.YNc(30,$o,8,1,"ng-container",20),t.YNc(31,jo,8,1,"ng-container",20),t.YNc(32,Yo,8,1,"ng-container",20),t.YNc(33,Go,8,1,"ng-container",20),t.YNc(34,Ho,8,1,"ng-container",20),t.YNc(35,Vo,8,1,"ng-container",20),t.YNc(36,Xo,2,1,"ng-container",20),t.ALo(37,"async"),t.qZA(),t.qZA()}if(2&i){const e=l.ngIf,n=t.oxw();t.xp6(7),t.Q6J("appearance",null!=e&&null!=e.hawki_attributes&&null!=e.hawki_attributes.reset_state&&e.hawki_attributes.reset_state.reset?"filled":"outline"),t.xp6(4),t.Q6J("appearance",null!=e&&null!=e.hawki_attributes&&null!=e.hawki_attributes.supress_vuln&&e.hawki_attributes.supress_vuln.supressed?"filled":"outline"),t.xp6(4),t.Q6J("appearance",null!=e&&null!=e.hawki_attributes&&null!=e.hawki_attributes.accept_risk&&e.hawki_attributes.accept_risk.accepted?"filled":"outline"),t.xp6(4),t.Q6J("ngIf",null==e||null==e.hawki_attributes||null==e.hawki_attributes.supress_vuln?null:e.hawki_attributes.supress_vuln.supressed),t.xp6(1),t.Q6J("ngIf",null==e||null==e.hawki_attributes||null==e.hawki_attributes.accept_risk?null:e.hawki_attributes.accept_risk.accepted),t.xp6(2),t.Q6J("ngIf",null==e?null:e.title),t.xp6(1),t.Q6J("ngIf",null==e?null:e.title),t.xp6(1),t.Q6J("ngIf",null==e?null:e.title),t.xp6(1),t.Q6J("ngIf",null==e?null:e.severity),t.xp6(1),t.Q6J("ngIf",null==e?null:e.description),t.xp6(1),t.Q6J("ngIf",null==e?null:e.endpoints),t.xp6(1),t.Q6J("ngIf",null==e?null:e.description),t.xp6(1),t.Q6J("ngIf",null==e?null:e.component_name),t.xp6(1),t.Q6J("ngIf",null==e?null:e.date),t.xp6(1),t.Q6J("ngIf",null==e?null:e.cwe),t.xp6(1),t.Q6J("ngIf",null==e?null:e.cwe),t.xp6(1),t.Q6J("ngIf",null==e?null:e.cwe),t.xp6(1),t.Q6J("ngIf",null==e?null:e.file_path),t.xp6(1),t.Q6J("ngIf",null==e?null:e.line),t.xp6(1),t.Q6J("ngIf",t.lcZ(37,20,n.build_details))}}let tr=(()=>{class i{constructor(e,n,o,a){this.apiService=e,this.nbToastrService=n,this.clipboard=o,this.dialogService=a,this.finding_details=(0,N.of)(Y.E),this.build_details=(0,N.of)(Y.E)}refreshFinding(){this.finding_details=this.apiService.getFindingById(this.finding_id).pipe((0,m.U)(e=>null==e?void 0:e.data),(0,f.b)(e=>{var n;this.build_details=this.apiService.getBuildById(null===(n=null==e?void 0:e.buildId)||void 0===n?void 0:n.$oid).pipe((0,q.d)())}))}ngOnInit(){this.refreshFinding()}copyToCB(e){this.clipboard.copy(e),this.nbToastrService.control(e,"Copied to clipboard")}suppressFinding(e,n){this.apiService.suppressFindingById(e,{supressed:!0,comment:n}).subscribe(o=>{this.refreshFinding()})}resetFindingState(e,n){this.apiService.resetStateFindingById(e,{reset:!0,comment:n}).subscribe(o=>{this.refreshFinding()})}acceptRisk(e,n){this.apiService.acceptRiskFindingById(e,{accepted:!0,comment:n}).subscribe(o=>{this.refreshFinding()})}open(e,n,o,a){console.log("dialog",e,o,a),this.dialogService.open(e,{context:n}).onClose.subscribe(c=>{c&&(console.log("dialogclose",c),"acceptRisk"==o?this.acceptRisk(a,c):"suppressFinding"==o?this.suppressFinding(a,c):"resetFindingState"==o&&this.resetFindingState(a,c))})}parseGitUrl(e,n,o,a){if(e.startsWith("git@")){e="https://"+e.split("git@")[1].replace(":","/"),n.split("/");let d="/src/"+a+"/";e+=a?d+"/"+n+"#-"+o:"/src/master/"+n}return e}goToFile(e,n,o,a){return console.log(e,n,o,a),o=this.parseGitUrl(o,e,n,a),console.log("goToFile",o),window.open(o,"_blank"),o}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(s.quB),t.Y36(vt),t.Y36(s.Gln))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-finding-detail-view"]],inputs:{finding_id:"finding_id"},decls:4,vars:3,consts:[["commentDialog",""],["fxFill","",4,"ngIf"],[1,"dialog"],[1,"field"],[1,"subheading"],["fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Comment",2,"margin-top","2rem",3,"keyup.enter"],["commentInput",""],["fxLayoutAlign","end"],[1,"row"],["nbButton","","size","small","status","danger",3,"disabled","click"],["fxFill",""],["fxFlex","","fxLayout","start"],["fxLayoutGap","1rem","fxLayout","column"],["fxLayout","row","fxLayoutGap","1rem","fxLayout","end end"],["size","small","status","danger","nbButton","",3,"appearance","click"],["icon","info-outline"],["size","small","status","success","nbButton","",3,"appearance","click"],["size","small","status","warning","nbButton","",3,"appearance","click"],["fxLayoutGap","1rem","fxLayout","row",4,"ngIf"],["fxLayout","column"],[4,"ngIf"],["fxLayoutGap","1rem","fxLayout","row"],[1,"paragraph"],[1,"field","item"],[1,"field_details","item",3,"click"],["fxFlex",""],[1,"field","item","item"],["class","field_details item",3,"click",4,"ngFor","ngForOf"],[1,"field_details"]],template:function(e,n){1&e&&(t.YNc(0,Io,15,2,"ng-template",null,0,t.W1O),t.YNc(2,Ko,38,22,"nb-card",1),t.ALo(3,"async")),2&e&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,n.finding_details)))},directives:[h.O5,s.Asz,s.ndF,s.yKW,s.h8i,s.XWE,_.Wh,s.DPz,_.s9,_.yH,_.xw,_.SQ,s.fMN,h.sg],pipes:[h.Ov],styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";.field[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:400;color:var(--text-hint-color);padding:.5rem .5rem .5rem 10px;border-left:4px solid var(--color-basic-200);margin-bottom:1rem}.field_details[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:500;padding:.5rem .5rem .5rem 20px;color:var(--text-basic-color)}nb-card[_ngcontent-%COMP%]{margin:0!important;background:var(--background-basic-color-2)!important;max-height:calc(var(--layout-min-height))}nb-card-header[_ngcontent-%COMP%]{background:var(--background-basic-color-1)!important}nb-card-body[_ngcontent-%COMP%]{overflow-wrap:break-word}.chip[_ngcontent-%COMP%]{font-weight:500;color:#fff;background-color:var(--color-primary-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px}.sub_chip[_ngcontent-%COMP%]{font-weight:500;color:var(--color-basic-200);background-color:var(--color-danger-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:1rem 5px 5px;border-radius:9px}hr[_ngcontent-%COMP%]{display:block;height:1px;border:0;border-top:1px solid var(--text-alternate-color);margin:1em 0 1rem;padding:0}.item[_ngcontent-%COMP%]{border-radius:.3rem;font-size:1rem;line-height:1.5rem;padding:var(--button-ghost-medium-padding);padding-right:0!important;max-lines:2;white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis}.item[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:1s}button[_ngcontent-%COMP%]{text-transform:capitalize!important}']}),i})(),er=(()=>{class i{constructor(){this.percentColors=[{pct:0,color:{r:43,g:200,b:25}},{pct:.5,color:{r:255,g:178,b:0}},{pct:1,color:{r:240,g:14,b:74}}]}getColorForPercentage(e){let n;return n=e<30?this.percentColors[0].color:e<60?this.percentColors[1].color:this.percentColors[2].color,"rgb("+[n.r,n.g,n.b].join(",")+")"}transform(e,...n){if(null==e&&(e=""),n.indexOf("color")>=0){switch(e.toString().toLowerCase()){case"low":return"#bfbfc3";case"medium":return"#ffc94d";case"high":return"#ff708d";case"critical":return"#f90d0d"}return"#bfbfc3"}switch(e.toString().toLowerCase()){case"low":return"basic";case"medium":return"warning";case"high":case"critical":return"danger"}return"basic"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"severity",type:i,pure:!0}),i})();const nr=["findingStatsView"],ir=["editTmpl"];function or(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",40),t.NdJ("mouseover",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onMouseOver(a)})("mouseout",function(){return t.CHM(e),t.oxw(2).onMouseOut()}),t.TgZ(1,"div",41),t.TgZ(2,"span"),t._uU(3,"\xb7"),t.qZA(),t._uU(4),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.Q6J("disabled","FAIL"==(null==e?null:e.status))("value",null==e||null==e._id?null:e._id.$oid),t.xp6(2),t.Gre("dot  ",null==e?null:e.status,""),t.ekj("previousBuild",n.previousBuildId==(null==e||null==e._id?null:e._id.$oid))("currentBuild",n.currentBuildId==(null==e||null==e._id?null:e._id.$oid)),t.xp6(2),t.hij(" #",null==e?null:e.buildNo," ")}}function rr(i,l){if(1&i&&(t.TgZ(0,"div",36),t.TgZ(1,"div",37),t._uU(2," Build No. "),t.qZA(),t.TgZ(3,"nb-select",38),t.ALo(4,"async"),t.YNc(5,or,5,10,"nb-option",39),t.ALo(6,"async"),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("nbSpinner",!t.lcZ(4,3,e.builds))("formControl",e.selectedBuildId),t.xp6(2),t.Q6J("ngForOf",t.lcZ(6,5,e.builds))}}function lr(i,l){1&i&&t._UZ(0,"nb-icon",42)}function ar(i,l){1&i&&t._UZ(0,"nb-icon",43)}function cr(i,l){1&i&&(t.TgZ(0,"div",44),t.TgZ(1,"button",18),t._uU(2," Description "),t.qZA(),t.qZA())}function sr(i,l){1&i&&t._UZ(0,"nb-icon",42)}function dr(i,l){1&i&&t._UZ(0,"nb-icon",43)}function ur(i,l){1&i&&t._UZ(0,"nb-icon",42)}function pr(i,l){1&i&&t._UZ(0,"nb-icon",43)}function gr(i,l){1&i&&t._UZ(0,"nb-tag",59)}function _r(i,l){1&i&&t._UZ(0,"nb-tag",60)}function mr(i,l){if(1&i&&(t.TgZ(0,"div",61),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e?null:e.description," ")}}function fr(i,l){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" @",null==e?null:e.component_version,"")}}function hr(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"span",62),t._uU(2),t.qZA(),t.TgZ(3,"span",63),t.YNc(4,fr,2,1,"ng-container",58),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",null==e?null:e.component_name," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.component_version)}}function br(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",45),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().onClickFinding(a)}),t.TgZ(1,"div",46),t.TgZ(2,"div",47),t.TgZ(3,"div",48),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",49),t.TgZ(6,"div",50),t._uU(7),t.qZA(),t.YNc(8,gr,1,0,"nb-tag",51),t.YNc(9,_r,1,0,"nb-tag",52),t.qZA(),t.TgZ(10,"div",53),t.TgZ(11,"div",54),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"div",55),t._uU(14),t.qZA(),t.TgZ(15,"div",56),t._uU(16),t.qZA(),t.TgZ(17,"div",56),t._uU(18),t.qZA(),t.YNc(19,mr,2,1,"div",57),t.TgZ(20,"div",55),t.TgZ(21,"div"),t._uU(22),t.qZA(),t.TgZ(23,"div"),t.YNc(24,hr,5,2,"ng-container",58),t.qZA(),t.qZA(),t.TgZ(25,"div",53),t.TgZ(26,"div",54),t.ALo(27,"severity"),t._uU(28),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.ekj("inactive",0==(null==e?null:e.active)),t.xp6(4),t.hij(" ",null==e?null:e.index," "),t.xp6(3),t.hij(" ",null==e?null:e.title," "),t.xp6(1),t.Q6J("ngIf",null==e||null==e.hawki_attributes||null==e.hawki_attributes.supress_vuln?null:e.hawki_attributes.supress_vuln.supressed),t.xp6(1),t.Q6J("ngIf",null==e||null==e.hawki_attributes||null==e.hawki_attributes.accept_risk?null:e.hawki_attributes.accept_risk.accepted),t.xp6(3),t.hij(" ",null!=e&&e.active?"Active":"Inactive"," "),t.xp6(2),t.hij(" ",null==e?null:e.date," "),t.xp6(2),t.hij(" ",null==e?null:e.cwe," "),t.xp6(2),t.hij(" ",null==e?null:e.cve," "),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(3),t.hij(" ",null==e?null:e.found_by," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.component_name),t.xp6(2),t.Jzz("\n                            border          : 2px solid ",t.xi3(27,17,null==e?null:e.severity,"color")," "),t.xp6(2),t.hij(" ",null==e?null:e.severity," ")}}function vr(i,l){if(1&i&&(t.TgZ(0,"nb-option",64),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=l.index;t.Q6J("value",e),t.xp6(2),t.hij(" Page ",e+1," ")}}function xr(i,l){if(1&i&&t._UZ(0,"app-finding-detail-view",65),2&i){const e=l.context;t.Q6J("finding_id",null==e||null==e.finding_id?null:e.finding_id.$oid)}}const Cr=function(){return[]};let U=(()=>{class i{constructor(e,n,o,a,c){this.apiService=e,this.drawerMngr=n,this.nbSidebarService=o,this.router=a,this.activatedRoute=c,this.math=Math,this.findingsListLimit=20,this.totalFindings=0,this.sortFindingFilter={numerical_severity:1},this.lastFindingIdOffset=0,this.lastFindingPageLength=0,this.finishedLoadingFindings$=!1,this.loadMoreFindings$=new F.X(0),this.selectedBuildId=new g.NI,this.selectedApp=this.apiService.selectedApp,this.builds=this.activatedRoute.paramMap.pipe((0,m.U)(r=>null==r?void 0:r.get("buildId")),(0,T.h)(r=>!!r),(0,x.w)(r=>this.selectedApp.pipe((0,T.h)(d=>!!(null==d?void 0:d.identifier)),(0,x.w)(d=>(console.log("switchMap",d),this.getBuildData(d))),(0,f.b)(d=>{(null==d?void 0:d.length)>0&&this.selectedBuildId.setValue(r)}),(0,Mt.B)(),(0,I.O)(void 0)))),this._builds=this.selectedApp.pipe((0,T.h)(r=>!!(null==r?void 0:r.identifier)),(0,x.w)(r=>(console.log("switchMap",r),this.getBuildData(r))),(0,f.b)(r=>{var d,u;(null==r?void 0:r.length)>0&&this.selectedBuildId.setValue(null===(u=null===(d=r[0])||void 0===d?void 0:d._id)||void 0===u?void 0:u.$oid)}),(0,Mt.B)(),(0,I.O)(void 0)),this.selectedBuildIdFilter=new F.X(void 0),this.findingStats=this.selectedBuildId.valueChanges.pipe((0,I.O)(this.selectedBuildId.value),(0,f.b)(r=>{console.debug("selectedBuildId",r)}),(0,T.h)(r=>!!r),(0,m.U)(r=>r||[]),(0,x.w)(r=>this.selectedApp.pipe((0,m.U)(d=>({selectedApp:d,selectedBuildId:{$oid:r}})))),(0,x.w)(r=>{var d,u;return this.apiService.getFindingStats(null===(u=null===(d=r.selectedApp)||void 0===d?void 0:d.application)||void 0===u?void 0:u.applicationId,r.selectedBuildId)})),this.triggerRefresh=new F.X(void 0),this.triggerReset=new G.x,this.loadingFindings$=!1,this.findings=this.triggerRefresh.asObservable().pipe((0,f.b)(r=>{this.loadingFindings$=!0}),(0,x.w)(r=>this.selectedBuildId.valueChanges.pipe((0,f.b)(d=>{this.triggerReset.next(void 0),this.loadingFindings$=!0,this.lastFindingIdOffset=0,this.lastFindingPageLength=0,this.loadMoreFindings$.next(this.lastFindingIdOffset),this.finishedLoadingFindings$=!1}),(0,I.O)(this.selectedBuildId.value))),(0,T.h)(r=>!!r),(0,m.U)(r=>r||[]),(0,x.w)(r=>this.selectedApp.pipe((0,m.U)(d=>({selectedApp:d,selectedBuildId:{$oid:r},severityFilter:{},findingStats:{},totalFindings:0})))),(0,x.w)(r=>this.findingStatsView.findingStats.pipe((0,m.U)(d=>(r.findingStats=d,r)))),(0,x.w)(r=>this.findingStatsView.severityFilter.pipe((0,f.b)(d=>{this.triggerReset.next(void 0),this.loadingFindings$=!0,this.totalFindings=0}),(0,m.U)(d=>{let u=[];return Object.keys(d).forEach(p=>{if(d[p]&&(u.push(p),d[p])){let b=p.toLowerCase();b in r.findingStats&&(this.totalFindings+=r.findingStats[b],console.log("tappper",r.findingStats[b],p.toLowerCase(),d[p],r.findingStats,r.totalFindings),r.totalFindings=r.findingStats[b])}}),console.log("tappper",r.totalFindings),r.severityFilter=u,r}))),(0,x.w)(r=>(console.log("sortFindingFilter","loadMoreFindings"),this.loadMoreFindings$.pipe((0,m.U)(d=>r)))),(0,x.w)(r=>{var d,u;return console.log("sortFindingFilter",this.sortFindingFilter),this.apiService.getFindings(null===(u=null===(d=r.selectedApp)||void 0===d?void 0:d.application)||void 0===u?void 0:u.applicationId,r.selectedBuildId,null==r?void 0:r.severityFilter,this.sortFindingFilter,this.lastFindingIdOffset,this.findingsListLimit).pipe((0,f.b)(p=>{this.lastFindingPageLength=p.length,this.lastFindingIdOffset+=this.lastFindingPageLength,p.length<this.findingsListLimit&&(this.finishedLoadingFindings$=!0)}))}),(0,I.O)(void 0)),this._findings=(0,_t.T)(this.findings,this.triggerReset).pipe((0,Nt.R)((r,d)=>(console.log("_findings_findings",r,d),null==d?(this.lastFindingPageLength=0,this.lastFindingIdOffset=0,this.finishedLoadingFindings$=!1,[]):(null==d||d.map((u,p)=>(u.index=this.lastFindingIdOffset-this.lastFindingPageLength+p+1,u)),d))),(0,f.b)(r=>{this.loadingFindings$=!1})),this.currentBuildId=void 0,this.previousBuildId=void 0}toggleSort(e){null==this.sortFindingFilter[e]||0==this.sortFindingFilter[e]?(this.sortFindingFilter={},this.sortFindingFilter[e]=1):this.sortFindingFilter[e]=1==this.sortFindingFilter[e]?-1:1,console.log("sortFilter",this.sortFindingFilter),this.refreshFindings()}getBuildData(e){var n;return this.apiService.getDevsecopsBuildData({businessId:null==e?void 0:e.businessId,projectId:null==e?void 0:e.projectId,platformId:null==e?void 0:e.platformId,applicationId:null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.applicationId},{}).pipe((0,f.b)(console.log))}refreshFindings(){this.triggerRefresh.next(!0)}ngOnInit(){this.activatedRoute.parent.paramMap.pipe((0,f.b)(e=>{console.log("logger2",e)}),(0,m.U)(e=>null==e?void 0:e.get("buildId")),(0,T.h)(e=>!!e),(0,f.b)(e=>{console.log("___",e),this.selectedBuildId.setValue(e,{emitModelToViewChange:!0,emitEvent:!1,emitViewToModelChange:!0})})).subscribe()}ngOnDestroy(){this.nbSidebarService.expand("buildList")}loadMoreStatic(){}onClickFinding(e){this.openDrawer(e)}openDrawer(e,n="left",o,a=!0,c=this.editTmpl,r=!0,d){this.drawerMngr.create({direction:E.Left,template:c,size:o,context:{finding_id:null==e?void 0:e._id},closeOnOutsideClick:a,parentContainer:d,isRoot:r})}onMouseOver(e){var n,o,a;this.currentBuildId=null===(n=null==e?void 0:e._id)||void 0===n?void 0:n.$oid,this.previousBuildId=null===(a=null===(o=null==e?void 0:e.parser_meta_data)||void 0===o?void 0:o.previous_build_id)||void 0===a?void 0:a.$oid}onMouseOut(){this.currentBuildId=void 0,this.previousBuildId=void 0}bottomThresholdTrigger(e){}nextPage(){1!=this.loadingFindings$&&(this.loadingFindings$=!0,this.loadMoreFindings$.next(this.lastFindingIdOffset))}goto(e){this.loadingFindings$=!0,this.lastFindingIdOffset=e*this.findingsListLimit,this.loadMoreFindings$.next(this.lastFindingIdOffset)}previousPage(){1!=this.loadingFindings$&&(this.lastFindingIdOffset<=this.findingsListLimit||(this.loadingFindings$=!0,this.lastFindingIdOffset=this.lastFindingIdOffset-this.lastFindingPageLength-this.findingsListLimit,this.loadMoreFindings$.next(this.lastFindingIdOffset)))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(dt),t.Y36(s.lzT),t.Y36(A.F0),t.Y36(A.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-findings"]],viewQuery:function(e,n){if(1&e&&(t.Gf(nr,7),t.Gf(ir,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.findingStatsView=o.first),t.iGM(o=t.CRH())&&(n.editTmpl=o.first)}},decls:65,vars:25,consts:[["fxFill","","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data"],["fxLayoutAlign","space-between","fxLayout","row"],["fxLayoutAlign","start"],["class","nb-select","fxLayout","column",4,"ngIf"],["fxLayout","column",2,"margin","0.5rem"],[3,"findingStats"],["findingStatsView",""],[2,"margin-top","0px","margin-bottom","0px"],["fxLayoutAlign","center start","fxLayout","row"],["fxFlex","0 0 3rem","fxLayoutAlign","start start",1,"cell_header"],["fullWidth","","size","medium","status","basic","nbButton","","ghost","",1,"left",3,"click"],["icon","hash-outline"],["fxFlex","1 0","fxLayoutAlign","start start",1,"cell_header"],["disabled","","fullWidth","","size","medium","status","basic","nbButton","","ghost","",1,"left"],["fxFlex","0 0 7rem","fxLayoutAlign","center start",1,"cell_header"],["icon","arrow-up-outline",4,"ngIf"],["icon","arrow-down-outline",4,"ngIf"],["fxFlex","0 0 10rem","fxLayoutAlign","start start",1,"cell_header"],["fullWidth","","size","medium","status","basic","nbButton","","ghost","",1,"left"],["fxFlex","0 0 5rem","fxLayoutAlign","center start",1,"cell_header"],["fxHide","","fxShow.gt-md","","fxFlex","0 0 5rem","fxLayoutAlign","center start",1,"cell_header"],["class","cell_header","fxFlex","","fxLayoutAlign","center start",4,"ngIf"],["fxFlex","0 0 10rem","fxLayoutAlign","center start",1,"cell_header"],["fxFlex","0 0 7rem","fxLayoutAlign","start start",1,"cell_header"],["fxFlex",""],[3,"inactive","click",4,"ngFor","ngForOf"],["fxFlex","","fxLayoutAlign","space-between"],["size","medium","status","success","nbButton","","ghost","",2,"margin-left","1rem",3,"disabled","click"],["icon","arrow-left-outline"],["fxFlex","","fxLayoutAlign","center center"],["placeholder","Select Showcase",3,"selected","selectedChange"],[1,"page"],[3,"value",4,"ngFor","ngForOf"],["size","medium","status","success","nbButton","","ghost","",2,"margin-right","1rem",3,"disabled","click"],["icon","arrow-right-outline"],["editTmpl",""],["fxLayout","column",1,"nb-select"],[1,"select_heading"],["fullWidth","","optionsListClass","nb-option","optionsPanelClass","nb-option","size","medium","placeholder","Build Id",3,"nbSpinner","formControl"],["style","overflow: hidden;",3,"disabled","value","mouseover","mouseout",4,"ngFor","ngForOf"],[2,"overflow","hidden",3,"disabled","value","mouseover","mouseout"],["fxLayout","row"],["icon","arrow-up-outline"],["icon","arrow-down-outline"],["fxFlex","","fxLayoutAlign","center start",1,"cell_header"],[3,"click"],["fxLayout","row","fxFlex",""],["fxLayoutAlign","center center","fxFlex","0 0 3rem",1,"item",2,"padding","0"],["fxFlex","","fxLayoutAlign","center center",2,"padding","0"],["fxFlex","1 0","fxLayoutALign","start",1,"item"],[2,"display","inline","line-break","anywhere"],["appearance","outline","status","danger","class","buildcount","size","tiny","text","Supressed",4,"ngIf"],["appearance","outline","status","danger","class","buildcount","size","tiny","text","Known Risk",4,"ngIf"],["fxLayoutAlign","start start","fxFlex","0 0 7rem",1,"item"],[1,"severity"],["fxFlex","0 0 10rem",1,"item"],["fxFlex","0 0 5rem",1,"item"],["class","item","class"," item ","fxFlex","",4,"ngIf"],[4,"ngIf"],["appearance","outline","status","danger","size","tiny","text","Supressed",1,"buildcount"],["appearance","outline","status","danger","size","tiny","text","Known Risk",1,"buildcount"],["fxFlex","",1,"item"],[1,"chip"],[1,"sub_chip"],[3,"value"],[3,"finding_id"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header",1),t.TgZ(2,"div",2),t.YNc(3,rr,7,7,"div",3),t.TgZ(4,"div",4),t._UZ(5,"app-finding-stats",5,6),t.ALo(7,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"nb-card-header",7),t.TgZ(9,"div",8),t.TgZ(10,"div",9),t.TgZ(11,"button",10),t.NdJ("click",function(){return n.toggleSort("numerical_severity")}),t._UZ(12,"nb-icon",11),t.qZA(),t.qZA(),t.TgZ(13,"div",12),t.TgZ(14,"button",13),t._uU(15," Title "),t.qZA(),t.qZA(),t.TgZ(16,"div",14),t.TgZ(17,"button",10),t.NdJ("click",function(){return n.toggleSort("active")}),t.YNc(18,lr,1,0,"nb-icon",15),t.YNc(19,ar,1,0,"nb-icon",16),t._uU(20," Status "),t.qZA(),t.qZA(),t.TgZ(21,"div",17),t.TgZ(22,"button",18),t._uU(23," Date "),t.qZA(),t.qZA(),t.TgZ(24,"div",19),t.TgZ(25,"button",18),t._uU(26," CWE "),t.qZA(),t.qZA(),t.TgZ(27,"div",20),t.TgZ(28,"button",18),t._uU(29," CVE "),t.qZA(),t.qZA(),t.YNc(30,cr,3,0,"div",21),t.TgZ(31,"div",22),t.TgZ(32,"button",10),t.NdJ("click",function(){return n.toggleSort("found_by")}),t.YNc(33,sr,1,0,"nb-icon",15),t.YNc(34,dr,1,0,"nb-icon",16),t._uU(35," Tool "),t.qZA(),t.qZA(),t.TgZ(36,"div",23),t.TgZ(37,"button",10),t.NdJ("click",function(){return n.toggleSort("numerical_severity")}),t.YNc(38,ur,1,0,"nb-icon",15),t.YNc(39,pr,1,0,"nb-icon",16),t._uU(40," Severity "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"nb-list",24),t.YNc(42,br,29,20,"nb-list-item",25),t.ALo(43,"async"),t.qZA(),t.TgZ(44,"nb-card-footer"),t.TgZ(45,"div",26),t.TgZ(46,"button",27),t.NdJ("click",function(){return n.previousPage()}),t._UZ(47,"nb-icon",28),t._uU(48," Prev "),t.qZA(),t.TgZ(49,"div",29),t.TgZ(50,"nb-select",30),t.NdJ("selectedChange",function(a){return n.goto(a)}),t.TgZ(51,"nb-select-label"),t.TgZ(52,"div"),t._uU(53," Page "),t.TgZ(54,"span",31),t._uU(55),t.qZA(),t._uU(56," of "),t.TgZ(57,"span",31),t._uU(58),t.qZA(),t.qZA(),t.qZA(),t.YNc(59,vr,3,2,"nb-option",32),t.qZA(),t.qZA(),t.TgZ(60,"button",33),t.NdJ("click",function(){return n.nextPage()}),t._uU(61," Next "),t._UZ(62,"nb-icon",34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(63,xr,1,1,"ng-template",null,35,t.W1O)),2&e&&(t.xp6(3),t.Q6J("ngIf",!1),t.xp6(2),t.Q6J("findingStats",t.lcZ(7,20,n.findingStats)),t.xp6(13),t.Q6J("ngIf",1==(null==n.sortFindingFilter?null:n.sortFindingFilter.active)),t.xp6(1),t.Q6J("ngIf",-1==(null==n.sortFindingFilter?null:n.sortFindingFilter.active)),t.xp6(11),t.Q6J("ngIf",!1),t.xp6(3),t.Q6J("ngIf",1==(null==n.sortFindingFilter?null:n.sortFindingFilter.found_by)),t.xp6(1),t.Q6J("ngIf",-1==(null==n.sortFindingFilter?null:n.sortFindingFilter.found_by)),t.xp6(4),t.Q6J("ngIf",-1==(null==n.sortFindingFilter?null:n.sortFindingFilter.numerical_severity)),t.xp6(1),t.Q6J("ngIf",1==(null==n.sortFindingFilter?null:n.sortFindingFilter.numerical_severity)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(43,22,n._findings)),t.xp6(4),t.Q6J("disabled",n.loadingFindings$||n.math.ceil(n.lastFindingIdOffset/n.findingsListLimit)<=1),t.xp6(4),t.Q6J("selected",0),t.xp6(4),t.ekj("page_no",!n.loadingFindings$),t.xp6(1),t.hij(" ",n.math.ceil(n.lastFindingIdOffset/n.findingsListLimit)," "),t.xp6(2),t.ekj("page_no",!n.loadingFindings$),t.xp6(1),t.hij(" ",n.math.ceil(n.totalFindings/n.findingsListLimit)," "),t.xp6(1),t.Q6J("ngForOf",t.DdM(24,Cr).constructor(n.math.ceil(n.totalFindings/n.findingsListLimit))),t.xp6(1),t.Q6J("disabled",n.loadingFindings$||n.math.ceil(n.lastFindingIdOffset/n.findingsListLimit)>=n.math.ceil(n.totalFindings/n.findingsListLimit)))},directives:[s.Asz,_.s9,s.ndF,_.Wh,_.xw,h.O5,Et,_.yH,s.DPz,s.fMN,wt.b8,s.zP_,h.sg,s.XWE,s.rs,s.aGg,s.Q7R,g.JJ,g.oH,s.q51,s.qBV,s.c2L,tr],pipes:[h.Ov,er],styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";.container[_ngcontent-%COMP%]{display:flex;align-items:center}.test[_ngcontent-%COMP%]{flex:1}td[_ngcontent-%COMP%]{text-transform:capitalize}tr[_ngcontent-%COMP%]{margin-bottom:10px}th[_ngcontent-%COMP%]{font-style:bold;color:#000;background:var(--select-filled-basic-background-color);border-color:var(--select-filled-basic-border-color)}th[_ngcontent-%COMP%]{padding:0;text-align:center}._heading[_ngcontent-%COMP%]{font-size:1rem;margin:.2rem;font-weight:400}._subheading[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500}.opt[_ngcontent-%COMP%]{margin-left:1rem;font-size:.8rem;font-weight:500}.optH[_ngcontent-%COMP%]{margin-left:0;font-weight:600;font-size:.8rem}h5[_ngcontent-%COMP%]{font-size:1.2rem;margin-top:.3rem;padding:0;margin-bottom:.3rem;font-weight:400}.loader[_ngcontent-%COMP%]{padding-top:5rem;padding-bottom:5rem}.content[_ngcontent-%COMP%]{display:flex}.flex[_ngcontent-%COMP%]{flex:1}.picture[_ngcontent-%COMP%]{background-position:center;background-size:cover;position:relative;border-top-left-radius:.25rem;border-top-right-radius:.25rem;flex:1;background-image:url(/assets/rocket.png)}.card[_ngcontent-%COMP%]{padding:0}.icons-block[_ngcontent-%COMP%]{width:1.4rem;height:1.4rem;border-radius:50%;background-color:#fff;box-shadow:0 .5rem 1.25rem #dae0eb99;margin-left:1rem;margin-right:1rem}.stateicon[_ngcontent-%COMP%]{width:1.8rem;height:1.8rem}.icons-block[_ngcontent-%COMP%]:hover{box-shadow:0 1rem 1.95rem #dae0eb99}.status-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#484747}.stateicon[_ngcontent-%COMP%]{margin-left:auto}.heading[_ngcontent-%COMP%]{font-weight:600}.low[_ngcontent-%COMP%]{background-color:var(--button-filled-primary-background-color)}.medium[_ngcontent-%COMP%]{background-color:var(--button-filled-warning-background-color)}.high[_ngcontent-%COMP%]{background-color:var(--button-filled-danger-background-color)}.critical[_ngcontent-%COMP%]{background-color:var(--button-filled-danger-background-color)}nb-select[_ngcontent-%COMP%]{align-self:center}.accordianitem[_ngcontent-%COMP%]{width:100%}.subName[_ngcontent-%COMP%]{font-weight:600;height:inherit}.headName[_ngcontent-%COMP%]{font-weight:600;height:inherit}.name[_ngcontent-%COMP%]{font-weight:400;height:inherit}.nooverflow[_ngcontent-%COMP%]{overflow:hidden}.textSpace[_ngcontent-%COMP%]{padding-left:1rem;text-overflow:ellipsis;overflow:hidden;flex:1}.textSpace1[_ngcontent-%COMP%]{padding-left:1rem;text-overflow:ellipsis;overflow:auto;flex:1;font-size:medium}.textSpaceLower[_ngcontent-%COMP%]{padding-left:3.4rem;text-overflow:ellipsis;white-space:nowrap}.controlpanelbg[_ngcontent-%COMP%]{background:var(--color-primary-default)}.controlpanelbg2[_ngcontent-%COMP%]{background:var(--color-secondary-default)}h3[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem;line-height:2rem}.buttonspace[_ngcontent-%COMP%]{margin-right:10px}.nomar[_ngcontent-%COMP%]{margin:0;padding:0}.usericon[_ngcontent-%COMP%]{color:var(--color-primary-default)}nb-list[_ngcontent-%COMP%]{background:var(--background-basic-color-2)!important;overflow-x:hidden;margin:10px;padding:4px}.bold[_ngcontent-%COMP%]{font-weight:650}.nomar[_ngcontent-%COMP%]{margin:0}nb-card[_ngcontent-%COMP%]{margin:0;border-radius:0!important}.innercard[_ngcontent-%COMP%]{margin:0}nb-card-header[_ngcontent-%COMP%]{background:var(--background-basic-color-3)!important;margin:10px;padding:4px;overflow:hidden}.page[_ngcontent-%COMP%]{margin-right:.6rem;margin-left:.6rem}.page_no[_ngcontent-%COMP%]{font-size:1rem;font-weight:800}nb-card-footer[_ngcontent-%COMP%]{background:var(--background-basic-color-3)!important;margin:3px;padding:4px;overflow:hidden}nb-card-body[_ngcontent-%COMP%]{padding:0}.left[_ngcontent-%COMP%]{padding-right:0!important}.right[_ngcontent-%COMP%]{padding-left:0!important}.ipaddress[_ngcontent-%COMP%]{font-size:.9rem}button[_ngcontent-%COMP%]{text-transform:capitalize!important}.left[_ngcontent-%COMP%]{justify-content:start!important}.captialize[_ngcontent-%COMP%]{text-transform:capitalize!important}input[_ngcontent-%COMP%]{max-width:150px!important}.cell_header[_ngcontent-%COMP%]{border-left:1px solid var(--select-outline-basic-border-color);border-right:1px solid var(--select-outline-basic-border-color)}nb-list-item[_ngcontent-%COMP%]{margin-bottom:5px;overflow:hidden;padding:1px}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:.5s;filter:alpha(opacity=30)}nb-list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-radius:.3rem;font-size:1rem;line-height:1.5rem;padding:var(--button-ghost-medium-padding);padding-right:0!important;max-lines:2;white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis}nb-list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:1s}nb-list-item.dasd[_ngcontent-%COMP%]:hover{background:var(--color-basic-100)!important;transition:1s}nb-list-item.dasd[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]{padding:var(--button-ghost-medium-padding);padding-right:0!important;color:#000}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-primary-400);color:#fff}nb-list-item.selected[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff!important}nb-list-item.selected.primary[_ngcontent-%COMP%]{background-color:var(--color-primary-500)}nb-list-item.selected.success[_ngcontent-%COMP%]{background-color:var(--color-success-500)}nb-list-item.selected.danger[_ngcontent-%COMP%]{background-color:var(--color-danger-500)}nb-list-item.selected.warning[_ngcontent-%COMP%]{background-color:var(--color-warning-500)}nb-list-item.selected.basic[_ngcontent-%COMP%]{background-color:var(--color-basic-500)}nb-list-item.inactive[_ngcontent-%COMP%]{opacity:.4}.dot[_ngcontent-%COMP%]{font-size:60px;margin-right:1rem;margin-left:.3rem;color:var(--color-primary-500)}.dot.SUCCESS[_ngcontent-%COMP%]{color:var(--color-success-500)}.dot.FAIL[_ngcontent-%COMP%]{color:var(--color-danger-500)}.dot.currentBuild[_ngcontent-%COMP%]{color:var(--color-danger-600)}.dot.previousBuild[_ngcontent-%COMP%]{color:var(--color-danger-100)}.src[_ngcontent-%COMP%]{font-weight:650;font-size:1.2rem}.dst[_ngcontent-%COMP%]{font-weight:650;font-size:1.2rem}.date[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}[_nghost-%COMP%]{width:100%}.nb-select[_ngcontent-%COMP%]{margin-right:1rem;margin-left:1rem}button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{justify-content:start;text-transform:capitalize!important}.title[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2rem;overflow-wrap:break-word;word-break:break-all}.caption[_ngcontent-%COMP%]{overflow-wrap:break-word;word-break:break-all}.nomar[_ngcontent-%COMP%]{margin:0;padding:10px 1rem}nb-card[_ngcontent-%COMP%]{height:0;max-height:0}nb-card-body[_ngcontent-%COMP%]{padding:10px}.multiline[_ngcontent-%COMP%]{margin:5px;text-transform:capitalize}nb-list-item[_ngcontent-%COMP%], nb-list-item.hidden[_ngcontent-%COMP%]:nth-child(even) + nb-list-item[_ngcontent-%COMP%]:nth-of-type(odd) + nb-list-item[_ngcontent-%COMP%]:nth-of-type(even), nb-list-item.hidden[_ngcontent-%COMP%]:nth-child(even) + nb-list-item.hidden[_ngcontent-%COMP%]:nth-child(odd) ~ nb-list-item[_ngcontent-%COMP%]:nth-of-type(odd){background:none}.marg[_ngcontent-%COMP%]{margin-top:10px;white-space:break-spaces;border-right:#000;border-right-width:2px}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f0f0f0}.box[_ngcontent-%COMP%]{position:relative;max-width:600px;width:90%;height:400px;background:#fff;box-shadow:0 0 15px #0000001a}.dst[_ngcontent-%COMP%]:hover{text-decoration:underline}.src[_ngcontent-%COMP%]:hover{text-decoration:underline}.severity[_ngcontent-%COMP%]{font-weight:500;border:2px solid var(--color-primary-400);color:var(--ext-basic-color);background-color:transparent;font-size:.8rem;line-height:1.5rem;border-radius:9px}.chip[_ngcontent-%COMP%]{font-weight:500;color:var(--ext-basic-color);background-color:var(--color-primary-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px}.sub_chip[_ngcontent-%COMP%]{font-weight:500;color:var(--ext-basic-color);background-color:var(--color-danger-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px}.tool[_ngcontent-%COMP%]{font-size:1.2rem;border-right:1px solid rgba(175,177,182,.678);margin-bottom:1rem;margin-top:1rem}.nb-select[_ngcontent-%COMP%]{margin:.5rem;width:250px!important;max-width:250px!important}.select_heading[_ngcontent-%COMP%]{font-size:1rem!important;color:var(--color-primary-400)!important;margin-left:10px;margin-top:.5rem;font-weight:550;font-size:.8rem}.nb-option[_ngcontent-%COMP%]{max-width:250px!important}.timeline-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid;border-color:#e5e6e9 #dfe0e4 #d0d1d5;border-radius:3px;padding:12px;margin:0 auto}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;background:#f6f7f8;background:linear-gradient(to right,#eeeeee 8%,#dddddd 18%,#eeeeee 33%);height:40px;position:relative}.background-masker[_ngcontent-%COMP%]{background:#fff;position:absolute}.background-masker.header-top[_ngcontent-%COMP%], .background-masker.header-bottom[_ngcontent-%COMP%], .background-masker.subheader-bottom[_ngcontent-%COMP%]{top:0;left:40px;right:0;height:10px}.background-masker.header-left[_ngcontent-%COMP%], .background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:10px;left:40px;height:8px;width:10px}.background-masker.header-bottom[_ngcontent-%COMP%]{top:18px;height:6px}.background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:24px;height:6px}.background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{width:auto;left:300px;right:0}.background-masker.subheader-bottom[_ngcontent-%COMP%]{top:30px;height:10px}.background-masker.content-top[_ngcontent-%COMP%], .background-masker.content-second-line[_ngcontent-%COMP%], .background-masker.content-third-line[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%], .background-masker.content-first-end[_ngcontent-%COMP%]{top:40px;left:0;right:0;height:6px}.background-masker.content-top[_ngcontent-%COMP%]{height:20px}.background-masker.content-first-end[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%]{width:auto;left:380px;right:0;top:60px;height:8px}.background-masker.content-second-line[_ngcontent-%COMP%]{top:68px}.background-masker.content-second-end[_ngcontent-%COMP%]{left:420px;top:74px}.background-masker.content-third-line[_ngcontent-%COMP%]{top:82px}.background-masker.content-third-end[_ngcontent-%COMP%]{left:300px;top:88px}']}),i})(),Ot=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-empty-view"]],decls:0,vars:0,template:function(e,n){},styles:[""]}),i})(),Gt=(()=>{class i{constructor(e,n){this.router=e,this.activatedRoute=n}ngOnInit(){}configure(){this.router.navigate(["../../config"],{relativeTo:this.activatedRoute})}reloadBuiilds(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.F0),t.Y36(A.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-null-builds"]],decls:12,vars:0,consts:[["fxFill","","fxLayoutAlign","center center"],["accent","danger"],["fxLayoutAlign","space-around center","fxLayout","column"],[1,"text-alternate"],["fxFlex","","hero","","status","danger","shape","round","nbButton","","size","giant",3,"click"],["fxFlex","","hero","","status","primary","shape","round","nbButton","","size","giant",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"nb-card",1),t.TgZ(2,"nb-card-body"),t.TgZ(3,"div",2),t.TgZ(4,"h1",3),t._uU(5,"No build found!"),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return n.reloadBuiilds()}),t._uU(7," Refresh "),t.qZA(),t.TgZ(8,"h6",3),t._uU(9,"Or"),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return n.configure()}),t._uU(11," Configure "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())},directives:[_.s9,_.Wh,s.Asz,s.yKW,_.xw,s.DPz,_.yH],styles:["button[_ngcontent-%COMP%]{text-transform:capitalize!important;font-weight:500}nb-card[_ngcontent-%COMP%]{background:var(--background-alternative-color-1);border-radius:1rem}nb-card[_ngcontent-%COMP%]{transition-duration:.3s}"]}),i})();function Zr(i,l){if(1&i&&(t.TgZ(0,"nb-list-item"),t.TgZ(1,"div",5),t._UZ(2,"img",6),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.qZA(),t.qZA()),2&i){const e=l.$implicit;t.xp6(2),t.Q6J("src",null==e?null:e.icon,t.LSH),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}let Ht=(()=>{class i{constructor(){this.menuItems=[{icon:"https://img.icons8.com/nolan/64/dashboard.png",title:"Dashboard"},{icon:"https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/64/000000/external-app-healthy-lifestyle-icongeek26-outline-gradient-icongeek26.png",title:"Applications"},{icon:"https://img.icons8.com/nolan/64/bookmark.png",title:"Builds"},{icon:"https://img.icons8.com/nolan/64/dashboard.png",title:"CI/CD Integration"},{icon:"https://img.icons8.com/nolan/64/dashboard.png",title:"Scan"},{icon:"https://img.icons8.com/external-bearicons-gradient-bearicons/64/000000/external-setting-essential-collection-bearicons-gradient-bearicons.png",title:"Settings"}]}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sidebar-menu"]],decls:8,vars:1,consts:[["fxFill",""],[2,"margin-bottom","10px"],["fxFlex",""],[1,"subtitle","text-basic"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","start center","fxFlex","",1,"list-item"],[1,"icon",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header",1),t.TgZ(2,"div",2),t.TgZ(3,"span",3),t._uU(4," Ci/CD Operation Managements "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"nb-list"),t.YNc(6,Zr,5,2,"nb-list-item",4),t.qZA(),t._UZ(7,"nb-card-footer"),t.qZA()),2&e&&(t.xp6(6),t.Q6J("ngForOf",n.menuItems))},directives:[s.Asz,_.s9,s.ndF,_.yH,s.zP_,h.sg,s.XWE,s.qBV,_.xw,_.SQ,_.Wh],styles:["nb-card[_ngcontent-%COMP%]{margin-bottom:0}.icon[_ngcontent-%COMP%]{width:40px;height:40px}.list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-4);box-shadow:2px 2px 3px #ffffff29,2px 2px 3px #ffffff3b}.logo[_ngcontent-%COMP%]{width:2rem;height:2rem}"]}),i})(),Pt=(()=>{class i{constructor(e){this.apiService=e,this.flagName="active_state",this.active_state$=(0,N.of)(!1),this.initialsed=!1,this.activeState=new G.x,this.activeState$$=this.activeState.pipe((0,q.d)(),(0,T.h)(n=>this.initialsed)),this.updatingActiveAttribute=!0,this.selectedApp=(0,N.of)(Y.E)}toggleActivateAppSwitch(e){this.updatingActiveAttribute=!0,this.selectedApp.pipe((0,T.h)(n=>!!(null==n?void 0:n.identifier)),(0,m.U)(n=>{var o;return{businessId:null==n?void 0:n.businessId,projectId:null==n?void 0:n.projectId,platformId:null==n?void 0:n.platformId,applicationId:null===(o=null==n?void 0:n.application)||void 0===o?void 0:o.applicationId}}),(0,x.w)(n=>this.apiService.setDevsecopsConfigActivationFlag(n,this.flagName,e))).subscribe(n=>{this.updatingActiveAttribute=!1,this.activeState.next(e)})}ngOnInit(){this.initialsed=!0,this.selectedApp=this.apiService.selectedApp.pipe((0,q.d)()),this.active_state$=this.selectedApp.pipe((0,m.U)(e=>{var n,o;return(null===(o=null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.scan_data)||void 0===o?void 0:o.configure[this.flagName])||!1}),(0,q.d)(),(0,f.b)(e=>{this.activeState.next(null!=e&&e)})),this.updatingActiveAttribute=!1}ngAfterViewInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-activate-toggle"]],inputs:{flagName:"flagName"},outputs:{activeState$$:"activeState"},decls:6,vars:10,consts:[["fxLayoutAlign","start center",2,"margin-right","10px"],["labelPosition","left","size","small",3,"disabled","checked","status","checkedChange"],["toggleBtn",""]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"nb-toggle",1,2),t.NdJ("checkedChange",function(a){return n.toggleActivateAppSwitch(a)}),t.ALo(3,"async"),t.ALo(4,"async"),t._uU(5),t.qZA(),t.qZA()),2&e){const o=t.MAs(2);t.xp6(1),t.ekj("unselected",!t.lcZ(3,6,n.active_state$)),t.Q6J("disabled",n.updatingActiveAttribute)("checked",t.lcZ(4,8,n.active_state$))("status",null!=o&&o.checked?"success":"basic"),t.xp6(4),t.hij(" ",null!=o&&o.checked?"Deactivate":"Activate"," ")}},directives:[_.Wh,s.BLq],pipes:[h.Ov],styles:[""]}),i})();function Tr(i,l){1&i&&(t.ynx(0),t._UZ(1,"app-activate-toggle"),t.BQk())}function Ar(i,l){if(1&i&&(t.TgZ(0,"div",29),t.TgZ(1,"div",30),t.TgZ(2,"span",31),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",32),t.TgZ(5,"div",33),t._uU(6),t.qZA(),t.TgZ(7,"div",34),t._uU(8),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(3),t.hij(" ",null==e?null:e.businessName[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.businessName," "),t.xp6(2),t.hij(" ",null==e?null:e.projectName," ")}}function kr(i,l){if(1&i&&(t.TgZ(0,"nb-card-footer",23),t.TgZ(1,"div",24),t.TgZ(2,"button",25),t._UZ(3,"nb-tag",26),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",27),t.YNc(7,Ar,9,3,"div",28),t.qZA(),t.qZA()),2&i){const e=l.ngIf;t.xp6(3),t.Q6J("text",null==e?null:e.platformTag),t.xp6(2),t.hij(" ",null==e||null==e.application?null:e.application.applicationName," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.identifier)}}function yr(i,l){if(1&i&&t._UZ(0,"nb-tag",35),2&i){const e=t.oxw();t.Q6J("text",e.build_count)}}function wr(i,l){1&i&&(t.TgZ(0,"nb-list-item",5),t.TgZ(1,"div",6),t._uU(2," Active Protection "),t.qZA(),t.qZA())}const S=function(){return{exact:!1}},Mr=function(){return["scans"]};function Or(i,l){1&i&&(t.TgZ(0,"nb-list-item",21),t.TgZ(1,"div",9),t._UZ(2,"img",36),t._uU(3," Scans "),t.qZA(),t.qZA()),2&i&&(t.ekj("disabled",!1),t.Q6J("routerLinkActiveOptions",t.DdM(4,S))("routerLink",t.DdM(5,Mr)))}const Vt=function(){return["active_protection"]};function Pr(i,l){1&i&&(t.TgZ(0,"nb-list-item",21),t.TgZ(1,"div",9),t._UZ(2,"img",36),t._uU(3," Configuration "),t.qZA(),t.qZA()),2&i&&(t.ekj("disabled",!1),t.Q6J("routerLinkActiveOptions",t.DdM(4,S))("routerLink",t.DdM(5,Vt)))}function Ir(i,l){if(1&i&&t._UZ(0,"nb-tag",40,41),2&i){const e=t.MAs(1),n=t.oxw().$implicit;t.Q6J("routerLinkActiveOptions",t.DdM(4,S))("routerLink",null==n?null:n.link)("status",null!=e&&e.isActive?"alternative":"basic")("text",null==n?null:n.tag)}}function qr(i,l){if(1&i&&(t.TgZ(0,"nb-list-item",37),t.TgZ(1,"div",9),t._UZ(2,"img",38),t._uU(3),t.qZA(),t.YNc(4,Ir,2,5,"nb-tag",39),t.qZA()),2&i){const e=l.$implicit;t.ekj("disabled",null==e?null:e.disabled),t.Q6J("routerLinkActiveOptions",t.DdM(7,S))("routerLink",1==(null==e?null:e.disabled)||null==e?null:e.link),t.xp6(2),t.Q6J("src",null==e?null:e.icon,t.LSH),t.xp6(1),t.hij(" ",null==e?null:e.title," "),t.xp6(1),t.Q6J("ngIf",null==e?null:e.tag)}}function Sr(i,l){1&i&&(t.TgZ(0,"nb-list-item",5),t.TgZ(1,"div",6),t._uU(2," Admin "),t.qZA(),t.qZA())}const Fr=function(){return["bitbucket","manage"]};function Lr(i,l){1&i&&(t.TgZ(0,"nb-list-item",21),t.TgZ(1,"div",9),t._UZ(2,"img",36),t._uU(3," Bitbucket Access Control "),t.qZA(),t.qZA()),2&i&&(t.ekj("disabled",!1),t.Q6J("routerLinkActiveOptions",t.DdM(4,S))("routerLink",t.DdM(5,Fr)))}function Ur(i,l){1&i&&(t.TgZ(0,"nb-list-item",21),t.TgZ(1,"div",9),t._UZ(2,"img",36),t._uU(3," Configuration "),t.qZA(),t.qZA()),2&i&&(t.ekj("disabled",!1),t.Q6J("routerLinkActiveOptions",t.DdM(4,S))("routerLink",t.DdM(5,Vt)))}const Br=function(){return["/","app"]},Nr=function(){return["external_tool_scans"]},Dr=function(){return["external_tool"]},Jr=function(){return["external_tool_scans_new"]},Qr=function(){return["external_tool_new"]};let zr=(()=>{class i{constructor(e,n,o){this.apiService=e,this.activatedRoute=n,this.accessChecker=o,this.selectedApp=Y.E,this.routePrefix=["/","devsec"],this.menu_items=[{title:"Reports",icon:"https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/64/000000/external-process-graphic-design-icongeek26-outline-gradient-icongeek26.png",tag:"Upcoming",disabled:!0,link:["reports"]},{title:"Integration Guide",icon:"https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/64/000000/external-process-graphic-design-icongeek26-outline-gradient-icongeek26.png",tag:void 0,link:["integration"]},{title:"Settings",icon:"https://img.icons8.com/nolan/64/critical-thinking.png",tag:void 0,link:["tools_configure"]},{title:"Switch",icon:"https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/64/000000/external-home-user-interface-icongeek26-outline-gradient-icongeek26.png",tag:void 0,link:["/","devsec","switch"]}],this.selectedAppSubscription=O.w0.EMPTY,this.updatingActiveAttribute=!1}ngOnDestroy(){this.selectedAppSubscription.unsubscribe()}ngOnInit(){this.selectedApp=this.apiService.selectedApp.pipe((0,f.b)(e=>{var n;let o=null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.noOfBuilds;null!=o&&(this.build_count=o)})),console.debug("routeDebug","ngOnInit"),this.selectedAppSubscription.unsubscribe(),this.selectedAppSubscription=this.selectedApp.subscribe(),this.activatedRoute.params.subscribe(e=>{console.debug("routeDebug",e,this.activatedRoute.snapshot)})}toggleActivateAppSwitch(e){this.updatingActiveAttribute=!0,this.selectedApp.pipe((0,T.h)(n=>!!(null==n?void 0:n.identifier)),(0,m.U)(n=>{var o;return{businessId:null==n?void 0:n.businessId,projectId:null==n?void 0:n.projectId,platformId:null==n?void 0:n.platformId,applicationId:null===(o=null==n?void 0:n.application)||void 0===o?void 0:o.applicationId}}),(0,x.w)(n=>this.apiService.setDevsecopsActivationState(n,e))).subscribe(n=>{this.updatingActiveAttribute=!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(A.gz),t.Y36(kt.QH))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sidebar"]],decls:80,vars:58,consts:[["fxFill",""],["fxLayoutAlign","space-between center"],["src","/assets/secops.png",1,"logo",3,"routerLink"],[4,"ngIf"],["class","nb-card-footer","fxLayout","column",4,"ngIf"],[1,"subitem-header"],["fxLayoutAlign","start center","fxFlex","",1,"subitem-header"],["appearance","filled","size","small",3,"text",4,"ngIf"],["routerLink","builds","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["fxLayoutAlign","start center","fxFlex",""],["src","https://img.icons8.com/nolan/64/package.png"],["routerLink","static_scans","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["src","https://img.icons8.com/color-glass/48/000000/code.png"],["routerLink","dynamic_scans","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["src","https://img.icons8.com/nolan/64/inspect-code.png"],["routerLink","dns","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["routerLink","quick_scan","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["routerLink","recon_jobs","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["routerLink","quick_scan_admin","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["class","subitem-header",4,"ngIf"],["class","subitem","routerLinkActive","active",3,"routerLinkActiveOptions","routerLink","disabled",4,"ngIf"],["routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions","routerLink"],["routerLinkActive","active",3,"routerLinkActiveOptions","disabled","routerLink",4,"ngFor","ngForOf"],["fxLayout","column",1,"nb-card-footer"],[1,"appName"],["fxFlex","","fxLayoutGap","10px","shape","round","nbButton","","size","medium",1,"title","button"],["appearance","filled","size","tiny",3,"text"],[1,"selectedApp"],["fxFlex","","fxLayout","row",4,"ngIf"],["fxFlex","","fxLayout","row"],["fxLayoutAlign","center center",1,"circle"],[1,"text"],["fxLayout","column","fxLayoutAlign","space-between"],["fxLayoutAlign","start center texttitle",1,"text-hint",2,"font-size","1.2rem","font-weight","500"],["fxLayoutAlign","start center texttitle",1,"text-vasic",2,"font-size","1rem","font-weight","600"],["appearance","filled","size","small",3,"text"],["src","https://img.icons8.com/nolan/64/shield.png"],["routerLinkActive","active",3,"routerLinkActiveOptions","routerLink"],[3,"src"],["routerLinkActive","","appearance","outline","size","small",3,"routerLinkActiveOptions","routerLink","status","text",4,"ngIf"],["routerLinkActive","","appearance","outline","size","small",3,"routerLinkActiveOptions","routerLink","status","text"],["rlActive","routerLinkActive"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header"),t.TgZ(2,"div",1),t._UZ(3,"img",2),t.YNc(4,Tr,2,0,"ng-container",3),t.ALo(5,"async"),t.qZA(),t.qZA(),t.YNc(6,kr,8,3,"nb-card-footer",4),t.ALo(7,"async"),t.TgZ(8,"nb-card-body"),t.TgZ(9,"nb-list"),t.TgZ(10,"nb-list-item",5),t.TgZ(11,"div",6),t._uU(12," CI/CD Integration "),t.qZA(),t.YNc(13,yr,1,1,"nb-tag",7),t.qZA(),t.TgZ(14,"nb-list-item",8),t.TgZ(15,"div",9),t._UZ(16,"img",10),t._uU(17," Scans "),t.qZA(),t.qZA(),t.TgZ(18,"nb-list-item",11),t.TgZ(19,"div",9),t._UZ(20,"img",12),t._uU(21," Static Configuration "),t.qZA(),t.qZA(),t.TgZ(22,"nb-list-item",13),t.TgZ(23,"div",9),t._UZ(24,"img",14),t._uU(25," Dynamic Configuration "),t.qZA(),t.qZA(),t.TgZ(26,"nb-list-item",5),t.TgZ(27,"div",6),t._uU(28," Assets "),t.qZA(),t.qZA(),t.TgZ(29,"nb-list-item",15),t.TgZ(30,"div",9),t._UZ(31,"img",14),t._uU(32," DNS "),t.qZA(),t.qZA(),t.TgZ(33,"nb-list-item",16),t.TgZ(34,"div",9),t._UZ(35,"img",14),t._uU(36," Findings "),t.qZA(),t.qZA(),t.TgZ(37,"nb-list-item",17),t.TgZ(38,"div",9),t._UZ(39,"img",14),t._uU(40," Recon Jobs "),t.qZA(),t.qZA(),t.TgZ(41,"nb-list-item",18),t.TgZ(42,"div",9),t._UZ(43,"img",14),t._uU(44," Recon Jobs Admin "),t.qZA(),t.qZA(),t.YNc(45,wr,3,0,"nb-list-item",19),t.ALo(46,"async"),t.YNc(47,Or,4,6,"nb-list-item",20),t.ALo(48,"async"),t.YNc(49,Pr,4,6,"nb-list-item",20),t.ALo(50,"async"),t.TgZ(51,"nb-list-item",5),t.TgZ(52,"div",6),t._uU(53," Add-on Tools "),t.qZA(),t.qZA(),t.TgZ(54,"nb-list-item",21),t.TgZ(55,"div",9),t._UZ(56,"img",10),t._uU(57," Scans "),t.qZA(),t.qZA(),t.TgZ(58,"nb-list-item",21),t.TgZ(59,"div",9),t._UZ(60,"img",10),t._uU(61," Tools "),t.qZA(),t.qZA(),t.TgZ(62,"nb-list-item",5),t.TgZ(63,"div",6),t._uU(64," External Tools "),t.qZA(),t.qZA(),t.TgZ(65,"nb-list-item",21),t.TgZ(66,"div",9),t._UZ(67,"img",10),t._uU(68," Scans "),t.qZA(),t.qZA(),t.TgZ(69,"nb-list-item",21),t.TgZ(70,"div",9),t._UZ(71,"img",10),t._uU(72," Tools "),t.qZA(),t.qZA(),t.YNc(73,qr,5,8,"nb-list-item",22),t.YNc(74,Sr,3,0,"nb-list-item",19),t.ALo(75,"async"),t.YNc(76,Lr,4,6,"nb-list-item",20),t.ALo(77,"async"),t.YNc(78,Ur,4,6,"nb-list-item",20),t.ALo(79,"async"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("routerLink",t.DdM(42,Br)),t.xp6(1),t.Q6J("ngIf",t.lcZ(5,26,n.selectedApp)),t.xp6(2),t.Q6J("ngIf",t.lcZ(7,28,n.selectedApp)),t.xp6(7),t.Q6J("ngIf",n.build_count),t.xp6(1),t.Q6J("routerLinkActiveOptions",t.DdM(43,S)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(44,S)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(45,S)),t.xp6(7),t.Q6J("routerLinkActiveOptions",t.DdM(46,S)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(47,S)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(48,S)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(49,S)),t.xp6(4),t.Q6J("ngIf",t.lcZ(46,30,n.accessChecker.isGranted("view","active_protection"))),t.xp6(2),t.Q6J("ngIf",t.lcZ(48,32,n.accessChecker.isGranted("view","active_protection"))),t.xp6(2),t.Q6J("ngIf",t.lcZ(50,34,n.accessChecker.isGranted("view","active_protection"))),t.xp6(5),t.Q6J("routerLinkActiveOptions",t.DdM(50,S))("routerLink",t.DdM(51,Nr)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(52,S))("routerLink",t.DdM(53,Dr)),t.xp6(7),t.Q6J("routerLinkActiveOptions",t.DdM(54,S))("routerLink",t.DdM(55,Jr)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(56,S))("routerLink",t.DdM(57,Qr)),t.xp6(4),t.Q6J("ngForOf",n.menu_items),t.xp6(1),t.Q6J("ngIf",t.lcZ(75,36,n.accessChecker.isGranted("modify","active_protection"))),t.xp6(2),t.Q6J("ngIf",t.lcZ(77,38,n.accessChecker.isGranted("modify","bitbucket"))),t.xp6(2),t.Q6J("ngIf",t.lcZ(79,40,n.accessChecker.isGranted("modify","bitbucket"))))},directives:[s.Asz,_.s9,s.ndF,_.Wh,A.rH,h.O5,s.yKW,s.zP_,s.qBV,_.yH,A.Od,h.sg,Pt,s.XWE,_.xw,s.DPz,_.SQ,s.c2L],pipes:[h.Ov],styles:['.expander[_ngcontent-%COMP%]{width:20px;height:20px;top:50%;position:absolute;right:-10px}.subitem-header[_ngcontent-%COMP%]{color:var(--color-success-400)}.subitem[_ngcontent-%COMP%]{margin-left:38px}nb-toggle.unselected[_ngcontent-%COMP%]     .toggle{background-color:var(--color-basic-700)!important}nb-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff!important}nb-toggle.unselected[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff!important}nb-card[_ngcontent-%COMP%]{box-shadow:10px 0 5px -2px #7d2ae8;transition-duration:.1s;background:var(--color-basic-1100);margin:0}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{padding:0 0 0 20px;background:var(--color-basic-1000);border:0}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:70px;height:70px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0 15px 15px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{padding:8px;margin-top:10px;border-radius:10px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item.active[_ngcontent-%COMP%]{background:var(--color-basic-800)}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item.active[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--text-success-color);font-weight:550}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-basic-800)}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:350;color:var(--text-hint-color)}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px;height:26px;margin-right:20px;margin-left:10px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item.disabled[_ngcontent-%COMP%]{opacity:.5}nb-card-footer[_ngcontent-%COMP%]{cursor:pointer}.nb-card-footer[_ngcontent-%COMP%]{background:var(--color-basic-900);padding:0;border-top-left-radius:.5rem;border-top-right-radius:.5rem;border:0}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{justify-content:start;font-family:"Roboto",sans-serif;font-size:.9rem;text-transform:capitalize;margin-left:20px;margin-right:20px;font-weight:500;background-color:#7d2ae8!important;color:var(--text-basic-color)!important;box-shadow:0 0 8px #7d2ae8;border:none;transition:all .3s ease 0s;cursor:pointer;outline:none;height:calc(var(--header-height) - 20px)}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:var(--color-success-500)!important;box-shadow:0 0 8px var(--color-success-400);color:var(--text-alternative-color)!important}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]{font-weight:500}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]{border-radius:.5rem;margin:4px;padding:10px 5px;transition-duration:.3s}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]   .texttitle[_ngcontent-%COMP%]{color:var(--text-primary-color)}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{margin-left:10px;margin-right:20px;border:2px solid #7d2ae8;height:3rem;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;width:3rem;box-shadow:0 0 8px #7d2ae8}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.8rem;line-height:1.8rem;color:#7d2ae8;font-weight:400;text-transform:capitalize}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp.hover[_ngcontent-%COMP%]{background:var(--color-basic-900)}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp.hover[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid var(--text-success-color);background-color:var(--text-success-color);box-shadow:0 0 8px var(--text-success-color)}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp.hover[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:2.5rem;line-height:2.5rem;color:#fff!important;font-weight:400;text-transform:capitalize}']}),i})();var It=C(7518);function Rr(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-card",30),t.TgZ(2,"nb-card-header"),t.TgZ(3,"h5",31),t._UZ(4,"nb-icon",32),t._uU(5," Access Denied "),t.qZA(),t.qZA(),t.TgZ(6,"nb-card-body"),t.TgZ(7,"h6",33),t._uU(8," Invalid access / Invalid Repository "),t._UZ(9,"br"),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(10),t.hij(" ",null==e?null:e.git_url," ")}}function Er(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",41),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(4).selectBranch(a)}),t.TgZ(1,"div",42),t._uU(2),t.qZA(),t._UZ(3,"nb-icon",43),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(4);t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("icon",n.loadingGeneric?"refresh-outline":"checkmark-outline")}}function $r(i,l){if(1&i&&(t.TgZ(0,"nb-card",34),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h5",31),t._UZ(3,"nb-icon",32),t._uU(4," Select Branch "),t.qZA(),t.TgZ(5,"div",12),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"nb-card-header",35),t.TgZ(8,"div",36),t._UZ(9,"input",37),t.qZA(),t.qZA(),t.TgZ(10,"nb-list",38),t.YNc(11,Er,4,2,"nb-list-item",39),t.qZA(),t._UZ(12,"nb-card-footer",40),t.qZA()),2&i){const e=t.oxw().ngIf,n=t.oxw(2);t.xp6(6),t.hij(" ",null==e?null:e.length," Branches "),t.xp6(3),t.Q6J("formControl",n.searchBranchFilter),t.xp6(2),t.Q6J("ngForOf",e)}}function jr(i,l){if(1&i&&(t.ynx(0),t.YNc(1,Rr,11,1,"ng-container",27),t.YNc(2,$r,13,3,"ng-template",null,29,t.W1O),t.BQk()),2&i){const e=l.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.length))("ngIfElse",n)}}function Yr(i,l){if(1&i&&(t.TgZ(0,"nb-card",44),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h5",31),t._UZ(3,"nb-icon",32),t._uU(4," Validating Access "),t.qZA(),t.qZA(),t.TgZ(5,"nb-card-body"),t.TgZ(6,"h6",33),t._uU(7," Validating access to "),t._UZ(8,"br"),t._uU(9),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(9),t.hij(" ",null==e?null:e.git_url," ")}}function Gr(i,l){if(1&i&&(t.YNc(0,jr,4,2,"ng-container",27),t.ALo(1,"async"),t.YNc(2,Yr,10,1,"ng-template",null,28,t.W1O)),2&i){const e=l.$implicit,n=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,null==e?null:e.lsRemote))("ngIfElse",n)}}function Hr(i,l){if(1&i&&(t.TgZ(0,"nb-option",45),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.name,"")}}function Vr(i,l){if(1&i&&(t.TgZ(0,"nb-option",45),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.name,"")}}function Wr(i,l){if(1&i&&(t.TgZ(0,"nb-option",45),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.name,"")}}let Ct=(()=>{class i{constructor(e,n,o,a,c){this.apiService=e,this.dialogService=n,this.router=o,this.activatedRoute=a,this.themeService=c,this.loadingGeneric=!1,this.onClose$=new t.vpe,this.business$=this.apiService.getAssociatedBusinesses().pipe((0,f.b)(r=>{var d,u;this.configurationModel.get("business").setValue(null===(u=null===(d=r[0])||void 0===d?void 0:d._id)||void 0===u?void 0:u.$oid)})),this.platforms$=this.apiService.getPlatforms().pipe((0,f.b)(r=>{var d,u;this.configurationModel.get("platform").setValue(null===(u=null===(d=r[0])||void 0===d?void 0:d._id)||void 0===u?void 0:u.$oid)})),this.configurationModel=new g.cw({business:new g.NI(void 0,[g.kI.required]),project:new g.NI(void 0,[g.kI.required]),platform:new g.NI(void 0,[g.kI.required]),name:new g.NI("",[g.kI.required]),desc:new g.NI("",[]),git:new g.NI("",[g.kI.required]),branch:new g.NI("",[g.kI.required]),url:new g.NI("",[]),configuration:new g.cw({email:new g.NI(!1),jira:new g.NI(!1),git:new g.NI(!1),url:new g.NI(!1),apk:new g.NI(!1),ipa:new g.NI(!1)})}),this.repoBackupField="",this.branchBackupField="",this.searchBranchFilter=new g.NI(""),this.configurationModel.get("url")}loadEdittableApp(){this.apiService.getUserApplicationById(this.applicationId).pipe((0,f.b)(e=>{var n,o,a,c,r,d,u,p,b,v,Z,y,w;this.configurationModel.setControl("business",new g.NI(null===(n=null==e?void 0:e.businessId)||void 0===n?void 0:n.$oid,[g.kI.required])),this.configurationModel.setControl("project",new g.NI(null===(o=null==e?void 0:e.projectId)||void 0===o?void 0:o.$oid,[g.kI.required])),this.configurationModel.setControl("platform",new g.NI(null===(a=null==e?void 0:e.platformId)||void 0===a?void 0:a.$oid,[g.kI.required])),this.configurationModel.setControl("name",new g.NI(null===(c=null==e?void 0:e.application)||void 0===c?void 0:c.applicationName,[g.kI.required])),this.configurationModel.setControl("desc",new g.NI("",[g.kI.required])),this.configurationModel.setControl("git",new g.NI(null===(u=null===(d=null===(r=null==e?void 0:e.application)||void 0===r?void 0:r.scan_data)||void 0===d?void 0:d.static)||void 0===u?void 0:u.GIT_URL,[g.kI.required])),this.configurationModel.setControl("branch",new g.NI(null===(v=null===(b=null===(p=null==e?void 0:e.application)||void 0===p?void 0:p.scan_data)||void 0===b?void 0:b.static)||void 0===v?void 0:v.GIT_BRANCH,[g.kI.required])),this.configurationModel.setControl("url",new g.NI(null===(w=null===(y=null===(Z=null==e?void 0:e.application)||void 0===Z?void 0:Z.scan_data)||void 0===y?void 0:y.dynamic)||void 0===w?void 0:w.APP_URL,[g.kI.required]))})).subscribe()}formInvalidated(){}focusRepoField(e,n){let o=this.configurationModel.get("git").value,a=this.configurationModel.get("branch").value;if(console.log("______|",o,"_",this.repoBackupField,e),1==e)this.repoBackupField=o,this.branchBackupField=a;else{if(this.repoBackupField==o)return;this.openDialog(n,o)}}ngOnInit(){this.themeService.changeTheme("dark"),this.loadEdittableApp(),this.configurationModel.valueChanges.pipe((0,I.O)(this.configurationModel.value),(0,It.G)()).subscribe(e=>{let o=e[1];e[0].business!==o.business&&(this.projects$=this.apiService.getAssociatedBusinessesByProjectId(o.business).pipe((0,f.b)(a=>{var c,r;console.log("____",a),this.configurationModel.get("project").setValue(null===(r=null===(c=a[0])||void 0===c?void 0:c._id)||void 0===r?void 0:r.$oid)}))),console.log("valueChanges",e)})}onBusinessChange(){}selectBranch(e){var n;0!=(null==e?void 0:e.length)&&(this.configurationModel.get("branch").setValue(e),null===(n=this.dialogRef)||void 0===n||n.close())}openDialog(e,n){this.dialogRef=this.dialogService.open(e,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{git_url:n,lsRemote:this.apiService.lsremote(n).pipe((0,x.w)(o=>this.searchBranchFilter.valueChanges.pipe((0,I.O)(this.searchBranchFilter.value)).pipe((0,m.U)(a=>(console.debug("map_val",a,o),0==o.status?[]:Object.keys(null==o?void 0:o.data).filter(c=>-1!=c.toLowerCase().indexOf(a))))))).pipe((0,m.U)(o=>(0==(null==o?void 0:o.length)&&(console.log("____",o),this.configurationModel.get("git").setValue(this.repoBackupField),this.configurationModel.get("branch").setValue(this.branchBackupField)),o.map(a=>a.split("/").pop()))),(0,q.d)())}}),this.dialogRef.onClose.subscribe(o=>{this.searchBranchFilter.setValue("")})}saveApp(){let e=this.configurationModel.value,n={business:{$oid:null==e?void 0:e.business},project:{$oid:null==e?void 0:e.project},platform:{$oid:null==e?void 0:e.platform},name:null==e?void 0:e.name,desc:null==e?void 0:e.desc,git:null==e?void 0:e.git,branch:null==e?void 0:e.branch,url:null==e?void 0:e.url};this.loadingGeneric=!0,this.apiService.createApp(n).subscribe(o=>{this.loadingGeneric=!1,console.log("navigating",null==o?void 0:o.inserted_id),this.onClose$.emit(!0),(null==o?void 0:o.inserted_id)?this.router.navigate(["../",null==o?void 0:o.inserted_id,"integration"],{relativeTo:this.activatedRoute}):this.router.navigate(["./"])})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(s.Gln),t.Y36(A.F0),t.Y36(A.gz),t.Y36(s.WMF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-app"]],inputs:{applicationId:["appId","applicationId"]},outputs:{onClose$:"onclose"},decls:58,vars:18,consts:[["lsRemoteDialog",""],["fxFlex","1 0 400px"],["nbSpinnerStatus","danger",3,"formGroup"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","1rem"],["fxLayout","column","fxLayoutGap","1rem"],[1,"col-2","header"],["formControlName","business","placeholder","Select Type",3,"status","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","project","placeholder","Select Type",3,"status","selectedChange"],["formControlName","platform","placeholder","Select Platform",3,"status"],["fxLayoutAlign","end"],["nbButton","","color","success",3,"disabled","click"],["fxFlex","","nbSpinnerStatus","danger"],[1,"text-hint",2,"margin-left","0.5rem","margin-bottom","1rem"],["formControlName","name","fullWidth","","type","text","nbInput","","fieldSize","small","placeholder","Hawki-App",3,"status"],["formControlName","desc","status","primary","fullWidth","","type","text","nbInput","","fieldSize","small","placeholder",""],["fxLayout","column","fxLayoutAlign","end"],["fxLayoutGap","1rem","fxLayoutAlign","start end"],["formControlName","git","fullWidth","","type","text","nbInput","","fieldSize","small","placeholder","git@bitbucket.org:times_internet/hawkeye-api.git",3,"status","focus","focusout","keyup.enter"],["gitInp",""],["fxLayoutAlign","end end"],["nbSpinnerStatus","danger"],["readonly","","formControlName","branch","status","primary","type","text","nbInput","","fieldSize","small","placeholder","Select Branch",3,"status","click"],["branchName",""],["formControlName","url","fullWidth","","type","text","nbInput","","fieldSize","small","placeholder","http://hawkeye.com",3,"status"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["branchSelectorTemplate",""],["accent","primary"],[1,"text-primary"],["icon","stop-circle-outline","status","primary",2,"margin","10px"],[2,"line-height","2rem"],["fxFlex","1 1 500px","accent","primary"],[2,"padding","0.3rem"],["fxLayoutAlign","center center","fxLayoutGap","1rem","fxLayout","row",1,"search-input"],["focusOnce","","fullWidth","","placeholder","Search","status","basic","nbInput","",3,"formControl"],["fxLayout","column",2,"max-height","500px"],[3,"click",4,"ngFor","ngForOf"],["fxLayoutAlign","end","fxLayoutGap","1rem"],[3,"click"],["fxFlex",""],[1,"loading-icon",3,"icon"],["fxFlex","0 1 500px","accent","primary"],[3,"value"]],template:function(e,n){if(1&e){const o=t.EpF();t.YNc(0,Gr,4,4,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.TgZ(3,"nb-card",2),t.TgZ(4,"nb-card-header",3),t.TgZ(5,"div",4),t._uU(6," Create App "),t.qZA(),t.qZA(),t.TgZ(7,"nb-card-body"),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"b",7),t._uU(11,"Business"),t.qZA(),t.TgZ(12,"nb-select",8),t.NdJ("selectedChange",function(){return n.onBusinessChange()}),t.YNc(13,Hr,2,2,"nb-option",9),t.ALo(14,"async"),t.qZA(),t.qZA(),t.TgZ(15,"div",6),t.TgZ(16,"b",7),t._uU(17,"Projects"),t.qZA(),t.TgZ(18,"nb-select",10),t.NdJ("selectedChange",function(){return n.onBusinessChange()}),t.YNc(19,Vr,2,2,"nb-option",9),t.ALo(20,"async"),t.qZA(),t.qZA(),t.TgZ(21,"div",6),t.TgZ(22,"b",7),t._uU(23,"Platform"),t.qZA(),t.TgZ(24,"nb-select",11),t.YNc(25,Wr,2,2,"nb-option",9),t.ALo(26,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"nb-card-footer",12),t.TgZ(28,"button",13),t.NdJ("click",function(){return n.saveApp()}),t._uU(29," Save "),t.qZA(),t.qZA(),t.TgZ(30,"nb-card-body"),t.TgZ(31,"nb-form-field",14),t.TgZ(32,"span",15),t._uU(33," Name "),t.qZA(),t._UZ(34,"input",16),t.qZA(),t.qZA(),t.TgZ(35,"nb-card-body"),t.TgZ(36,"nb-form-field",14),t.TgZ(37,"span",15),t._uU(38," Description "),t.qZA(),t._UZ(39,"input",17),t.qZA(),t.qZA(),t.TgZ(40,"nb-card-body",18),t.TgZ(41,"div",19),t.TgZ(42,"nb-form-field",14),t.TgZ(43,"span",15),t._uU(44," Repository "),t.qZA(),t.TgZ(45,"input",20,21),t.NdJ("focus",function(){return n.focusRepoField(!0)})("focusout",function(){t.CHM(o);const c=t.MAs(1);return n.focusRepoField(!1,c)})("keyup.enter",function(){t.CHM(o);const c=t.MAs(1),r=t.MAs(46);return n.openDialog(c,r.value)}),t.qZA(),t.qZA(),t.TgZ(47,"div",22),t.TgZ(48,"nb-form-field",23),t.TgZ(49,"span",15),t._uU(50," Branch "),t.qZA(),t.TgZ(51,"input",24,25),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(1),r=t.MAs(46);return n.openDialog(c,r.value)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(53,"nb-card-body"),t.TgZ(54,"nb-form-field",14),t.TgZ(55,"span",15),t._uU(56," Url "),t.qZA(),t._UZ(57,"input",26),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=t.MAs(52);t.xp6(3),t.Q6J("formGroup",n.configurationModel),t.xp6(9),t.Q6J("status",n.configurationModel.get("business").invalid?"danger":"primary"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(14,12,n.business$)),t.xp6(5),t.Q6J("status",n.configurationModel.get("project").invalid?"danger":"primary"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(20,14,n.projects$)),t.xp6(5),t.Q6J("status",n.configurationModel.get("platform").invalid?"danger":"primary"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(26,16,n.platforms$)),t.xp6(3),t.Q6J("disabled",null==n.configurationModel?null:n.configurationModel.invalid),t.xp6(6),t.Q6J("status",n.configurationModel.get("name").invalid?"danger":"primary"),t.xp6(11),t.Q6J("status",n.configurationModel.get("git").invalid?"danger":"primary"),t.xp6(6),t.Q6J("status",0==(null==o||null==o.value?null:o.value.length)?"danger":"primary"),t.xp6(6),t.Q6J("status",n.configurationModel.get("url").invalid?"danger":"primary")}},directives:[_.yH,s.Asz,g.JL,g.sg,s.ndF,_.Wh,s.yKW,_.xw,_.SQ,s.rs,g.JJ,g.u,h.sg,s.XWE,s.DPz,s.jBG,g.Fj,s.h8i,h.O5,s.fMN,at,g.oH,s.zP_,s.qBV,s.q51],pipes:[h.Ov],styles:[""]}),i})(),Xr=(()=>{class i{constructor(){this.focus$=!1}ngOnInit(){}mouseenter(){this.focus$=!0}mouseleave(){this.focus$=!1}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-frezzed-input-field"]],inputs:{label:"label",text:"text"},decls:9,vars:2,consts:[["fxFlex","",1,"host"],["fxLayoutAlign","space-between center","fxLayout","row","appearance","filled",3,"mouseenter","mouseleave"],["fxLayout","column"],["fxLayoutAlign","start center",1,"label-container"],["fxLayoutAlign","start center",1,"text-container"],["shape","round","nbSuffix","","size","small","outline","","nbButton","",2,"margin","10px"],["icon","search-outline"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.NdJ("mouseenter",function(){return n.mouseenter()})("mouseleave",function(){return n.mouseleave()}),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"button",5),t._UZ(8,"nb-icon",6),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",n.label," "),t.xp6(2),t.hij(" ",n.text," "))},directives:[_.yH,_.Wh,_.xw,s.DPz,s.yyc,s.fMN],styles:[".host[_ngcontent-%COMP%]{background-color:var(--color-basic-800);cursor:pointer;border:1px solid var(--color-success-400);border-radius:.3rem}.host[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-width:1px}.host[_ngcontent-%COMP%]:hover{border-color:var(--color-primary-400);background-color:var(--color-basic-900)}.host[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{border-color:var(--color-primary-400);border-width:2px}.host[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]:hover{border-width:2px;border-color:var(--color-primary-400);background-color:var(--color-primary-400);color:var(--color-basic-100);font-weight:800}.label-container[_ngcontent-%COMP%]{font-size:.8rem;padding-left:20px;padding-right:20px;line-height:1.2rem;color:var(--color-basic-600)}.text-container[_ngcontent-%COMP%]{font-size:1rem;padding-left:20px;padding-right:20px;line-height:1.2rem;color:var(--text-color-basic);font-weight:400}"]}),i})(),Kr=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-workspace-chooser"]],decls:11,vars:0,consts:[[2,"height","100%"],["fxLayoutGap","20px","fxLayout","row"],["icon","funnel-outline",1,"filter-icon"],[1,"text-heading"],["fxLayoutGap","20px","fxLayout","column"],["label","Business","text","Gaana"],["label","Project","text","Gaana API"],["label","Platform","text","Web Application"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header"),t.TgZ(2,"div",1),t._UZ(3,"nb-icon",2),t.TgZ(4,"div",3),t._uU(5," Filters "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"nb-card-body"),t.TgZ(7,"div",4),t._UZ(8,"app-frezzed-input-field",5),t._UZ(9,"app-frezzed-input-field",6),t._UZ(10,"app-frezzed-input-field",7),t.qZA(),t.qZA(),t.qZA())},directives:[s.Asz,s.ndF,_.SQ,_.xw,s.fMN,s.yKW,Xr],styles:["nb-card[_ngcontent-%COMP%]{background:var(--background-basic-color-3);border-radius:1rem;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-4)}.text-heading[_ngcontent-%COMP%]{color:var(--text-hint-color)}.filter-icon[_ngcontent-%COMP%]{color:var(--text-hint-color)}"]}),i})();const tl=["toggleView"];let el=(()=>{class i{constructor(){this.focus$=!1,this.toggleState=!1}ngOnInit(){}mouseenter(){this.focus$=!0}mouseleave(){this.focus$=!1}onClick(e){this.toggleState=!this.toggleState,console.log("onClick",e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-frezzed-toggle-field"]],viewQuery:function(e,n){if(1&e&&t.Gf(tl,5),2&e){let o;t.iGM(o=t.CRH())&&(n.toggleView=o.first)}},inputs:{label:"label",text:"text"},decls:9,vars:3,consts:[["fxFlex","",1,"host",3,"click"],["fxLayoutAlign","space-between center","fxLayout","row","appearance","filled",3,"mouseenter","mouseleave"],["fxLayout","column"],["fxLayoutAlign","start center",1,"label-container"],["fxLayoutAlign","start center",1,"text-container"],["status","success",2,"margin","10px",3,"checked","click"],["toggleView",""]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(8);return n.onClick(c)}),t.TgZ(1,"div",1),t.NdJ("mouseenter",function(){return n.mouseenter()})("mouseleave",function(){return n.mouseleave()}),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"nb-toggle",5,6),t.NdJ("click",function(c){return c.preventDefault()}),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(4),t.hij(" ",n.label," "),t.xp6(2),t.hij(" ",n.text," "),t.xp6(1),t.Q6J("checked",n.toggleState))},directives:[_.yH,_.Wh,_.xw,s.BLq],styles:[".host[_ngcontent-%COMP%]{background-color:var(--color-basic-800);cursor:pointer;border:1px solid var(--color-primary-400);border-radius:.3rem}.host.false[_ngcontent-%COMP%]{border:1px solid var(--color-danger-400)}.host[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-width:1px}.host[_ngcontent-%COMP%]:hover{border-color:var(--color-primary-400);background-color:var(--color-basic-900)}.host[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{border-color:var(--color-primary-400);border-width:2px}.host[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]:hover{border-width:2px;border-color:var(--color-primary-400);background-color:var(--color-primary-400);color:var(--color-basic-100);font-weight:800}.label-container[_ngcontent-%COMP%]{font-size:.8rem;padding-left:20px;padding-right:20px;line-height:1.2rem;color:var(--color-basic-600)}.text-container[_ngcontent-%COMP%]{font-size:1rem;padding-left:20px;padding-right:20px;line-height:1.2rem;color:var(--text-color-basic);font-weight:400}"]}),i})(),nl=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-workspace-chooser-filter"]],decls:11,vars:0,consts:[[2,"height","100%"],["fxLayoutGap","20px","fxLayout","row"],["icon","funnel-outline",1,"filter-icon"],[1,"text-heading"],["fxLayoutGap","20px","fxLayout","column"],["label","Active","text","Web Applications"],["label","Active","text","Android Applications"],["label","Active","text","iOS Applications"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header"),t.TgZ(2,"div",1),t._UZ(3,"nb-icon",2),t.TgZ(4,"div",3),t._uU(5," Sort "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"nb-card-body"),t.TgZ(7,"div",4),t._UZ(8,"app-frezzed-toggle-field",5),t._UZ(9,"app-frezzed-toggle-field",6),t._UZ(10,"app-frezzed-toggle-field",7),t.qZA(),t.qZA(),t.qZA())},directives:[s.Asz,s.ndF,_.SQ,_.xw,s.fMN,s.yKW,el],styles:["nb-card[_ngcontent-%COMP%]{background:var(--background-basic-color-3);border-radius:1rem;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-4)}.text-heading[_ngcontent-%COMP%]{color:var(--text-hint-color)}.filter-icon[_ngcontent-%COMP%]{color:var(--text-hint-color)}"]}),i})();function il(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"app-create-app",13),t.NdJ("onclose",function(o){return t.CHM(e),t.oxw().onClose(o)}),t.qZA()}2&i&&t.Q6J("appId","5fd9d91331a6a8556c11b34a")}function ol(i,l){1&i&&(t.TgZ(0,"div",14),t.TgZ(1,"div"),t._UZ(2,"app-workspace-chooser"),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"app-workspace-chooser-filter"),t.qZA(),t.qZA())}let Wt=(()=>{class i{constructor(e,n){this.dialogService=e,this.themeService=n,this.searchQuery=""}ngOnInit(){this.themeService.changeTheme("dark")}onClose(e){var n;console.log("onclose",e),null===(n=this.dialogRef)||void 0===n||n.close()}openDialog(e){this.dialogRef=this.dialogService.open(e,{dialogClass:"dialogClass",backdropClass:"blurBackdrop"})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.Gln),t.Y36(s.WMF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-switch-app-viewer"]],decls:17,vars:3,consts:[["loadingTemplate",""],["fxFill","","fxFlex","0 1 1200px","fxLayout","column",1,"container"],["fxLayoutAlign","space-between center",1,"header"],[1,"_heading"],["fxLayout","row","fxLayoutGap","2rem"],["fieldSize","medium","type","text","nbInput","","placeholder","Search",3,"ngModel","ngModelChange"],["nbSuffix","","size","medium","status","primary","ghost","","nbButton",""],["icon","search-outline"],["size","medium","status","success","outline","","nbButton","",2,"text-transform","capitalize",3,"click"],["icon","plus-outline"],["fxLayoutGap","1rem",1,"content"],["fxFlex","300px","style","height:  100%;","fxLayoutGap","30px","fxLayout","column",4,"ngIf"],[3,"searchQuery"],[3,"appId","onclose"],["fxFlex","300px","fxLayoutGap","30px","fxLayout","column",2,"height","100%"]],template:function(e,n){if(1&e){const o=t.EpF();t.YNc(0,il,1,1,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"span",3),t._uU(5," Select Application "),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nb-form-field"),t.TgZ(8,"input",5),t.NdJ("ngModelChange",function(c){return n.searchQuery=c}),t.qZA(),t.TgZ(9,"button",6),t._UZ(10,"nb-icon",7),t.qZA(),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(1);return n.openDialog(c)}),t._UZ(12,"nb-icon",9),t._uU(13," Create App "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",10),t.YNc(15,ol,5,0,"div",11),t._UZ(16,"app-list",12),t.qZA(),t.qZA()}2&e&&(t.xp6(8),t.Q6J("ngModel",n.searchQuery),t.xp6(7),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("searchQuery",n.searchQuery))},directives:[_.s9,_.yH,_.xw,_.Wh,_.SQ,s.jBG,s.h8i,g.Fj,g.JJ,g.On,s.DPz,s.yyc,s.fMN,h.O5,it,Ct,Kr,nl],styles:["nb-card[_ngcontent-%COMP%]{height:100%;margin:0;border:0}nb-card-body[_ngcontent-%COMP%]{padding:0}.container[_ngcontent-%COMP%]{border-radius:2rem;max-height:100vh;height:100vh;padding:1rem}._heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:400;color:var(--text-hint-color)}.content[_ngcontent-%COMP%]{overflow:scroll;height:calc(100vh - 6rem)}.header[_ngcontent-%COMP%]{height:5rem}"]}),i})(),rl=(()=>{class i{constructor(e){this.themeService=e}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.WMF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-app-selector"]],decls:3,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"nb-layout"),t.TgZ(1,"nb-layout-column"),t._UZ(2,"app-switch-app-viewer"),t.qZA(),t.qZA())},directives:[s.Aqw,s.dP_,Wt],styles:["nb-layout-column[_ngcontent-%COMP%]{padding:0!important}"]}),i})();function ll(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-card",24),t.TgZ(2,"nb-card-header"),t.TgZ(3,"h5",25),t._UZ(4,"nb-icon",26),t._uU(5," Access Denied "),t.qZA(),t.qZA(),t.TgZ(6,"nb-card-body"),t.TgZ(7,"h6",27),t._uU(8," Invalid access / Invalid Repository "),t._UZ(9,"br"),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(10),t.hij(" ",null==e?null:e.git_url," ")}}function al(i,l){if(1&i&&t._UZ(0,"nb-icon",41),2&i){const e=t.oxw(5);t.Q6J("icon",e.loadingGeneric?"refresh-outline":"checkmark-outline")}}function cl(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",38),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(4).selectBranch(a)}),t.TgZ(1,"div",39),t._uU(2),t.qZA(),t.YNc(3,al,1,1,"nb-icon",40),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(4);t.ekj("selected",(null==n.gitBranchInputFormControl?null:n.gitBranchInputFormControl.value)==e),t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",(null==n.gitBranchInputFormControl?null:n.gitBranchInputFormControl.value)==e)}}function sl(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",28),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h5",25),t._UZ(3,"nb-icon",26),t._uU(4," Select Branch "),t.qZA(),t.TgZ(5,"div",29),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"nb-card-header",30),t.TgZ(8,"div",31),t._UZ(9,"input",32),t.qZA(),t.qZA(),t.TgZ(10,"nb-list",33),t.YNc(11,cl,4,4,"nb-list-item",34),t.qZA(),t.TgZ(12,"nb-card-footer",35),t.TgZ(13,"button",36),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).dialogRef.close()}),t._uU(14,"Cancel"),t.qZA(),t.TgZ(15,"button",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).dialogRef;return t.oxw().save(o)}),t._uU(16,"Save"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw().ngIf,n=t.oxw(2);t.xp6(6),t.hij(" ",null==e?null:e.length," Branches "),t.xp6(3),t.Q6J("formControl",n.searchBranchFilter),t.xp6(2),t.Q6J("ngForOf",e)}}function dl(i,l){if(1&i&&(t.ynx(0),t.YNc(1,ll,11,1,"ng-container",21),t.YNc(2,sl,17,3,"ng-template",null,23,t.W1O),t.BQk()),2&i){const e=l.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.length))("ngIfElse",n)}}function ul(i,l){if(1&i&&(t.TgZ(0,"nb-card",24),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h5",25),t._UZ(3,"nb-icon",26),t._uU(4," Validating Access "),t.qZA(),t.qZA(),t.TgZ(5,"nb-card-body"),t.TgZ(6,"h6",27),t._uU(7," Validating access to "),t._UZ(8,"br"),t._uU(9),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(9),t.hij(" ",null==e?null:e.git_url," ")}}function pl(i,l){if(1&i&&(t.YNc(0,dl,4,2,"ng-container",21),t.ALo(1,"async"),t.YNc(2,ul,10,1,"ng-template",null,22,t.W1O)),2&i){const e=l.$implicit,n=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,null==e?null:e.lsRemote))("ngIfElse",n)}}function gl(i,l){if(1&i&&(t.TgZ(0,"div",42),t._UZ(1,"nb-icon",43),t.TgZ(2,"span",44),t._uU(3),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij(" ",null==e.gitBranchInputFormControl?null:e.gitBranchInputFormControl.value," ")}}function _l(i,l){if(1&i&&(t.TgZ(0,"nb-option",45),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let ml=(()=>{class i{constructor(e,n){this.apiService=e,this.dialogService=n,this.searchBranchFilter=new g.NI(""),this.editEnabled=!1,this.inputKey="GIT_URL",this.gitRepoInputFormControl=new g.NI("",[g.kI.required]),this.gitBranchInputFormControl=new g.NI("",[g.kI.required]),this.selectedApp=this.apiService.selectedApp.pipe((0,T.h)(o=>!!(null==o?void 0:o.identifier)),(0,m.U)(o=>{var a;return{businessId:null==o?void 0:o.businessId,projectId:null==o?void 0:o.projectId,platformId:null==o?void 0:o.platformId,applicationId:null===(a=null==o?void 0:o.application)||void 0===a?void 0:a.applicationId}})),this.setAutoSuggestions=this.getAutoSuggestions().pipe((0,f.b)(o=>{this.filteredOptions$=this.gitRepoInputFormControl.valueChanges.pipe((0,I.O)(""),(0,m.U)(a=>this.filter(a)))})),this.initSubscription$=O.w0.EMPTY,this.loadingGeneric=!1}enableFormEdit(){0==this.loadingGeneric&&0==this.editEnabled&&(this.editEnabled=!0)}loadControlData(){this.editEnabled=!1,this.loadingGeneric=!0,this.gitRepoInputFormControl.setValue(""),this.gitBranchInputFormControl.setValue(""),this.initSubscription$=this.selectedApp.pipe((0,P.q)(1),(0,f.b)(e=>{console.log("selectedApp","static",e)}),(0,x.w)(e=>this.apiService.getDevsecopsStaticScanData(e).pipe()),(0,f.b)(e=>{this.gitRepoInputFormControl.setValue(null==e?void 0:e.GIT_URL),this.gitBranchInputFormControl.setValue(null==e?void 0:e.GIT_BRANCH)})).subscribe(e=>{this.loadingGeneric=!1})}ngOnDestroy(){console.log("ngOnDestroy","staticconfig"),this.initSubscription$.unsubscribe()}ngOnInit(){console.log("ngOnInit","staticconfig"),this.initSubscription$.unsubscribe(),this.loadControlData()}filter(e){const n=e.toLowerCase();return this.options.filter(o=>o.toLowerCase().includes(n))}viewHandle(e){return e}getAutoSuggestions(){return this.apiService.selectedApp.pipe((0,T.h)(e=>{var n;return!!(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.applicationId)}),(0,x.w)(e=>{var n;return this.apiService.getAutoSuggestions({businessId:null==e?void 0:e.businessId,projectId:null==e?void 0:e.projectId,platformId:null==e?void 0:e.platformId,applicationId:null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.applicationId})}),(0,m.U)(e=>{var n,o,a;console.log("GIT_URL",null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.GIT_URL),this.options=(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.GIT_URL)?null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.GIT_URL:[]}))}save(e){let n=this.selectedApp.pipe((0,P.q)(1),(0,x.w)(o=>this.apiService.addDevsecopsStaticScanDetails(o,{GIT_URL:this.gitRepoInputFormControl.value,GIT_BRANCH:this.gitBranchInputFormControl.value}).pipe((0,f.b)(c=>{this.loadingGeneric=!0})))).subscribe(o=>{this.loadingGeneric=!1,e.close(),n.unsubscribe()})}openDialog(e){this.dialogService.open(e,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{git_url:this.gitRepoInputFormControl.value,lsRemote:this.apiService.lsremote(this.gitRepoInputFormControl.value).pipe((0,x.w)(n=>this.searchBranchFilter.valueChanges.pipe((0,I.O)(this.searchBranchFilter.value)).pipe((0,m.U)(o=>(console.debug("map_val",o,n),0==n.status?[]:Object.keys(null==n?void 0:n.data).filter(a=>-1!=a.toLowerCase().indexOf(o))))))).pipe((0,m.U)(n=>n.map(o=>o.split("/").pop())),(0,q.d)())}}).onClose.subscribe(n=>{this.loadControlData()})}selectBranch(e){this.gitBranchInputFormControl.setValue(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(s.Gln))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-static-config"]],decls:30,vars:12,consts:[["lsRemoteDialog",""],["fxFill","","fxLayoutAlign","center center"],["nbSpinnerStatus","danger","size","medium","fxFlex","0 1 900px",3,"nbSpinner","click"],["fxLayoutAlign","center space-between"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],[3,"ngModel","ngModelChange"],["fxFlex","","fxLayoutAlign","center center"],["fxFlex","","fxLayoutGap","20px","fxLayout","column"],["fxFlex","",1,"text-hint",2,"font-size","1.2rem"],["fxFlex","","nbSpinnerStatus","danger"],["nbPrefix","",1,"text-hint"],["status","primary","fullWidth","","type","text","nbInput","","fieldSize","giant","placeholder","git@bitbucket.org:times_internet/hawkeye-api.git",3,"readonly","formControl","nbAutocomplete","keyup.enter"],["fxLayoutAlign","end","style","font-size: 1.2rem;  ","class","text-hint ","fxFlex","",4,"ngIf"],["fxLayoutGap","20px","fxLayoutAlign","end"],["status","danger","size","medium","nbSuffix","","nbButton","","hero","",3,"disabled","click"],["icon","refresh-outline"],["status","primary","size","medium","nbSuffix","","nbButton","","filled","",3,"disabled","click"],["icon","checkmark-outline"],[3,"handleDisplayFn"],["repoAutoComplete",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["branchSelectorTemplate",""],["fxFlex","0 1 500px","accent","primary"],[1,"text-primary"],["icon","stop-circle-outline","status","primary",2,"margin","10px"],[2,"line-height","2rem"],["fxFlex","1 1 500px","accent","primary"],["fxLayoutAlign","end"],[2,"padding","0.3rem"],["fxLayoutAlign","center center","fxLayoutGap","1rem","fxLayout","row",1,"search-input"],["focusOnce","","fullWidth","","placeholder","Search","status","basic","nbInput","",3,"formControl"],["fxLayout","column",2,"max-height","500px"],[3,"selected","click",4,"ngFor","ngForOf"],["fxLayoutAlign","end","fxLayoutGap","1rem"],["status","basic","outline","","nbButton","",3,"click"],["status","success","outline","","nbButton","",3,"click"],[3,"click"],["fxFlex",""],["class","loading-icon",3,"icon",4,"ngIf"],[1,"loading-icon",3,"icon"],["fxLayoutAlign","end","fxFlex","",1,"text-hint",2,"font-size","1.2rem"],["icon","corner-up-right-outline"],[2,"font-size","1.1rem","; margin-right","1rem"],[3,"value"]],template:function(e,n){if(1&e){const o=t.EpF();t.YNc(0,pl,4,4,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.TgZ(3,"nb-card",2),t.NdJ("click",function(){return n.enableFormEdit()}),t.TgZ(4,"nb-card-header",3),t.TgZ(5,"div",4),t._uU(6," Static Configuration "),t.qZA(),t.TgZ(7,"nb-toggle",5),t.NdJ("ngModelChange",function(c){return n.editEnabled=c}),t._uU(8,"Edit"),t.qZA(),t.qZA(),t.TgZ(9,"nb-card-body",6),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t._uU(12," Code Repository "),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"nb-form-field",9),t.TgZ(15,"span",10),t._uU(16," ssh "),t.qZA(),t.TgZ(17,"input",11),t.NdJ("keyup.enter",function(){t.CHM(o);const c=t.MAs(1);return n.openDialog(c)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,gl,4,1,"div",12),t.qZA(),t.qZA(),t.TgZ(19,"nb-card-footer",13),t.TgZ(20,"button",14),t.NdJ("click",function(){return n.loadControlData()}),t._uU(21," Reset "),t._UZ(22,"nb-icon",15),t.qZA(),t.TgZ(23,"button",16),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(1);return n.openDialog(c)}),t._uU(24," Save "),t._UZ(25,"nb-icon",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"nb-autocomplete",18,19),t.YNc(28,_l,2,2,"nb-option",20),t.ALo(29,"async"),t.qZA()}if(2&e){const o=t.MAs(27);t.xp6(3),t.Q6J("nbSpinner",n.loadingGeneric),t.xp6(4),t.Q6J("ngModel",n.editEnabled),t.xp6(10),t.Q6J("readonly",!n.editEnabled)("formControl",n.gitRepoInputFormControl)("nbAutocomplete",o),t.xp6(1),t.Q6J("ngIf",null==n.gitBranchInputFormControl?null:n.gitBranchInputFormControl.valid),t.xp6(2),t.Q6J("disabled",!n.editEnabled),t.xp6(3),t.Q6J("disabled",!n.editEnabled||(null==n.gitRepoInputFormControl?null:n.gitRepoInputFormControl.invalid)||(null==n.gitBranchInputFormControl?null:n.gitBranchInputFormControl.invalid)),t.xp6(3),t.Q6J("handleDisplayFn",n.viewHandle),t.xp6(2),t.Q6J("ngForOf",t.lcZ(29,10,n.filteredOptions$))}},directives:[_.s9,_.Wh,s.Asz,_.yH,s.Q7R,s.ndF,s.BLq,g.JJ,g.On,s.yKW,_.SQ,_.xw,s.jBG,s.t3q,s.h8i,g.Fj,s.wNd,g.oH,h.O5,s.XWE,s.DPz,s.yyc,s.fMN,s.Xh,h.sg,at,s.zP_,s.qBV,s.q51],pipes:[h.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:center}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{cursor:pointer;border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:2rem}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%]{color:#fff}._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 0 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4);padding:1rem}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}']}),i})();function fl(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"nb-card",23),t.TgZ(2,"nb-card-header"),t.TgZ(3,"h5",24),t._UZ(4,"nb-icon",25),t._uU(5," Website is reachable "),t.qZA(),t.qZA(),t.TgZ(6,"nb-card-body"),t.TgZ(7,"h6",26),t._uU(8," Status Code "),t._UZ(9,"br"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"nb-card-footer",12),t.TgZ(12,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).dialogRef;return t.oxw().save(o)}),t._uU(13," Save "),t._UZ(14,"nb-icon",16),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(10),t.hij(" ",null==e?null:e.status_code," ")}}function hl(i,l){if(1&i&&(t.TgZ(0,"nb-card",28),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h5",24),t._UZ(3,"nb-icon",25),t._uU(4," Website is unreachable "),t.qZA(),t.qZA(),t.TgZ(5,"nb-card-body"),t.TgZ(6,"h6",26),t._uU(7," Website seems to be unreachable "),t._UZ(8,"br"),t._uU(9),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(9),t.hij(" ",null==e?null:e.app_url," ")}}function bl(i,l){if(1&i&&(t.ynx(0),t.YNc(1,fl,15,1,"ng-container",20),t.YNc(2,hl,10,1,"ng-template",null,22,t.W1O),t.BQk()),2&i){const e=l.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",(null==e?null:e.status_code)>=-1)("ngIfElse",n)}}function vl(i,l){if(1&i&&(t.TgZ(0,"nb-card",29),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h5",24),t._UZ(3,"nb-icon",25),t._uU(4," Checking Website Connectivity "),t.qZA(),t.qZA(),t.TgZ(5,"nb-card-body"),t.TgZ(6,"h6",26),t._uU(7," Checking connectivity to "),t._UZ(8,"br"),t._uU(9),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(9),t.hij(" ",null==e?null:e.app_url," ")}}function xl(i,l){if(1&i&&(t.YNc(0,bl,4,2,"ng-container",20),t.ALo(1,"async"),t.YNc(2,vl,10,1,"ng-template",null,21,t.W1O)),2&i){const e=l.$implicit,n=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,null==e?null:e.lsRemote))("ngIfElse",n)}}function Cl(i,l){if(1&i&&(t.TgZ(0,"nb-option",30),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let Zl=(()=>{class i{constructor(e,n){this.apiService=e,this.dialogService=n,this.editEnabled=!1,this.inputKey="GIT_URL",this.appUrlInputFormControl=new g.NI("",[g.kI.required]),this.selectedApp=this.apiService.selectedApp.pipe((0,T.h)(o=>!!(null==o?void 0:o.identifier)),(0,m.U)(o=>{var a;return{businessId:null==o?void 0:o.businessId,projectId:null==o?void 0:o.projectId,platformId:null==o?void 0:o.platformId,applicationId:null===(a=null==o?void 0:o.application)||void 0===a?void 0:a.applicationId}})),this.setAutoSuggestions=this.getAutoSuggestions().pipe((0,f.b)(o=>{this.filteredOptions$=this.appUrlInputFormControl.valueChanges.pipe((0,I.O)(""),(0,m.U)(a=>this.filter(a)))})),this.initSubscription$=O.w0.EMPTY,this.loadingGeneric=!1}enableFormEdit(){0==this.loadingGeneric&&0==this.editEnabled&&(this.editEnabled=!0)}ngOnDestroy(){this.initSubscription$.unsubscribe()}loadControlData(){this.editEnabled=!1,this.loadingGeneric=!0,this.appUrlInputFormControl.setValue(""),this.initSubscription$=this.selectedApp.pipe((0,P.q)(1),(0,x.w)(e=>this.apiService.getDevsecopsDynamicScanData(e).pipe()),(0,f.b)(e=>{this.appUrlInputFormControl.setValue(null==e?void 0:e.APP_URL)})).subscribe(e=>{this.loadingGeneric=!1})}ngOnInit(){this.initSubscription$.unsubscribe(),this.loadControlData()}filter(e){const n=e.toLowerCase();return this.options.filter(o=>o.toLowerCase().includes(n))}viewHandle(e){return e}getAutoSuggestions(){return this.apiService.selectedApp.pipe((0,T.h)(e=>{var n;return!!(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.applicationId)}),(0,x.w)(e=>{var n;return this.apiService.getAutoSuggestions({businessId:null==e?void 0:e.businessId,projectId:null==e?void 0:e.projectId,platformId:null==e?void 0:e.platformId,applicationId:null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.applicationId})}),(0,m.U)(e=>{var n,o,a;console.log("GIT_URL",null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.GIT_URL),this.options=(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.GIT_URL)?null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.GIT_URL:[]}))}save(e){this.selectedApp.pipe((0,P.q)(1),(0,x.w)(n=>this.apiService.addDevsecopsDynamicScanDetails(n,{APP_URL:this.appUrlInputFormControl.value}).pipe((0,f.b)(a=>{this.loadingGeneric=!0})))).subscribe(n=>{this.loadingGeneric=!1,e.close()})}openDialog(e){this.dialogService.open(e,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{app_url:this.appUrlInputFormControl.value,lsRemote:this.apiService.healthcheck(this.appUrlInputFormControl.value).pipe((0,m.U)(n=>({status_code:null==n?void 0:n.data})))}}).onClose.subscribe(n=>{this.loadControlData()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(s.Gln))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dynamic-config"]],decls:29,vars:11,consts:[["lsRemoteDialog",""],["fxFill","","fxLayoutAlign","center center"],["nbSpinnerStatus","danger","size","medium","fxFlex","0 1 900px",3,"nbSpinner","click"],["fxLayoutAlign","center space-between"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],[3,"ngModel","ngModelChange"],["fxFlex","","fxLayoutAlign","center center"],["fxFlex","","fxLayoutGap","20px","fxLayout","column"],["fxFlex","",1,"text-hint",2,"font-size","1.2rem"],["fxFlex","","nbSpinnerStatus","danger"],["nbPrefix","",1,"text-hint"],["status","primary","fullWidth","","type","text","nbInput","","fieldSize","giant","placeholder","https://example.your-website.com/",3,"readonly","formControl","nbAutocomplete","keyup.enter"],["fxLayoutGap","20px","fxLayoutAlign","end"],["status","danger","size","medium","nbSuffix","","nbButton","","hero","",3,"disabled","click"],["icon","refresh-outline"],["status","primary","size","medium","nbSuffix","","nbButton","","filled","",3,"disabled","click"],["icon","checkmark-outline"],[3,"handleDisplayFn"],["repoAutoComplete",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["invalidAccessTemplate",""],["fxFlex","0 1 500px","accent","success"],[1,"text-primary"],["icon","stop-circle-outline","status","primary",2,"margin","10px"],[2,"line-height","2rem"],["status","primary","size","medium","nbSuffix","","nbButton","","filled","",3,"click"],["fxFlex","0 1 500px","accent","danger"],["fxFlex","0 1 500px","accent","primary"],[3,"value"]],template:function(e,n){if(1&e){const o=t.EpF();t.YNc(0,xl,4,4,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.TgZ(3,"nb-card",2),t.NdJ("click",function(){return n.enableFormEdit()}),t.TgZ(4,"nb-card-header",3),t.TgZ(5,"div",4),t._uU(6," Dynamic Configuration "),t.qZA(),t.TgZ(7,"nb-toggle",5),t.NdJ("ngModelChange",function(c){return n.editEnabled=c}),t._uU(8,"Edit"),t.qZA(),t.qZA(),t.TgZ(9,"nb-card-body",6),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t._uU(12," Website Url "),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"nb-form-field",9),t.TgZ(15,"span",10),t._uU(16," Url "),t.qZA(),t.TgZ(17,"input",11),t.NdJ("keyup.enter",function(){t.CHM(o);const c=t.MAs(1);return n.openDialog(c)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"nb-card-footer",12),t.TgZ(19,"button",13),t.NdJ("click",function(){return n.loadControlData()}),t._uU(20," Reset "),t._UZ(21,"nb-icon",14),t.qZA(),t.TgZ(22,"button",15),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(1);return n.openDialog(c)}),t._uU(23," Save "),t._UZ(24,"nb-icon",16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"nb-autocomplete",17,18),t.YNc(27,Cl,2,2,"nb-option",19),t.ALo(28,"async"),t.qZA()}if(2&e){const o=t.MAs(26);t.xp6(3),t.Q6J("nbSpinner",n.loadingGeneric),t.xp6(4),t.Q6J("ngModel",n.editEnabled),t.xp6(10),t.Q6J("readonly",!n.editEnabled)("formControl",n.appUrlInputFormControl)("nbAutocomplete",o),t.xp6(2),t.Q6J("disabled",!n.editEnabled),t.xp6(3),t.Q6J("disabled",!n.editEnabled||(null==n.appUrlInputFormControl?null:n.appUrlInputFormControl.invalid)),t.xp6(3),t.Q6J("handleDisplayFn",n.viewHandle),t.xp6(2),t.Q6J("ngForOf",t.lcZ(28,9,n.filteredOptions$))}},directives:[_.s9,_.Wh,s.Asz,_.yH,s.Q7R,s.ndF,s.BLq,g.JJ,g.On,s.yKW,_.SQ,_.xw,s.jBG,s.t3q,s.h8i,g.Fj,s.wNd,g.oH,s.XWE,s.DPz,s.yyc,s.fMN,s.Xh,h.sg,h.O5,s.q51],pipes:[h.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:center}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{cursor:pointer;border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:2rem}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%]{color:#fff}._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 0 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4);padding:1rem}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}']}),i})();function Tl(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-toggle",18),t._uU(2),t.ALo(3,"textShowcase"),t.qZA(),t.BQk()),2&i){const e=l.$implicit;t.xp6(1),t.Q6J("nbSpinner",null==(null==e||null==e.value?null:e.value.value))("disabled",null==(null==e||null==e.value?null:e.value.value))("formControlName",e.key),t.xp6(1),t.hij(" ",t.lcZ(3,4,null==e?null:e.key)," ")}}function Al(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-toggle",18),t._uU(2),t.ALo(3,"textShowcase"),t.qZA(),t.BQk()),2&i){const e=l.$implicit;t.xp6(1),t.Q6J("nbSpinner",null==(null==e||null==e.value?null:e.value.value))("disabled",null==(null==e||null==e.value?null:e.value.value))("formControlName",e.key),t.xp6(1),t.hij(" ",t.lcZ(3,4,null==e?null:e.key)," ")}}function kl(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"nb-toggle",26),t.NdJ("checkedChange",function(){return t.CHM(e),t.oxw(2).formInvalidated()})("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.oxw(2).static_tools[null==c?null:c.key]=o}),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngModel",n.static_tools[null==e?null:e.key]),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function yl(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"nb-toggle",26),t.NdJ("checkedChange",function(){return t.CHM(e),t.oxw(2).formInvalidated()})("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.oxw(2).dynamic_tools[null==c?null:c.key]=o}),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngModel",n.dynamic_tools[null==e?null:e.key]),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function wl(i,l){if(1&i&&(t.TgZ(0,"div",27),t.TgZ(1,"nb-toggle",29),t._uU(2),t.qZA(),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.Q6J("disabled",!(null!=e&&e.value)),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function Ml(i,l){if(1&i&&(t.TgZ(0,"div",28),t.TgZ(1,"h6"),t._uU(2,"Dynamic Tools"),t.qZA(),t.TgZ(3,"div",22),t.YNc(4,wl,3,2,"div",24),t.ALo(5,"keyvalue"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,e.dynamic_tools))}}function Ol(i,l){if(1&i&&(t.TgZ(0,"nb-card-body",19),t.TgZ(1,"div",20),t.TgZ(2,"div",8),t.TgZ(3,"div",21),t.TgZ(4,"h6"),t._uU(5,"Static Tools"),t.qZA(),t.qZA(),t.TgZ(6,"div",22),t.YNc(7,kl,3,2,"div",14),t.ALo(8,"keyvalue"),t.qZA(),t.qZA(),t.TgZ(9,"div",23),t.TgZ(10,"div",21),t.TgZ(11,"h6"),t._uU(12,"Dynamic Tools"),t.qZA(),t.qZA(),t.TgZ(13,"div",22),t.YNc(14,yl,3,2,"div",24),t.ALo(15,"keyvalue"),t.qZA(),t.qZA(),t.qZA(),t.YNc(16,Ml,6,3,"div",25),t.qZA()),2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",t.lcZ(8,3,e.static_tools)),t.xp6(7),t.Q6J("ngForOf",t.lcZ(15,5,e.dynamic_tools)),t.xp6(2),t.Q6J("ngIf",!1)}}function Pl(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"nb-toggle",26),t.NdJ("checkedChange",function(){return t.CHM(e),t.oxw(2).formInvalidated()})("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.oxw(2).static_tools[null==c?null:c.key]=o}),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngModel",n.static_tools[null==e?null:e.key]),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function Il(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"nb-toggle",26),t.NdJ("checkedChange",function(){return t.CHM(e),t.oxw(2).formInvalidated()})("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.oxw(2).dynamic_tools[null==c?null:c.key]=o}),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngModel",n.dynamic_tools[null==e?null:e.key]),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function ql(i,l){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"nb-toggle",29),t._uU(2),t.qZA(),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.Q6J("disabled",!(null!=e&&e.value)),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function Sl(i,l){if(1&i&&(t.TgZ(0,"div",28),t.TgZ(1,"h6"),t._uU(2,"Static Tools"),t.qZA(),t.TgZ(3,"div",22),t.YNc(4,ql,3,2,"div",14),t.ALo(5,"keyvalue"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,e.static_tools))}}function Fl(i,l){if(1&i&&(t.TgZ(0,"div",27),t.TgZ(1,"nb-toggle",29),t._uU(2),t.qZA(),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.Q6J("disabled",!(null!=e&&e.value)),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function Ll(i,l){if(1&i&&(t.TgZ(0,"div",28),t.TgZ(1,"h6"),t._uU(2,"Dynamic Tools"),t.qZA(),t.TgZ(3,"div",22),t.YNc(4,Fl,3,2,"div",24),t.ALo(5,"keyvalue"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,e.dynamic_tools))}}function Ul(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",30),t.TgZ(1,"nb-card-header",2),t.TgZ(2,"div",3),t._uU(3," Manage Tools "),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().save()}),t._UZ(6,"nb-icon",32),t._uU(7," Save "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"nb-card-body",19),t.TgZ(9,"div",20),t.TgZ(10,"div",8),t.TgZ(11,"div",21),t.TgZ(12,"h6"),t._uU(13,"Static Tools"),t.qZA(),t.qZA(),t.TgZ(14,"div",22),t.YNc(15,Pl,3,2,"div",14),t.ALo(16,"keyvalue"),t.qZA(),t.qZA(),t.TgZ(17,"div",23),t.TgZ(18,"div",21),t.TgZ(19,"h6"),t._uU(20,"Dynamic Tools"),t.qZA(),t.qZA(),t.TgZ(21,"div",22),t.YNc(22,Il,3,2,"div",24),t.ALo(23,"keyvalue"),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,Sl,6,3,"div",25),t.YNc(25,Ll,6,3,"div",25),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("nbSpinner",e.loadingGeneric),t.xp6(5),t.Q6J("disabled",!e.canSave),t.xp6(10),t.Q6J("ngForOf",t.lcZ(16,6,e.static_tools)),t.xp6(7),t.Q6J("ngForOf",t.lcZ(23,8,e.dynamic_tools)),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1)}}let Bl=(()=>{class i{constructor(e){this.apiService=e,this.loadingGeneric=!1,this.selectedApp=this.apiService.selectedApp.pipe((0,T.h)(n=>!!(null==n?void 0:n.identifier)),(0,m.U)(n=>{var o;return{businessId:null==n?void 0:n.businessId,projectId:null==n?void 0:n.projectId,platformId:null==n?void 0:n.platformId,applicationId:null===(o=null==n?void 0:n.application)||void 0===o?void 0:o.applicationId}}),(0,q.d)()),this.static_tools={},this.dynamic_tools={},this.configuration={},this.external_tools={},this.email_notifications=new g.NI(void 0),this.active_state=new g.NI(void 0),this.external_tools_list=this.apiService.getExternalTools(),this.listenChangesSubscription=O.w0.EMPTY,this.canSave=!1,this.formEnabled=!1}ngOnDestroy(){this.listenChangesSubscription.unsubscribe()}initFormData(e){var n,o,a,c;console.log("initFormData",e),Object.keys(null==e?void 0:e.static_tools).forEach(r=>{this.configurationModel.get("static_tools").setControl(r,new g.NI(null==e?void 0:e.static_tools[r]))}),(null===(n=null==e?void 0:e.configuration)||void 0===n?void 0:n.email)&&this.configurationModel.get("configuration").setControl("email",new g.NI(null===(o=null==e?void 0:e.configuration)||void 0===o?void 0:o.email)),(null===(a=null==e?void 0:e.configuration)||void 0===a?void 0:a.jira)&&this.configurationModel.get("configuration").setControl("jira",new g.NI(null===(c=null==e?void 0:e.configuration)||void 0===c?void 0:c.jira)),Object.keys(null==e?void 0:e.static_tools).forEach(r=>{this.configurationModel.get("static_tools").setControl(r,new g.NI(null==e?void 0:e.static_tools[r]))}),Object.keys(null==e?void 0:e.dynamic_tools).forEach(r=>{this.configurationModel.get("dynamic_tools").setControl(r,new g.NI(null==e?void 0:e.dynamic_tools[r]))})}updateFormData(e){var n,o,a,c,r;console.debug("__",e),null===(o=Object.keys(null===(n=null==e?void 0:e.tools_config)||void 0===n?void 0:n.static_tools))||void 0===o||o.forEach(d=>{var u;this.configurationModel.get("static_tools").get(d).patchValue(null===(u=null==e?void 0:e.tools_config)||void 0===u?void 0:u.static_tools[d],{emitEvent:!1,onlySelf:!0})}),null===(c=Object.keys(null===(a=null==e?void 0:e.tools_config)||void 0===a?void 0:a.dynamic_tools))||void 0===c||c.forEach(d=>{var u;this.configurationModel.get("dynamic_tools").get(d).patchValue(null===(u=null==e?void 0:e.tools_config)||void 0===u?void 0:u.dynamic_tools[d],{emitEvent:!1,onlySelf:!0})}),null===(r=Object.keys(null==e?void 0:e.configuration))||void 0===r||r.forEach(d=>{this.configurationModel.get("configuration").get(d).patchValue(null==e?void 0:e.configuration[d],{emitEvent:!1,onlySelf:!0})})}ngOnInit(){this.configurationModel=new g.cw({static_tools:new g.cw({}),dynamic_tools:new g.cw({}),configuration:new g.cw({email:new g.NI(!1),jira:new g.NI(!1)})}),this.listenChangesSubscription.unsubscribe(),this.loadingGeneric=!0,this.selectedApp.pipe((0,P.q)(1),(0,x.w)(e=>this.apiService.getConfigureTools(e).pipe((0,f.b)(n=>{console.log("disturbing"),this.initFormData(n),this.static_tools=null==n?void 0:n.static_tools,this.dynamic_tools=null==n?void 0:n.dynamic_tools,this.configuration=null==n?void 0:n.configuration})))).subscribe(e=>{this.loadingGeneric=!1,console.log("pairwise",this.configurationModel.value),this.listenChangesSubscription=this.configurationModel.valueChanges.pipe((0,f.b)(n=>{console.log("startWith",this.configurationModel.value)}),(0,I.O)(e),(0,It.G)(),(0,m.U)(([n,o])=>{console.log("pairwise",n,"_",o);let a={static_tools:{},dynamic_tools:{},configuration:{}},r=null==o?void 0:o.configuration,d={};for(const w in r)d[w]=r[w],this.configurationModel.get("configuration").get(w).patchValue(!1,{emitEvent:!1,onlySelf:!0});let u=null==n?void 0:n.static_tools,p=null==o?void 0:o.static_tools,b={};for(const w in p)u[w]!==p[w]&&(b[w]=p[w],this.configurationModel.get("static_tools").get(w).patchValue(void 0,{emitEvent:!1,onlySelf:!0}));let v=null==n?void 0:n.dynamic_tools,Z=null==o?void 0:o.dynamic_tools,y={};for(const w in Z)v[w]!==Z[w]&&(y[w]=Z[w],this.configurationModel.get("dynamic_tools").get(w).patchValue(void 0,{emitEvent:!1,onlySelf:!0}));return a.static_tools=b,a.dynamic_tools=y,a.configuration=d,a}),(0,T.h)(n=>0!==Object.keys(n).length&&!this.configurationModel.invalid),(0,x.w)(n=>(console.log("changesInForm",n),this.selectedApp.pipe((0,P.q)(1),(0,x.w)(o=>this.apiService.setConfigureTools(o,n).pipe((0,f.b)(a=>{this.updateFormData(a)}))))))).subscribe()})}save(){this.loadingGeneric=!0,this.canSave=!1,this.selectedApp.pipe((0,P.q)(1),(0,x.w)(e=>this.apiService.setConfigureTools(e,this.configurationModel.value).pipe((0,f.b)(n=>{this.static_tools=null==n?void 0:n.static_tools,this.dynamic_tools=null==n?void 0:n.dynamic_tools})))).subscribe(e=>{this.loadingGeneric=!1})}formInvalidated(){}onChangeActiveState(e){this.formEnabled=0!=e,console.debug("onChangeActiveState",e)}runExternalTool(e){this.selectedApp.pipe((0,m.U)(n=>(n.toolId=e._id.$oid,n.scan_data={URL:"https://hackware.ru"},console.log("runExternalTool",n,e),n)),(0,x.w)(n=>this.apiService.runExtetnalTool(n))).subscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-tools-config"]],decls:32,vars:10,consts:[["fxFill","","fxLayout","column","fxLayoutGap","2rem",2,"padding","2rem"],["nbSpinnerStatus","danger",3,"formGroup"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],[3,"activeState"],["fxLayout","row","fxLayoutAlign","start start"],["fxFlex","",2,"border","0",3,"disabled"],["fxFlex","","fxLayoutAlign","start  space-between","fxLayout","row"],["fxLayout","column","fxFlex",""],["formGroupName","configuration"],["fxFlex","","fxLayoutAlign","start"],["formControlName","email","status","success"],["formControlName","jira","status","success"],["formGroupName","static_tools"],[4,"ngFor","ngForOf"],["formGroupName","dynamic_tools"],["fxLayout","row","fxLayoutAlign","center start",4,"ngIf"],["nbSpinnerStatus","danger",3,"nbSpinner",4,"ngIf"],["nbSpinnerStatus","primary","status","success",3,"nbSpinner","disabled","formControlName"],["fxLayout","row","fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","center  space-between","fxLayout","row"],["fxFlex","","fxLayoutAlign","center"],["fxFlex",""],["fxLayout","column","fxLayoutAlign","end start","fxFlex",""],["fxLayoutGap","30px",4,"ngFor","ngForOf"],["fxFlex","","fxLayout","column",4,"ngIf"],["status","success",3,"ngModel","checkedChange","ngModelChange"],["fxLayoutGap","30px"],["fxFlex","","fxLayout","column"],["status","success",3,"disabled"],["nbSpinnerStatus","danger",3,"nbSpinner"],["outline","","size","medium","status","success","nbButton","",3,"disabled","click"],["icon","checkmark-outline"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"nb-card",1),t.TgZ(2,"nb-card-header",2),t.TgZ(3,"div",3),t._uU(4," Configuration "),t.qZA(),t.TgZ(5,"app-activate-toggle",4),t.NdJ("activeState",function(a){return n.onChangeActiveState(a)}),t.qZA(),t.qZA(),t.TgZ(6,"nb-card-body",5),t.TgZ(7,"fieldset",6),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.ynx(10,9),t.TgZ(11,"div",10),t.TgZ(12,"h6"),t._uU(13,"Configuration"),t.qZA(),t.qZA(),t.TgZ(14,"nb-toggle",11),t._uU(15," Email Notifications "),t.qZA(),t.TgZ(16,"nb-toggle",12),t._uU(17," Jira Integration "),t.qZA(),t.BQk(),t.ynx(18,13),t.TgZ(19,"div",10),t.TgZ(20,"h6"),t._uU(21,"Static Tools"),t.qZA(),t.qZA(),t.YNc(22,Tl,4,6,"ng-container",14),t.ALo(23,"keyvalue"),t.BQk(),t.ynx(24,15),t.TgZ(25,"div",10),t.TgZ(26,"h6"),t._uU(27,"Dynamic Tools"),t.qZA(),t.qZA(),t.YNc(28,Al,4,6,"ng-container",14),t.ALo(29,"keyvalue"),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(30,Ol,17,7,"nb-card-body",16),t.qZA(),t.YNc(31,Ul,26,10,"nb-card",17),t.qZA()),2&e&&(t.xp6(1),t.Q6J("formGroup",n.configurationModel),t.xp6(6),t.Q6J("disabled",!n.formEnabled),t.xp6(15),t.Q6J("ngForOf",t.lcZ(23,6,null==n.configurationModel||null==n.configurationModel.controls||null==n.configurationModel.controls.static_tools?null:n.configurationModel.controls.static_tools.controls)),t.xp6(6),t.Q6J("ngForOf",t.lcZ(29,8,null==n.configurationModel||null==n.configurationModel.controls||null==n.configurationModel.controls.dynamic_tools?null:n.configurationModel.controls.dynamic_tools.controls)),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1))},directives:[_.s9,_.xw,_.SQ,s.Asz,g.JL,g.sg,s.ndF,_.Wh,_.yH,Pt,s.yKW,g.x0,s.BLq,g.JJ,g.u,h.sg,h.O5,s.Q7R,g.On,s.DPz,s.fMN],pipes:[h.Nd,jt],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:cente}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem;padding:0 0 30px}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin:40px}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%]{color:#fff}._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;margin-left:0;padding-left:0;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 20px 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-toggle[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:20px}nb-toggle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-transform:capitalize}.text[_ngcontent-%COMP%]{font-family:var(--toggle-text-font-family);font-size:var(--toggle-text-font-size);font-weight:var(--toggle-text-font-weight);line-height:var(--toggle-text-line-height);text-transform:capitalize}h6[_ngcontent-%COMP%]{font-weight:500;font-size:1.4rem;line-height:2rem;padding:0;margin:40px 40px 40px 0}']}),i})();const Nl=["selectCheckboxView"];function Dl(i,l){1&i&&t._UZ(0,"tr",27)}function Jl(i,l){1&i&&t._UZ(0,"tr",28),2&i&&t.Q6J("clickToToggle",!1)}function Ql(i,l){if(1&i&&(t.TgZ(0,"th",29),t._UZ(1,"nb-checkbox",30),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("formControl",e.formControlSelectAll)}}function zl(i,l){1&i&&(t.TgZ(0,"th",31),t._uU(1," # "),t.qZA())}function Rl(i,l){if(1&i&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("nbSortHeader",e.getSortDirection(e.customColumn)),t.xp6(1),t.hij(" ",e.customColumn," ")}}function El(i,l){if(1&i&&(t.TgZ(0,"th",35),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("nbSortHeader",n.getSortDirection(e)),t.xp6(1),t.hij(" ",e," ")}}function $l(i,l){if(1&i&&(t.ynx(0,33),t.YNc(1,El,2,2,"th",34),t.BQk()),2&i){const e=l.$implicit,n=l.index,o=t.oxw();t.Q6J("nbTreeGridColumnDef",e)("showOn",o.getShowOn(n))}}function jl(i,l){1&i&&(t.TgZ(0,"th",36),t._uU(1," Action "),t.qZA())}function Yl(i,l){1&i&&t._UZ(0,"tr",27)}function Gl(i,l){1&i&&t._UZ(0,"tr",28),2&i&&t.Q6J("clickToToggle",!1)}function Hl(i,l){1&i&&t._UZ(0,"th",37)}function Vl(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"td",38),t.TgZ(1,"nb-checkbox",39,40),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.data.selected=o}),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(1),t.Q6J("ngModel",e.data.selected)}}function Wl(i,l){1&i&&t._UZ(0,"th",41)}function Xl(i,l){if(1&i&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&i){const e=l.index;t.xp6(1),t.hij(" ",e+1," ")}}function Kl(i,l){if(1&i&&t._UZ(0,"th",43),2&i){const e=t.oxw();t.Q6J("nbSortHeader",e.getSortDirection(e.customColumn))}}function ta(i,l){if(1&i&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&i){const e=l.$implicit,n=t.oxw();t.xp6(1),t.hij(" ",e.data[n.customColumn]," ")}}function ea(i,l){if(1&i&&t._UZ(0,"th",46),2&i){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("nbSortHeader",n.getSortDirection(e))}}function na(i,l){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=l.$implicit,n=t.oxw().$implicit;t.xp6(1),t.Oqu(e.data[n]||"-")}}function ia(i,l){if(1&i&&(t.ynx(0,33),t.YNc(1,ea,1,1,"th",45),t.YNc(2,na,2,1,"td",26),t.BQk()),2&i){const e=l.$implicit,n=l.index,o=t.oxw();t.Q6J("nbTreeGridColumnDef",e)("showOn",o.getShowOn(n))}}function oa(i,l){1&i&&t._UZ(0,"th",48)}function ra(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"td",47),t.TgZ(1,"nb-button-group",49),t.TgZ(2,"button",50),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().exploreScans(null==a||null==a.data?null:a.data.uuid)}),t._UZ(3,"nb-icon",51),t.qZA(),t.TgZ(4,"button",50),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().runScan(null==a||null==a.data?null:a.data.uuid)}),t._UZ(5,"nb-icon",52),t.qZA(),t.qZA(),t.qZA()}}let la=(()=>{class i{constructor(e,n,o,a,c){this.dataSourceBuilder=e,this.apiService=n,this.datePipe=o,this.router=a,this.activatedRoute=c,this.customColumn="repository",this.defaultColumns=["project name","language","description","created on","updated on","total scans","size"],this.allColumns=["select","#",this.customColumn,...this.defaultColumns,"action"],this.sortDirection=s.mwv.NONE,this.repositories=new g.Oe([]),this.formControlSelectAll=new g.NI(!0)}bytesToSize(e){if(0==e)return"0 Byte";let o=parseInt(""+Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,o))+" "+["Bytes","KB","MB","GB","TB"][o]}ngOnInit(){this.apiService.getAllScmRepos().pipe((0,m.U)(e=>e.map((n,o)=>{var a;return n["project name"]=null===(a=null==n?void 0:n.project)||void 0===a?void 0:a.name,n.repository=null==n?void 0:n.full_name,n["#"]=o+1,n["created on"]=this.datePipe.transform(null==n?void 0:n.created_on,"dd-MM-yyyy"),n["updated on"]=this.datePipe.transform(null==n?void 0:n.updated_on,"dd-MM-yyyy"),n.size=this.bytesToSize(n.size),n.selected=!1,{data:n,children:[]}}))).subscribe(e=>{this.dataSource=this.dataSourceBuilder.create(e),this.formControlSelectAll.valueChanges.pipe((0,I.O)(!1),(0,x.w)(n=>this.dataSource.connect(void 0).pipe((0,f.b)(o=>{o.forEach(a=>{a.data.selected=n})})))).subscribe(),console.debug("getAllScmRepos",e)})}onChangeActiveState(e){}updateSort(e){this.sortColumn=e.column,this.sortDirection=e.direction}getSortDirection(e){return this.sortColumn===e?this.sortDirection:s.mwv.NONE}getShowOn(e){return 400+100*e}exploreScans(e){this.apiService.runScan(e).subscribe(n=>{this.router.navigate(["active_protection",e],{relativeTo:this.activatedRoute.parent})})}runScan(e){console.debug("runScan",e),this.apiService.runScan(e).subscribe(n=>{this.router.navigate(["scans"],{relativeTo:this.activatedRoute.parent})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.aDd),t.Y36(M),t.Y36(h.uU),t.Y36(A.F0),t.Y36(A.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-active-protection"]],viewQuery:function(e,n){if(1&e&&t.Gf(Nl,5),2&e){let o;t.iGM(o=t.CRH())&&(n.selectCheckboxView=o)}},decls:38,vars:13,consts:[["fxLayoutAlign","center start",2,"padding","0","padding-top","1rem","padding-left","1rem"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["fxLayoutAlign","center center","fxLayoutGap","1rem","fxLayout","row",1,"search-input"],["placeholder","Search","status","primary","nbInput","","id","search",3,"nbFilterInput"],["fxLayoutAlign","center center"],["flagName","active_protection_state"],[2,"padding","0"],[3,"nbTreeGrid","nbSort","sort"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",3,"clickToToggle",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],["nbTreeGridColumnDef","select"],["style","width: 40px;","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridColumnDef","#"],["style","width: 80px;","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],[3,"nbTreeGridColumnDef"],["style","width: 300px;","nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],[3,"nbTreeGridColumnDef","showOn",4,"ngFor","ngForOf"],["nbTreeGridColumnDef","action"],["nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["style","height: 0; width: 40px;","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","","style","width: 40px;",4,"nbTreeGridCellDef"],["style","height: 0; width: 80px;","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","","style","width: 80px;",4,"nbTreeGridCellDef"],["style","width: 300px;  height: 0;","nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["style","width: 300px","nbTreeGridCell","",4,"nbTreeGridCellDef"],["style","height: 0","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],["nbTreeGridHeaderRow",""],["nbTreeGridRow","",3,"clickToToggle"],["nbTreeGridHeaderCell","",2,"width","40px"],[3,"formControl"],["nbTreeGridHeaderCell","",2,"width","80px"],["nbTreeGridHeaderCell","",2,"width","300px",3,"nbSortHeader"],[3,"nbTreeGridColumnDef","showOn"],["nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["nbTreeGridHeaderCell","",3,"nbSortHeader"],["nbTreeGridHeaderCell",""],["nbTreeGridHeaderCell","",2,"height","0","width","40px"],["nbTreeGridCell","",2,"width","40px"],[3,"ngModel","ngModelChange"],["selectCheckboxView",""],["nbTreeGridHeaderCell","",2,"height","0","width","80px"],["nbTreeGridCell","",2,"width","80px"],["nbTreeGridHeaderCell","",2,"width","300px","height","0",3,"nbSortHeader"],["nbTreeGridCell","",2,"width","300px"],["style","height: 0;","nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["nbTreeGridHeaderCell","",2,"height","0",3,"nbSortHeader"],["nbTreeGridCell",""],["nbTreeGridHeaderCell","",2,"height","0"],["shape","round","outline","","size","small","status","success"],["nbButton","",3,"click"],["icon","swap-outline"],["icon","arrow-right-outline"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card"),t.TgZ(1,"nb-card-header",0),t.TgZ(2,"div",1),t._uU(3," Repositories "),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"input",3),t.TgZ(6,"div",4),t._UZ(7,"app-activate-toggle",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"nb-card-header",6),t.TgZ(9,"table",7),t.NdJ("sort",function(a){return n.updateSort(a)}),t.YNc(10,Dl,1,0,"tr",8),t.YNc(11,Jl,1,1,"tr",9),t.ynx(12,10),t.YNc(13,Ql,2,1,"th",11),t.BQk(),t.ynx(14,12),t.YNc(15,zl,2,0,"th",13),t.BQk(),t.ynx(16,14),t.YNc(17,Rl,2,2,"th",15),t.BQk(),t.YNc(18,$l,2,2,"ng-container",16),t.ynx(19,17),t.YNc(20,jl,2,0,"th",18),t.BQk(),t.qZA(),t.qZA(),t.TgZ(21,"nb-card-body"),t.TgZ(22,"table",7),t.NdJ("sort",function(a){return n.updateSort(a)}),t.YNc(23,Yl,1,0,"tr",8),t.YNc(24,Gl,1,1,"tr",9),t.ynx(25,10),t.YNc(26,Hl,1,0,"th",19),t.YNc(27,Vl,3,1,"td",20),t.BQk(),t.ynx(28,12),t.YNc(29,Wl,1,0,"th",21),t.YNc(30,Xl,2,1,"td",22),t.BQk(),t.ynx(31,14),t.YNc(32,Kl,1,1,"th",23),t.YNc(33,ta,2,1,"td",24),t.BQk(),t.YNc(34,ia,3,2,"ng-container",16),t.ynx(35,17),t.YNc(36,oa,1,0,"th",25),t.YNc(37,ra,6,0,"td",26),t.BQk(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Q6J("nbFilterInput",n.dataSource),t.xp6(4),t.Q6J("nbTreeGrid",n.dataSource)("nbSort",n.dataSource),t.xp6(1),t.Q6J("nbTreeGridHeaderRowDef",n.allColumns),t.xp6(1),t.Q6J("nbTreeGridRowDefColumns",n.allColumns),t.xp6(5),t.Q6J("nbTreeGridColumnDef",n.customColumn),t.xp6(2),t.Q6J("ngForOf",n.defaultColumns),t.xp6(4),t.Q6J("nbTreeGrid",n.dataSource)("nbSort",n.dataSource),t.xp6(1),t.Q6J("nbTreeGridHeaderRowDef",n.allColumns),t.xp6(1),t.Q6J("nbTreeGridRowDefColumns",n.allColumns),t.xp6(7),t.Q6J("nbTreeGridColumnDef",n.customColumn),t.xp6(3),t.Q6J("ngForOf",n.defaultColumns))},directives:[s.Asz,s.ndF,_.Wh,_.yH,_.SQ,_.xw,s.h8i,s.WVR,Pt,s.D4l,s.LeH,s.Rky,s.faK,s.omC,s.iL,h.sg,s.yKW,s.oN1,s.CJ8,s.Snn,s.qpn,s.NTf,g.JJ,g.oH,s.exr,s.BIT,g.On,s.mnu,s.DPz,s.fMN],styles:["th button{text-transform:capitalize!important}tr[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}tr[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}tr[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]{border:0;margin:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;max-height:100vh;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin-left:0;margin-right:0;padding:0 0 30px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]     table thead{display:none}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.search-label[_ngcontent-%COMP%]{display:block}.search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-column-name[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 400px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width: 500px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width: 600px){.nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-column-size[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%], .nb-column-items[_ngcontent-%COMP%]{width:100%;display:flex;height:100%;flex:1 1}}"]}),i})(),aa=(()=>{class i{transform(e,n,o){return console.log("transform",e,n,o),o?(e||[]).filter(a=>n.split(",").some(c=>a.hasOwnProperty(c)&&new RegExp(o,"gi").test(a[c]))):e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"searchBusiness",type:i,pure:!0}),i})();const ca=["selectCheckboxView"],sa=function(i){return{data:i}};function da(i,l){if(1&i&&(t.TgZ(0,"nb-list-item"),t.TgZ(1,"div",8),t.TgZ(2,"div",9),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.GkF(5,10),t.qZA(),t.qZA(),t.qZA()),2&i){const e=l.$implicit;t.oxw();const n=t.MAs(9);t.xp6(3),t.hij(" ",null==e?null:e.name," "),t.xp6(2),t.Q6J("ngTemplateOutletContext",t.VKq(3,sa,e))("ngTemplateOutlet",n)}}function ua(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().data,a=t.oxw(),c=t.MAs(11);return a.open(c,o)}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().data;t.xp6(1),t.hij(" ",null==e||null==e.mapped_business||null==e.mapped_business.businessId?null:e.mapped_business.businessId.name," ")}}function pa(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().data,a=t.oxw(),c=t.MAs(11);return a.open(c,o)}),t._uU(1," None "),t.qZA()}}function ga(i,l){if(1&i&&(t.YNc(0,ua,2,1,"button",11),t.YNc(1,pa,2,0,"ng-template",null,12,t.W1O)),2&i){const e=l.data,n=t.MAs(2);t.Q6J("ngIf",null==e||null==e.mapped_business?null:e.mapped_business.businessId)("ngIfElse",n)}}function _a(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",16),t.TgZ(1,"button",19),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(),r=c.dialogRef,d=c.$implicit;return t.oxw().saveBusiness(r,null==d||null==d.data?null:d.data.uuid,null==a||null==a._id?null:a._id.$oid)}),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.name," ")}}function ma(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",15),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h5"),t._uU(3,"Select Business"),t.qZA(),t.qZA(),t.TgZ(4,"nb-card-header",16),t.TgZ(5,"div",17),t.TgZ(6,"input",18),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().query=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"nb-list"),t.TgZ(8,"nb-list-item",16),t.TgZ(9,"button",19),t.NdJ("click",function(){const o=t.CHM(e),a=o.dialogRef,c=o.$implicit;return t.oxw().saveBusiness(a,null==c||null==c.data?null:c.data.uuid,null)}),t._uU(10," None "),t.qZA(),t.qZA(),t.YNc(11,_a,3,1,"nb-list-item",20),t.ALo(12,"searchBusiness"),t.ALo(13,"async"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.query),t.xp6(5),t.Q6J("ngForOf",t.Dn7(12,2,t.lcZ(13,6,e.hawkiBusinesses),"name",e.query))}}function fa(i,l){if(1&i&&(t.TgZ(0,"nb-option",23),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function ha(i,l){if(1&i&&(t.TgZ(0,"nb-select",21),t.YNc(1,fa,2,2,"nb-option",22),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.hawkiProjects))}}let ba=(()=>{class i{constructor(e,n,o,a,c,r){this.dataSourceBuilder=e,this.apiService=n,this.datePipe=o,this.router=a,this.activatedRoute=c,this.dialogService=r,this.query="",this.projects=this.apiService.getAllScmProjects(),this.hawkiBusinesses=this.apiService.getBusinesses(),this.hawkiProjects=this.apiService.getProjects(),this.customColumn="repository",this.defaultColumns=["project name","language","description","created on","updated on","total scans","size"],this.allColumns=["select","#",this.customColumn,...this.defaultColumns,"action"],this.sortDirection=s.mwv.NONE,this.repositories=new g.Oe([]),this.formControlSelectAll=new g.NI(!0)}bytesToSize(e){if(0==e)return"0 Byte";let o=parseInt(""+Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,o))+" "+["Bytes","KB","MB","GB","TB"][o]}ngOnInit(){this.formControlSelectAll.valueChanges.pipe((0,I.O)(!1),(0,x.w)(e=>this.dataSource.connect(void 0).pipe((0,f.b)(n=>{n.forEach(o=>{o.data.selected=e})})))).subscribe(),this.apiService.getAllScmProjects().pipe((0,m.U)(e=>e.map((n,o)=>{var a;return n["project name"]=null===(a=null==n?void 0:n.project)||void 0===a?void 0:a.name,n.uuid=null==n?void 0:n.uuid,n.repository=null==n?void 0:n.full_name,n["#"]=o+1,n["created on"]=this.datePipe.transform(null==n?void 0:n.created_on,"dd-MM-yyyy"),n["updated on"]=this.datePipe.transform(null==n?void 0:n.updated_on,"dd-MM-yyyy"),n.size=this.bytesToSize(n.size),n.selected=!1,{data:n,children:[]}}))).subscribe(e=>{this.dataSource=this.dataSourceBuilder.create(e),console.debug("getAllScmRepos",e)})}onChangeActiveState(e){}updateSort(e){this.sortColumn=e.column,this.sortDirection=e.direction}getSortDirection(e){return this.sortColumn===e?this.sortDirection:s.mwv.NONE}getShowOn(e){return 400+100*e}runScan(e){console.debug("runScan",e),this.apiService.runScan(e).subscribe(n=>{this.router.navigate(["scans"],{relativeTo:this.activatedRoute.parent})})}open(e,n){console.log("value",n),this.dialogService.open(e,{context:{data:n}}).onClose.subscribe(o=>{this.query=""})}saveBusiness(e,n,o){this.apiService.updateBitbucketMapping({uuid:n,businessId:o}).pipe((0,f.b)(a=>(this.projects=Y.E,this.projects=this.apiService.getAllScmProjects(),a)),(0,f.b)(a=>{e.close()})).subscribe(),console.log("value",e,n)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.aDd),t.Y36(M),t.Y36(h.uU),t.Y36(A.F0),t.Y36(A.gz),t.Y36(s.Gln))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-bitbucket-integration"]],viewQuery:function(e,n){if(1&e&&t.Gf(ca,5),2&e){let o;t.iGM(o=t.CRH())&&(n.selectCheckboxView=o)}},decls:14,vars:3,consts:[["fxLayoutAlign","center"],["fxFlex","1 1 900px"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],[4,"ngFor","ngForOf"],["businessList",""],["businessListDialog",""],["projectList",""],["fxFlex","","fxLayout","row"],["fxFlex",""],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["fullWidth","","status","success","outline","","nbButton","",3,"click",4,"ngIf","ngIfElse"],["noneSelected",""],["fullWidth","","status","success","outline","","nbButton","",3,"click"],["fullWidth","","outline","","nbButton","",3,"click"],["size","medium"],[2,"padding","0","margin","0"],["fxLayoutAlign","center center","fxLayoutGap","1rem","fxLayout","row",1,"search-input"],["placeholder","Search","status","primary","nbInput","","id","search",3,"ngModel","ngModelChange"],["fxLayoutAlign","start center","ghost","","size","medium","nbButton","","fxFlex","",3,"click"],["style","padding: 0 ; margin: 0;",4,"ngFor","ngForOf"],["optionsPanelClass","optionsPanelClass","fullWidth","","placeholder","Select Type",1,"col-8"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"nb-card",1),t.TgZ(2,"nb-card-header",2),t.TgZ(3,"div",3),t._uU(4," Repositories Access Control "),t.qZA(),t.qZA(),t.TgZ(5,"nb-list"),t.YNc(6,da,6,5,"nb-list-item",4),t.ALo(7,"async"),t.qZA(),t.qZA(),t.qZA(),t.YNc(8,ga,3,2,"ng-template",null,5,t.W1O),t.YNc(10,ma,14,8,"ng-template",null,6,t.W1O),t.YNc(12,ha,3,3,"ng-template",null,7,t.W1O)),2&e&&(t.xp6(6),t.Q6J("ngForOf",t.lcZ(7,1,n.projects)))},directives:[_.Wh,s.Asz,_.yH,s.ndF,s.zP_,h.sg,s.qBV,_.xw,h.tP,h.O5,s.DPz,_.SQ,s.h8i,g.Fj,g.JJ,g.On,s.rs,s.q51],pipes:[h.Ov,aa],styles:["button[_ngcontent-%COMP%]{text-transform:capitalize!important}  th button{text-transform:capitalize!important}tr[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}tr[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}tr[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]{border:0;margin:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;max-height:100vh;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin-left:0;margin-right:0;padding:0 0 30px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]     table thead{display:none}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.search-label[_ngcontent-%COMP%]{display:block}.search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-column-name[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 400px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width: 500px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width: 600px){.nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-column-size[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%], .nb-column-items[_ngcontent-%COMP%]{width:23%}}"]}),i})();const va=["parent"];function xa(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11),t.TgZ(2,"button",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(),r=t.MAs(19);return c.openDialog(r,a)}),t._uU(3,"Run"),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=l.$implicit;t.xp6(5),t.hij(" ",null==e?null:e.name," ")}}function Ca(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11),t.TgZ(2,"button",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(),r=t.MAs(21);return c.openDialog(r,a)}),t._uU(3,"Run"),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=l.$implicit;t.xp6(5),t.hij(" ",null==e?null:e.name," ")}}function Za(i,l){1&i&&(t.TgZ(0,"nb-card-body"),t.TgZ(1,"span",21),t._uU(2," Application URL "),t._UZ(3,"br"),t._UZ(4,"input",22,23),t.qZA(),t.qZA())}function Ta(i,l){1&i&&(t.TgZ(0,"nb-card-body"),t.TgZ(1,"span",21),t._uU(2," Git Repository "),t._UZ(3,"br"),t._UZ(4,"input",24),t.qZA(),t.qZA())}function Aa(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",15),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h4",16),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.YNc(5,Za,6,0,"nb-card-body",17),t.YNc(6,Ta,5,0,"nb-card-body",17),t.TgZ(7,"nb-card-footer",18),t.TgZ(8,"div",19),t.TgZ(9,"button",20),t.NdJ("click",function(){const o=t.CHM(e);return o.dialogRef.close([o.$implicit])}),t._uU(10,"Run"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("formGroup",n.dialogFormGroup),t.xp6(4),t.hij("Execute ",null==e?null:e.name,""),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.required_field?null:e.required_field.indexOf("URL"))>=0),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.required_field?null:e.required_field.indexOf("REPO"))>=0),t.xp6(3),t.Q6J("disabled",n.dialogFormGroup.invalid)}}function ka(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",15),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h4",16),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"nb-card-body"),t.TgZ(6,"span",21),t._uU(7," Application URL "),t._UZ(8,"br"),t._UZ(9,"input",22,23),t.qZA(),t.qZA(),t.TgZ(11,"nb-card-body"),t.TgZ(12,"span",21),t._uU(13," Git Repository "),t._UZ(14,"br"),t._UZ(15,"input",24),t.qZA(),t.qZA(),t.TgZ(16,"nb-card-footer",18),t.TgZ(17,"div",19),t.TgZ(18,"button",20),t.NdJ("click",function(){const o=t.CHM(e);return o.dialogRef.close([o.$implicit,!0])}),t._uU(19,"Run"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("formGroup",n.dialogFormGroup),t.xp6(4),t.hij("Execute ",null==e?null:e.name,""),t.xp6(14),t.Q6J("disabled",n.dialogFormGroup.invalid)}}let ya=(()=>{class i{constructor(e,n,o,a){this.apiService=e,this.dialogService=n,this.router=o,this.activatedRoute=a,this.dialogFormGroup=new g.cw({url:new g.NI("",[g.kI.required]),repo:new g.NI("",[g.kI.required])}),this.loadingGeneric=!1,this.selectedApp=this.apiService.selectedApp.pipe((0,T.h)(c=>!!(null==c?void 0:c.identifier)),(0,m.U)(c=>{var r;return console.log("map 1",c),{businessId:null==c?void 0:c.businessId,projectId:null==c?void 0:c.projectId,platformId:null==c?void 0:c.platformId,applicationId:null===(r=null==c?void 0:c.application)||void 0===r?void 0:r.applicationId}}),(0,q.d)()),this.external_tools={},this.email_notifications=new g.NI(void 0),this.active_state=new g.NI(void 0),this.external_tools_list=this.apiService.getExternalTools(),this.external_tools_devsec_list=this.apiService.getExternalDevSecTools().pipe((0,m.U)(c=>c.tools),(0,m.U)(c=>c.map(r=>({name:Object.keys(r)[0],parse:r.PARSE})))),this.canSave=!1,this.formEnabled=!1,this.subscription_1=O.w0.EMPTY,this.subscription_2=O.w0.EMPTY,this.subscription_3=O.w0.EMPTY,this.appUrl=this.selectedApp.pipe((0,x.w)(c=>this.apiService.getDevsecopsDynamicScanData(c).pipe((0,m.U)(r=>(console.log("map 1",r),(null==r?void 0:r.APP_URL)||""))))),this.gitRepo=this.selectedApp.pipe((0,x.w)(c=>this.apiService.getDevsecopsStaticScanData(c).pipe((0,m.U)(r=>(console.log("map 1",r),(null==r?void 0:r.GIT_URL)||"")))))}ngOnDestroy(){this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.subscription_3.unsubscribe()}ngOnInit(){this.dialogFormGroup.reset(),this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.subscription_3.unsubscribe(),this.loadingGeneric=!0}runExternalTool(e,n,o){this.subscription_1=this.selectedApp.pipe((0,m.U)(a=>(console.log("map 2",a),a.toolId=e._id.$oid,a.scan_data={URL:n,REPO:o},console.log("runExternalTool",a,e),a)),(0,x.w)(a=>this.apiService.runExtetnalTool(a))).subscribe(a=>{console.log("nbigating to",["external_tool_scans",a]),this.router.navigate(["external_tool_scans",a],{relativeTo:this.activatedRoute.parent})})}runExternalToolNew(e,n,o){this.subscription_1=this.selectedApp.pipe((0,m.U)(a=>{let c="";try{c=new URL(n).hostname}catch(u){c=n}console.log("map 2",a);let r="_EXT_"+e.name,d=e.parse;return a.toolId=e.name,a.parse=d,a.scan_data={APP_URL:n,DOMAIN:c,bucket_env:0},a.scan_data[r]="True",console.log("runExternalTool",a,e),a}),(0,x.w)(a=>this.apiService.runExtetnalToolNew(a))).subscribe(a=>{console.log("nbigating to",["external_tool_scans",a])})}openDialog(e,n){console.log("open",e,n,this.dialogService),this.subscription_2=(0,D.a)([this.appUrl,this.gitRepo]).pipe((0,P.q)(1)).subscribe(o=>{var a;console.log("merge",o),this.dialogFormGroup.setControl("url",new g.NI(o[0],[g.kI.required])),this.dialogFormGroup.setControl("repo",new g.NI(o[1],[g.kI.required])),null===(a=this.dialogRef)||void 0===a||a.close(),this.dialogRef=this.dialogService.open(e,{context:n}),this.subscription_3=this.dialogRef.onClose.subscribe(c=>{if(console.log("Closing dialog",c,n),!c)return void this.dialogFormGroup.reset();let r=this.dialogFormGroup.value,d=null==r?void 0:r.url,u=null==r?void 0:r.repo;console.log("_runExternalTool",d,u),this.dialogFormGroup.reset(),1==(null==c?void 0:c.length)?this.runExternalTool(n,d,u):2==(null==c?void 0:c.length)&&this.runExternalToolNew(n,d,u)})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(s.Gln),t.Y36(A.F0),t.Y36(A.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-external-tools-runner"]],viewQuery:function(e,n){if(1&e&&t.Gf(va,5),2&e){let o;t.iGM(o=t.CRH())&&(n.parent=o.first)}},decls:22,vars:6,consts:[["fxFill","","fxLayout","column","fxLayoutGap","2rem",2,"padding","2rem"],["parent",""],["nbSpinnerStatus","danger"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","","fxLayoutAlign","center","fxLayout","row"],["fxLayoutGap","2rem","fxLayout","column","fxFlex",""],[4,"ngFor","ngForOf"],["toolRunnerDialog",""],["toolNewRunnerDialog",""],["fxLayoutGap","2rem","fxLayoutAlign","start center","fxFlex","","fxLayout","row"],["nbButton","","shape","round","outline","","size","small","status","success",3,"click"],[1,"text"],[1,"text",2,"text-transform","capitalize"],[1,"dialog",3,"formGroup"],[1,"field"],[4,"ngIf"],["fxLayoutAlign","end"],[1,"row"],["nbButton","","size","small","status","danger",3,"disabled","click"],[1,"subheading"],["formControlName","url","fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Url",2,"margin-top","2rem"],["appUrlInput",""],["formControlName","repo","fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Git Url",2,"margin-top","2rem"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1),t.TgZ(2,"nb-card",2),t.TgZ(3,"nb-card-header",3),t.TgZ(4,"div",4),t._uU(5," Add-on Tools "),t.qZA(),t.qZA(),t.TgZ(6,"nb-card-body",5),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t.ynx(9),t.YNc(10,xa,6,1,"ng-container",8),t.ALo(11,"async"),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"nb-card-body",5),t.TgZ(13,"div",6),t.TgZ(14,"div",7),t.ynx(15),t.YNc(16,Ca,6,1,"ng-container",8),t.ALo(17,"async"),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,Aa,11,5,"ng-template",null,9,t.W1O),t.YNc(20,ka,20,3,"ng-template",null,10,t.W1O)),2&e&&(t.xp6(10),t.Q6J("ngForOf",t.lcZ(11,2,n.external_tools_list)),t.xp6(6),t.Q6J("ngForOf",t.lcZ(17,4,n.external_tools_devsec_list)))},directives:[_.s9,_.xw,_.SQ,s.Asz,s.ndF,_.Wh,_.yH,s.yKW,h.sg,s.DPz,g.JL,g.sg,h.O5,s.XWE,g.Fj,s.h8i,g.JJ,g.u],pipes:[h.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:cente}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem;padding-bottom:30px;padding-top:30px}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin:40px}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%]{color:#fff}._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;margin-left:0;padding-left:0;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 20px 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-toggle[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:20px}nb-toggle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-transform:capitalize}.text[_ngcontent-%COMP%]{font-family:var(--toggle-text-font-family);font-size:var(--toggle-text-font-size);font-weight:var(--toggle-text-font-weight);line-height:var(--toggle-text-line-height);text-transform:capitalize}h6[_ngcontent-%COMP%]{font-weight:500;font-size:1.4rem;line-height:2rem;padding:0;margin:40px 40px 40px 0}']}),i})();function wa(i,l){if(1&i&&(t.TgZ(0,"nb-tab",3),t.ynx(1),t.TgZ(2,"code"),t._uU(3),t.ALo(4,"async"),t.qZA(),t.BQk(),t.qZA()),2&i){const e=l.$implicit;t.Q6J("tabTitle",null==e||null==e.name?null:e.name.split(".")[0]),t.xp6(3),t.hij(" ",t.lcZ(4,2,e.download_url)," ")}}function Ma(i,l){if(1&i&&(t.TgZ(0,"nb-card"),t.TgZ(1,"nb-card-body",1),t.TgZ(2,"nb-tabset"),t.YNc(3,wa,5,4,"nb-tab",2),t.qZA(),t.qZA(),t.qZA()),2&i){const e=l.ngIf;t.xp6(3),t.Q6J("ngForOf",e.files)}}let V=(()=>{class i{constructor(e,n,o,a){this.apiService=e,this.activatedRoute=n,this.router=o,this.dialogService=a,this.MINIO_URL=et.N.minio_url,this.selectedBuild$=new F.X(void 0),this.selectedBuild=this.selectedBuild$.pipe((0,f.b)(c=>{console.log("__selectedBuild","ngOnInit","Obs")})),this.buildDetails=this.selectedBuild.pipe((0,x.w)(c=>(console.log("buildDetails",c),c?this.apiService.getBuildById(c.buildId).pipe((0,f.b)(r=>{console.log("buildDetails",r)}),(0,m.U)(r=>this.apiService.buildTransformerPipe(r)),(0,m.U)(r=>this.apiService.buildDetailedPipe(r)),(0,q.d)()):(0,N.of)(c)))),this.subscription=O.w0.EMPTY}ngOnInit(){this.subscription=(0,D.a)([this.apiService.selectedBuildId.pipe((0,f.b)(e=>{this.selectedBuild$.next(void 0)}),(0,T.h)(e=>!!e)),this.apiService.selectedApp.pipe((0,f.b)(e=>{this.selectedBuild$.next(void 0)}),(0,m.U)(e=>null==e?void 0:e.identifier),(0,T.h)(e=>!!e))]).subscribe(e=>{console.log("combineLatest",e),console.log("!__selectedBuild",{applicationId:e[1],buildId:e[0]}),this.selectedBuild$.next({applicationId:e[1],buildId:e[0]})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(A.gz),t.Y36(A.F0),t.Y36(s.Gln))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-log-stream"]],decls:2,vars:3,consts:[[4,"ngIf"],["fxLayoutGap","20px","fxLayout","column",2,"padding","2rem"],[3,"tabTitle",4,"ngFor","ngForOf"],[3,"tabTitle"]],template:function(e,n){1&e&&(t.YNc(0,Ma,4,1,"nb-card",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n.buildDetails))},directives:[h.O5,s.Asz,s.yKW,_.SQ,_.xw,s.kyn,h.sg,s.TR4],pipes:[h.Ov],styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";.field[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:400;color:var(--text-hint-color);padding:.5rem .5rem .5rem 10px;border-left:4px solid var(--color-basic-200);margin-bottom:1rem}.field_details[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:500;padding:.5rem .5rem .5rem 20px;color:var(--text-basic-color)}nb-card[_ngcontent-%COMP%]{margin:0!important;max-height:calc(100vh - 4rem);background:var(--background-basic-color-2)!important}nb-card-header[_ngcontent-%COMP%]{background:var(--background-basic-color-1)!important}nb-accordion-item[_ngcontent-%COMP%]{background:var(--background-basic-color-4)!important;margin-bottom:1rem}nb-accordion-item-header[_ngcontent-%COMP%]{background:var(--background-basic-color-3)!important;padding:1rem}nb-accordion-item-header[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-2)!important}.chip[_ngcontent-%COMP%]{font-weight:500;color:#fff;background-color:var(--color-primary-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px}.sub_chip[_ngcontent-%COMP%]{font-weight:500;color:var(--color-basic-200);background-color:var(--color-danger-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:1rem 5px 5px;border-radius:9px}hr[_ngcontent-%COMP%]{display:block;height:1px;border:0;border-top:1px solid var(--text-alternate-color);margin:1em 0 1rem;padding:0}.item[_ngcontent-%COMP%]{border-radius:.3rem;font-size:1rem;line-height:1.5rem;padding:var(--button-ghost-medium-padding);padding-right:0!important;max-lines:2;white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis}.item[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:1s}button[_ngcontent-%COMP%]{text-transform:none!important;text-align:start;justify-content:start;overflow-x:hidden}.text-interactive[_ngcontent-%COMP%]{color:var(--text-warning-color);font-weight:550}.status-tag[_ngcontent-%COMP%]{color:var(--text-basic-color)!important}.findingstats[_ngcontent-%COMP%]{min-width:0;display:flex}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize!important}']}),i})();const Oa=["parent"];function Pa(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12),t.TgZ(2,"button",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2),r=t.MAs(14);return c.openDialog(r,a)}),t._uU(3,"Run"),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=l.$implicit;t.xp6(5),t.hij(" ",e.alias," ")}}function Ia(i,l){if(1&i&&(t.TgZ(0,"nb-card-body",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t.ynx(3),t.YNc(4,Pa,6,1,"ng-container",9),t.ALo(5,"async"),t.BQk(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,e.external_tools_list))}}function qa(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12),t.TgZ(2,"button",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(),r=t.MAs(16);return c.openDialog(r,a)}),t._uU(3,"Run"),t.qZA(),t.TgZ(4,"div",15),t._uU(5),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=l.$implicit;t.xp6(5),t.hij(" ",e.alias," ")}}function Sa(i,l){1&i&&(t.TgZ(0,"nb-card-body"),t.TgZ(1,"span",22),t._uU(2," Application URL "),t._UZ(3,"br"),t._UZ(4,"input",23,24),t.qZA(),t.qZA())}function Fa(i,l){1&i&&(t.TgZ(0,"nb-card-body"),t.TgZ(1,"span",22),t._uU(2," Git Repository "),t._UZ(3,"br"),t._UZ(4,"input",25),t.qZA(),t.qZA())}function La(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",16),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h4",17),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.YNc(5,Sa,6,0,"nb-card-body",18),t.YNc(6,Fa,5,0,"nb-card-body",18),t.TgZ(7,"nb-card-footer",19),t.TgZ(8,"div",20),t.TgZ(9,"button",21),t.NdJ("click",function(){const o=t.CHM(e);return o.dialogRef.close([o.$implicit])}),t._uU(10,"Run"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("formGroup",n.dialogFormGroup),t.xp6(4),t.hij("Execute ",e.alias,""),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.required_field?null:e.required_field.indexOf("URL"))>=0),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.required_field?null:e.required_field.indexOf("REPO"))>=0),t.xp6(3),t.Q6J("disabled",n.dialogFormGroup.invalid)}}function Ua(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",16),t.TgZ(1,"nb-card-header"),t.TgZ(2,"h4",17),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"nb-card-body"),t.TgZ(6,"span",22),t._uU(7," Application URL "),t._UZ(8,"br"),t._UZ(9,"input",23,24),t.qZA(),t.qZA(),t.TgZ(11,"nb-card-body"),t.TgZ(12,"span",22),t._uU(13," Git Repository "),t._UZ(14,"br"),t._UZ(15,"input",25),t.qZA(),t.qZA(),t.TgZ(16,"nb-card-footer",19),t.TgZ(17,"div",20),t.TgZ(18,"button",21),t.NdJ("click",function(){const o=t.CHM(e);return o.dialogRef.close([o.$implicit,!0])}),t._uU(19,"Run"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("formGroup",n.dialogFormGroup),t.xp6(4),t.hij("Execute ",e.alias,""),t.xp6(14),t.Q6J("disabled",n.dialogFormGroup.invalid)}}let Xt=(()=>{class i{constructor(e,n,o,a){this.apiService=e,this.dialogService=n,this.router=o,this.activatedRoute=a,this.dialogFormGroup=new g.cw({url:new g.NI("",[g.kI.required]),repo:new g.NI("",[g.kI.required])}),this.loadingGeneric=!1,this.selectedApp=this.apiService.selectedApp.pipe((0,T.h)(c=>!!(null==c?void 0:c.identifier)),(0,m.U)(c=>{var r;return console.log("map 1",c),{businessId:null==c?void 0:c.businessId,projectId:null==c?void 0:c.projectId,platformId:null==c?void 0:c.platformId,applicationId:null===(r=null==c?void 0:c.application)||void 0===r?void 0:r.applicationId}}),(0,q.d)()),this.external_tools={},this.email_notifications=new g.NI(void 0),this.active_state=new g.NI(void 0),this.external_tools_list=this.apiService.getExternalTools(),this.external_tools_devsec_list=this.apiService.getExternalDevSecTools().pipe((0,m.U)(c=>c.tools),(0,m.U)(c=>c.map(r=>{let d=Object.keys(r).filter(u=>"PARSE"!==u).filter(u=>"alias"!==u)[0];return{name:d,alias:d.toLowerCase(),parse:r.PARSE}}))),this.canSave=!1,this.formEnabled=!1,this.subscription_1=O.w0.EMPTY,this.subscription_2=O.w0.EMPTY,this.subscription_3=O.w0.EMPTY,this.appUrl=this.selectedApp.pipe((0,x.w)(c=>this.apiService.getDevsecopsDynamicScanData(c).pipe((0,m.U)(r=>(console.log("map 1",r),(null==r?void 0:r.APP_URL)||""))))),this.gitRepo=this.selectedApp.pipe((0,x.w)(c=>this.apiService.getDevsecopsStaticScanData(c).pipe((0,m.U)(r=>(console.log("map 1",r),(null==r?void 0:r.GIT_URL)||"")))))}ngOnDestroy(){this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.subscription_3.unsubscribe()}ngOnInit(){this.dialogFormGroup.reset(),this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.subscription_3.unsubscribe(),this.loadingGeneric=!0}runExternalTool(e,n,o){this.subscription_1=this.selectedApp.pipe((0,m.U)(a=>(console.log("map 2",a),a.toolId=e._id.$oid,a.scan_data={URL:n,REPO:o},console.log("runExternalTool",a,e),a)),(0,x.w)(a=>this.apiService.runExtetnalTool(a))).subscribe(a=>{console.log("nbigating to",["external_tool_scans",a]),this.router.navigate(["external_tool_scans",a],{relativeTo:this.activatedRoute.parent})})}runExternalToolNew(e,n,o){this.subscription_1=this.selectedApp.pipe((0,m.U)(a=>{let c="";try{c=new URL(n).hostname}catch(u){c=n}console.log("map 2",a);let r="_EXT_"+e.name,d=e.parse;return a.toolId=e.name,a.parse=d,a.scan_data={APP_URL:n,DOMAIN:c,bucket_env:0},a.scan_data[r]="True",console.log("runExternalTool",a,e),a}),(0,x.w)(a=>this.apiService.runExtetnalToolNew(a))).subscribe(a=>{console.log("nbigating to",["external_tool_scans",a]),this.router.navigate(["external_tool_scans_new",a],{relativeTo:this.activatedRoute.parent})})}openDialog(e,n){console.log("open",e,n,this.dialogService),this.subscription_2=(0,D.a)([this.appUrl,this.gitRepo]).pipe((0,P.q)(1)).subscribe(o=>{var a;console.log("merge",o),this.dialogFormGroup.setControl("url",new g.NI(o[0],[g.kI.required])),this.dialogFormGroup.setControl("repo",new g.NI(o[1],[g.kI.required])),null===(a=this.dialogRef)||void 0===a||a.close(),this.dialogRef=this.dialogService.open(e,{context:n}),this.subscription_3=this.dialogRef.onClose.subscribe(c=>{if(console.log("Closing dialog",c,n),!c)return void this.dialogFormGroup.reset();let r=this.dialogFormGroup.value,d=null==r?void 0:r.url,u=null==r?void 0:r.repo;console.log("_runExternalTool",d,u),this.dialogFormGroup.reset(),1==(null==c?void 0:c.length)?this.runExternalTool(n,d,u):2==(null==c?void 0:c.length)&&this.runExternalToolNew(n,d,u)})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(s.Gln),t.Y36(A.F0),t.Y36(A.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["add-on-tools-runner"]],viewQuery:function(e,n){if(1&e&&t.Gf(Oa,5),2&e){let o;t.iGM(o=t.CRH())&&(n.parent=o.first)}},decls:17,vars:4,consts:[["fxFill","","fxLayout","column","fxLayoutGap","2rem",2,"padding","2rem"],["parent",""],["nbSpinnerStatus","danger"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","","fxLayoutAlign","center","fxLayout","row"],["fxLayoutGap","2rem","fxLayout","column","fxFlex",""],[4,"ngFor","ngForOf"],["toolRunnerDialog",""],["toolNewRunnerDialog",""],["fxLayoutGap","2rem","fxLayoutAlign","start center","fxFlex","","fxLayout","row"],["nbButton","","shape","round","outline","","size","small","status","success",3,"click"],[1,"text"],[1,"text",2,"text-transform","capitalize"],[1,"dialog",3,"formGroup"],[1,"field"],[4,"ngIf"],["fxLayoutAlign","end"],[1,"row"],["nbButton","","size","small","status","danger",3,"disabled","click"],[1,"subheading"],["formControlName","url","fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Url",2,"margin-top","2rem"],["appUrlInput",""],["formControlName","repo","fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Git Url",2,"margin-top","2rem"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1),t.TgZ(2,"nb-card",2),t.TgZ(3,"nb-card-header",3),t.TgZ(4,"div",4),t._uU(5," External Tools "),t.qZA(),t.qZA(),t.YNc(6,Ia,6,3,"nb-card-body",5),t.TgZ(7,"nb-card-body",6),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.ynx(10),t.YNc(11,qa,6,1,"ng-container",9),t.ALo(12,"async"),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(13,La,11,5,"ng-template",null,10,t.W1O),t.YNc(15,Ua,20,3,"ng-template",null,11,t.W1O)),2&e&&(t.xp6(6),t.Q6J("ngIf",!1),t.xp6(5),t.Q6J("ngForOf",t.lcZ(12,2,n.external_tools_devsec_list)))},directives:[_.s9,_.xw,_.SQ,s.Asz,s.ndF,_.Wh,_.yH,h.O5,s.yKW,h.sg,s.DPz,g.JL,g.sg,s.XWE,g.Fj,s.h8i,g.JJ,g.u],pipes:[h.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:cente}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem;padding-bottom:30px;padding-top:30px}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin:40px}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%]{color:#fff}._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;margin-left:0;padding-left:0;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 20px 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-toggle[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:20px}nb-toggle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-transform:capitalize}.text[_ngcontent-%COMP%]{font-family:var(--toggle-text-font-family);font-size:var(--toggle-text-font-size);font-weight:var(--toggle-text-font-weight);line-height:var(--toggle-text-line-height);text-transform:capitalize}h6[_ngcontent-%COMP%]{font-weight:500;font-size:1.4rem;line-height:2rem;padding:0;margin:40px 40px 40px 0}']}),i})();function Ba(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item"),t.TgZ(1,"div",6),t.TgZ(2,"div",7),t.TgZ(3,"div",8),t._uU(4),t.qZA(),t.TgZ(5,"div",9),t.TgZ(6,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),a=t.MAs(11);return o.openDialog(a)}),t._uU(7),t.qZA(),t.TgZ(8,"button",11),t._uU(9," Explore "),t.qZA(),t.TgZ(10,"button",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().removeUrl(null==a||null==a._id?null:a._id.$oid)}),t._uU(11," Delete "),t.qZA(),t.TgZ(12,"button",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().runQuickDynamicScan(null==a?null:a.domain)}),t._uU(13," Scan "),t.qZA(),t.TgZ(14,"button",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().runScan(null==a?null:a.domain)}),t._uU(15," Recon "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.domain," "),t.xp6(3),t.hij(" ",null==e?null:e.total_subdomains," "),t.xp6(1),t.Q6J("routerLink",null==e||null==e._id?null:e._id.$oid)}}function Na(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",14),t.TgZ(1,"nb-card-header",15),t.TgZ(2,"div",1),t._uU(3," Add Domain "),t.qZA(),t.qZA(),t.TgZ(4,"nb-card-body",16),t.TgZ(5,"div",17),t.TgZ(6,"div",18),t._uU(7," Website Url "),t.qZA(),t.TgZ(8,"div",16),t.TgZ(9,"nb-form-field",19),t.TgZ(10,"span",20),t._uU(11," Url "),t.qZA(),t._UZ(12,"input",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"nb-card-footer",22),t.TgZ(14,"button",23),t.NdJ("click",function(){return t.CHM(e).dialogRef.close()}),t._uU(15," Cancel "),t._UZ(16,"nb-icon",24),t.qZA(),t.TgZ(17,"button",25),t.NdJ("click",function(){const a=t.CHM(e).dialogRef;return t.oxw().addUrl(a)}),t._uU(18," Save "),t._UZ(19,"nb-icon",26),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(12),t.Q6J("formControl",e.urlFormField),t.xp6(5),t.Q6J("disabled",null==e.urlFormField?null:e.urlFormField.invalid)}}const Da=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?|^((http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;let Ja=(()=>{class i{constructor(e,n,o,a){this.dialogService=e,this.apiService=n,this.router=o,this.activatedRoute=a,this.urlFormField=new g.NI("",[g.kI.required,g.kI.pattern(Da)]),this.selectedApp=this.apiService.selectedApp.pipe((0,f.b)(c=>{console.log(c)}),(0,T.h)(c=>!!(null==c?void 0:c.identifier)),(0,m.U)(c=>{var r;return{businessId:null==c?void 0:c.businessId,projectId:null==c?void 0:c.projectId,platformId:null==c?void 0:c.platformId,applicationId:null===(r=null==c?void 0:c.application)||void 0===r?void 0:r.applicationId}})),this.assetUrls=this.selectedApp.pipe((0,P.q)(1),(0,H.z)(c=>{var r;return this.apiService.getAssetUrls(null===(r=null==c?void 0:c.applicationId)||void 0===r?void 0:r.$oid).pipe()}))}ngOnInit(){}openDialog(e){this.dialogService.open(e,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{}}).onClose.subscribe(n=>{this.urlFormField.setValue("")})}addUrl(e){var n;let o=this.urlFormField.value;0==o.indexOf("http://")||0==o.indexOf("https://")||(o="http://"+o);let a=null===(n=new URL(o))||void 0===n?void 0:n.hostname;this.selectedApp.pipe((0,f.b)(c=>{console.log(a)}),(0,H.z)(c=>{var r;return this.apiService.addAssetUrl(a,null===(r=null==c?void 0:c.applicationId)||void 0===r?void 0:r.$oid).pipe((0,m.U)(d=>c))}),(0,f.b)(c=>{null==e||e.close()}),(0,P.q)(1)).subscribe(c=>{var r;this.assetUrls=this.apiService.getAssetUrls(null===(r=null==c?void 0:c.applicationId)||void 0===r?void 0:r.$oid)})}removeUrl(e){this.selectedApp.pipe((0,H.z)(n=>{var o;return this.apiService.removeAssetUrl(null===(o=null==n?void 0:n.applicationId)||void 0===o?void 0:o.$oid,e).pipe((0,m.U)(a=>n))}),(0,f.b)(n=>{}),(0,P.q)(1)).subscribe(n=>{var o;this.assetUrls=this.apiService.getAssetUrls(null===(o=null==n?void 0:n.applicationId)||void 0===o?void 0:o.$oid)})}runScan(e){this.selectedApp.pipe((0,P.q)(1),(0,H.z)(n=>(n.target=e,this.apiService.runRecon(n)))).subscribe(n=>{this.router.navigate(["../","recon_jobs"],{relativeTo:this.activatedRoute})})}runQuickDynamicScan(e){this.selectedApp.pipe((0,P.q)(1),(0,H.z)(n=>(n.target=e,this.apiService.runQuickDynamicScan(n)))).subscribe(n=>{this.router.navigate(["../","quick_dynamic_scan"],{relativeTo:this.activatedRoute})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.Gln),t.Y36(M),t.Y36(A.F0),t.Y36(A.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-assets-dns"]],decls:12,vars:3,consts:[["fxFill",""],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["status","primary","size","small","nbButton","","hero","",3,"click"],["icon","plus-outline"],[4,"ngFor","ngForOf"],["addDomainDialog",""],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayoutAlign","space-between"],["fxFlex",""],["fxLayoutGap","0.4rem"],["status","success","size","tiny","nbButton","","outline","",3,"click"],["status","secondary","size","tiny","nbButton","","control","",3,"routerLink"],["status","danger","size","tiny","nbButton","","control","",3,"click"],["status","primary","size","tiny","nbButton","","control","",3,"click"],["size","medium"],["fxLayoutAlign","center space-between"],["fxFlex","","fxLayoutAlign","center center"],["fxFlex","","fxLayoutGap","20px","fxLayout","column"],["fxFlex","",1,"text-hint",2,"font-size","1.2rem"],["fxFlex","","nbSpinnerStatus","danger"],["nbPrefix","",1,"text-hint"],["status","primary","fullWidth","","type","text","nbInput","","fieldSize","giant","placeholder","https://example.your-website.com/",3,"formControl"],["fxLayoutGap","20px","fxLayoutAlign","end"],["status","danger","size","small","nbSuffix","","nbButton","","hero","",3,"click"],["icon","refresh-outline"],["status","primary","size","small","nbSuffix","","nbButton","","filled","",3,"disabled","click"],["icon","checkmark-outline"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header"),t.TgZ(2,"div",1),t._uU(3," DNS Assets "),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(11);return n.openDialog(c)}),t._uU(5," Add "),t._UZ(6,"nb-icon",3),t.qZA(),t.qZA(),t.TgZ(7,"nb-list"),t.YNc(8,Ba,16,3,"nb-list-item",4),t.ALo(9,"async"),t.qZA(),t.qZA(),t.YNc(10,Na,20,2,"ng-template",null,5,t.W1O)}2&e&&(t.xp6(8),t.Q6J("ngForOf",t.lcZ(9,1,n.assetUrls)))},directives:[s.Asz,_.s9,s.ndF,_.yH,_.Wh,s.DPz,s.fMN,s.zP_,h.sg,s.qBV,_.xw,_.SQ,A.rH,s.yKW,s.jBG,s.t3q,s.h8i,g.Fj,g.JJ,g.oH,s.XWE,s.yyc],pipes:[h.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:center}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{cursor:pointer;border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:2rem}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%]{color:#fff}._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 0 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4);padding:1rem}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}']}),i})();function Qa(i,l){1&i&&t._UZ(0,"nb-icon",12)}function za(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item"),t.TgZ(1,"div",6),t.TgZ(2,"div",7),t.TgZ(3,"div",8),t._uU(4),t.qZA(),t.TgZ(5,"div",9),t.YNc(6,Qa,1,0,"nb-icon",10),t.TgZ(7,"button",11),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).runQuickDynamicScan(null==a?null:a.domain)}),t._uU(8," Scan "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.domain," "),t.xp6(2),t.Q6J("ngIf",null==e||null==e.last_in_process_build?null:e.last_in_process_build._id)}}function Ra(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",1),t.TgZ(1,"nb-card-header"),t.TgZ(2,"div",2),t._uU(3," DNS Discovered "),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){const a=t.CHM(e).ngIf;return t.oxw().runAll(a)}),t._uU(5," Run All "),t._UZ(6,"nb-icon",4),t.qZA(),t.qZA(),t.TgZ(7,"nb-list"),t.YNc(8,za,9,2,"nb-list-item",5),t.qZA(),t.qZA()}if(2&i){const e=l.ngIf;t.xp6(8),t.Q6J("ngForOf",e)}}let Kt=(()=>{class i{constructor(e,n,o,a){this.dialogService=e,this.apiService=n,this.router=o,this.activatedRoute=a,this.selectedApp=this.apiService.selectedApp.pipe((0,f.b)(c=>{console.log(c)}),(0,T.h)(c=>!!(null==c?void 0:c.identifier)),(0,m.U)(c=>{var r;return{businessId:null==c?void 0:c.businessId,projectId:null==c?void 0:c.projectId,platformId:null==c?void 0:c.platformId,applicationId:null===(r=null==c?void 0:c.application)||void 0===r?void 0:r.applicationId}}))}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{let n=e.get("asset_id");console.debug("activatedRoute",n),this.assetUrls=this.apiService.getDiscoveredAssets(n).pipe()})}openDialog(e){this.dialogService.open(e,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{}}).onClose.subscribe(n=>{})}runQuickDynamicScan(e){this.selectedApp.pipe((0,P.q)(1),(0,H.z)(n=>(n.target=e,this.apiService.runQuickDynamicScan(n)))).subscribe(n=>{})}runAll(e){e.forEach(n=>{this.runQuickDynamicScan(null==n?void 0:n.domain)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.Gln),t.Y36(M),t.Y36(A.F0),t.Y36(A.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-assets-dns-discovered"]],decls:2,vars:3,consts:[["fxFill","",4,"ngIf"],["fxFill",""],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["status","primary","size","small","nbButton","","hero","",3,"click"],["icon","plus-outline"],[4,"ngFor","ngForOf"],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayoutAlign","space-between"],["fxFlex",""],["fxLayoutAlign","center center","fxLayoutGap","0.4rem"],["class","dot spin","status","info","icon","close-circle-outline",4,"ngIf"],["status","success","size","tiny","nbButton","","control","",3,"click"],["status","info","icon","close-circle-outline",1,"dot","spin"]],template:function(e,n){1&e&&(t.YNc(0,Ra,9,1,"nb-card",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n.assetUrls))},directives:[h.O5,s.Asz,_.s9,s.ndF,_.yH,_.Wh,s.DPz,s.fMN,s.zP_,h.sg,s.qBV,_.xw,_.SQ],pipes:[h.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:center}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{cursor:pointer;border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:2rem}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%]{color:#fff}._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 0 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4);padding:1rem}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}.dot[_ngcontent-%COMP%]{font-size:40px;transition:.2s}.spin[_ngcontent-%COMP%]{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}']}),i})();const Ea=["formDomainFieldRef"],$a=["editTmpl"];function ja(i,l){1&i&&(t.TgZ(0,"div",37),t.TgZ(1,"div",38),t.TgZ(2,"div",39),t._UZ(3,"div",40),t._UZ(4,"div",41),t._UZ(5,"div",42),t._UZ(6,"div",43),t._UZ(7,"div",44),t._UZ(8,"div",45),t._UZ(9,"div",46),t.qZA(),t.qZA(),t.qZA())}function Ya(i,l){if(1&i&&(t.TgZ(0,"nb-option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.domain," ")}}function Ga(i,l){if(1&i&&(t.TgZ(0,"nb-layout-header",47),t.TgZ(1,"nb-select",48,8),t.YNc(3,Ya,2,2,"nb-option",9),t.ALo(4,"async"),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("selected",null==e.domainField?null:e.domainField.value)("formControl",e.domainField),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,3,e.assetUrls))}}function Ha(i,l){if(1&i&&(t.TgZ(0,"nb-option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.domain," ")}}const te=function(){return{exact:!1}};function Va(i,l){if(1&i&&(t.TgZ(0,"button",50,51),t.NdJ("click",function(n){return n.stopPropagation(),n.preventDefault()}),t._uU(2),t.qZA()),2&i){const e=l.$implicit,n=t.MAs(1);t.Q6J("appearance",null!=n&&n.isActive?"outline":"ghost")("status",null!=n&&n.isActive?"success":"basic")("routerLink",null==e?null:e.route)("routerLinkActiveOptions",t.DdM(5,te)),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}function Wa(i,l){if(1&i&&(t.TgZ(0,"nb-option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.domain," ")}}function Xa(i,l){if(1&i&&(t.TgZ(0,"nb-card-header",52),t.TgZ(1,"nb-select",53,8),t.YNc(3,Wa,2,2,"nb-option",9),t.ALo(4,"async"),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("selected",null==e.domainField?null:e.domainField.value)("formControl",e.domainField),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,3,e.assetUrls))}}function Ka(i,l){if(1&i&&(t.TgZ(0,"nb-option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",null==e?null:e.domain),t.xp6(1),t.hij(" ",null==e?null:e.domain," ")}}function tc(i,l){if(1&i&&(t.TgZ(0,"nb-card-header",52),t.TgZ(1,"nb-select",54),t.YNc(2,Ka,2,2,"nb-option",9),t.ALo(3,"async"),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("formControl",e.subdomainField),t.xp6(1),t.Q6J("ngForOf",t.lcZ(3,2,e.assetSubUrls))}}function ec(i,l){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"span",60),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.ekj("spin",1==(null==e?null:e.scan_runningn))}}function nc(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().runQuickDynamicScan(null==o?null:o.domain)}),t._UZ(2,"nb-icon",62),t.qZA(),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.ekj("spin",1==(null==e?null:e.scan_runningn))}}function ic(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",55),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().onClickBuild(a)}),t.TgZ(1,"div",56),t.YNc(2,ec,2,2,"div",57),t.YNc(3,nc,3,2,"ng-template",null,58,t.W1O),t.TgZ(5,"div"),t._UZ(6,"span",59),t.qZA(),t.TgZ(7,"div",16),t._uU(8),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.MAs(4);t.xp6(2),t.Q6J("ngIf",1==(null==e?null:e.scan_runningn))("ngIfElse",n),t.xp6(4),t.ekj("spin",1==(null==e?null:e.scan_runningn)),t.Q6J("ngClass",null==e?null:e.riskScoreColor),t.xp6(2),t.hij(" ",null==e?null:e.domain," ")}}function oc(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",66),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onClickBuild(a)}),t._UZ(1,"app-build-item",67),t.ALo(2,"async"),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.Q6J("appScrollableItem",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.Q6J("active",t.lcZ(2,3,n.activeBuildId)==(null==e||null==e._id?null:e._id.$oid))("build",e)}}function rc(i,l){1&i&&t.GkF(0)}function lc(i,l){if(1&i&&(t.ynx(0),t.ynx(1),t.YNc(2,rc,1,0,"ng-container",68),t.BQk(),t.BQk()),2&i){t.oxw(2);const e=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function ac(i,l){1&i&&t.GkF(0)}function cc(i,l){if(1&i&&(t.ynx(0),t.ynx(1),t.YNc(2,ac,1,0,"ng-container",68),t.BQk(),t.BQk()),2&i){t.oxw(2);const e=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function sc(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list",63),t.NdJ("bottomThreshold",function(o){return t.CHM(e),t.oxw().bottomThresholdTrigger(o)}),t.YNc(1,oc,3,5,"nb-list-item",64),t.TgZ(2,"nb-list-item"),t.YNc(3,lc,3,1,"ng-container",65),t.qZA(),t.TgZ(4,"nb-list-item"),t.YNc(5,cc,3,1,"ng-container",65),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("threshold",50)("nbSpinner",e.loading),t.xp6(1),t.Q6J("ngForOf",e.builds$)("ngForTrackBy",e.trackBuild),t.xp6(2),t.Q6J("ngIf",e.loading),t.xp6(2),t.Q6J("ngIf",e.loading)}}function dc(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",69),t.NdJ("selectedChange",function(o){return t.CHM(e),t.oxw().goto(o)}),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=l.index;t.Q6J("value",e),t.xp6(2),t.hij(" Page ",e+1," ")}}function uc(i,l){if(1&i&&(t.TgZ(0,"nb-option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.domain," ")}}function pc(i,l){if(1&i&&(t.TgZ(0,"button",79,51),t.NdJ("click",function(n){return n.stopPropagation(),n.preventDefault()}),t._uU(2),t.qZA()),2&i){const e=l.$implicit,n=t.MAs(1);t.Q6J("disabled",!0)("routerLink",null==e?null:e.route)("routerLinkActiveOptions",t.DdM(5,te))("pressed",null==n?null:n.isActive),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}function gc(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",80),t.TgZ(1,"div",16),t.TgZ(2,"button",81),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).loadNewBuilds()}),t._UZ(3,"nb-icon",62),t.TgZ(4,"span"),t._uU(5," New Builds Found "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function _c(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",66),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onClickBuild(a)}),t._UZ(1,"app-build-item",67),t.ALo(2,"async"),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.Q6J("appScrollableItem",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.Q6J("active",t.lcZ(2,3,n.activeBuildId)==(null==e||null==e._id?null:e._id.$oid))("build",e)}}function mc(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",70),t.TgZ(1,"div",71),t.TgZ(2,"div",4),t.TgZ(3,"nb-select",53,8),t.YNc(5,uc,2,2,"nb-option",9),t.ALo(6,"async"),t.qZA(),t.qZA(),t.TgZ(7,"nb-button-group",72),t.TgZ(8,"div"),t.YNc(9,pc,3,6,"button",73),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",74),t.TgZ(11,"div",75),t.TgZ(12,"nb-card",76),t.YNc(13,gc,6,0,"nb-card-header",77),t.TgZ(14,"nb-list",63),t.NdJ("bottomThreshold",function(o){return t.CHM(e),t.oxw().bottomThresholdTrigger(o)}),t.YNc(15,_c,3,5,"nb-list-item",64),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",78),t.TgZ(17,"router-outlet",34),t.NdJ("activate",function(o){return t.CHM(e),t.oxw().onRouterOutletActivate(o)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("selected",null==e.domainField?null:e.domainField.value)("formControl",e.domainField),t.xp6(2),t.Q6J("ngForOf",t.lcZ(6,9,e.assetUrls)),t.xp6(4),t.Q6J("ngForOf",e.tabs),t.xp6(4),t.Q6J("ngIf",e.newBuildsAvailable),t.xp6(1),t.Q6J("threshold",50)("nbSpinner",e.loading),t.xp6(1),t.Q6J("ngForOf",e.builds$)("ngForTrackBy",e.trackBuild)}}const fc=function(i,l){return{buildId:i,applicationId:l}};function hc(i,l){if(1&i&&t._UZ(0,"app-build-detail-view",82),2&i){const e=l.context;t.Q6J("selected_build",t.WLB(1,fc,null==e?null:e.build_id,null==e?null:e.application_id))}}const bc=function(){return[]};let Zt=(()=>{class i{constructor(e,n,o,a,c){this.apiService=e,this.drawerMngr=n,this.router=o,this.activatedRoute=a,this.nbSidebarService=c,this.page_limit=30,this.domainField=new g.NI("",{validators:[g.kI.required]}),this.subdomainField=new g.NI("",{validators:[g.kI.required]}),this.searchField=new g.NI("",{}),this.tabs=[{title:"Details",route:["details"]},{title:"Finding",route:["issues"]},{title:"Logs",route:["logs"]}],this.isMenuOpen=(0,_t.T)(this.nbSidebarService.onExpand(),this.nbSidebarService.onToggle(),this.nbSidebarService.onCollapse(),this.nbSidebarService.onCompact(),(0,N.of)({tag:"buildList"})).pipe((0,T.h)(r=>"buildList"==(null==r?void 0:r.tag)),(0,x.w)(r=>this.nbSidebarService.getSidebarState("buildList")),(0,m.U)(r=>(console.debug("menumenu2",r),"expanded"==r)),(0,f.b)(r=>{console.debug("menumenu",r)})),this.buildListLimit=20,this.buildInvalidateIds=new Map,this.topBuildId=void 0,this.bottomBuildId=void 0,this.active_protection=!1,this.extra_filters={},this.uuid=void 0,this.last_doc={domain_count:0,domain_index:0},this.loadingResults=!1,this.last_search_val="",this.activeBuildId=this.apiService.selectedBuildId.pipe((0,q.d)()),this.scrollToActiveIdObserver=this.activeBuildId.pipe((0,tt.x)(),(0,f.b)(r=>{console.debug("distinctUntilChanged",r),this.builds$=[],this.initialResultsLoaded=!1,this.bottomBuildId=r,this.buildInvalidateIds.clear()})),this.scrollToActiveIdObserverSubscription=O.w0.EMPTY,this.routeSubscription=O.w0.EMPTY,this.activeBuildSubscription=O.w0.EMPTY,this.reportDownloaderZipSubscription=O.w0.EMPTY,this.selectedAppSubscription=O.w0.EMPTY,this.selectedApp=this.apiService.selectedApp,this.assetUrls=this.selectedApp.pipe((0,f.b)(r=>{console.log(r)}),(0,T.h)(r=>!!(null==r?void 0:r.identifier)),(0,m.U)(r=>{var d;return{businessId:null==r?void 0:r.businessId,projectId:null==r?void 0:r.projectId,platformId:null==r?void 0:r.platformId,applicationId:null===(d=null==r?void 0:r.application)||void 0===d?void 0:d.applicationId}})).pipe((0,P.q)(1),(0,H.z)(r=>{var d;return this.apiService.getAssetUrls(null===(d=null==r?void 0:r.applicationId)||void 0===d?void 0:d.$oid).pipe()}),(0,f.b)(r=>{var d,u;try{this.domainField.setValue(null===(u=null===(d=r[0])||void 0===d?void 0:d._id)||void 0===u?void 0:u.$oid,{onlySelf:!0,emitModelToViewChange:!0,emitViewToModelChange:!0}),console.debug("errror",this.domainField.value)}catch(p){console.debug("errror",p)}})),this.buttonState="",this.buildTransformerPipe=r=>{console.log("buildTransformerPipe",r);let d=0,u=[{state:null==r?void 0:r.state_requested,ts:null==r?void 0:r.state_requested_ts,time_taken:0,title:"Enqueued"},{state:null==r?void 0:r.state_execution,ts:null==r?void 0:r.state_execution_ts,time_taken:0,title:"Executing"},{state:null==r?void 0:r.state_download_raw,ts:null==r?void 0:r.state_download_raw_ts,time_taken:0,title:"Report Generated"},{state:null==r?void 0:r.state_pushed_to_parser,ts:null==r?void 0:r.state_pushed_to_parser_ts,time_taken:0,title:"Analyzing"},{state:null==r?void 0:r.state_parsing_started,ts:null==r?void 0:r.state_parsing_started_ts,time_taken:0,title:"Parsing"},{state:null==r?void 0:r.state_parsing_completed,ts:null==r?void 0:r.state_parsing_completed_ts,time_taken:0,title:"Finished"}];return r.success=void 0,r.failed=!1,u.map((p,b)=>{var v,Z;if(0==b)return p;let y=u[b-1];return p.time_taken=(null===(v=null==p?void 0:p.ts)||void 0===v?void 0:v.$date)-(null===(Z=null==y?void 0:y.ts)||void 0===Z?void 0:Z.$date),p.time_taken=(null==p?void 0:p.time_taken)/1e3,p.time_taken=0|(null==p?void 0:p.time_taken),p.time_taken=Math.ceil(p.time_taken),d+=p.time_taken,0==(null==p?void 0:p.state)&&(r.failed=!0),p}),r.build_state=u,r.timeElpased=d,r.finding_stats=this.apiService.getFindingStats(null==r?void 0:r.applicationId,null==r?void 0:r._id).pipe(),r},this.builds$=[],this.allBuildsLoaded=!1,this.initialResultsLoaded=!1,this.loading=!0,this.refreshBuildData=O.w0.EMPTY,this.newBuildsAvailable=!1,this.REFRESH_INTERVAL_PERIOD=1e3,this.subscrption=O.w0.EMPTY,this.lastUrl="",this.selectedDomain=new G.x,this.math=Math,this.searchActive=!1}scrollToSelectedItem(e){var n;console.log("distinctUntilChanged",e,this.scrollableItems);const o=null===(n=this.scrollableItems)||void 0===n?void 0:n.find(a=>a.key===e);null==o||o.scrollIntoView(),console.log("distinctUntilChanged",e,o)}onRouterOutletActivate(e){"FindingsComponent"==(null==e?void 0:e.constructor.name)?this.buttonState="finding":"BuildsComponent"==(null==e?void 0:e.constructor.name)&&(this.buttonState="build"),console.log("event",e)}ngAfterViewInit(){}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.activeBuildSubscription.unsubscribe(),this.reportDownloaderZipSubscription.unsubscribe(),this.selectedAppSubscription.unsubscribe(),this.scrollToActiveIdObserverSubscription.unsubscribe(),this.subscrption.unsubscribe(),this.nbSidebarService.expand(),this.refreshBuildData.unsubscribe()}getBuildData(e){this.activatedRoute.params.pipe((0,P.q)(1)).pipe((0,f.b)(o=>{console.log("console__",o)})).subscribe(o=>{});let n=Object.assign({applicationId:e},this.extra_filters);return!0===this.active_protection&&(n=Object.assign({active_protection:!0},this.extra_filters)),this.apiService.getDevsecopsBuildData(n,{limit:this.buildListLimit,includeOffsetId:!this.initialResultsLoaded||void 0}).pipe((0,T.h)(o=>!!o),(0,m.U)(o=>o.map(a=>this.buildTransformerPipe(a))),(0,f.b)(o=>{var a;if((null==o?void 0:o.length)<this.buildListLimit&&(this.allBuildsLoaded=!0),o.length<=0||!o)console.log("noBuilds",o);else{console.log("activeBuildId",this.bottomBuildId);let c=o[0];0==this.initialResultsLoaded&&(this.buildTopOffsetId$=null===(a=null==c?void 0:c._id)||void 0===a?void 0:a.$oid,this.initialResultsLoaded=!0,this.routeSubscription=(0,D.a)([this.activatedRoute.data,this.activatedRoute.params]).pipe((0,P.q)(1),(0,m.U)(r=>Object.assign({},...r)),(0,f.b)(r=>{var d,u,p;console.log("activedataroute",r,this.buttonState,"finding"==this.buttonState),(null==r?void 0:r.buildId)!=(null===(d=null==c?void 0:c._id)||void 0===d?void 0:d.$oid)&&this.router.navigate("finding"==this.buttonState?[`${null===(u=null==c?void 0:c._id)||void 0===u?void 0:u.$oid}`,"issues"]:[`${null===(p=null==c?void 0:c._id)||void 0===p?void 0:p.$oid}`],{relativeTo:this.activatedRoute})})).subscribe()),this.activeBuildSubscription=this.activeBuildId.pipe((0,P.q)(1)).subscribe(r=>{var d;null==r&&(console.log("activeBuildId",r),console.log("activeBuildId",r,`${null===(d=null==c?void 0:c._id)||void 0===d?void 0:d.$oid}`))})}}),(0,f.b)(o=>{let a=new Map;o.forEach((c,r)=>{var d,u,p;0==r&&(this.topBuildId=null===(d=null==c?void 0:c._id)||void 0===d?void 0:d.$oid),r+1==(null==o?void 0:o.length)&&(this.bottomBuildId=null===(u=null==c?void 0:c._id)||void 0===u?void 0:u.$oid),(null==c?void 0:c.transition_state)!=L.FAILED&&(null==c?void 0:c.transition_state)!=L.PARSING_FINISHED&&a.set(null===(p=null==c?void 0:c._id)||void 0===p?void 0:p.$oid,r)}),this.buildInvalidateIds=a,console.log("buildInvalidateIds",this.buildInvalidateIds)}))}downloadRaw(e){this.reportDownloaderZipSubscription=this.apiService.downloadReportZip(Object.assign({},this.extra_filters)).subscribe(n=>{})}onClick(e,n){}refreshBuildDataFn(){return(0,mt.F)(this.REFRESH_INTERVAL_PERIOD).pipe(ft(e=>{console.debug("REFRESH_INTERVAL_PERIOD!");let n=Array.from(this.buildInvalidateIds.keys());return this.apiService.getBuildByIds(n,this.buildTopOffsetId$,this.extra_filters).pipe((0,f.b)(o=>console.debug(o)))}),(0,f.b)(e=>console.debug(e)),(0,f.b)(e=>{e.builds.forEach(n=>{var o;let a=null===(o=null==n?void 0:n._id)||void 0===o?void 0:o.$oid;this.buildInvalidateIds.get(a)}),console.log("newBuildsAvailable",this.extra_filters),this.newBuildsAvailable=null==e?void 0:e.newBuildsFound}),(0,f.b)(e=>{e.builds.forEach(o=>{var a;console.debug("mBuild;d",o),o=this.buildTransformerPipe(o),console.debug("_mBuild;d",o);let c=null===(a=null==o?void 0:o._id)||void 0===a?void 0:a.$oid,r=this.buildInvalidateIds.get(c);o.index=this.builds$[r].index,this.builds$[r]=o})}))}loadBuilds(){this.selectedAppSubscription=this.selectedDomain.pipe((0,T.h)(e=>!!e),(0,x.w)(e=>(console.log("_appoopo",e),this.getBuildData(e))),(0,f.b)(e=>{e.length>0||(this.buildTopOffsetId$=void 0),this.builds$.push(...e),this.loading=!1})).subscribe()}ngOnInit(){var e,n;this.routeSubscription.unsubscribe(),this.activeBuildSubscription.unsubscribe(),this.reportDownloaderZipSubscription.unsubscribe(),this.selectedAppSubscription.unsubscribe(),this.subscrption.unsubscribe(),this.scrollToActiveIdObserverSubscription.unsubscribe(),this.scrollToActiveIdObserverSubscription=this.scrollToActiveIdObserver.subscribe(),this.nbSidebarService.expand("buildList"),this.subscrption=(0,D.a)([null===(e=this.activatedRoute)||void 0===e?void 0:e.params,null===(n=this.activatedRoute)||void 0===n?void 0:n.data]).pipe((0,f.b)(o=>{this.apiService.selectedBuildId$.next(void 0)}),(0,m.U)(o=>{console.log("paramspaps",o);let a={};return o.forEach(c=>{a=Object.assign(a,c)}),a}),(0,f.b)(o=>{this.apiService.selectedBuildId$.next(null==o?void 0:o.buildId)})).subscribe(o=>{this.active_protection=(null==o?void 0:o.active_protection)||!1,this.extra_filters=(null==o?void 0:o.extra_filters)||{},(null==o?void 0:o.uuid)&&(this.extra_filters.uuid=null==o?void 0:o.uuid),console.debug("active+protection",o.active_protection,this.extra_filters),this.loadBuilds()}),this.domainField.valueChanges.pipe((0,I.O)(""),(0,It.G)(),(0,T.h)(o=>null!=o[0]),(0,m.U)(o=>(console.log("startWith(0)",o[1]),o[0]!=o[1]?(this.searchField.setValue(""),this.last_search_val=this.searchField.value,this.last_doc={domain_count:0,domain_index:0}):this.last_search_val=this.searchField.value,o[1])),(0,f.b)(o=>{this.loadingResults=!0,console.log("getDiscoveredAssets",o),this.assetSubUrls="*"==o?this.apiService.getDiscoveredAllFilteredAssets(o,this.last_doc.domain_index,this.searchField.value,this.page_limit).pipe((0,f.b)(a=>{var c;try{if((null==a?void 0:a.length)>0){let r=a[a.length-1];this.last_doc={domain_count:r.domain_count,domain_index:r.domain_index}}else this.last_doc={domain_count:0,domain_index:0};this.subdomainField.setValue(null===(c=a[0])||void 0===c?void 0:c.domain,{onlySelf:!0,emitModelToViewChange:!0,emitViewToModelChange:!0})}catch(r){}}),(0,m.U)(a=>{console.debug("debugger",a);let c="";return a=a.map(r=>(c=null==r?void 0:r.domain,r.riskScoreColor="info",r.riskScoreColor="Critical"in(null==r?void 0:r.item)?"critical":"High"in(null==r?void 0:r.item)?"high":"Medium"in(null==r?void 0:r.item)?"medium":"Low"in(null==r?void 0:r.item)?"low":"Unknown"in(null==r?void 0:r.item)||"Info"in(null==r?void 0:r.item)?"info":"none",r)),console.debug("debugger",o),this.lastUrl=c,a}),(0,f.b)(a=>{this.loadingResults=!1})):this.apiService.getDiscoveredAssets(o,this.last_doc.domain_index,this.searchField.value,this.page_limit).pipe((0,f.b)(a=>{var c;try{if((null==a?void 0:a.length)>0){let r=a[a.length-1];this.last_doc={domain_count:r.domain_count,domain_index:r.domain_index}}else this.last_doc={domain_count:0,domain_index:0};this.subdomainField.setValue(null===(c=a[0])||void 0===c?void 0:c.domain,{onlySelf:!0,emitModelToViewChange:!0,emitViewToModelChange:!0})}catch(r){}}),(0,m.U)(a=>{console.debug("debugger",a);let c="";return a=a.map(r=>(c=null==r?void 0:r.domain,r.riskScoreColor="info",r.riskScoreColor="Critical"in(null==r?void 0:r.item)?"critical":"High"in(null==r?void 0:r.item)?"high":"Medium"in(null==r?void 0:r.item)?"medium":"Low"in(null==r?void 0:r.item)?"low":"Unknown"in(null==r?void 0:r.item)||"Info"in(null==r?void 0:r.item)?"info":"none",r)),console.debug("debugger",o),this.lastUrl=c,a}),(0,f.b)(a=>{this.loadingResults=!1}))})).subscribe(o=>{}),this.subdomainField.valueChanges.pipe().subscribe(o=>{this.selectedDomain.next(o)})}onClickBuild(e){var n,o,a,c,r,d;console.log("onClickBuild",null===(o=null===(n=null==e?void 0:e.last_success_build)||void 0===n?void 0:n._id)||void 0===o?void 0:o.$oid),(null===(c=null===(a=null==e?void 0:e.last_success_build)||void 0===a?void 0:a._id)||void 0===c?void 0:c.$oid)&&this.router.navigate(["../",`${null===(d=null===(r=null==e?void 0:e.last_success_build)||void 0===r?void 0:r._id)||void 0===d?void 0:d.$oid}`],{relativeTo:this.activatedRoute})}openDrawer(e,n="left",o,a=!0,c=this.editTmpl,r=!0,d){var u,p;this.drawerMngr.create({direction:E.Left,template:c,size:o,context:{build_id:null===(u=null==e?void 0:e._id)||void 0===u?void 0:u.$oid,application_id:null===(p=null==e?void 0:e.applicationId)||void 0===p?void 0:p.$oid},closeOnOutsideClick:a,parentContainer:d,isRoot:r})}trackBuild(e,n){var o;return null===(o=null==n?void 0:n._id)||void 0===o?void 0:o.$oid}toggleSidebar(){this.nbSidebarService.toggle(!1,"buildList")}loadNewBuilds(){this.router.navigate(["./"],{relativeTo:this.activatedRoute.parent}),this.loadBuilds()}bottomThresholdTrigger(e){this.loading||this.allBuildsLoaded||(console.log("bottomThresholdTrigger",this.allBuildsLoaded,e),this.loadBuilds())}resetBuilds(){this.builds$=[]}runQuickDynamicScan(e){this.selectedApp.pipe((0,T.h)(n=>!!(null==n?void 0:n.identifier)),(0,m.U)(n=>{var o;return{businessId:null==n?void 0:n.businessId,projectId:null==n?void 0:n.projectId,platformId:null==n?void 0:n.platformId,applicationId:null===(o=null==n?void 0:n.application)||void 0===o?void 0:o.applicationId}})).pipe((0,P.q)(1),(0,H.z)(n=>(n.target=e,this.apiService.runQuickDynamicScan(n)))).subscribe(n=>{})}previousPage(){this.last_doc.domain_index-=this.page_limit,this.last_doc.domain_index<=0&&(this.last_doc.domain_index=0),this.domainField.setValue(this.domainField.value,{emitEvent:!0,emitModelToViewChange:!1,emitViewToModelChange:!1})}goToNext(){this.domainField.setValue(this.domainField.value,{emitEvent:!0,emitModelToViewChange:!1,emitViewToModelChange:!1})}goto(e){this.last_doc.domain_index=this.page_limit*e,this.domainField.setValue(this.domainField.value,{emitEvent:!0,emitModelToViewChange:!1,emitViewToModelChange:!1})}searchDomain(){this.last_doc={domain_count:0,domain_index:0},this.domainField.setValue(this.domainField.value,{emitEvent:!0,emitModelToViewChange:!1,emitViewToModelChange:!1})}searchDeactivated(e){this.searchActive=!1,console.log("searchDomain",e),this.searchField.setValue(this.last_search_val)}searchActivated(e){this.searchActive=!0}cancelSearch(){this.searchField.setValue(this.last_search_val)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(M),t.Y36(dt),t.Y36(A.F0),t.Y36(A.gz),t.Y36(s.lzT))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-quick-scan-jobs"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ea,5),t.Gf($a,5),t.Gf(nt,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.formDomainFieldRef=o.first),t.iGM(o=t.CRH())&&(n.editTmpl=o.first),t.iGM(o=t.CRH())&&(n.scrollableItems=o)}},decls:54,vars:28,consts:[["loadingListItem",""],["fxLayoutGap","1rem","fxLayoutAlign","end center",4,"ngIf"],["fxLayoutAlign","center","fxFlex",""],["fxLayoutAlign","center center","fxLayout","row",1,"buildListBtn",3,"click"],[2,"margin-left","20px","margin-right","20px"],[3,"active"],["fxFlex","","fxLayoutAlign","end end"],["shape","round","size","medium","status","success","outline","","placeholder","Select Domain",2,"margin-right","1rem",3,"selected","formControl"],["formDomainFieldRef",""],[3,"value",4,"ngFor","ngForOf"],["size","medium","shape","round","routerLinkActive","","nbButton","",3,"appearance","status","routerLink","routerLinkActiveOptions","click",4,"ngFor","ngForOf"],["tag","buildList","containerFixed",""],["fxFlex","",1,"nbCardList"],["style","margin: 0px; padding: 3px;",4,"ngIf"],["nbSpinnerStatus","info","nbSpinnerSize","small",2,"margin","0px","padding","0px",3,"nbSpinner"],["fxLayoutAlign","center"],["fxFlex",""],["fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Search",3,"status","formControl","focus","focusout","keyup.enter","keyup.escape"],["refInpSearch",""],["nbSuffix","","size","small","outline","","nbButton","",3,"status","click"],["icon","search-outline"],["nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data",3,"nbSpinner"],["style","padding: 10px;","fxLayout","row",3,"click",4,"ngFor","ngForOf"],["nbListPageTracker","","nbInfiniteList","","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data",3,"threshold","nbSpinner","bottomThreshold",4,"ngIf"],["nbSpinnerStatus","info","nbSpinnerSize","small",3,"nbSpinner"],["fxFlex","","fxLayoutAlign","space-between"],["size","small","status","success","nbButton","","ghost","",2,"margin-left","1rem",3,"click"],["icon","arrow-left-outline"],["fxFlex","","fxLayoutAlign","center center"],["size","small","placeholder","Go to",3,"selected","selectedChange"],[1,"page"],[3,"value","selectedChange",4,"ngFor","ngForOf"],["size","small","status","success","nbButton","","ghost","",2,"margin-right","1rem",3,"click"],["icon","arrow-right-outline"],[3,"activate"],["fxLayout","column",4,"ngIf"],["editTmpl",""],["fxFlex","",1,"timeline-wrapper",2,"margin","1rem"],[1,"timeline-item"],[1,"animated-background"],[1,"background-masker","header-top"],[1,"background-masker","header-left"],[1,"background-masker","header-right"],[1,"background-masker","header-bottom"],[1,"background-masker","subheader-left"],[1,"background-masker","subheader-right"],[1,"background-masker","subheader-bottom"],["fxLayoutGap","1rem","fxLayoutAlign","end center"],["status","primary","hero","","placeholder","Select Domain",2,"margin-right","1rem",3,"selected","formControl"],[3,"value"],["size","medium","shape","round","routerLinkActive","","nbButton","",3,"appearance","status","routerLink","routerLinkActiveOptions","click"],["rla","routerLinkActive"],[2,"margin","0px","padding","3px"],["size","large","fullWidth","","status","info","outline","","placeholder","Select Domain",2,"margin-right","1rem",3,"selected","formControl"],["fullWidth","","placeholder","Select subomain",3,"formControl"],["fxLayout","row",2,"padding","10px",3,"click"],["fxFlex","","fxLayoutAlign","center center","fxLayoutGap","10px","fxLayout","row"],[4,"ngIf","ngIfElse"],["scanStartTemplateRef",""],[1,"dot",3,"ngClass"],[1,"dot","low","blinking"],["fullWidth","","nbButton","","size","tiny","ghost","","status","info",2,"text-transform","capitalize","padding","0",3,"click"],["icon","refresh-outline"],["nbListPageTracker","","nbInfiniteList","","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data",3,"threshold","nbSpinner","bottomThreshold"],["fxLayout","row",3,"appScrollableItem","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["fxLayout","row",3,"appScrollableItem","click"],["fxFlex","",3,"active","build"],[4,"ngTemplateOutlet"],[3,"value","selectedChange"],["fxLayout","column"],["fxLayoutAlign","space-between center",1,"header"],["outline","","status","success","size","small","shape","round"],["routerLinkActive","","nbButtonToggle","","pressed","",3,"disabled","routerLink","routerLinkActiveOptions","pressed","click",4,"ngFor","ngForOf"],["fxLayout","row",1,"body"],[1,"listContainer"],["fxFlex","","fxFill","",1,"nbCardList"],["style","margin: 0px; padding: 10px;",4,"ngIf"],["fxFlex","",1,"contentContainer"],["routerLinkActive","","nbButtonToggle","","pressed","",3,"disabled","routerLink","routerLinkActiveOptions","pressed","click"],[2,"margin","0px","padding","10px"],["fullWidth","","nbButton","","filled","","status","primary",2,"text-transform","capitalize",3,"click"],[3,"selected_build"]],template:function(e,n){if(1&e){const o=t.EpF();t.YNc(0,ja,10,0,"ng-template",null,0,t.W1O),t.TgZ(2,"nb-layout"),t.YNc(3,Ga,5,5,"nb-layout-header",1),t.TgZ(4,"nb-layout-header"),t.TgZ(5,"div",2),t.TgZ(6,"div",3),t.NdJ("click",function(){return n.toggleSidebar()}),t.TgZ(7,"div",4),t._UZ(8,"app-hamburger-icon",5),t.ALo(9,"async"),t.qZA(),t._uU(10," Findings "),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"nb-select",7,8),t.YNc(14,Ha,2,2,"nb-option",9),t.ALo(15,"async"),t.qZA(),t.YNc(16,Va,3,6,"button",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"nb-sidebar",11),t.TgZ(18,"nb-card",12),t.YNc(19,Xa,5,5,"nb-card-header",13),t.YNc(20,tc,4,4,"nb-card-header",13),t.TgZ(21,"nb-card-header",14),t.TgZ(22,"div",15),t.TgZ(23,"nb-form-field",16),t.TgZ(24,"input",17,18),t.NdJ("focus",function(c){return n.searchActivated(c)})("focusout",function(c){return n.searchDeactivated(c)})("keyup.enter",function(){t.CHM(o);const c=t.MAs(25);return n.searchDomain(),c.blur()})("keyup.escape",function(){t.CHM(o);const c=t.MAs(25);return n.cancelSearch(),c.blur()}),t.qZA(),t.TgZ(26,"button",19),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(25);return n.searchDomain(),c.blur()}),t._UZ(27,"nb-icon",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"nb-list",21),t.YNc(29,ic,9,6,"nb-list-item",22),t.ALo(30,"async"),t.qZA(),t.YNc(31,sc,6,6,"nb-list",23),t.TgZ(32,"nb-card-footer",24),t.TgZ(33,"div",25),t.TgZ(34,"button",26),t.NdJ("click",function(){return n.previousPage()}),t._UZ(35,"nb-icon",27),t.qZA(),t.TgZ(36,"div",28),t.TgZ(37,"nb-select",29),t.NdJ("selectedChange",function(c){return n.goto(c)}),t.TgZ(38,"nb-select-label"),t.TgZ(39,"div"),t._uU(40," Page "),t.TgZ(41,"span",30),t._uU(42),t.qZA(),t._uU(43," of "),t.TgZ(44,"span",30),t._uU(45),t.qZA(),t.qZA(),t.qZA(),t.YNc(46,dc,3,2,"nb-option",31),t.qZA(),t.qZA(),t.TgZ(47,"button",32),t.NdJ("click",function(){return n.goToNext()}),t._UZ(48,"nb-icon",33),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"nb-layout-column"),t.TgZ(50,"router-outlet",34),t.NdJ("activate",function(c){return n.onRouterOutletActivate(c)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(51,mc,18,11,"div",35),t.YNc(52,hc,1,4,"ng-template",null,36,t.W1O)}2&e&&(t.xp6(3),t.Q6J("ngIf",!1),t.xp6(5),t.Q6J("active",t.lcZ(9,21,n.isMenuOpen)),t.xp6(4),t.Q6J("selected",null==n.domainField?null:n.domainField.value)("formControl",n.domainField),t.xp6(2),t.Q6J("ngForOf",t.lcZ(15,23,n.assetUrls)),t.xp6(2),t.Q6J("ngForOf",n.tabs),t.xp6(3),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("nbSpinner",n.loading||n.loadingResults),t.xp6(3),t.Q6J("status",n.searchActive?"info":"control")("formControl",n.searchField),t.xp6(2),t.Q6J("status",n.searchActive?"info":"control"),t.xp6(2),t.Q6J("nbSpinner",n.loading||n.loadingResults),t.xp6(1),t.Q6J("ngForOf",t.lcZ(30,25,n.assetSubUrls)),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("nbSpinner",n.loadingResults),t.xp6(5),t.Q6J("selected",0),t.xp6(5),t.hij(" ",n.math.ceil((null==n.last_doc?null:n.last_doc.domain_index)/n.page_limit)," "),t.xp6(3),t.hij(" ",n.math.ceil((null==n.last_doc?null:n.last_doc.domain_count)/n.page_limit)," "),t.xp6(1),t.Q6J("ngForOf",t.DdM(27,bc).constructor(n.math.ceil((null==n.last_doc?null:n.last_doc.domain_count)/n.page_limit))),t.xp6(5),t.Q6J("ngIf",!1))},directives:[s.Aqw,h.O5,s.dmS,_.Wh,_.yH,_.xw,yt,s.rs,g.JJ,g.oH,h.sg,s.nZR,s.Asz,s.ndF,s.Q7R,s.jBG,s.h8i,g.Fj,s.DPz,s.yyc,s.fMN,s.zP_,s.XWE,s.aGg,s.dP_,A.lC,_.SQ,s.q51,A.Od,A.rH,s.qBV,h.mk,wt.oO,s.B8d,s.sTn,nt,pt,h.tP,s.mnu,_.s9,s.ZDs,J],pipes:[h.Ov],styles:['.buildListBtn[_ngcontent-%COMP%]{cursor:pointer}nb-list[_ngcontent-%COMP%]{background:var(--background-basic-color-3)}nb-list-item[_ngcontent-%COMP%]{border:none;padding:0;overflow-x:hidden;margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:keep-all}.nbCardList[_ngcontent-%COMP%]{margin:0!important}nb-card-body[_ngcontent-%COMP%]{padding:0}span[_ngcontent-%COMP%]{text-overflow:ellipsis}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}code[_ngcontent-%COMP%]{color:#f8f8f2;font-size:.875rem}.container[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin-left:5px}.container.fail[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.container.active[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.icon[_ngcontent-%COMP%]{height:100%}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize}.dot[_ngcontent-%COMP%]{font-size:20px;font-weight:300}.dot[_ngcontent-%COMP%]:hover{font-size:40px;transition:.2s}.horizontal_line[_ngcontent-%COMP%]{width:30px;height:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;display:flex;width:3rem;height:3rem;line-height:3rem;border-radius:50%;font-size:.8rem;text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-primary-600),1px -1px 1px var(--color-primary-600),-1px -1px 1px var(--color-primary-600);box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.circle.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600);text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-success-600),1px -1px 1px var(--color-success-600),-1px -1px 1px var(--color-success-600)}.circle.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600);text-shadow:1px 1px 1px var(--color-danger-300),-1px 1px 1px var(--color-danger-600),1px -1px 1px var(--color-danger-600),-1px -1px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]:hover{font-size:1rem;transition:.2s;width:4rem;height:4rem}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 2px 2px 5px 1px var(--color-primary-300),2px 0 5px 1px var(--color-primary-600)}.vertical_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.vertical_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}.xContainer[_ngcontent-%COMP%]{padding:1rem}.listContainer[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;padding-top:10px;background:var(--background-basic-color-4);display:flex;flex:0 0 var(--sidebar-width)}.content[_ngcontent-%COMP%]{display:flex;flex:0 1 900px}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.contentContainer[_ngcontent-%COMP%]{min-width:0}.header[_ngcontent-%COMP%]{height:4rem}.body[_ngcontent-%COMP%]{max-height:calc(100vh - 4rem);min-height:calc(100vh - 4rem)}nb-layout-column[_ngcontent-%COMP%]{padding:0!important}  nb-sidebar{transition:width .1s}  nb-sidebar div{transition:width .1s}  nb-sidebar.menuSidebar div{top:0!important;height:100%}.timeline-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid;border-color:#e5e6e9 #dfe0e4 #d0d1d5;border-radius:3px;padding:12px;margin:0 auto}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;background:#f6f7f8;background:linear-gradient(to right,#eeeeee 8%,#dddddd 18%,#eeeeee 33%);height:40px;position:relative}.background-masker[_ngcontent-%COMP%]{background:#fff;position:absolute}.background-masker.header-top[_ngcontent-%COMP%], .background-masker.header-bottom[_ngcontent-%COMP%], .background-masker.subheader-bottom[_ngcontent-%COMP%]{top:0;left:40px;right:0;height:10px}.background-masker.header-left[_ngcontent-%COMP%], .background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:10px;left:40px;height:8px;width:10px}.background-masker.header-bottom[_ngcontent-%COMP%]{top:18px;height:6px}.background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:24px;height:6px}.background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{width:auto;left:300px;right:0}.background-masker.subheader-bottom[_ngcontent-%COMP%]{top:30px;height:10px}.background-masker.content-top[_ngcontent-%COMP%], .background-masker.content-second-line[_ngcontent-%COMP%], .background-masker.content-third-line[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%], .background-masker.content-first-end[_ngcontent-%COMP%]{top:40px;left:0;right:0;height:6px}.background-masker.content-top[_ngcontent-%COMP%]{height:20px}.background-masker.content-first-end[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%]{width:auto;left:380px;right:0;top:60px;height:8px}.background-masker.content-second-line[_ngcontent-%COMP%]{top:68px}.background-masker.content-second-end[_ngcontent-%COMP%]{left:420px;top:74px}.background-masker.content-third-line[_ngcontent-%COMP%]{top:82px}.background-masker.content-third-end[_ngcontent-%COMP%]{left:300px;top:88px}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4)}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}.dot[_ngcontent-%COMP%]{height:10px;width:10px;border-radius:50%;display:inline-block}.dot.none[_ngcontent-%COMP%]{visibility:hidden!important;width:0px!important;height:0px!important}.dot.info[_ngcontent-%COMP%]{background-color:var(--color-primary-500)}.dot.low[_ngcontent-%COMP%]{background-color:var(--color-success-500)}.dot.medium[_ngcontent-%COMP%]{background-color:var(--color-warning-500)}.dot.high[_ngcontent-%COMP%]{background-color:var(--color-danger-500)}.dot.critical[_ngcontent-%COMP%]{background-color:var(--color-danger-800)}nb-card[_ngcontent-%COMP%]{overflow-x:hidden}nb-card-footer[_ngcontent-%COMP%]{background:var(--background-basic-color-3)!important;margin:3px;padding:4px}.spin[_ngcontent-%COMP%]{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.blinking[_ngcontent-%COMP%]{-webkit-animation:1s blink ease infinite;animation:1s blink ease infinite}@keyframes ""{0%,to{opacity:0}50%{opacity:1}}@-webkit-keyframes ""{0%,to{opacity:0}50%{opacity:1}}']}),i})();const vc=[{path:"test",component:Ct},{path:"",redirectTo:"switch",pathMatch:"full"},{path:"app/:build_id",component:W,children:[{path:"ommit",component:Ht,pathMatch:"full"},{path:"ommit",component:Ht},{path:"",component:it,pathMatch:"full"},{path:"",component:it},{path:"",component:Rt,outlet:"app_main",children:[{path:"",redirectTo:"config",pathMatch:"full"},{path:"details",component:xt,pathMatch:"full"},{path:"config",component:lt,pathMatch:"full"},{path:"integration",component:rt,pathMatch:"full"},{path:"findings/:buildId",component:U,pathMatch:"full"},{path:"findings",component:U,pathMatch:"full"},{path:"builds/nobuilds",component:Gt,pathMatch:"full"},{path:"issues",component:B,children:[{path:"",component:Ot,pathMatch:"full"},{path:":buildId",component:U,pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"builds",component:B,children:[{path:"",component:Ot,pathMatch:"full"},{path:":buildId",component:J,pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"**",redirectTo:"config",pathMatch:"full"}]},{path:"app_menu/:build_id",component:it,outlet:"app_main",children:[{path:"",redirectTo:"subcomp",pathMatch:"full"},{path:"subcomp",component:Rt,children:[{path:"",redirectTo:"config",pathMatch:"full"},{path:"details",component:xt},{path:"config",component:lt},{path:"integration",component:rt},{path:"findings",component:U},{path:"builds",component:B},{path:"**",redirectTo:"config",pathMatch:"full"}]},{path:"**",redirectTo:"config",pathMatch:"full"}]},{path:"**",redirectTo:"*",pathMatch:"full"}]},{path:"dashboard",component:W},{path:":app_id/dashboard",component:W},{path:"configure/:app_id",component:W},{path:"app_id",component:W,children:[{path:"dashboard",component:W}]},{path:"",component:ct,pathMatch:"full"},{path:"switch",component:rl,pathMatch:"full",data:{no_app_selected:!0}},{path:"create",component:Ct,pathMatch:"full"},{path:":app_id",component:W,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"active_protection",component:la,pathMatch:"full"},{path:"scans",component:B,pathMatch:"full",data:{active_protection:!0}},{path:"external_tool_scans",component:B,pathMatch:"full",data:{extra_filters:{type_of_request:{$eq:"external_tools"}}}},{path:"external_tool_scans_new",component:B,pathMatch:"full",data:{extra_filters:{type_of_request:{$eq:"external_tools_new"}}}},{path:"external_tool_new",component:Xt,pathMatch:"full",data:{view_only:["external_tools"]}},{path:"external_tool",component:ya,pathMatch:"full",data:{view_only:["external_tools"]}},{path:"external_tool_scans/:buildId",component:B,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:J,pathMatch:"full",data:{section:"details"}},{path:"logs",component:V,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:U,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}],data:{extra_filters:{type_of_request:{$eq:"external_tools"}}}},{path:"external_tool_scans_new/:buildId",component:B,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:J,pathMatch:"full",data:{section:"details"}},{path:"logs",component:V,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:U,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}],data:{extra_filters:{type_of_request:{$eq:"external_tools_new"}}}},{path:"external_tool_new",component:Xt,pathMatch:"full",data:{view_only:["external_tools"]}},{path:"tools_configure",component:Bl,pathMatch:"full"},{path:"switch",component:Wt,pathMatch:"full"},{path:"create",component:Ct,pathMatch:"full"},{path:"dashboard",component:xt,pathMatch:"full"},{path:"configure",component:lt,pathMatch:"full"},{path:"builds",component:B,pathMatch:"full",data:{extra_filters:{$and:[{type_of_request:{$ne:"external_tools"}},{type_of_request:{$ne:"external_tools_new"}},{type_of_request:{$ne:"recon"}}]}}},{path:"findings",component:U,pathMatch:"full"},{path:"reports",component:lt,pathMatch:"full"},{path:"integration",component:rt,pathMatch:"full"},{path:"static_scans",component:ml,pathMatch:"full"},{path:"dns",component:Ja,pathMatch:"full"},{path:"recon_jobs",component:B,pathMatch:"full",data:{extra_filters:{type_of_request:{$eq:"recon"}}}},{path:"recon_jobs/:buildId",component:B,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:J,pathMatch:"full",data:{section:"details"}},{path:"logs",component:V,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:U,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}],data:{extra_filters:{type_of_request:{$eq:"recon"}}}},{path:"quick_scan",component:Zt,pathMatch:"full",data:{extra_filters:{type_of_request:{$eq:"quick_dynamic_scan"}}}},{path:"quick_scan/:buildId",component:Zt,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:J,pathMatch:"full",data:{section:"details"}},{path:"logs",component:V,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:U,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}],data:{extra_filters:{type_of_request:{$eq:"quick_dynamic_scan"}}}},{path:"quick_scan_admin",component:Zt,pathMatch:"full",data:{extra_filters:{type_of_request:{$eq:"quick_dynamic_scan"}}}},{path:"quick_scan_admin/:buildId",component:Zt,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:J,pathMatch:"full",data:{section:"details"}},{path:"logs",component:V,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:U,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}],data:{extra_filters:{type_of_request:{$eq:"quick_dynamic_scan"}}}},{path:"dns/:asset_id",component:Kt,pathMatch:"full"},{path:"dns_discovered",component:Kt,pathMatch:"full"},{path:"dynamic_scans",component:Zl,pathMatch:"full"},{path:"configure",component:xt,pathMatch:"full"},{path:"config",component:lt,pathMatch:"full"},{path:"integration",component:rt,pathMatch:"full"},{path:"findings/:buildId",component:U,pathMatch:"full"},{path:"findings",component:U,pathMatch:"full"},{path:"builds/nobuilds",component:Gt,pathMatch:"full"},{path:"bitbucket/manage",component:ba},{path:"active_protection/:uuid",component:B,data:{active_protection:!0},children:[{path:"",redirectTo:"details",pathMatch:"full",data:{active_protection:!0}},{path:"details",component:J,pathMatch:"full",data:{section:"details",data:{active_protection:!0}}},{path:"logs",component:V,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:U,pathMatch:"full",data:{section:"issues",data:{active_protection:!0}}},{path:"**",redirectTo:"details",pathMatch:"full",data:{active_protection:!0}}]},{path:"scans/:buildId",component:B,data:{active_protection:!0},children:[{path:"",redirectTo:"details",pathMatch:"full",data:{active_protection:!0}},{path:"details",component:J,pathMatch:"full",data:{section:"details",data:{active_protection:!0}}},{path:"logs",component:V,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:U,pathMatch:"full",data:{section:"issues",data:{active_protection:!0}}},{path:"**",redirectTo:"details",pathMatch:"full",data:{active_protection:!0}}]},{path:"builds/:buildId",component:B,data:{extra_filters:{$and:[{type_of_request:{$ne:"external_tools"}},{type_of_request:{$ne:"external_tools_new"}},{type_of_request:{$ne:"recon"}}]}},children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"logs",component:V,pathMatch:"full",data:{section:"logs"}},{path:"details",component:J,pathMatch:"full",data:{section:"details"}},{path:"issues",component:U,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}]},{path:"issues",component:B,children:[{path:"",component:Ot,pathMatch:"full"},{path:":buildId",component:U,pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"",redirectTo:"configure",pathMatch:"full",outlet:"sidebar"},{path:"",component:zr,outlet:"sidebar"},{path:"**",redirectTo:"configure",pathMatch:"full",outlet:"sidebar"},{path:"**",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"**",redirectTo:"new_test/switch"}];let xc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[A.Bz.forChild(vc)],A.Bz]}),i})();var Cc=C(8476),Zc=C(6999);let ee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[bt,ht,bt],imports:[[h.ez,Zc.xu]]}),i})();var Tc=C(9298);let Ac=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[dt,ht,bt],imports:[[h.ez,ee,Tc.rt]]}),i})(),kc=(()=>{class i{constructor(){this.branches$=new F.X([3,21321,312,3123,12]),this.branches=this.branches$.asObservable().pipe((0,f.b)(e=>{console.log("boomer",e)}),(0,m.U)(e=>null))}validateBranch(e){return console.log("validateBranch",e.value),(0,N.of)(Y.E).pipe((0,f.b)(n=>{console.log("boomer",n)}),(0,m.U)(n=>null))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})(),yc=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-progress-bar"]],decls:3,vars:0,consts:[[1,"demo-container"],[1,"progress-bar"],[1,"progress-bar-value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"div",2),t.qZA(),t.qZA())},styles:[".demo-container[_ngcontent-%COMP%]{width:300px;margin:auto}.progress-bar[_ngcontent-%COMP%]{height:4px;background-color:#0572ce33;width:100%;overflow:hidden}.progress-bar-value[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#0572ce;-webkit-animation:indeterminateAnimation 1s infinite linear;animation:indeterminateAnimation 1s infinite linear;transform-origin:0% 50%}@-webkit-keyframes indeterminateAnimation{0%{transform:translate(0) scaleX(0)}40%{transform:translate(0) scaleX(.4)}to{transform:translate(100%) scaleX(.5)}}@keyframes indeterminateAnimation{0%{transform:translate(0) scaleX(0)}40%{transform:translate(0) scaleX(.4)}to{transform:translate(100%) scaleX(.5)}}"]}),i})();var wc=C(5285);let Mc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[s.quB,M,kc,{provide:kt.wL,useClass:wc.a}],imports:[[s.BW0,h.ez,Kn,ne.o9,s.KdK,s.T2N,s.OA,xc,s.kmq.forRoot(),s.zyh,s.nKr,s.COg,s.IIj,g.u5,g.UX,s.nKr,s.V7y,s.EbI,s.uuI,s.LW9,s.HKp,s.spT,Cc.$,s._WB,s.EoG,s.CG_,Ac,ee,s.j7H,s.oGl,s.obu,s.Qry,s.P1,s.urD,s.wB1,s.AE1,s.caZ,s.MfT]]}),i})();t.B6R(rt,[_.yH,lt,_.s9,s.Asz,s.ndF,_.Wh,s.DPz,s.fMN,s.yKW,h.O5,_.xw],[h.Ov]),t.B6R(pt,[_.xw,_.yH,h.O5,s.Asz,s.ndF,_.SQ,_.Wh,s.c2L,s.DPz,s.fMN,$t,yc,s.yKW,_.s9,s.XWE,h.sg,s.ydg],[h.uU])}}]);