"use strict";(self.webpackChunkcyclops=self.webpackChunkcyclops||[]).push([[449],{1449:(Bs,ce,x)=>{x.r(ce),x.d(ce,{DevsecopsModule:()=>Tt});var m=x(6895),ke=x(9814),d=x(4006),s=x(9207),oe=x(529),N=x(9646),F=x(1135),V=x(515),u=x(4004),h=x(3900),de=x(590),_=x(8505),Me=x(1005),P=x(4782),v=x(9300),pt=x(1884),ut=x(2340),t=x(4650);function Te(i,n){if(1&i&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" Took ",null==e?null:e.time_taken," seconds ")}}function Ae(i,n){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9),t._uU(2),t.qZA(),t.TgZ(3,"div",9),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,Te,2,1,"div",10),t.qZA()),2&i){const e=n.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.title," "),t.xp6(2),t.hij(" ",t.lcZ(5,3,null==e||null==e.ts?null:e.ts.$date)," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.time_taken)}}function Oe(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",11)(2,"div",12)(3,"div",13),t._UZ(4,"nb-tag",14),t.qZA()()(),t.BQk()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("text","@"+(null==e.build||null==e.build.raw_request_sent_for_execution?null:e.build.raw_request_sent_for_execution.SLUG))}}function Pe(i,n){if(1&i&&(t.TgZ(0,"div",11)(1,"div",12)(2,"div",13),t._UZ(3,"nb-tag",14),t.qZA()(),t.TgZ(4,"div",15),t._UZ(5,"nb-tag",16),t.TgZ(6,"button",17),t._UZ(7,"nb-icon",18),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("text","#"+(null==e.build?null:e.build.index)),t.xp6(2),t.Q6J("status",null==e.build?null:e.build._status)("text",null==e.build?null:e.build.buildState),t.xp6(1),t.Q6J("status",null==e.build?null:e.build._status),t.xp6(1),t.ekj("spin",(null==e.build?null:e.build.transition_state)>0&&(null==e.build?null:e.build.transition_state)<8),t.Q6J("status",null==e.build?null:e.build._status)("icon",null==e.build?null:e.build.progressIcon)}}function Ze(i,n){1&i&&(t.TgZ(0,"nb-card-header",19),t._UZ(1,"app-progress-bar"),t.qZA())}function Ie(i,n){if(1&i&&(t.TgZ(0,"nb-card-body")(1,"div",20)(2,"div",21)(3,"div",22)(4,"div",23),t._UZ(5,"nb-icon",24),t.TgZ(6,"span",25),t._uU(7),t.qZA()(),t.TgZ(8,"div",26)(9,"span",25),t._uU(10),t.qZA(),t._UZ(11,"nb-icon",27),t.qZA()(),t.TgZ(12,"div",28)(13,"div",23),t._UZ(14,"nb-icon",29),t.TgZ(15,"span",25),t._uU(16),t.qZA()(),t.TgZ(17,"div",26)(18,"span",25),t._uU(19),t.qZA(),t._UZ(20,"nb-icon",30),t.qZA()()()()()),2&i){const e=t.oxw();t.xp6(1),t.ekj("active",e.active),t.xp6(6),t.hij(" ",(null==e.build?null:e.build.buildNo)||(null==e.build||null==e.build.raw_request_sent_for_execution?null:e.build.raw_request_sent_for_execution.SLUG)||"-"," "),t.xp6(3),t.hij(" ",(null==e.build||null==e.build.raw_request_sent_for_execution?null:e.build.raw_request_sent_for_execution.GIT_BRANCH)||"-"," "),t.xp6(6),t.hij(" ",(null==e.build||null==e.build.raw_request_sent_for_execution?null:e.build.raw_request_sent_for_execution.APP_TYPE)||"-"," "),t.xp6(3),t.hij(" ",(null==e.build?null:e.build.timeElpased)||"-"," sec. ")}}function Se(i,n){if(1&i&&(t.ynx(0),t._UZ(1,"div",35),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.ekj("fail",0==(null==e?null:e.state))("primary",null==(null==e?null:e.state))("success",1==(null==e?null:e.state))}}function Fe(i,n){if(1&i&&(t.ynx(0),t.YNc(1,Se,2,6,"ng-container",6),t.TgZ(2,"div",33),t._UZ(3,"nb-icon",34),t.qZA(),t.BQk()),2&i){const e=n.$implicit,o=n.index;t.oxw(2);const r=t.MAs(1);t.xp6(1),t.Q6J("ngIf",0!=o),t.xp6(2),t.ekj("spin",1!=(null==e?null:e.state)),t.Q6J("nbPopoverContext",e)("nbPopover",null!=e&&e.ts?r:null)("status",1==(null==e?null:e.state)?"success":"danger")("icon",1==(null==e?null:e.state)?"checkmark-circle-2-outline":"close-circle-outline")}}function Le(i,n){if(1&i&&(t.TgZ(0,"nb-card-footer")(1,"div",31),t.YNc(2,Fe,4,7,"ng-container",32),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.ekj("success","SUCCESS"==(null==e.build?null:e.build.status))("fail","FAIL"==(null==e.build?null:e.build.status)),t.xp6(1),t.Q6J("ngForOf",null==e.build?null:e.build.build_state)}}function Ue(i,n){if(1&i&&(t.TgZ(0,"nb-card-footer",36)(1,"div",37),t._UZ(2,"nb-icon",38),t.TgZ(3,"span",39),t._uU(4),t.qZA()(),t.TgZ(5,"div",40),t._UZ(6,"nb-tag",41)(7,"nb-icon",18),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.hij(" ",(null==e.build?null:e.build.timeElpased)||" - "," sec. "),t.xp6(2),t.Q6J("status",null==e.build?null:e.build._status)("text",null==e.build?null:e.build.buildState),t.xp6(1),t.ekj("spin",(null==e.build?null:e.build.transition_state)>0&&(null==e.build?null:e.build.transition_state)<8),t.Q6J("status",null==e.build?null:e.build._status)("icon",null==e.build?null:e.build.progressIcon)}}var L=(()=>{return(i=L||(L={}))[i.FAILED=0]="FAILED",i[i.ENQUEUED=1]="ENQUEUED",i[i.EXECUTION_ENQUEUED=2]="EXECUTION_ENQUEUED",i[i.EXECUTION_STARTED=3]="EXECUTION_STARTED",i[i.EXECUTION_FINISHED=4]="EXECUTION_FINISHED",i[i.EXECUTION_REPORT_DOWNLOADED=5]="EXECUTION_REPORT_DOWNLOADED",i[i.PARSING_ENQUEUED=6]="PARSING_ENQUEUED",i[i.PARSING_STARTED=7]="PARSING_STARTED",i[i.PARSING_FINISHED=8]="PARSING_FINISHED",L;var i})();class nt{set _build(n){this.build=this.apiService.buildDetailedPipe(n)}constructor(n){this.apiService=n}ngOnInit(){}onClick(n,e){}}nt.\u0275fac=function(n){return new(n||nt)(t.Y36(k))},nt.\u0275cmp=t.Xpm({type:nt,selectors:[["app-build-item"]],inputs:{active:"active",_build:["build","_build"]},decls:13,vars:14,consts:[["hintPopover",""],[3,"accent"],[4,"ngIf","ngIfElse"],["nonActiveProtectionHeader",""],[3,"active","build"],["style","padding: 0px; border: none;  ",4,"ngIf"],[4,"ngIf"],["fxLayout","row","style","padding: 10px;","fxLayoutGap","20px",4,"ngIf"],["fxLayout","column",2,"padding","1rem"],["fxFlex",""],["fxFlex","",4,"ngIf"],["fxFlex","","fxLayoutGap","1rem"],["fxLayoutGap","10px","fxLayout","column","fxFlex",""],["fxLayoutAlign","start center","fxLayoutGap","2px"],["status","basic","appearance","outline","size","small",3,"text"],["fxLayoutAlign","end center","fxLayoutGap","5px"],["appearance","outline","size","tiny",3,"status","text"],["outline","","nbButton","","shape","round","size","tiny",3,"status"],[3,"status","icon"],[2,"padding","0px","border","none"],["fxLayoutGap","1rem"],["fxLayoutGap","10px","fxLayout","column","fxLayoutAlign","start start"],["fxFill","","fxLayoutAlign","sspace-between end","fxLayout","row"],["fxFlex","","fxLayoutGap","20px"],["icon","shuffle-2-outline",1,"text-interactive"],[1,"text-interactive"],["fxFlex","","fxLayoutAlign","end","fxLayoutGap","20px"],["icon","pricetags-outline",1,"text-interactive"],["fxFill","","fxLayoutAlign","sspace-between","fxLayout","row"],["icon","sun-outline",1,"text-interactive"],["icon","clock-outline",1,"text-interactive"],["fxFlex","","fxLayoutAlign","center center","fxLayout","row",1,"container","selected"],[4,"ngFor","ngForOf"],["fxLayoutAlign","start center"],["nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"dot",3,"nbPopoverContext","nbPopover","status","icon"],["fxFlex","",1,"horizontal_line"],["fxLayout","row","fxLayoutGap","20px",2,"padding","10px"],["fxFlex","","fxLayoutGap","10px"],["status","basic","icon","clock-outline"],[1,"text-basic"],["fxLayoutAlign","center","fxLayoutGap","5px"],["appearance","filled","size","tiny",3,"status","text"]],template:function(n,e){if(1&n&&(t.YNc(0,Ae,7,5,"ng-template",null,0,t.W1O),t.TgZ(2,"nb-card",1)(3,"nb-card-header"),t.YNc(4,Oe,5,1,"ng-container",2),t.YNc(5,Pe,8,8,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(7,"nb-card-header"),t._UZ(8,"app-build-progress-view",4),t.qZA(),t.YNc(9,Ze,2,0,"nb-card-header",5),t.YNc(10,Ie,21,6,"nb-card-body",6),t.YNc(11,Le,3,5,"nb-card-footer",6),t.YNc(12,Ue,8,7,"nb-card-footer",7),t.qZA()),2&n){const o=t.MAs(6);t.xp6(2),t.ekj("active",e.active)("inactive",!e.active),t.Q6J("accent",e.active?null==e.build?null:e.build._status:null)("accent",null==e.build?null:e.build._status),t.xp6(2),t.Q6J("ngIf",1==(null==e.build?null:e.build.active_protection))("ngIfElse",o),t.xp6(4),t.Q6J("active",e.active)("build",e.build),t.xp6(1),t.Q6J("ngIf","Executing"==(null==e.build?null:e.build.buildState)),t.xp6(1),t.Q6J("ngIf",e.active&&1!=(null==e.build?null:e.build.active_protection)),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1)}},styles:[".row[_ngcontent-%COMP%]{overflow:auto}.main[_ngcontent-%COMP%]{width:0!important}nb-list[_ngcontent-%COMP%]{overflow:auto}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:keep-all}span[_ngcontent-%COMP%]{text-overflow:ellipsis}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.row[_ngcontent-%COMP%]{overflow:auto!important}code[_ngcontent-%COMP%]{color:#f8f8f2;font-size:.875rem}nb-card-header[_ngcontent-%COMP%]{padding:10px;padding-left:1rem}nb-card-footer[_ngcontent-%COMP%]{padding:10px;padding-left:1rem}nb-card[_ngcontent-%COMP%]{transition-duration:.3s}.inactive[_ngcontent-%COMP%]{background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{border-top-width:1px;margin:0;border-radius:0!important}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}.active[_ngcontent-%COMP%]{background:var(--background-basic-color-1)!important;border-top-width:9px;margin-top:20px;margin-bottom:20px}nb-card[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:.5s}.container.fail[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.container.active[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;transition:.2s;color:#006fd6!important;border-radius:5px}.container.active[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%], .container.active[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%], .container.active[_ngcontent-%COMP%]   .caption-2[_ngcontent-%COMP%], .container.active[_ngcontent-%COMP%]   .subtitle-2[_ngcontent-%COMP%]{color:#fff!important}.icon[_ngcontent-%COMP%]{height:100%}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize;color:var(--text-basic-color)!important}.hash[_ngcontent-%COMP%]{color:var(--text-basic-color)!important}.dot[_ngcontent-%COMP%]{font-size:20px;font-weight:300}.dot[_ngcontent-%COMP%]:hover{font-size:40px;transition:.2s}.horizontal_line[_ngcontent-%COMP%]{width:30px;height:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}.circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;display:flex;width:3rem;height:3rem;line-height:3rem;border-radius:50%;font-size:.8rem;text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-primary-600),1px -1px 1px var(--color-primary-600),-1px -1px 1px var(--color-primary-600);box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.circle.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600);text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-success-600),1px -1px 1px var(--color-success-600),-1px -1px 1px var(--color-success-600)}.circle.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600);text-shadow:1px 1px 1px var(--color-danger-300),-1px 1px 1px var(--color-danger-600),1px -1px 1px var(--color-danger-600),-1px -1px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]:hover{font-size:1rem;transition:.2s;width:4rem;height:4rem}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 2px 2px 5px 1px var(--color-primary-300),2px 0 5px 1px var(--color-primary-600)}.vertical_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.vertical_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.xContainer[_ngcontent-%COMP%]{padding:1rem}.text-interactive[_ngcontent-%COMP%]{color:var(--text-basic-color);font-weight:550}.text-interactive[_ngcontent-%COMP%]:hover{text-decoration:underline}nb-list-item[_ngcontent-%COMP%]{padding:8px;margin-top:10px;border-radius:10px}nb-list-item.active[_ngcontent-%COMP%]{background:var(--color-basic-800)}nb-list-item.active[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--text-success-color);font-weight:550}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-basic-800)}nb-list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:350;color:var(--text-hint-color)}nb-list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px;height:26px;margin-right:20px;margin-left:10px}"]});var C=x(4586);class k{createBusiness(n,e){return this.postRequest("api/v1/business/",{name:n,description:e})}createProject(n,e,o){return this.postRequest("api/v1/business/"+n,{name:e,description:o})}addAssetUrl(n,e){return this.putRequest("api/v1/business/assets/dns",{applicationId:e,domain:n})}removeAssetUrl(n,e){return this.deleteRequest("api/v1/business/assets/dns/"+e+"/"+n)}getAssetUrls(n){return this.getRequest("api/v1/business/assets/dns/"+n).pipe((0,u.U)(e=>(e?.data?.unshift({domain:"All",_id:{$oid:"*"}}),e?.data)))}getDiscoveredAssets(n,e=0,o="",r=3e3){return this.getRequest("api/v1/business/assets/dns/discovered/"+n,{last_val:e,search:o,limit:r}).pipe((0,u.U)(a=>a?.data))}getDiscoveredAllFilteredAssets(n,e=0,o="",r=30){return this.getRequest("api/v1/business/assets/dns/discovered/filtered/"+n,{last_val:e,search:o,limit:r}).pipe((0,u.U)(a=>a?.data))}deleteApplication(n){return this.getRequest("api/v1/customer/request/delete/"+n).pipe((0,u.U)(e=>e?.data))}editBusiness(n,e){return this.putRequest("api/v1/business/"+n,e)}editProject(n,e,o){return this.putRequest("api/v1/business/"+n+"/"+e,o)}createApp(n){return this.postRequest("api/v1/devsecops/create_app",n).pipe((0,u.U)(e=>e?.data))}buildDetailedPipe(n){let e="Unknown",o=0,r=n?.transition_state,a=n?.files?.map(f=>(f.download_url=this.downloadFile(f).pipe((0,u.U)(g=>(g.url=ut.N.minio_url+g.url,console.log("__download_url",g),g.url)),(0,h.w)(g=>this.http.get(g,{responseType:"text"}))),console.log("download_url",f),f));n.files=a,r<=L.FAILED?(e="Failed",o=0):r==L.ENQUEUED?(e="Enqueued",o=5):r>=L.EXECUTION_ENQUEUED&&r<=L.EXECUTION_REPORT_DOWNLOADED?(e="Executing",o=25):r>=L.PARSING_ENQUEUED&&r<=L.PARSING_STARTED?(e="Parsing",o=75):r>=L.PARSING_FINISHED&&(e="Completed",o=100);let l="loader-outline",c="primary";return 0==r?(l="close-outline",c="danger"):8==r&&(l="checkmark-outline",c="success"),n.buildState=e,n.buildProgress=o,n.buildProgress=Math.ceil(r/8*100),n.progressIcon=l,n._status=c,n}selectApp(n){console.log("selectApp",n),this.selectedApp$.next(n)}selectProject(n,e){this.selectedBusiness.pipe((0,de.P)(),(0,_.b)(o=>{this.selectedProject$.next(o?.project[n])})).subscribe(o=>{e&&e()})}selectBusiness(n,e){this.appHier.pipe((0,de.P)(),(0,_.b)(o=>{this.selectedBusiness$.next(o[n])})).subscribe(o=>{this.selectProject(0,e)})}getPlatforms(){return this.getRequest("api/v1/menu/platform").pipe((0,u.U)(n=>n?.data))}getUserApplication(n){return 1==n?.integrated||0==n?.integrated||delete n.integrated,1!=n?.includeOffsetId&&delete n.includeOffsetId,this.getRequest("api/v1/customer/getUserApplication",n)}getUserApplicationById(n){return this.getRequest("api/v1/customer/getUserApplication/"+n).pipe((0,_.b)(e=>{0==e?.status&&this.router.navigate(["/","devsec","switch"])}),(0,u.U)(e=>e?.data))}getDevsecopsBuildData(n,e){return this.postRequest("api/v1/devsecops/build",n,e).pipe((0,u.U)(o=>o?.data))}getBusinesses(){return this.getRequest("api/v1/business/?limit=9999999999").pipe((0,u.U)(n=>n?.data))}getExternalTools(){return this.getRequest("api/v1/devsecops/getExternalToolsList").pipe((0,u.U)(n=>n?.data.map(e=>e)))}getExternalDevSecTools(){return this.getRequest("api/v1/devsecops/getExternalDevToolsList").pipe((0,u.U)(n=>n?.data))}runExtetnalTool(n){return this.postRequest("api/v1/devsecops/runAdhocExternalTools",n).pipe((0,u.U)(e=>e?.data))}runExtetnalToolNew(n){return this.postRequest("api/v1/devsecops/runAdhocExternalToolsNew",n).pipe((0,u.U)(e=>e?.data))}getProjects(){return this.getRequest("api/v1/user/project/").pipe((0,u.U)(n=>n?.data))}suppressFindingById(n,e){return this.postRequest(`api/v1/devsecops/finding/suppress/${n}`,e)}resetStateFindingById(n,e){return this.postRequest(`api/v1/devsecops/finding/reset_state/${n}`,e)}acceptRiskFindingById(n,e){return this.postRequest(`api/v1/devsecops/finding/accept_risk/${n}`,e)}getFindingById(n){return this.getRequest(`api/v1/devsecops/finding/fetch/${n}`)}stopBuildScan(n,e){return this.postRequest(`api/v1/devsecops/build/stop/${n}/${e}`).pipe((0,u.U)(o=>o?.data))}stopAllPrevious(n,e){return this.postRequest(`api/v1/devsecops/build/stop/allprevious/${n}/${e}`).pipe((0,u.U)(o=>o?.data))}getBuildByIds(n,e,o){return this.postRequest("api/v1/devsecops/builds",{build_ids:n,build_top_offset:e,filters:o}).pipe((0,u.U)(r=>r?.data))}getBuildById(n){return this.postRequest(`api/v1/devsecops/build/${n}`).pipe((0,u.U)(e=>e?.data))}getFindings(n,e,o,r,a,l){return this.postRequest("api/v1/devsecops/finding/fetch",{match:{refrence_ids:e,active:!0,severity:{$in:o}},sort:r},{offset:a,limit:l}).pipe((0,u.U)(c=>c?.data))}getFindingStats(n,e){return this.postRequest("api/v1/devsecops/getFindingStats",{refrence_ids:e,active:!0}).pipe((0,u.U)(o=>o?.data),(0,u.U)(o=>{let r={info:0,low:0,medium:0,high:0,critical:0};return o.forEach(a=>{r[a._id.toLowerCase()]=a.count}),r}))}getUserApplicationHierarchy(){return this.getRequest("api/v1/customer/getUserApplicationHierarchy")}setLoading(n){this.lastSubscription&&this.lastSubscription.unsubscribe();let e=0;n&&(e=0),this.lastSubscription=(0,N.of)(n).pipe((0,Me.g)(e)).subscribe(()=>{this.loading.next(n)})}getRequest(n,e={},o={},r=!1){return this.http.get(`${this.localUrl}/${n}`,{params:e,headers:o})}deleteRequest(n,e={},o={},r=!1){return this.http.delete(`${this.localUrl}/${n}`,{params:e,headers:o})}postRequest(n,e={},o={},r=new oe.WM,a=!1){return Object.keys(o).forEach(l=>void 0===o[l]&&delete o[l]),this.http.post(`${this.localUrl}/${n}`,e,{params:o,headers:r})}putRequest(n,e={},o={},r=new oe.WM,a=!1){return Object.keys(o).forEach(l=>void 0===o[l]&&delete o[l]),this.http.put(`${this.localUrl}/${n}`,e,{params:o,headers:r})}init(){this.getUserApplication().pipe((0,_.b)(n=>{})).subscribe(n=>{this.getUserApplicationHierarchy().subscribe(e=>{let o={businessName:"All",title:"All",businessId:{$oid:"*"},_id:{$oid:"*"},project:[]};e=e?.data;let r=[],a=1;e.forEach(l=>{l?.project.forEach(c=>{let f=c?.businessId;c.businessId=f,c.projectId=c?._id,c.title=c?.name})}),o.project=r,e?.unshift(o),e.map(l=>(l.title=l?.businessName,l?.project.map((c,f)=>{let g=c?.businessId;c.index=f,c.businessId=g,c.projectId=c?._id,c.title=c?.name}),l?.project?.unshift({businessId:l?.businessId,projectId:{$oid:"*"},_id:{$oid:"*"},title:"All"}),l?.project.map((c,f)=>{if(c.index=f,f>0){let g=Object.assign({},c);g.index=a,a+=1,r.push(g)}}),l)),e.map((l,c)=>(l.index=c,l)),e?.length>0&&this.selectBusiness(0)})})}constructor(n,e,o,r){this.toastrService=n,this.http=e,this.router=o,this.ngZone=r,this.buildTransformerPipe=a=>{let l=0,c=[{state:a?.state_requested,ts:a?.state_requested_ts,time_taken:0,title:"Enqueued"},{state:a?.state_execution,ts:a?.state_execution_ts,time_taken:0,title:"Executing"},{state:a?.state_download_raw,ts:a?.state_download_raw_ts,time_taken:0,title:"Report Generated"},{state:a?.state_pushed_to_parser,ts:a?.state_pushed_to_parser_ts,time_taken:0,title:"Analyzing"},{state:a?.state_parsing_started,ts:a?.state_parsing_started_ts,time_taken:0,title:"Parsing"},{state:a?.state_parsing_completed,ts:a?.state_parsing_completed_ts,time_taken:0,title:"Finished"}];return a.success=void 0,a.failed=!1,c.map((f,g)=>(0==g||(f.time_taken=f?.ts?.$date-c[g-1]?.ts?.$date,f.time_taken=f?.time_taken/1e3,f.time_taken=0|f?.time_taken,f.time_taken=Math.ceil(f.time_taken),l+=f.time_taken,0==f?.state&&(a.failed=!0)),f)),a.build_state=c,a.timeElpased=l,a.finding_stats=this.getFindingStats(a?.applicationId,a?._id).pipe(),a},this.selectedBuildId$=new F.X(void 0),this.selectedBuildId=this.selectedBuildId$.asObservable().pipe(),this.loading=new F.X(!1),this.localUrl=ut.N.url,this.selectedBusiness$=new F.X(void 0),this.selectedBusiness=this.selectedBusiness$.asObservable().pipe(),this.selectedProject$=new F.X(void 0),this.selectedProject=this.selectedProject$.asObservable().pipe(),this.applicationList$=V.E.pipe((0,h.w)(a=>this.getUserApplication().pipe((0,u.U)(l=>l?.data)))),this.appHier$=this.getUserApplicationHierarchy().pipe((0,u.U)(a=>{let l={businessName:"All",title:"All",businessId:{$oid:"*"},_id:{$oid:"*"},project:[]};a=a?.data;let c=[],f=1;return a.forEach(g=>{g?.project.forEach(b=>{let M=b?.businessId;b.businessId=M,b.projectId=b?._id,b.title=b?.name})}),l.project=c,a?.unshift(l),a.map(g=>(g.title=g?.businessName,g?.project.map((b,M)=>{let T=b?.businessId;b.index=M,b.businessId=T,b.projectId=b?._id,b.title=b?.name}),g?.project?.unshift({businessId:g?.businessId,projectId:{$oid:"*"},_id:{$oid:"*"},title:"All"}),g?.project.map((b,M)=>{if(b.index=M,M>0){let T=Object.assign({},b);T.index=f,f+=1,c.push(T)}}),g)),a.map((g,b)=>(g.index=b,g)),console.debug("debug",a),a?.length>0&&this.selectBusiness(0),a})),this.appHier=this.appHier$.pipe((0,P.d)()),this.applicationList=this.applicationList$.pipe((0,P.d)()),this.applicationIntUnIntStats=this.applicationList.pipe((0,v.h)(a=>!!a),(0,u.U)(a=>{let l=0,c=0;return a.forEach(f=>{f.application.forEach(g=>{g?.scan_data?l+=1:c+=1})}),{integrated_apps_count:l,unintegrated_apps_count:c}})),this.selectedApp$=new F.X(void 0),this.selectedApp=this.selectedApp$.asObservable().pipe((0,v.h)(a=>!!a),(0,u.U)(a=>{if(null==a)return;a.identifier=a?.application?.applicationId?.$oid;let l=a?.platformName||"";return l=l.toLowerCase(),a.platformTag=l?.indexOf("web")>=0?"web":l?.indexOf("android")>=0||l?.indexOf("ios")>=0?"mobile":"unknown",a}),function we(i,n){return(0,pt.x)((e,o)=>n?n(e[i],o[i]):e[i]===o[i])}("identifier")),this.applications=this.applicationList.pipe((0,_.b)(console.debug)),this._applications=this.selectedProject.pipe((0,v.h)(a=>!!a),(0,h.w)(a=>this.applicationList.pipe((0,u.U)(l=>l.filter(c=>{let f=c.platformId.$oid;return a?.platform?.filter(b=>"*"==b?.platformId?.$oid||b?.platformId?.$oid==f),!(c?.businessId?.$oid!=a?.businessId?.$oid&&"*"!=a?.businessId?.$oid||c?.projectId?.$oid!=a?.projectId?.$oid&&"*"!=a?.projectId?.$oid)})))),(0,u.U)(a=>{let l=[];return a.forEach(c=>{c?.application?.forEach(f=>{let g=Object.assign({},c);g.application=f,l.push(g)})}),l}),(0,P.d)())}getAutoSuggestions(n){return this.postRequest("api/v1/devsecops/getRepositoryData",n)}getAppToken(n){return this.postRequest("api/v1/devsecops/getAppToken",n)}forceRebuild(n,e){return this.postRequest(`api/v1/devsecops/getBusinessHierarchy?token=${e}`,n)}getDevsecopsScanData(n){return this.postRequest("api/v1/devsecops/getDevsecopsScanData",n).pipe((0,u.U)(e=>e?.data))}getConfigureTools(n){return this.postRequest("api/v1/devsecops/configure_tools",n)}setConfigureTools(n,e){return n.tools_config=e,this.putRequest("api/v1/devsecops/configure_tools",n)}addDevsecopsScanDetails(n,e){return this.postRequest("api/v1/devsecops/addScanDetails",{data:n,details:e})}getDevsecopsStaticScanData(n){return this.postRequest("api/v1/devsecops/getDevsecopsScanData/static",n).pipe((0,u.U)(e=>e?.data))}setDevsecopsActivationState(n,e){return this.postRequest("api/v1/devsecops/addScanDetails/configure",{data:n,details:{active_state:e}})}setDevsecopsConfigActivationFlag(n,e,o){let r={};return r[e]=o,this.postRequest("api/v1/devsecops/addScanDetails/configure",{data:n,details:r})}addDevsecopsStaticScanDetails(n,e){return this.postRequest("api/v1/devsecops/addScanDetails/static",{data:n,details:e})}getDevsecopsDynamicScanData(n){return this.postRequest("api/v1/devsecops/getDevsecopsScanData/dynamic",n).pipe((0,u.U)(e=>e?.data))}addDevsecopsDynamicScanDetails(n,e){return this.postRequest("api/v1/devsecops/addScanDetails/dynamic",{data:n,details:e})}downloadReportZip(n){return this.getRequest("api/v1/devsecops/getDevsecopsReport",n).pipe((0,u.U)(e=>e?.data?.url),(0,v.h)(e=>!!e),(0,_.b)(e=>{window.open(ut.N.minio_url+e,"_blank")}),(0,_.b)(e=>{this.toastrService.success("Downloading report  ","Download Started")}))}retry(n){return this.postRequest("api/v1/devsecops/retry",n)}lsremote(n){return this.postRequest("api/v1/devsecops/config/remote",{url:n})}healthcheck(n){return this.postRequest("api/v1/devsecops/config/healthCheck",{url:n})}runRecon(n){return this.postRequest("api/v1/devsecops/runRecon",n)}runQuickDynamicScan(n){return this.postRequest("api/v1/devsecops/runQuickDynamicScan",n)}runScan(n){return this.postRequest("api/v1/devsecops/scm/run",{uuid:n})}updateBitbucketMapping(n){return this.postRequest("api/v1/devsecops/scm/accesscontrol",n)}getAllScmRepos(){return this.getRequest("api/v1/devsecops/scm/repository").pipe((0,u.U)(n=>n?.data))}getAllScmProjects(){return this.getRequest("api/v1/devsecops/scm/projects").pipe((0,u.U)(n=>n?.data))}getAllProjects(){return this.getRequest("api/v1/customer/getUserApplicationHierarchy").pipe((0,u.U)(n=>n?.data),(0,u.U)(n=>{let e=[];return n.forEach(o=>{o?.project?.map(r=>{let a=r;a.businessId=o?.businessId,a.businessName=o?.businessName,e.push(a)})}),e}))}downloadFile(n){return this.getRequest("api/v1/external_tools/getPresignedUrl",{bucketName:n.bucket,filename:n.name,path:n.path}).pipe((0,u.U)(o=>o?.data))}getAssociatedBusinesses(){return this.getRequest("api/v1/business/?limit=9999999999").pipe((0,u.U)(n=>n.data))}getAssociatedBusinessesProjects(){return this.getRequest("api/v1/project").pipe((0,u.U)(n=>n.data))}getAssociatedBusinessesByProjectId(n){return this.getRequest("api/v1/business/"+n).pipe((0,u.U)(e=>e.data?.projects))}}k.\u0275fac=function(n){return new(n||k)(t.LFG(s.quB),t.LFG(oe.eN),t.LFG(C.F0),t.LFG(t.R0b))},k.\u0275prov=t.Yz7({token:k,factory:k.\u0275fac});var O=x(8675),p=x(1576),re=x(5829),W=x(7579),Xt=x(6451),pe=x(930),ue=x(8372),D=x(9841),_e=x(4482);const{isArray:Ne}=Array;function qe(i){return 1===i.length&&Ne(i[0])?i[0]:i}var Je=x(3268),De=x(9635),Qe=x(3269);function ge(...i){const n=(0,Qe.jO)(i);return n?(0,De.z)(ge(...i),(0,Je.Z)(n)):(0,_e.e)((e,o)=>{(0,D.l)([e,...qe(i)])(o)})}function ze(...i){return ge(...i)}var me=x(2940),K=x(6099),fe=x(8746);class z{constructor(n){this.el=n}scrollIntoView(){this.el.nativeElement.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}}z.\u0275fac=function(n){return new(n||z)(t.Y36(t.SBq))},z.\u0275dir=t.lG2({type:z,selectors:[["","appScrollableItem",""]],inputs:{key:["appScrollableItem","key"]}});var y=x(7340);class X{constructor(n,e){this.elementRef=n,this.renderer=e}ngAfterViewInit(){this.elementRef.nativeElement.focus()}}function Re(i,n){if(1&i&&(t.TgZ(0,"nb-list-item",13),t._UZ(1,"nb-icon",14),t.TgZ(2,"div",5),t._uU(3),t.ALo(4,"async"),t.qZA()()),2&i){const e=t.oxw();let o;t.xp6(3),t.hij(" 1. ",null==(o=t.lcZ(4,1,e.selectedBusiness))?null:o.title," ")}}function Ge(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",15),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selectBusiness(null==a?null:a.index))}),t.ALo(1,"async"),t._UZ(2,"nb-icon",16),t.ALo(3,"async"),t.ALo(4,"async"),t.TgZ(5,"div",17),t._uU(6),t.qZA(),t.TgZ(7,"button",18),t._UZ(8,"nb-icon",19),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw();let r,a,l;t.ekj("selected",(null==e||null==e._id?null:e._id.$oid)==(null==(r=t.lcZ(1,5,o.selectedBusiness))||null==r._id?null:r._id.$oid)),t.xp6(2),t.Q6J("status",(null==e||null==e._id?null:e._id.$oid)==(null==(a=t.lcZ(3,7,o.selectedBusiness))||null==a._id?null:a._id.$oid)?"success":"primary")("icon",(null==e||null==e._id?null:e._id.$oid)==(null==(l=t.lcZ(4,9,o.selectedBusiness))||null==l._id?null:l._id.$oid)?"checkmark-circle-2-outline":"radio-button-off-outline"),t.xp6(4),t.hij(" ",null==e?null:e.title," ")}}X.\u0275fac=function(n){return new(n||X)(t.Y36(t.SBq),t.Y36(t.Qsj))},X.\u0275dir=t.lG2({type:X,selectors:[["","focusOnce",""]]});class tt{constructor(n){this.apiService=n,this.searchFieldControl=new d.NI(""),this.selectedBusiness=this.apiService.selectedBusiness,this.list_items$=this.selectedBusiness.pipe((0,h.w)(e=>this.apiService.appHier.pipe((0,_.b)(o=>console.log("__",o)),(0,u.U)(o=>({projectCount:0|o?.project?.length,business:o,selected:e})))),(0,u.U)(e=>(console.log(e),e.business.filter(o=>(o.projectCount=0|o?.project?.length,!0))))),this.list_items=this.searchFieldControl.valueChanges.pipe((0,pt.x)(),(0,O.O)(this.searchFieldControl.value),(0,h.w)(e=>(e=e?.toLowerCase(),this.list_items$.pipe((0,u.U)(o=>(console.log("babla",o),o.filter(r=>r?.title?.toLowerCase().startsWith(e))))))))}ngOnInit(){console.log("dialogRef",this.dialogRef)}selectBusiness(n){this.apiService.selectBusiness(n,()=>{this.dialogRef.close(!0)})}clearSearch(){this.searchFieldControl.setValue("")}}function Ee(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",11),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selectProject(null==a?null:a.index))}),t.ALo(1,"async"),t._UZ(2,"nb-icon",12),t.ALo(3,"async"),t.ALo(4,"async"),t.TgZ(5,"div",13),t._uU(6),t.qZA(),t.TgZ(7,"button",14),t._UZ(8,"nb-icon",15),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw();let r,a,l;t.ekj("selected",(null==e||null==e._id?null:e._id.$oid)==(null==(r=t.lcZ(1,5,o.selectedProject))||null==r._id?null:r._id.$oid)),t.xp6(2),t.Q6J("status",(null==e||null==e._id?null:e._id.$oid)==(null==(a=t.lcZ(3,7,o.selectedProject))||null==a._id?null:a._id.$oid)?"success":"primary")("icon",(null==e||null==e._id?null:e._id.$oid)==(null==(l=t.lcZ(4,9,o.selectedProject))||null==l._id?null:l._id.$oid)?"checkmark-circle-2-outline":"radio-button-off-outline"),t.xp6(4),t.hij(" ",null==e?null:e.title," ")}}tt.\u0275fac=function(n){return new(n||tt)(t.Y36(k))},tt.\u0275cmp=t.Xpm({type:tt,selectors:[["app-business-list"]],inputs:{dialogRef:"dialogRef"},decls:19,vars:8,consts:[["fxFill","","fxFlex","1 1 500px","accent","primary"],["fxLayout","column"],["fxFlex","",1,"h5"],["fxFlex","",1,"caption-2",2,"color","white"],[2,"padding","2px"],["fxFlex",""],["fxLayout","row"],["focusOnce","","status","basic","type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Search",3,"formControl","keyup.escape"],["nbSuffix","","nbButton","","control","","status","primary","ghost","",3,"click"],["icon","close-outline"],["nbInfiniteList",""],["class","selected",4,"ngIf"],[3,"selected","click",4,"ngFor","ngForOf"],[1,"selected"],["icon","checkmark-outline"],[3,"click"],[1,"checkmark",3,"status","icon"],["fxFlex","",1,"title",2,"margin-left","10px"],["outline","","nbButton","","shape","round","size","medium",1,"projectsBtn"],["icon","arrowhead-right-outline"]],template:function(n,e){if(1&n&&(t.TgZ(0,"nb-card",0)(1,"nb-card-header")(2,"div",1)(3,"div",2),t._uU(4," Switch Business "),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.ALo(7,"async"),t.qZA()()(),t.TgZ(8,"nb-card-header",4)(9,"div",5)(10,"div",6)(11,"nb-form-field",5)(12,"input",7),t.NdJ("keyup.escape",function(){return e.clearSearch()}),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return e.clearSearch()}),t._UZ(14,"nb-icon",9),t.qZA()()()()(),t.TgZ(15,"nb-list",10),t.YNc(16,Re,5,3,"nb-list-item",11),t.YNc(17,Ge,9,11,"nb-list-item",12),t.ALo(18,"async"),t.qZA()()),2&n){let o;t.xp6(6),t.hij(" ",null==(o=t.lcZ(7,4,e.selectedBusiness))?null:o.title," "),t.xp6(6),t.Q6J("formControl",e.searchFieldControl),t.xp6(4),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngForOf",t.lcZ(18,6,e.list_items))}},dependencies:[m.sg,m.O5,p.xw,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.ndF,s.h8i,s.zP_,s.qBV,s.sTn,d.Fj,d.JJ,d.oH,s.jBG,s.yyc,X,m.Ov],styles:["nb-card[_ngcontent-%COMP%]{margin:0}nb-card-header[_ngcontent-%COMP%]{border-radius:.3;background-color:var(--background-basic-color-4)}nb-list[_ngcontent-%COMP%]{background-color:var(--background-basic-color-5)}nb-icon[_ngcontent-%COMP%]{font-size:1.3rem;margin-left:10px;margin-right:10px}nb-list-item[_ngcontent-%COMP%]{margin:5px 10px;font-size:1rem;line-height:1.3rem;padding:.4rem;color:var(--color-basic-600);border:1px solid var(--background-basic-color-1);background-color:var(--background-basic-color-2);border-radius:5px;font-weight:450;font-weight:800}nb-list-item[_ngcontent-%COMP%]:hover{background-color:var(--background-basic-color-2);border:1px solid var(--background-primary-color-1)}nb-list-item.selected[_ngcontent-%COMP%]{background-color:var(--background-basic-color-3);border:2px solid var(--background-primary-color-1)}.selected[_ngcontent-%COMP%]{color:var(--color-basic-100);font-weight:800}"],data:{animation:[(0,y.X$)("enterAnimation",[(0,y.eR)(":enter",[(0,y.oB)({transform:"scale(0)",opacity:0}),(0,y.jt)("300ms",(0,y.oB)({transform:"scale(1)",opacity:1}))]),(0,y.eR)(":leave",[(0,y.oB)({transform:"translateX(0)",opacity:1}),(0,y.jt)("500ms",(0,y.oB)({transform:"translateX(100%)",opacity:0}))])])]}});class it{constructor(n){this.apiService=n,this.searchFieldControl=new d.NI(""),this.selectedProject=this.apiService.selectedProject,this.list_items$=this.selectedProject.pipe((0,h.w)(e=>this.apiService.selectedBusiness.pipe((0,_.b)(o=>console.log("__",o)),(0,u.U)(o=>({projects:o?.project,selected:e})))),(0,u.U)(e=>(console.log(e),e.projects.filter(o=>!0)))),this.list_items=this.searchFieldControl.valueChanges.pipe((0,pt.x)(),(0,O.O)(this.searchFieldControl.value),(0,h.w)(e=>(e=e?.toLowerCase(),this.list_items$.pipe((0,u.U)(o=>(console.log("babla",o),o.filter(r=>r?.title?.toLowerCase().startsWith(e))))))))}ngOnInit(){}selectProject(n){this.apiService.selectProject(n,()=>{this.dialogRef.close()})}clearSearch(){this.searchFieldControl.setValue("")}}it.\u0275fac=function(n){return new(n||it)(t.Y36(k))},it.\u0275cmp=t.Xpm({type:it,selectors:[["app-project-list"]],inputs:{dialogRef:"dialogRef"},decls:18,vars:7,consts:[["fxFill","","size","medium","fxFlex","1 1 500px","accent","primary"],["fxLayout","column"],["fxFlex",""],["fxFlex","",1,"caption-2",2,"color","white"],[2,"padding","2px"],["fxLayout","row"],["focusOnce","","status","basic","type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Search",3,"formControl","keyup.escape"],["nbSuffix","","nbButton","","control","","status","primary","ghost","",3,"click"],["icon","close-outline"],["nbInfiniteList",""],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click"],[1,"checkmark",3,"status","icon"],["fxFlex","",1,"title",2,"margin-left","10px"],["outline","","nbButton","","shape","round","size","medium",1,"projectsBtn"],["icon","arrowhead-right-outline"]],template:function(n,e){if(1&n&&(t.TgZ(0,"nb-card",0)(1,"nb-card-header")(2,"div",1)(3,"div",2),t._uU(4," Switch Project "),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.ALo(7,"async"),t.qZA()()(),t.TgZ(8,"nb-card-header",4)(9,"div",2)(10,"div",5)(11,"nb-form-field",2)(12,"input",6),t.NdJ("keyup.escape",function(){return e.clearSearch()}),t.qZA(),t.TgZ(13,"button",7),t.NdJ("click",function(){return e.clearSearch()}),t._UZ(14,"nb-icon",8),t.qZA()()()()(),t.TgZ(15,"nb-list",9),t.YNc(16,Ee,9,11,"nb-list-item",10),t.ALo(17,"async"),t.qZA()()),2&n){let o;t.xp6(6),t.hij(" ",null==(o=t.lcZ(7,3,e.selectedProject))?null:o.title," "),t.xp6(6),t.Q6J("formControl",e.searchFieldControl),t.xp6(4),t.Q6J("ngForOf",t.lcZ(17,5,e.list_items))}},dependencies:[m.sg,p.xw,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.ndF,s.h8i,s.zP_,s.qBV,s.sTn,d.Fj,d.JJ,d.oH,s.jBG,s.yyc,X,m.Ov],styles:["nb-card[_ngcontent-%COMP%]{margin:0}nb-card-header[_ngcontent-%COMP%]{border-radius:.3;background-color:var(--background-basic-color-4)}nb-list[_ngcontent-%COMP%]{background-color:var(--background-basic-color-5)}nb-icon[_ngcontent-%COMP%]{font-size:1.3rem;margin-left:10px;margin-right:10px}nb-list-item[_ngcontent-%COMP%]{margin:5px 10px;font-size:1rem;line-height:1.3rem;padding:.4rem;color:var(--color-basic-600);border:1px solid var(--background-basic-color-1);background-color:var(--background-basic-color-2);border-radius:5px;font-weight:450;font-weight:800}nb-list-item[_ngcontent-%COMP%]:hover{background-color:var(--background-basic-color-2);border:1px solid var(--background-primary-color-1)}nb-list-item.selected[_ngcontent-%COMP%]{background-color:var(--background-basic-color-3);border:2px solid var(--background-primary-color-1)}.selected[_ngcontent-%COMP%]{color:var(--color-basic-100);font-weight:800}"],data:{animation:[(0,y.X$)("enterAnimation",[(0,y.eR)(":enter",[(0,y.oB)({transform:"scale(0)",opacity:0}),(0,y.jt)("300ms",(0,y.oB)({transform:"scale(1)",opacity:1}))]),(0,y.eR)(":leave",[(0,y.oB)({transform:"translateX(0)",opacity:1}),(0,y.jt)("500ms",(0,y.oB)({transform:"translateX(100%)",opacity:0}))])])]}});var ae=x(3856);const $e=function(i){return["/","devsec",i,"static_scans"]};function je(i,n){if(1&i&&(t.TgZ(0,"div",28),t._UZ(1,"nb-icon",29),t.TgZ(2,"span",30),t._uU(3),t.qZA()()),2&i){const e=t.oxw(2);t.Q6J("routerLink",t.VKq(2,$e,null==e.data||null==e.data.application||null==e.data.application.applicationId?null:e.data.application.applicationId.$oid)),t.xp6(3),t.hij(" ",null==e.data||null==e.data.config?null:e.data.config.git_repo," ")}}const Ye=function(i){return["/","devsec",i,"dynamic_scans"]};function He(i,n){if(1&i&&(t.TgZ(0,"div",28),t._UZ(1,"nb-icon",31),t.TgZ(2,"span",30),t._uU(3),t.qZA()()),2&i){const e=t.oxw(2);t.Q6J("routerLink",t.VKq(2,Ye,null==e.data||null==e.data.application||null==e.data.application.applicationId?null:e.data.application.applicationId.$oid)),t.xp6(3),t.hij(" ",null==e.data||null==e.data.config?null:e.data.config.app_url," ")}}function Ve(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-body",1),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onClick())}),t.TgZ(1,"div",26),t.YNc(2,je,4,4,"div",27),t.YNc(3,He,4,4,"div",27),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",null==e.data||null==e.data.config?null:e.data.config.git_repo),t.xp6(1),t.Q6J("ngIf",null==e.data||null==e.data.config?null:e.data.config.app_url)}}function We(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card")(1,"nb-card-header")(2,"h5"),t._uU(3," Delete App "),t.qZA()(),t.TgZ(4,"nb-card-body"),t._uU(5),t.qZA(),t.TgZ(6,"nb-card-footer",22)(7,"button",32),t.NdJ("click",function(){const a=t.CHM(e).dialogRef;return t.KtG(a.close())}),t._uU(8,"Cancel"),t.qZA(),t.TgZ(9,"button",33),t.NdJ("click",function(){const a=t.CHM(e).dialogRef,l=t.oxw();return t.KtG(l.deleteApp(a))}),t._uU(10,"Delete"),t.qZA()()()}if(2&i){const e=n.$implicit;t.xp6(5),t.Oqu(e)}}const Ke=function(){return{}};class At{set data$(n){let e=n?.platformName||"";e=e.toLowerCase(),n.platformTag=e?.indexOf("web")>=0?"web":e?.indexOf("android")>=0||e?.indexOf("ios")>=0?"mobile":"unknown",this.data=n}constructor(n,e,o){this.router=n,this.apiService=e,this.dialogService=o,this.test="#000",this.active=!1,this.integrated=!1,this.onClickEvent=new W.x,this._reset=new W.x}ngOnInit(){}onClick(){console.debug("onClick"),this.selectApp(this.data)}deleteApp(n){let e=this.data?.application?.applicationId?.$oid;return console.debug("deleteApp",e,this.data),this.apiService.deleteApplication(e).subscribe(o=>{n?.close(),this._reset.next(!0)})}open(n){this.dialogService.open(n,{closeOnBackdropClick:!1,closeOnEsc:!1,hasBackdrop:!0,context:"Are you sure you want to delete the application ?"}).onClose.subscribe(e=>{})}selectApp(n){n?.application?.applicationId?.$oid&&(console.log("routerselectapp",n),this.router.navigate(["/","devsec",n?.application?.applicationId?.$oid,"builds"]))}}At.\u0275fac=function(n){return new(n||At)(t.Y36(C.F0),t.Y36(k),t.Y36(s.Gln))},At.\u0275cmp=t.Xpm({type:At,selectors:[["app-list-item"]],inputs:{index:"index",active:"active",data$:["data","data$"],selectedId:"selectedId",integrated:"integrated"},outputs:{onClickEvent:"click",_reset:"_reset"},decls:36,vars:21,consts:[["fxFill",""],[3,"click"],["fxFlex","","fxLayoutAlign","center center","fxLayoutGap","10px"],["fxLayoutAlign","center center",1,"circle"],[1,"text"],["fxLayoutGap","10px","fxLayout","column","fxFlex","",2,"height","100%"],["fxFlex","","fxLayout","row","fxLayoutAlign","start start"],["fxLayout","column","fxLayoutAlign","center start","fxFlex","",2,"height","100%"],[1,"text-interactive",2,"margin-left","5px","font-weight","550"],["appearance","outline","size","tiny",1,"buildcount",3,"status","text"],["fxLayout","column","fxLayoutAlign","end center"],["size","medium",1,"buildcount",3,"appearance","status","text"],[1,"text-interactive-2",2,"margin-left","5px","font-weight","350","font-size","0.8rem"],["fxLayoutGap","10px"],["fxLayoutGap","4px","fxLayout","column","fxLayoutAlign","start start"],["fxLayoutAlign","start start","fxFlex","","fxLayoutGap","10px"],["src","https://img.icons8.com/nolan/64/organization.png",1,"icon"],[1,"text-interactive-2"],["fxFlex","","fxLayoutAlign","center start","fxLayoutAlign","end","fxLayoutGap","10px"],["src","https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/64/000000/external-application-mobile-application-icongeek26-outline-gradient-icongeek26.png",1,"icon"],[3,"click",4,"ngIf"],[2,"margin","","0px; padding","10px"],["fxLayoutGap","10px","fxLayoutAlign","end"],["nbButton","","status","success","appearance","outline","size","small",3,"click"],["nbButton","","status","danger","appearance","outline","size","small",3,"click"],["dialog",""],["fxLayout","column"],["fxFlex","","fxLayoutGap","10px",3,"routerLink",4,"ngIf"],["fxFlex","","fxLayoutGap","10px",3,"routerLink"],["icon","shuffle-2-outline",1,"text-interactive"],[1,"text-interactive-2","light"],["icon","sun-outline",1,"text-interactive"],["status","baisc","appearance","outline","size","small","nbButton","",3,"click"],["status","danger","appearance","outline","size","small","nbButton","",3,"click"]],template:function(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"nb-card",0)(1,"nb-card-header",1),t.NdJ("click",function(){return e.onClick()}),t.TgZ(2,"div",2)(3,"div",3)(4,"span",4),t._uU(5),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"span",8),t._uU(10),t.qZA(),t._UZ(11,"nb-tag",9),t.qZA(),t.TgZ(12,"div",10),t._UZ(13,"nb-tag",11),t.TgZ(14,"span",12),t._uU(15," Builds "),t.qZA()()()()()(),t.TgZ(16,"nb-card-body",1),t.NdJ("click",function(){return e.onClick()}),t.TgZ(17,"div",13)(18,"div",14)(19,"div",15),t._UZ(20,"img",16),t.TgZ(21,"span",17),t._uU(22),t.qZA()(),t.TgZ(23,"div",18),t._UZ(24,"img",19),t.TgZ(25,"span",17),t._uU(26),t.qZA()()()()(),t.YNc(27,Ve,4,2,"nb-card-body",20),t.TgZ(28,"nb-card-footer",21)(29,"div",22)(30,"button",23),t.NdJ("click",function(){return e.onClick()}),t._uU(31,"Explore"),t.qZA(),t.TgZ(32,"button",24),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(35);return t.KtG(e.open(a))}),t._uU(33," Delete"),t.qZA()()()(),t.YNc(34,We,11,1,"ng-template",null,25,t.W1O)}2&n&&(t.ekj("selected",null!=(null==e.data||null==e.data.application?null:e.data.application.scan_data))("active",e.active)("integrated",null==e.data||null==e.data.config?null:e.data.config.integrated)("not_integrated",!(null!=e.data&&null!=e.data.config&&e.data.config.integrated)),t.xp6(5),t.hij(" ",null==e.data?null:e.data.businessName[0]," "),t.xp6(5),t.hij(" ",null==e.data||null==e.data.application?null:e.data.application.applicationName," "),t.xp6(1),t.Q6J("status",e.active?"alternative":"basic")("text",null==e.data?null:e.data.platformTag),t.xp6(2),t.Q6J("appearance","outline")("status",e.active?"alternative":"basic")("text",null==e.data||null==e.data.application?null:e.data.application.noOfBuilds),t.xp6(4),t.ekj("active",e.active),t.xp6(5),t.hij(" ",null==e.data?null:e.data.businessName," "),t.xp6(4),t.hij(" ",null==e.data?null:e.data.projectName," "),t.xp6(1),t.Q6J("ngIf",(null==e.data?null:e.data.config)!=t.DdM(20,Ke)))},dependencies:[m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,C.rH,s.Asz,s.yKW,s.XWE,s.ndF,s.c2L],styles:["[_nghost-%COMP%]{cursor:pointer}nb-card-body[_ngcontent-%COMP%]{padding-left:15px!important;padding-top:0}nb-card[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid #7d2ae8;border:2px solid var(--color-basic-500);height:2.2rem;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;width:2.2rem;box-shadow:0 0 3px var(--color-basic-600)}nb-card[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.8rem;color:var(--color-basic-400);font-weight:400;text-transform:capitalize}nb-card.active[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid var(--color-success-500);box-shadow:0 0 3px var(--color-success-600)}nb-card.active[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--color-success-400)}nb-card[_ngcontent-%COMP%]:hover{background-color:var(--color-basic-1000)!important}nb-card[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{color:#000!important}nb-card[_ngcontent-%COMP%]:hover   .caption-2[_ngcontent-%COMP%]{color:#000!important}nb-card[_ngcontent-%COMP%]:hover   .subtitle-2[_ngcontent-%COMP%]{color:#000!important}nb-card[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{color:#000!important}nb-card.selected[_ngcontent-%COMP%]{color:var(--navitem-selected-text);border-left:2px solid var(--color-success-600);border-left-width:2px}nb-card.not_integrated[_ngcontent-%COMP%]{border:1px solid var(--color-danger-600);border-width:1px;border-radius:5px}nb-card.active[_ngcontent-%COMP%]{background:var(--color-alternative-100);color:#006fd6!important;border:1px solid var(--color-success-400);border-width:2px;border-radius:5px}nb-card.active[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{color:#fff!important}nb-card.active[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{color:#fff!important}nb-card.active[_ngcontent-%COMP%]   .caption-2[_ngcontent-%COMP%]{color:#fff!important}nb-card.active[_ngcontent-%COMP%]   .subtitle-2[_ngcontent-%COMP%]{color:#fff!important}.icon[_ngcontent-%COMP%]{width:100%;height:100%}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize}button[_ngcontent-%COMP%]{text-transform:capitalize!important}.dot[_ngcontent-%COMP%]{margin-right:1rem;margin-left:.3rem;color:#fff!important}nb-card-header[_ngcontent-%COMP%]{padding:15px;padding-left:15px!important;border:0}nb-card[_ngcontent-%COMP%]{padding:0;border-radius:10px}.text-interactive[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:650;font-size:1rem}.text-interactive[_ngcontent-%COMP%]:hovers{text-decoration:underline}.text-interactive-2[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:550;font-size:.8rem}.icon[_ngcontent-%COMP%]{width:20px;height:20px}.light[_ngcontent-%COMP%]{font-weight:300}"]});var Xe=x(5191),tn=x(262);class Ot{transform(n){return(0,Xe.b)(n)?n.pipe((0,u.U)(e=>({loading:!1,value:e})),(0,O.O)({loading:!0}),(0,tn.K)(e=>(0,N.of)({loading:!1,error:e}))):n}}Ot.\u0275fac=function(n){return new(n||Ot)},Ot.\u0275pipe=t.Yjl({name:"withLoading",type:Ot,pure:!0});const en=["businessCreateDialog"],nn=["projectCreateDialog"],on=["appList"];function rn(i,n){1&i&&t._UZ(0,"nb-select",17)}function an(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",18)(1,"nb-card-header")(2,"div",19),t._uU(3,"Create Business"),t.qZA()(),t.TgZ(4,"nb-card-body",20)(5,"div"),t._uU(6," Feed in the below details to create a new Business. "),t._UZ(7,"br"),t.TgZ(8,"strong"),t._uU(9,"Note:"),t.qZA(),t._uU(10," The changes would reflect instantly, so be extra cautious. "),t.qZA()(),t.TgZ(11,"nb-card-body",20)(12,"div",21),t._UZ(13,"input",22,23)(15,"input",24,25),t.qZA()(),t.TgZ(17,"nb-card-footer")(18,"div",26)(19,"button",27),t.NdJ("click",function(){const a=t.CHM(e).dialogRef;return t.KtG(null==a?null:a.close())}),t._uU(20,"Close"),t.qZA(),t.TgZ(21,"button",28),t.NdJ("click",function(){const a=t.CHM(e).dialogRef,l=t.MAs(14),c=t.MAs(16);return t.KtG(null==a?null:a.close({name:null==l?null:l.value,desc:null==c?null:c.value}))}),t._uU(22,"Save"),t.qZA()()()()}if(2&i){const e=t.MAs(14),o=t.MAs(16);t.xp6(21),t.Q6J("disabled",!(null!=e&&e.value&&null!=o&&o.value))}}function ln(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",18)(1,"nb-card-header")(2,"div",19),t._uU(3,"Create Business"),t.qZA()(),t.TgZ(4,"nb-card-body",20)(5,"div"),t._uU(6," Feed in the below details to create a new Business. "),t._UZ(7,"br"),t.TgZ(8,"strong"),t._uU(9,"Note:"),t.qZA(),t._uU(10," The changes would reflect instantly, so be extra cautious. "),t.qZA()(),t.TgZ(11,"nb-card-body",20)(12,"div",21),t._UZ(13,"input",29,23)(15,"input",30,25),t.qZA()(),t.TgZ(17,"nb-card-footer")(18,"div",26)(19,"button",27),t.NdJ("click",function(){const a=t.CHM(e).dialogRef;return t.KtG(null==a?null:a.close())}),t._uU(20,"Close"),t.qZA(),t.TgZ(21,"button",28),t.NdJ("click",function(){const r=t.CHM(e),a=r.dialogRef,l=r.$implicit,c=t.MAs(14),f=t.MAs(16),g=t.oxw();return t.KtG(g.edit(a,l._id,{name:c.value,description:f.value}))}),t._uU(22,"Save"),t.qZA()()()()}if(2&i){const e=n.$implicit,o=t.MAs(14),r=t.MAs(16);t.xp6(13),t.Q6J("value",e.name),t.xp6(2),t.Q6J("value",e.description),t.xp6(6),t.Q6J("disabled",!(null!=o&&o.value&&null!=r&&r.value))}}function sn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",35)(1,"div",36)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"nb-icon",37),t.NdJ("click",function(r){const l=t.CHM(e).$implicit,c=t.oxw(4),f=t.MAs(5);return r.stopPropagation(),r.preventDefault(),t.KtG(c.open(f,{_id:l._id.$oid,name:l.name,description:l.description}))}),t.qZA()()()}if(2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(3),t.hij(" ",null==e?null:e.name," ")}}function cn(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"nb-card",18)(2,"nb-card-header")(3,"div",19),t._uU(4,"Create Project"),t.qZA()(),t.TgZ(5,"nb-card-body",20)(6,"div"),t._uU(7," Feed in the below details to create a new Business. "),t._UZ(8,"br"),t.TgZ(9,"strong"),t._uU(10,"Note:"),t.qZA(),t._uU(11," The changes would reflect instantly, so be extra cautious. "),t.qZA()(),t.TgZ(12,"nb-card-body",20)(13,"div",21)(14,"div",31)(15,"nb-select",32,33),t.YNc(17,sn,5,2,"nb-option",34),t.qZA()(),t._UZ(18,"input",22,23)(20,"input",24,25),t.qZA()(),t.TgZ(22,"nb-card-footer")(23,"div",26)(24,"button",27),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).dialogRef;return t.KtG(null==r?null:r.close())}),t._uU(25,"Close"),t.qZA(),t.TgZ(26,"button",28),t.NdJ("click",function(){t.CHM(e);const r=t.MAs(19),a=t.MAs(21),l=t.oxw(2).dialogRef,c=t.oxw();return t.KtG(null==l?null:l.close({businessId:null==c._selectedBusiness?null:c._selectedBusiness.value,name:null==r?null:r.value,desc:null==a?null:a.value}))}),t._uU(27,"Save"),t.qZA()()()(),t.BQk()}if(2&i){const e=t.MAs(19),o=t.MAs(21),r=t.oxw().ngIf,a=t.oxw(2);t.xp6(15),t.Q6J("formControl",a._selectedBusiness),t.xp6(2),t.Q6J("ngForOf",null==r?null:r.value),t.xp6(9),t.Q6J("disabled",!(null!=e&&e.value&&null!=o&&o.value&&null!=a._selectedBusiness&&a._selectedBusiness.value))}}function dn(i,n){if(1&i&&(t.ynx(0),t.YNc(1,cn,28,3,"ng-container",11),t.BQk()),2&i){const e=n.ngIf;t.oxw(2);const o=t.MAs(1);t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.loading))("ngIfElse",o)}}function pn(i,n){if(1&i&&(t.YNc(0,dn,2,2,"ng-container",10),t.ALo(1,"async"),t.ALo(2,"withLoading")),2&i){const e=t.oxw();t.Q6J("ngIf",t.lcZ(1,1,t.lcZ(2,3,e.business$)))}}function un(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",35)(1,"div",36)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"nb-icon",37),t.NdJ("click",function(r){const l=t.CHM(e).$implicit,c=t.oxw(4),f=t.MAs(5);return r.stopPropagation(),r.preventDefault(),t.KtG(c.open(f,{_id:l._id.$oid,name:l.name,description:l.description}))}),t.qZA()()()}if(2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(3),t.hij(" ",null==e?null:e.name," ")}}function _n(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"nb-card",18)(2,"nb-card-header")(3,"div",19),t._uU(4,"Create Project"),t.qZA()(),t.TgZ(5,"nb-card-body",20)(6,"div"),t._uU(7," Feed in the below details to create a new Business. "),t._UZ(8,"br"),t.TgZ(9,"strong"),t._uU(10,"Note:"),t.qZA(),t._uU(11," The changes would reflect instantly, so be extra cautious. "),t.qZA()(),t.TgZ(12,"nb-card-body",20)(13,"div",21)(14,"div",31)(15,"nb-select",38,33),t.YNc(17,un,5,2,"nb-option",34),t.qZA()(),t._UZ(18,"input",29,23)(20,"input",30,25),t.qZA()(),t.TgZ(22,"nb-card-footer")(23,"div",26)(24,"button",27),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).dialogRef;return t.KtG(null==r?null:r.close())}),t._uU(25,"Close"),t.qZA(),t.TgZ(26,"button",28),t.NdJ("click",function(){t.CHM(e);const r=t.MAs(16),a=t.MAs(19),l=t.MAs(21),c=t.oxw(2),f=c.dialogRef,g=c.$implicit,b=t.oxw();return t.KtG(b.editproject(f,g.businessId,g._id,{businessId:null==r||null==r.selectionModel[0]?null:r.selectionModel[0].value,name:a.value,description:l.value}))}),t._uU(27,"Save "),t.qZA()()()(),t.BQk()}if(2&i){const e=t.MAs(16),o=t.MAs(19),r=t.MAs(21),a=t.oxw().ngIf,l=t.oxw().$implicit;t.xp6(15),t.Q6J("selected",null==l?null:l.businessId),t.xp6(2),t.Q6J("ngForOf",null==a?null:a.value),t.xp6(1),t.Q6J("value",null==l?null:l.name),t.xp6(2),t.Q6J("value",null==l?null:l.description),t.xp6(6),t.Q6J("disabled",!(null!=e&&null!=e.selectionModel[0]&&e.selectionModel[0].value&&null!=o&&o.value&&null!=r&&r.value))}}function gn(i,n){if(1&i&&(t.ynx(0),t.YNc(1,_n,28,5,"ng-container",11),t.BQk()),2&i){const e=n.ngIf;t.oxw(2);const o=t.MAs(1);t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.loading))("ngIfElse",o)}}function mn(i,n){if(1&i&&(t.YNc(0,gn,2,2,"ng-container",10),t.ALo(1,"async"),t.ALo(2,"withLoading")),2&i){const e=t.oxw();t.Q6J("ngIf",t.lcZ(1,1,t.lcZ(2,3,e.business$)))}}function fn(i,n){1&i&&t._UZ(0,"app-business-list")}function hn(i,n){1&i&&t._UZ(0,"app-project-list")}function bn(i,n){1&i&&(t.TgZ(0,"nb-card",39)(1,"nb-card-body",40)(2,"div",41),t._UZ(3,"div")(4,"div"),t.qZA()()())}function xn(i,n){1&i&&(t.TgZ(0,"div",42)(1,"div",43)(2,"div",44),t._UZ(3,"div",45)(4,"div",46)(5,"div",47)(6,"div",48)(7,"div",49)(8,"div",50)(9,"div",51),t.qZA()()())}function vn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",53)(1,"app-list-item",54),t.NdJ("_reset",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a._reset(r))})("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.selectApp(a))}),t.ALo(2,"async"),t.qZA()()}if(2&i){const e=n.$implicit,o=n.index,r=t.oxw(2);t.xp6(1),t.Q6J("index",o+1+r.current_slice_offset)("integrated",null==e?null:e.integrated)("active",t.lcZ(2,4,r.activeAppId)==(null==e||null==e.application||null==e.application.applicationId?null:e.application.applicationId.$oid))("data",e)}}function Cn(i,n){if(1&i&&(t.ynx(0),t.YNc(1,vn,3,6,"div",52),t.ALo(2,"async"),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.applications))}}function yn(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-select",66)(2,"nb-option",67),t._uU(3,"All Applications"),t.qZA(),t.TgZ(4,"nb-option",35),t._uU(5,"Integrated"),t.qZA(),t.TgZ(6,"nb-option",35),t._uU(7,"Non-Integrated"),t.qZA()(),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("formControl",e._integrated),t.xp6(3),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1)}}function kn(i,n){if(1&i&&(t.ynx(0),t.YNc(1,yn,8,3,"ng-container",10),t.BQk()),2&i){const e=n.ngIf;t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.loading))}}function Mn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",35)(1,"div",36)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"nb-icon",37),t.NdJ("click",function(r){const l=t.CHM(e).$implicit,c=t.oxw(4),f=t.MAs(5);return r.stopPropagation(),r.preventDefault(),t.KtG(c.open(f,{_id:l._id.$oid,name:l.name,description:l.description}))}),t.qZA()()()}if(2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(3),t.hij(" ",null==e?null:e.name," ")}}function wn(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-select",32)(2,"nb-option",35)(3,"div",36)(4,"span"),t._uU(5," Create "),t.qZA(),t._UZ(6,"nb-icon",68),t.qZA()(),t.TgZ(7,"nb-option",67),t._uU(8,"All Businesses"),t.qZA(),t.YNc(9,Mn,5,2,"nb-option",34),t.qZA(),t.BQk()),2&i){const e=t.oxw().ngIf,o=t.oxw(2);t.xp6(1),t.Q6J("formControl",o._selectedBusiness),t.xp6(1),t.Q6J("value",null),t.xp6(7),t.Q6J("ngForOf",null==e?null:e.value)}}function Tn(i,n){if(1&i&&(t.ynx(0),t.YNc(1,wn,10,3,"ng-container",11),t.BQk()),2&i){const e=n.ngIf;t.oxw(2);const o=t.MAs(1);t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.loading))("ngIfElse",o)}}function An(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",35)(1,"div",36)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"nb-icon",37),t.NdJ("click",function(r){const l=t.CHM(e).$implicit,c=t.oxw(4),f=t.MAs(9);return r.stopPropagation(),r.preventDefault(),t.KtG(c.open(f,{_id:l._id.$oid,businessId:null==l||null==l.businessId?null:l.businessId.$oid,name:l.name,description:l.description}))}),t.qZA()()()}if(2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(3),t.hij(" ",null==e?null:e.name," ")}}function On(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-select",69)(2,"nb-option",35)(3,"div",36)(4,"span"),t._uU(5," Create "),t.qZA(),t._UZ(6,"nb-icon",68),t.qZA()(),t.TgZ(7,"nb-option",67),t._uU(8,"All Projects"),t.qZA(),t.YNc(9,An,5,2,"nb-option",34),t.qZA(),t.BQk()),2&i){const e=t.oxw().ngIf,o=t.oxw(2);t.xp6(1),t.Q6J("formControl",o._selectedProject),t.xp6(1),t.Q6J("value",null),t.xp6(7),t.Q6J("ngForOf",null==e?null:e.value)}}function Pn(i,n){if(1&i&&(t.ynx(0),t.YNc(1,On,10,3,"ng-container",11),t.BQk()),2&i){const e=n.ngIf;t.oxw(2);const o=t.MAs(1);t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.loading))("ngIfElse",o)}}function Zn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",70)(1,"div",71)(2,"button",72),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2),a=t.MAs(11);return t.KtG(r.openDialog(a))}),t.TgZ(3,"div",73),t._uU(4," Business "),t.qZA(),t.TgZ(5,"div",74),t._uU(6),t.ALo(7,"async"),t.qZA()(),t._UZ(8,"nb-icon",75),t.TgZ(9,"button",72),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2),a=t.MAs(13);return t.KtG(r.openDialog(a))}),t.TgZ(10,"div",73),t._uU(11," Project "),t.qZA(),t.TgZ(12,"div",74),t._uU(13),t.ALo(14,"async"),t.qZA()()()()}if(2&i){const e=t.oxw(2);let o,r;t.xp6(6),t.hij(" ",null==(o=t.lcZ(7,2,e.selectedBusiness))?null:o.title," "),t.xp6(7),t.hij(" ",null==(r=t.lcZ(14,4,e.selectedProject))?null:r.title," ")}}function In(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",76)(1,"div",77)(2,"div",78)(3,"nb-form-field",77)(4,"input",79),t.NdJ("keyup.escape",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleSearch())}),t.qZA(),t.TgZ(5,"button",80),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleSearch())}),t._UZ(6,"nb-icon",81),t.qZA()()()()()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("formControl",e.searchFieldControl)}}function Sn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",82)(1,"div",77)(2,"nb-button-group",83)(3,"button",84),t.NdJ("pressedChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.toggleActive(r))}),t._uU(4,"Active"),t.qZA(),t.TgZ(5,"button",85),t.NdJ("pressedChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.toggleInActive(r))}),t._uU(6,"Inactive"),t.qZA()()(),t.TgZ(7,"button",86),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleSearch())}),t._UZ(8,"nb-icon",87),t.qZA()()}2&i&&(t.xp6(3),t.Q6J("pressed",!0),t.xp6(2),t.Q6J("pressed",!0))}function Fn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",88),t.ynx(1),t.TgZ(2,"div",89)(3,"button",90),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.goToPreviousPage())}),t._uU(4),t.qZA()(),t.BQk(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(4),t.hij(" Load ",e.topOffsetId," more apps ")}}function Ln(i,n){1&i&&t.GkF(0)}function Un(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",99)(1,"button",90),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(4);return t.KtG(r.goToPreviousPage())}),t._uU(2," Load More "),t.qZA()()}}function Bn(i,n){if(1&i&&(t.TgZ(0,"nb-list-item",96),t.YNc(1,Ln,1,0,"ng-container",97),t.YNc(2,Un,3,0,"ng-template",null,98,t.W1O),t.qZA()),2&i){t.oxw(3);const e=t.MAs(17);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Nn(i,n){1&i&&t.GkF(0)}function qn(i,n){if(1&i&&(t.TgZ(0,"nb-list-item",96),t.YNc(1,Nn,1,0,"ng-container",97),t.qZA()),2&i){t.oxw(3);const e=t.MAs(17);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Jn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",100)(1,"app-list-item",54),t.NdJ("_reset",function(r){t.CHM(e);const a=t.oxw(3);return t.KtG(a._reset(r))})("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.selectApp(a))}),t.ALo(2,"async"),t.qZA()()}if(2&i){const e=n.$implicit,o=n.index,r=t.oxw(3);t.Q6J("appScrollableItem",null==e?null:e.index),t.xp6(1),t.Q6J("index",o+1+r.current_slice_offset)("integrated",null==e?null:e.integrated)("active",t.lcZ(2,5,r.activeAppId)==(null==e||null==e.application||null==e.application.applicationId?null:e.application.applicationId.$oid))("data",e)}}function Dn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item")(1,"app-list-item",101),t.NdJ("_reset",function(r){t.CHM(e);const a=t.oxw(3);return t.KtG(a._reset(r))})("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.selectApp(null==a?null:a.value))}),t.ALo(2,"async"),t.qZA()()}if(2&i){const e=n.$implicit,o=n.index,r=t.oxw(3);t.xp6(1),t.Q6J("index",o+1+r.current_slice_offset)("integrated",null==e?null:e.integrated)("active",t.lcZ(2,4,r.activeAppId)==(null==e||null==e.value||null==e.value.application||null==e.value.application.applicationId?null:e.value.application.applicationId.$oid))("data",null==e?null:e.value)}}function Qn(i,n){1&i&&t.GkF(0)}function zn(i,n){if(1&i&&(t.TgZ(0,"nb-list-item",96),t.YNc(1,Qn,1,0,"ng-container",97),t.qZA()),2&i){t.oxw(3);const e=t.MAs(17);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Rn(i,n){1&i&&t.GkF(0)}function Gn(i,n){if(1&i&&(t.TgZ(0,"nb-list-item",96),t.YNc(1,Rn,1,0,"ng-container",97),t.qZA()),2&i){t.oxw(3);const e=t.MAs(17);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function En(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list",91,92),t.NdJ("topThreshold",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.topThresholdTrigger(r))})("bottomThreshold",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.bottomThresholdTrigger(r))}),t.YNc(2,Bn,4,1,"nb-list-item",93),t.YNc(3,qn,2,1,"nb-list-item",93),t.YNc(4,Jn,3,7,"nb-list-item",94),t.ALo(5,"async"),t.YNc(6,Dn,3,6,"nb-list-item",95),t.ALo(7,"slice"),t.ALo(8,"keyvalue"),t.ALo(9,"async"),t.YNc(10,zn,2,1,"nb-list-item",93),t.YNc(11,Gn,2,1,"nb-list-item",93),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("threshold",150),t.xp6(2),t.Q6J("ngIf",e.enableTopMoreLoading&&e._loadingTop),t.xp6(1),t.Q6J("ngIf",!e.initLoaded$),t.xp6(1),t.Q6J("ngForOf",t.lcZ(5,7,e.applications)),t.xp6(2),t.Q6J("ngForOf",t.Dn7(7,9,t.xi3(8,13,t.lcZ(9,16,e.apps),e.customOrder),e.current_slice_offset,e.current_slice_offset+e.pagination_limit)),t.xp6(4),t.Q6J("ngIf",e._loadingBottom),t.xp6(1),t.Q6J("ngIf",!1)}}function $n(i,n){1&i&&(t.TgZ(0,"nb-list-item"),t.ynx(1),t.TgZ(2,"div",104)(3,"div",43)(4,"div",44),t._UZ(5,"div",45)(6,"div",46)(7,"div",47)(8,"div",48)(9,"div",49)(10,"div",50)(11,"div",51),t.qZA()()(),t.BQk(),t.qZA())}function jn(i,n){1&i&&(t.TgZ(0,"nb-list-item"),t.ynx(1),t.TgZ(2,"div",104)(3,"div",43)(4,"div",44),t._UZ(5,"div",45)(6,"div",46)(7,"div",47)(8,"div",48)(9,"div",49)(10,"div",50)(11,"div",51),t.qZA()()(),t.BQk(),t.qZA())}function Yn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",105)(1,"app-list-item",106),t.NdJ("_reset",function(r){t.CHM(e);const a=t.oxw(3);return t.KtG(a._reset(r))})("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.selectApp(null==a?null:a.value))}),t.ALo(2,"async"),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("active",t.lcZ(2,2,o.activeAppId)==(null==e||null==e.value||null==e.value.application||null==e.value.application.applicationId?null:e.value.application.applicationId.$oid))("data",null==e?null:e.value)}}function Hn(i,n){if(1&i&&(t.TgZ(0,"nb-list",102),t.YNc(1,$n,12,0,"nb-list-item",10),t.YNc(2,jn,12,0,"nb-list-item",10),t.YNc(3,Yn,3,4,"nb-list-item",103),t.ALo(4,"slice"),t.ALo(5,"keyvalue"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.loadingSearchResults),t.xp6(1),t.Q6J("ngIf",e.loadingSearchResults),t.xp6(1),t.Q6J("ngForOf",t.Dn7(4,3,t.xi3(5,7,e.apps_filtered,e.customOrder),e.current_slice_offset,e.current_slice_offset+e.pagination_limit))}}function Vn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-footer",107)(1,"button",108),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.goToPreviousPage())}),t._UZ(2,"nb-icon",109),t.qZA(),t.TgZ(3,"div",99)(4,"span",110),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"span",111),t._uU(8," / "),t.qZA(),t.TgZ(9,"span",110),t._uU(10),t.ALo(11,"async"),t.qZA()(),t.TgZ(12,"button",108),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.goToNextPage())}),t.ALo(13,"async"),t._UZ(14,"nb-icon",112),t.qZA()()}if(2&i){const e=t.oxw(2);let o,r;t.xp6(1),t.Q6J("disabled",e.current_slice_offset<=0),t.xp6(4),t.hij(" ",t.lcZ(6,4,e.current_slice_offset/e.pagination_limit+1)," "),t.xp6(5),t.hij(" ",null==(o=t.lcZ(11,6,e.pagination_text))?null:o.total_pages," "),t.xp6(2),t.Q6J("disabled",e.current_slice_offset/e.pagination_limit+1>=(null==(r=t.lcZ(13,8,e.pagination_text))?null:r.total_pages))}}function Wn(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-card",55)(2,"nb-card-header",56)(3,"div",57),t.YNc(4,kn,2,1,"ng-container",10),t.ALo(5,"async"),t.ALo(6,"withLoading"),t.qZA(),t.TgZ(7,"div",58),t.YNc(8,Tn,2,2,"ng-container",10),t.ALo(9,"async"),t.ALo(10,"withLoading"),t.YNc(11,Pn,2,2,"ng-container",10),t.ALo(12,"async"),t.ALo(13,"withLoading"),t.qZA()(),t.YNc(14,Zn,15,6,"nb-card-header",59),t.YNc(15,In,7,1,"nb-card-header",60),t.YNc(16,Sn,9,2,"nb-card-header",61),t.YNc(17,Fn,5,1,"nb-card-header",62),t.TgZ(18,"nb-card-body"),t.YNc(19,En,12,18,"nb-list",63),t.YNc(20,Hn,6,10,"nb-list",64),t.qZA(),t.YNc(21,Vn,15,10,"nb-card-footer",65),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",t.lcZ(5,10,t.lcZ(6,12,e.projects$))),t.xp6(4),t.Q6J("ngIf",t.lcZ(9,14,t.lcZ(10,16,e.business$))),t.xp6(3),t.Q6J("ngIf",t.lcZ(12,18,t.lcZ(13,20,e.projects$))),t.xp6(3),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",e.searchActivated&&!1),t.xp6(1),t.Q6J("ngIf",!e.searchActivated&&!1),t.xp6(1),t.Q6J("ngIf",!e.enableTopMoreLoading&&e.topOffsetId>1),t.xp6(2),t.Q6J("ngIf",!e.searchActivated),t.xp6(1),t.Q6J("ngIf",e.searchActivated),t.xp6(1),t.Q6J("ngIf",!1)}}function Kn(i,n){1&i&&t._UZ(0,"nb-card",113)}function Xn(i,n){1&i&&(t.TgZ(0,"div",77),t._UZ(1,"router-outlet",114),t.qZA())}function ti(i,n){if(1&i&&(t.TgZ(0,"nb-card",115)(1,"nb-card-header",116)(2,"div",77),t._uU(3),t.ALo(4,"async"),t.qZA()(),t.TgZ(5,"nb-card-body"),t._UZ(6,"router-outlet",114),t.qZA()()),2&i){const e=t.oxw();let o;t.xp6(3),t.hij(" Integration ",null==(o=t.lcZ(4,1,e.selectedApp))||null==o.application?null:o.application.applicationName," ")}}function ei(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",117)(1,"nb-card-header")(2,"h1"),t._uU(3,"Edit Business"),t.qZA()(),t.TgZ(4,"nb-card-body")(5,"span"),t._uU(6," If you wish to edit the business, please fill in the new name, and press save. "),t._UZ(7,"br"),t.TgZ(8,"strong"),t._uU(9,"Note:"),t.qZA(),t._uU(10," The changes will reflect instantly, so be extra cautious. "),t.qZA()(),t.TgZ(11,"nb-card-body"),t._UZ(12,"input",118,119),t.qZA(),t.TgZ(14,"nb-card-body"),t._UZ(15,"input",120,121),t.qZA(),t.TgZ(17,"nb-card-footer")(18,"div",122)(19,"button",123),t.NdJ("click",function(){const r=t.CHM(e),a=r.dialogRef,l=r.$implicit,c=t.MAs(13),f=t.MAs(16),g=t.oxw();return t.KtG(g.edit(a,l._id,{name:c.value,description:f.value}))}),t._uU(20,"Save"),t.qZA()()()()}if(2&i){const e=n.$implicit;t.xp6(12),t.Q6J("value",e.name),t.xp6(3),t.Q6J("value",e.description)}}function ni(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",18)(1,"nb-card-header")(2,"h1"),t._uU(3,"Edit Project"),t.qZA()(),t.TgZ(4,"nb-card-body")(5,"span"),t._uU(6," If you wish to edit the project, please fill in the new name, and press save. "),t._UZ(7,"br"),t.TgZ(8,"strong"),t._uU(9,"Note:"),t.qZA(),t._uU(10," The changes will reflect instantly, so be extra cautious. "),t.qZA()(),t.TgZ(11,"nb-card-body"),t._UZ(12,"input",118,23),t.qZA(),t.TgZ(14,"nb-card-body"),t._UZ(15,"input",124,125),t.qZA(),t.TgZ(17,"nb-card-footer")(18,"div",122),t._UZ(19,"div",126),t.TgZ(20,"button",127),t.NdJ("click",function(){const a=t.CHM(e).dialogRef;return t.KtG(a.close())}),t._uU(21,"Close "),t.qZA(),t._UZ(22,"div",126),t.TgZ(23,"button",128),t.NdJ("click",function(){const r=t.CHM(e),a=r.dialogRef,l=r.$implicit,c=t.MAs(13),f=t.MAs(16),g=t.oxw();return t.KtG(g.editproject(a,l.businessId,l._id,{businessId:l.businessId,name:c.value,description:f.value}))}),t._uU(24,"Save"),t.qZA()()()()}if(2&i){const e=n.$implicit;t.xp6(12),t.Q6J("value",e.name),t.xp6(3),t.Q6J("value",e.description)}}class R{set setSearchQuery(n){console.log("searchQuery",n),this.searchQuery$.next(n)}handleDayClick(n){console.log("appListEl",n,this.scrollableItems),this.scrollableItems.last.scrollIntoView()}toggleSearch(){this.searchFieldControlSubscription.unsubscribe(),this.searchActivated=!this.searchActivated,1==this.searchActivated&&(this.searchFieldControlSubscription=this.searchFielObserver.subscribe(n=>{this.loadingSearchResults=!1,console.log("filtered_apps"),this.apps_filtered=n}))}ngAfterViewInit(){}changeTab(n){}goToPreviousPage(){this.current_slice_offset-=this.pagination_limit,this.router.navigateByUrl("/devsec/switch")}goToNextPage(){this.current_slice_offset+=this.pagination_limit}_reset(n){console.log("reset"),this.searchQuery$.next(this.searchFieldControl.value)}setDefaultAppForSelection(){this.selectApp(this.apps&&this.apps$?.value.size>0?this.apps$.value.values().next().value:void 0)}loadSelectedAppDetailedView(n){return"*"==n?this.setDefaultAppForSelection():n&&this.apps$.value.has(n)?void this.apiService.selectApp(this.apps$.value.get(n)):this.setDefaultAppForSelection()}open(n,e){this.dialogService.open(n,{context:e})}openDialog(n){this.dialogService.open(n,{dialogClass:"positionalDilog",context:{title:"Are you sure you want to delete all the tasks ?",description:"All the tasks will be lost, and you won't be able to recover them in future.    "}}).onClose.subscribe(e=>{})}constructor(n,e,o,r,a){this.apiService=n,this.router=e,this.activatedRoute=o,this.dialogService=r,this.accessChecker=a,this._selectedBusiness=new d.NI(""),this._selectedProject=new d.NI(""),this._integrated=new d.NI(""),this.business$=this.apiService.getAssociatedBusinesses().pipe((0,_.b)(l=>{console.log("bbb",l)})),this.searchQuery$=new F.X(""),this.searchQuery=this.searchQuery$.asObservable().pipe((0,_.b)(l=>{console.log("searchQ")}),(0,_.b)(l=>{this._loadingBottom=!1,this._loadingTop=!1,this.applications$.next("reset")}),(0,ue.b)(1e3)),this.initLoaded$=!1,this.selectedApp=this.apiService.selectedApp.pipe((0,_.b)(l=>{console.log("selectedApp",l)}),(0,P.d)()),this.pagination_limit=20,this.current_slice_offset=0,this.sidebarVisible=!0,this.searchFieldControl=new d.NI(""),this.searchActivated=!1,this.searchFielObserver=this.searchFieldControl.valueChanges.pipe((0,O.O)(this.searchFieldControl.value),(0,_.b)(l=>{this.apps_filtered.clear(),this.loadingSearchResults=!0}),(0,ue.b)(1e3),(0,h.w)(l=>l.length<=2?(0,N.of)(new Map):(l=l.toLowerCase(),this.apps.pipe((0,u.U)(c=>{let f=new Map,g=new Map;return[...c.entries()].filter(T=>{let H=T[1]?.application?.applicationName?.toLowerCase().includes(l);return 1==H||(H=T[1]?.platformName?.toLowerCase().includes(l),1==H)||(H=T[1]?.projectName?.toLowerCase().includes(l),1==H)||(H=T[1]?.businessName?.toLowerCase().includes(l),1==H)}).forEach(T=>{T[1]?.application?.scan_data?f.set(...T):g.set(...T)}),new Map([...Array.from(f.entries()),...Array.from(g.entries())])}))))),this.buildExplorer=!0,this.tabs=[{title:"Details",route:["details"]},{title:"Config",route:["config"]},{title:"Integration",route:["integration"]},{title:"Builds",disabled:!0,route:["builds"]}],this.selectedBusiness=this.apiService.selectedBusiness.pipe(),this.selectedProject=this.apiService.selectedProject.pipe(),this.apps$=new F.X(new Map),this.apps=this.apps$.pipe((0,h.w)(l=>this.toggleInActiveState$.asObservable().pipe(ze(this.toggleActiveState$.asObservable())).pipe((0,pt.x)(),(0,u.U)(c=>new Map(Array.from(l.entries()).filter(([f,g])=>g?.integrated==c[0]||g?.integrated!=c[1])))))),this.pagination_text=this.apps.pipe((0,u.U)(l=>Math.ceil(l?.size/this.pagination_limit)),(0,u.U)(l=>({current_page:Math.ceil(this.current_slice_offset/this.pagination_limit),total_pages:l})),(0,P.d)()),this.apps_filtered=new Map,this._loadingTop=!1,this._loadingBottom=!1,this._completedTop=!1,this._completedBottom=!1,this.enableTopMoreLoading=!1,this.loadMoreTop$=new W.x,this.loadMoreTop=this.loadMoreTop$.pipe((0,v.h)(l=>this.enableTopMoreLoading),(0,v.h)(l=>!this._loadingTop),(0,_.b)(l=>{this._loadingTop=!0}),(0,u.U)(l=>"above")),this.loadMoreBottom$=new W.x,this.loadMoreBottom=this.loadMoreBottom$.pipe((0,v.h)(l=>!this._loadingBottom),(0,_.b)(l=>{this._loadingBottom=!0}),(0,u.U)(l=>"below")),this.reset$=new W.x,this.applications$=new W.x,this.applications=this.applications$.pipe((0,me.R)((l,c)=>(console.log("val",c),"reset"==c?(this.topOffsetId=void 0,this.bottomOffsetId=void 0,console.log("valreset",c),this._loadingBottom=!1,this._loadingTop=!1,[]):(console.log("_findings_findings",l,c),null==c?[]:null==l?c:(c.length>0&&("above"==c[0]._direction?(l=c.concat(l),this._loadingTop=!1):"below"==c[0]._direction?(l=l.concat(c),this._loadingBottom=!1):l=c),l)))),(0,_.b)(l=>{l.length>0&&(this.topOffsetId=l[0]?.index,this.bottomOffsetId=l[l.length-1]?.index),0==this.initLoaded$&&(this.initLoaded$=!0,this.bottomThresholdTrigger(void 0),this.topThresholdTrigger(void 0))}),(0,O.O)([])),this.applicationIdChangeObserver=this.searchQuery.pipe((0,h.w)(l=>(console.log("searchQQ",l),(0,Xt.T)(this.activatedRoute.data.pipe((0,v.h)(c=>!!c),(0,v.h)(c=>c?.no_app_selected==!!c),(0,u.U)(c=>{})),this.loadMoreTop,this.loadMoreBottom,this.selectedApp.pipe((0,u.U)(c=>c?.identifier))).pipe((0,K.z)(c=>{if(console.debug("nextnext_",c),console.log("direction",c),"reset"==c)return this.initLoaded$=!1,this._completedTop=!1,this._completedBottom=!1,(0,N.of)("reset");if("below"==c||"above"==c){let f;return"below"==c?f=this.bottomOffsetId:"above"==c&&(f=this.topOffsetId),(b=>this.apiService.getUserApplication({limit:20,direction:c,offsetId:f,searchQuery:b,filterProjectId:this._selectedProject.value,filterBusinessId:this._selectedBusiness.value,integrated:this._integrated.value}).pipe((0,u.U)(M=>M?.data.map(T=>(T._direction=c,T))),(0,_.b)(M=>{M.length<=0&&("below"==c?(this._completedBottom=!0,this._loadingBottom=!1):"above"==c&&(this._completedTop=!0,this._loadingTop=!1))}),(0,fe.x)(()=>{this._loadingBottom=!1,this._loadingTop=!1})))(l)}{this.initLoaded$=!1,this._completedTop=!1,this._completedBottom=!1;let f=1;return null==c&&(f=20),(b=>this.apiService.getUserApplication({limit:f,offsetId:c,includeOffsetId:!0,searchQuery:b,filterProjectId:this._selectedProject.value,filterBusinessId:this._selectedBusiness.value,integrated:this._integrated.value}).pipe((0,u.U)(M=>0==M?.status?[]:M?.data.map(T=>(T._direction=c,T))),(0,fe.x)(()=>{this._loadingBottom=!1,this._loadingTop=!1})))(l)}}))))).subscribe(l=>{console.log("nextnext",l),this.applications$.next(l)}),this._applications=this.apiService.applications.pipe((0,_.b)(l=>{console.debug("appppp",l)}),(0,u.U)(l=>{let c=new Map,f=new Map,g=new Map;l.forEach(M=>{M?.application?.scan_data?(M.integrated=!0,c.set(M?.application?.applicationId?.$oid,M)):(M.integrated=!1,f.set(M?.application?.applicationId?.$oid,M))});let b=0;return c.forEach((M,T)=>{M.index=b,g.set(T,M),b+=1}),f.forEach((M,T)=>{M.index=b,g.set(T,M),b+=1}),{apps:g}}),(0,_.b)(l=>{this.apps$.next(l.apps)}),(0,O.O)(void 0)),this.BusinessListComponent=tt,this.ProjectListComponent=it,this.activeAppId=this.activatedRoute.parent.paramMap.pipe((0,u.U)(l=>(console.debug("activeAppId",l),l.get("app_id"))),(0,v.h)(l=>(this.reset$.next("reset"),this.loadSelectedAppDetailedView(l),!!l)),(0,P.d)()),this.loadingSearchResults=!1,this.appSubscription=pe.Lv.EMPTY,this.searchFieldControlSubscription=pe.Lv.EMPTY,this.customOrder=(l,c)=>l.value.index>c.value.index?1:-1,this.toggleInActiveState$=new F.X(!0),this.toggleActiveState$=new F.X(!0)}ngOnDestroy(){this.appSubscription.unsubscribe(),this.searchFieldControlSubscription.unsubscribe(),this.applicationIdChangeObserver.unsubscribe()}createBusiness(n,e){this.apiService.createBusiness(n,e).subscribe()}createProject(n,e,o){this.apiService.createProject(n,e,o).subscribe()}ngOnInit(){this.appSubscription.unsubscribe(),this.appSubscription=this.selectedApp.subscribe(console.log),console.log("ngOnInot"),this._selectedBusiness.valueChanges.pipe((0,O.O)(this._selectedBusiness.value),(0,_.b)(n=>{if(console.log("_selectedBusiness",n),this._selectedProject.setValue(""),this._integrated.setValue(""),null==n)return this.dialogService.open(this.businessCreateDialog,{dialogClass:"",context:{title:"Are you sure you want to delete all the tasks ?",description:"All the tasks will be lost, and you won't be able to recover them in future.    "}}).onClose.subscribe(e=>{n||(console.log("data",e),this.createBusiness(e?.name,e?.desc))}),void console.log("null");this.projects$=""==n?this.apiService.getAllProjects():this.apiService.getAssociatedBusinessesByProjectId(n),this.applications$.next("reset"),this.searchQuery$.next(this.searchQuery$.value)})).subscribe(),this._selectedProject.valueChanges.pipe((0,O.O)(this._selectedProject.value),(0,_.b)(n=>{if(console.log("_selectedProject",n),this.applications$.next("reset"),this.searchQuery$.next(this.searchQuery$.value),null==n)return this.dialogService.open(this.projectCreateDialog,{dialogClass:"",context:{selectedBusiness:this.selectedBusiness,title:"Are you sure you want to delete all the tasks ?",description:"All the tasks will be lost, and you won't be able to recover them in future.    "}}).onClose.subscribe(e=>{n||(console.log("data",e),this.createProject(e?.businessId,e?.name,e?.desc))}),void console.log("null")})).subscribe(),this._integrated.valueChanges.pipe((0,O.O)(this._integrated.value),(0,_.b)(n=>{console.log("_selectedProject",n),this.applications$.next("reset"),this.searchQuery$.next(this.searchQuery$.value)})).subscribe()}selectApp(n){}toggleInActive(n){this.toggleActiveState$.next(n)}toggleActive(n){this.toggleInActiveState$.next(n)}trackByFn(n,e){return console.log("customOrder",e),e.name}bottomThresholdTrigger(n){this._completedBottom||this.initLoaded$&&(console.log("bottomThresholdTrigger",n),this.loadMoreBottom$.next(-1))}topThresholdTrigger(n){this._completedTop||this.initLoaded$&&(console.log("topThreshold",n),this.loadMoreTop$.next(1))}edit(n,e,o){this.apiService.editBusiness(e,o).subscribe(r=>{n.close(),this.business$=this.apiService.getAssociatedBusinesses().pipe((0,_.b)(a=>{console.log("bbb",a)})),this.applications$.next("reset"),this.searchQuery$.next(this.searchQuery$.value)})}editproject(n,e,o,r){console.log(e,o,r),this.apiService.editProject(e,o,r).subscribe(a=>{n.close(),this._selectedBusiness.setValue(this._selectedBusiness.value)})}}R.\u0275fac=function(n){return new(n||R)(t.Y36(k),t.Y36(C.F0),t.Y36(C.gz),t.Y36(s.Gln),t.Y36(ae.QH))},R.\u0275cmp=t.Xpm({type:R,selectors:[["app-list"]],viewQuery:function(n,e){if(1&n&&(t.Gf(en,5),t.Gf(nn,5),t.Gf(on,5),t.Gf(z,5)),2&n){let o;t.iGM(o=t.CRH())&&(e.businessCreateDialog=o.first),t.iGM(o=t.CRH())&&(e.projectCreateDialog=o.first),t.iGM(o=t.CRH())&&(e.appListEl=o.first),t.iGM(o=t.CRH())&&(e.scrollableItems=o)}},inputs:{setSearchQuery:["searchQuery","setSearchQuery"]},decls:29,vars:5,consts:[["loading",""],["businessCreateDialog",""],["editBusinessDialog",""],["projectCreateDialog",""],["projectEditDialog",""],["businessListDialog",""],["projectListDialog",""],["loadingView",""],["loadingListItem",""],["fxLayoutAlign","flex-start","fxLayout.xs","column",1,"main"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["buildSearchComp",""],["fxFlex","",4,"ngIf"],["class","main","fxFlex","","fxFill","","style","height: 0; margin-left: 2rem; width: 0px;",4,"ngIf"],["editBusiness",""],["editProjectTemplate",""],["disabled","","placeholder","Loading","status","primary"],[1,"dialog"],[1,"h6"],[2,"margin","0px"],["fxLayout","column","fxLayoutGap","1rem"],["type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Business Name"],["name",""],["placeholder","Business Description","type","text","fullWidth","","nbInput","","fieldSize","medium"],["desc",""],["fxFlex","","fxLayoutAlign","end end","fxLayoutGap","1rem"],["size","small","nbButton","","status","basic","ghost","",3,"click"],["size","small","nbButton","","status","primary","outline","",3,"disabled","click"],["type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Business Name",3,"value"],["placeholder","Business Description","type","text","fullWidth","","nbInput","","fieldSize","medium",3,"value"],["fxLayoutAlign","end","fxLayoutGap","1rem","fxLayout","row",1,"text-heading"],["placeholder","Business","status","control",3,"formControl"],["businessId",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["fxFlex","","fxLayoutAlign","space-between"],["nbPrefix","","icon","settings-2-outline",3,"click"],["placeholder","Business","status","control",3,"selected"],["fxFill",""],["fxLayoutAlign","center center"],[1,"lds-ripple"],["fxFlex","",1,"timeline-wrapper"],[1,"timeline-item"],[1,"animated-background"],[1,"background-masker","header-top"],[1,"background-masker","header-left"],[1,"background-masker","header-right"],[1,"background-masker","header-bottom"],[1,"background-masker","subheader-left"],[1,"background-masker","subheader-right"],[1,"background-masker","subheader-bottom"],["fxFlex","50%",4,"ngFor","ngForOf"],["fxFlex","50%"],["fxFill","","fxFkex","",3,"index","integrated","active","data","_reset","click"],["fxFill","","size","small"],["fxLayoutAlign","space-between","fxLayout","row"],["fxLayoutGap","20px","fxLayout","row"],["fxLayoutAlign","space-between","fxLayoutGap","1rem","fxLayout","row",1,"text-heading"],["fxLayoutAlign","end center",4,"ngIf"],["style","padding: 0px; margin: 0px; ","fxLayoutAlign","start center",4,"ngIf"],["class","actionCardHeader","fxLayoutAlign","center  center",4,"ngIf"],["style","margin: 0; padding: 0;",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between ","nbInfiniteList","",3,"threshold","topThreshold","bottomThreshold",4,"ngIf"],["body","","nbInfiniteList","",4,"ngIf"],["fxLayoutAlign","space-between center",4,"ngIf"],["placeholder","Show Applications","status","control",3,"formControl"],["value",""],["nbPrefix","","icon","plus-outline"],["placeholder","Project","status","control",3,"formControl"],["fxLayoutAlign","end center"],["fxFlex","","fxLayoutAlign","center center",2,"overflow","hidden"],["fxLayout","column","fxLayoutAlign","start start","fxFlex","","outline","","status","basic","shape","semi-round","nbButton","","size","small",1,"title",2,"padding","0px","padding-left","20px","padding-bottom","10px","padding-top","10px",3,"click"],[1,"text-alternative",2,"font-size","15px","font-weight","300","margin-bottom","5px"],[2,"font-size","25px","font-weight","500"],["icon","chevron-right-outline"],["fxLayoutAlign","start center",2,"padding","0px","margin","0px"],["fxFlex",""],["fxLayout","row"],["focusOnce","","status","basic","type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Search",3,"formControl","keyup.escape"],["nbSuffix","","nbButton","","control","","status","primary","ghost","",3,"click"],["icon","close-outline"],["fxLayoutAlign","center  center",1,"actionCardHeader"],["shape","round","status","success","outline","","multiple",""],["nbButtonToggle","",3,"pressed","pressedChange"],["nbButtonToggle","",1,"text-italic",3,"pressed","pressedChange"],["shape","round","size","medium","nbButton","","status","basic","filled","",1,"searchBtn",3,"click"],["icon","search-outline"],[2,"margin","0","padding","0"],["fxFlex","","fxLayoutAlign","center center",2,"margin-left","2rem","margin-right","2rem"],["fxFlex","","size","small","nbButton","","status","primary","outline","","shape","round",3,"click"],["fxLayout","row wrap","fxLayoutAlign","space-between ","nbInfiniteList","",3,"threshold","topThreshold","bottomThreshold"],["appList",""],["fxFlex","1 0 calc(50% )","fxFlex.lg","1 0 calc(30% )",4,"ngIf"],["fxFlex","0 0 calc(50% )","fxFlex.lg","0 0 calc(30% )",3,"appScrollableItem",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["fxFlex","1 0 calc(50% )","fxFlex.lg","1 0 calc(30% )"],[4,"ngTemplateOutlet"],["enableTopLoadingTempalte",""],["fxFlex","","fxLayoutAlign","center center"],["fxFlex","0 0 calc(50% )","fxFlex.lg","0 0 calc(30% )",3,"appScrollableItem"],["fxFill","","fxFkex","","fxFlex","",3,"index","integrated","active","data","_reset","click"],["body","","nbInfiniteList",""],["style","padding: 1rem; padding-bottom: 0rem",4,"ngFor","ngForOf"],["fxFlex","",1,"timeline-wrapper",2,"padding","1rem","padding-bottom","0px"],[2,"padding","1rem","padding-bottom","0rem"],["fxFill","","fxFkex","","fxFlex","",3,"active","data","_reset","click"],["fxLayoutAlign","space-between center"],["size","medium","nbButton","","status","primary","ghost","",3,"disabled","click"],["icon","arrow-ios-back-outline"],[1,"select_heading"],[1,"select_heading",2,"font-size","1.4rem","margin-left","5px","margin-right","5px"],["icon","arrow-ios-forward-outline"],["fxFlex.gt-xs","1 1 ","fxFill","",2,"height","0"],["name","app_main"],["fxFlex","","fxFill","",1,"main",2,"height","0","margin-left","2rem","width","0px"],["fxLayoutAlign","start center"],[1,"image"],["type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Name",3,"value"],["name_field",""],["type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Description",3,"value"],["description_field",""],[1,"row"],["nbButton","","status","success",1,"col-12",3,"click"],["type","text","fullWidth","","nbInput","","fieldSize","medium","placeholder","Email",3,"value"],["description",""],[1,"col-2"],["nbButton","","outline","","status","danger",1,"col-3",3,"click"],["nbButton","","outline","","status","success",1,"col-3",3,"click"]],template:function(n,e){if(1&n&&(t.YNc(0,rn,1,0,"ng-template",null,0,t.W1O),t.YNc(2,an,23,1,"ng-template",null,1,t.W1O),t.YNc(4,ln,23,3,"ng-template",null,2,t.W1O),t.YNc(6,pn,3,5,"ng-template",null,3,t.W1O),t.YNc(8,mn,3,5,"ng-template",null,4,t.W1O),t.YNc(10,fn,1,0,"ng-template",null,5,t.W1O),t.YNc(12,hn,1,0,"ng-template",null,6,t.W1O),t.YNc(14,bn,5,0,"ng-template",null,7,t.W1O),t.YNc(16,xn,10,0,"ng-template",null,8,t.W1O),t.TgZ(18,"div",9),t.YNc(19,Cn,3,3,"ng-container",10),t.YNc(20,Wn,22,22,"ng-container",11),t.YNc(21,Kn,1,0,"ng-template",null,12,t.W1O),t.YNc(23,Xn,2,0,"div",13),t.YNc(24,ti,7,3,"nb-card",14),t.qZA(),t.YNc(25,ei,21,2,"ng-template",null,15,t.W1O),t.YNc(27,ni,25,2,"ng-template",null,16,t.W1O)),2&n){const o=t.MAs(22);t.xp6(19),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",e.buildExplorer)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1)}},dependencies:[m.sg,m.O5,m.tP,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,C.lC,s.Asz,s.yKW,s.XWE,s.ndF,s.h8i,s.zP_,s.qBV,s.sTn,s.rs,s.q51,d.Fj,d.JJ,d.oH,s.jBG,s.t3q,s.yyc,s.mnu,s.ZDs,At,tt,it,X,z,m.Ov,m.OU,m.JJ,m.Nd,Ot],styles:["nb-card[_ngcontent-%COMP%]{border-radius:1rem;padding:1rem}nb-card-header[_ngcontent-%COMP%]{height:var(--header-height);background:none}app-list-item[_ngcontent-%COMP%]{margin:0 0 2px}nb-card-footer[_ngcontent-%COMP%]{background:var(--background-basic-color-1)!important}nb-list[_ngcontent-%COMP%]{margin:1rem;margin-bottom:10px;margin-left:2px;margin-right:2px;margin:0!important;overflow-x:hidden}button[_ngcontent-%COMP%]{text-transform:capitalize!important}nb-list-item[_ngcontent-%COMP%]{border:none}nb-card[_ngcontent-%COMP%]{border-radius:1rem;padding:10px;display:flex;background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-4)}nb-card-body[_ngcontent-%COMP%]{border:0;margin:.6rem;background:var(--background-basic-color-2)!important}.head[_ngcontent-%COMP%]{background:var(--background-alternative-color-2);box-shadow:2px 2px 3px #ffffff29,2px 2px 3px #ffffff3b;color:#fff}.noscroll[_ngcontent-%COMP%]{overflow:hidden}.main[_ngcontent-%COMP%]{height:calc(100vh - 8rem)}.timeline-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid;border-color:#e5e6e9 #dfe0e4 #d0d1d5;border-radius:3px;padding:12px;margin:0 auto}@keyframes _ngcontent-%COMP%_placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:_ngcontent-%COMP%_placeHolderShimmer;background:#f6f7f8;background:linear-gradient(to right,#eeeeee 8%,#dddddd 18%,#eeeeee 33%);height:40px;position:relative}.background-masker[_ngcontent-%COMP%]{background:#fff;position:absolute}.background-masker.header-top[_ngcontent-%COMP%], .background-masker.header-bottom[_ngcontent-%COMP%], .background-masker.subheader-bottom[_ngcontent-%COMP%]{top:0;left:40px;right:0;height:10px}.background-masker.header-left[_ngcontent-%COMP%], .background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:10px;left:40px;height:8px;width:10px}.background-masker.header-bottom[_ngcontent-%COMP%]{top:18px;height:6px}.background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:24px;height:6px}.background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{width:auto;left:300px;right:0}.background-masker.subheader-bottom[_ngcontent-%COMP%]{top:30px;height:10px}.background-masker.content-top[_ngcontent-%COMP%], .background-masker.content-second-line[_ngcontent-%COMP%], .background-masker.content-third-line[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%], .background-masker.content-first-end[_ngcontent-%COMP%]{top:40px;left:0;right:0;height:6px}.background-masker.content-top[_ngcontent-%COMP%]{height:20px}.background-masker.content-first-end[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%]{width:auto;left:380px;right:0;top:60px;height:8px}.background-masker.content-second-line[_ngcontent-%COMP%]{top:68px}.background-masker.content-second-end[_ngcontent-%COMP%]{left:420px;top:74px}.background-masker.content-third-line[_ngcontent-%COMP%]{top:82px}.background-masker.content-third-end[_ngcontent-%COMP%]{left:300px;top:88px}.select_heading[_ngcontent-%COMP%]{color:var(--color-primary-400)!important;font-weight:350;font-size:1rem}.mContainer[_ngcontent-%COMP%]{height:100%}nb-button-group[_ngcontent-%COMP%]{height:2rem}.searchBtn[_ngcontent-%COMP%]{height:2rem}.text-heading[_ngcontent-%COMP%], .filter-icon[_ngcontent-%COMP%]{color:var(--text-hint-color)}"]});class lt{constructor(){}ngOnInit(){}}lt.\u0275fac=function(n){return new(n||lt)},lt.\u0275cmp=t.Xpm({type:lt,selectors:[["app-hamburger-icon"]],inputs:{active:"active"},decls:5,vars:2,consts:[["id","hamburger",1,"hamburger"],[1,"line"]],template:function(n,e){1&n&&(t.ynx(0),t.TgZ(1,"div",0),t._UZ(2,"div",1)(3,"div",1)(4,"div",1),t.qZA(),t.BQk()),2&n&&(t.xp6(1),t.ekj("active",1==e.active))},styles:[".hamburger[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{zoom:.4;-moz-transform:scale(.4);height:3px;width:50px;scale:.3;background:#fff;margin:8px auto;display:block;transition:all .3s ease-in-out}.hamburger[_ngcontent-%COMP%]:hover{cursor:pointer}#hamburger.active[_ngcontent-%COMP%]{transition:all .3s ease-in-out;transform:rotate(45deg)}#hamburger.active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){width:0}#hamburger.active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){transform:translateY(13px)}#hamburger.active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-13px) rotate(90deg)}"]});var w=x(727),te=x(7445),A=x(5698),he=x(8421),be=x(5403);function ee(i,n){return n?e=>e.pipe(ee((o,r)=>(0,he.Xf)(i(o,r)).pipe((0,u.U)((a,l)=>n(o,a,r,l))))):(0,_e.e)((e,o)=>{let r=0,a=null,l=!1;e.subscribe((0,be.x)(o,c=>{a||(a=(0,be.x)(o,void 0,()=>{a=null,l&&o.complete()}),(0,he.Xf)(i(c,r++)).subscribe(a))},()=>{l=!0,!a&&o.complete()}))})}var G=(()=>{return(i=G||(G={})).Left="left",i.Bottom="bottom",G;var i})(),Pt=x(1281);const ii=[(0,y.SB)("left",(0,y.oB)({transform:"translateX(0%)"})),(0,y.SB)("bottom",(0,y.oB)({transform:"translateY(0%)"})),(0,y.eR)("void => left",[(0,y.oB)({transform:"translateX(100%)"}),(0,y.jt)("150ms ease-out")]),(0,y.eR)("left => void",[(0,y.jt)("150ms ease-out",(0,y.oB)({transform:"translateX(100%)"}))]),(0,y.eR)("void => bottom",[(0,y.oB)({transform:"translateY(100%)"}),(0,y.jt)("150ms ease-out")]),(0,y.eR)("bottom => void",[(0,y.jt)("150ms ease-out",(0,y.oB)({transform:"translateY(100%)"}))])];var _t=(()=>{return(i=_t||(_t={})).fixed="fixed",i.absolute="absolute",_t;var i})(),oi=x(2233);function ri(i,n){}const ai=function(i,n){return{context:i,close:n}};class Zt{get size(){return this._size}set size(n){this._size=(0,Pt.su)(n)}get zIndex(){return this._zIndex}set zIndex(n){this._zIndex=(0,Pt.su)(n)}get closeOnOutsideClick(){return this._closeOnOutsideClick}set closeOnOutsideClick(n){this._closeOnOutsideClick=(0,Pt.Ig)(n)}get cssClasses(){let n=`ngx-drawer ${this.cssClass}`;return this.isLeft&&(n+=" left-drawer"),this.isBottom&&(n+=" bottom-drawer"),n}get isLeft(){return this.direction===G.Left}get isBottom(){return this.direction===G.Bottom}ngOnInit(){this.screenSizeChangeSubscription=this.mediaObserver.asObservable().pipe((0,v.h)(n=>n.length>0),(0,u.U)(n=>n[0])).subscribe(n=>{"xs"==n.mqAlias||"sm"==n.mqAlias?this.widthSize="100%":("md"==n.mqAlias||"lg"==n.mqAlias||"xl"==n.mqAlias)&&(this.widthSize="50%"),console.log("changeALias",n.mqAlias,this.widthSize)}),this.position=this.isRoot?_t.fixed:_t.absolute,this.setDimensions(this.size),this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement),this.focusTrap.blurPreviouslyFocusedElement(),this.focusTrap.focusInitialElementWhenReady()}ngOnDestroy(){this.screenSizeChangeSubscription.unsubscribe(),this.close.emit(!0),this.focusTrap&&this.focusTrap.restoreFocus()}setDimensions(n){this.heightSize=`${this.isBottom&&n?n:"100%"}`,this.widthSize=0===n?`${this.isLeft&&n?n:"50%"}`:`${this.isLeft&&n?n:"auto"}`}onEscapeKey(){this.close.emit(!0)}constructor(n,e,o){this.elementRef=n,this.focusTrapFactory=e,this.mediaObserver=o,this.cssClass="",this.isRoot=!0,this.close=new t.vpe,this.position=_t.fixed,this.screenSizeChangeSubscription=w.w0.EMPTY}}Zt.\u0275fac=function(n){return new(n||Zt)(t.Y36(t.SBq),t.Y36(s.E_E),t.Y36(oi.u0))},Zt.\u0275cmp=t.Xpm({type:Zt,selectors:[["ngx-drawer"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:11,hostBindings:function(n,e){1&n&&t.NdJ("keyup.esc",function(){return e.onEscapeKey()}),2&n&&(t.d8E("@drawerTransition",e.direction),t.Tol(e.cssClasses),t.Udp("width",e.widthSize)("height",e.heightSize)("z-index",e.zIndex)("position",e.position))},inputs:{cssClass:"cssClass",direction:"direction",template:"template",context:"context",isRoot:"isRoot",size:"size",zIndex:"zIndex",closeOnOutsideClick:"closeOnOutsideClick"},outputs:{close:"close"},exportAs:["ngxDrawer"],decls:2,vars:5,consts:[["cdkFocusRegionStart","",1,"ngx-drawer-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,ri,0,0,"ng-template",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",t.WLB(2,ai,e.context,e.close)))},dependencies:[m.tP],styles:[".ngx-drawer{display:block;overflow-x:hidden;text-align:left;z-index:998;background:#1c2029;min-width:50%;width:50%}.ngx-drawer.left-drawer{top:var(--header-height);top:0;right:0;height:100%}.ngx-drawer.bottom-drawer{left:0;bottom:0;width:100%;max-height:100vh}.ngx-drawer .ngx-drawer-content{height:100%;min-height:100%}\n"],encapsulation:2,data:{animation:[(0,y.X$)("drawerTransition",ii)]},changeDetection:0});class li{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,e){const o=e.parentContainer;e=this.assignDefaults(e);const r=this.injectComponent(n,e,o);return this.register(n,r),r}destroy(n){const e=this.components.get(n.componentType);if(e&&e.length){const o=e.indexOf(n);o>-1&&(e[o].destroy(),e.splice(o,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){const e=this.components.get(n);if(e&&e.length){let o=e.length-1;for(;o>=0;)this.destroy(e[o--])}}injectComponent(n,e,o){return this.injectionService.appendComponent(n,e,o)}assignDefaults(n){const e={...this.defaults.inputs},o={...this.defaults.outputs};return!n.inputs&&!n.outputs&&(n={inputs:n}),e&&(n.inputs={...e,...n.inputs}),o&&(n.outputs={...o,...n.outputs}),n}register(n,e){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(e)}}var xe=x(4080);class q{static setGlobalRootViewContainer(n){q.globalRootViewContainer=n}constructor(n,e,o){this.applicationRef=n,this.componentFactoryResolver=e,this.injector=o}getRootViewContainer(){if(this._container)return this._container;if(q.globalRootViewContainer)return q.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(n){this._container=n}getComponentRootNode(n){return function si(i){return i.element}(n)?n.element.nativeElement:n.hostView&&n.hostView.rootNodes.length>0?n.hostView.rootNodes[0]:n.location.nativeElement}getRootViewContainerNode(n){return this.getComponentRootNode(n)}projectComponentBindings(n,e){if(e){if(void 0!==e.inputs){const o=Object.getOwnPropertyNames(e.inputs);for(const r of o)n.instance[r]=e.inputs[r]}if(void 0!==e.outputs){const o=Object.getOwnPropertyNames(e.outputs);for(const r of o)n.instance[r]=e.outputs[r]}}return n}appendComponent(n,e={},o){o||(o=this.getRootViewContainer());const r=e.inputs&&!1===e.inputs.isRoot?o:this.getComponentRootNode(o),a=new xe.u0(r,this.componentFactoryResolver,this.applicationRef,this.injector),l=new xe.C5(n),c=a.attach(l);return this.projectComponentBindings(c,e),c}}q.globalRootViewContainer=null,q.\u0275fac=function(n){return new(n||q)(t.LFG(t.z2F),t.LFG(t._Vd),t.LFG(t.zs3))},q.\u0275prov=t.Yz7({token:q,factory:q.\u0275fac});class It{get visible(){return this._visible}set visible(n){this._visible=(0,Pt.Ig)(n),this.cdr.markForCheck()}get zIndex(){return this._zIndex}set zIndex(n){this._zIndex=(0,Pt.su)(n),this.cdr.markForCheck()}get animationState(){return this.visible?"active":"inactive"}constructor(n){this.cdr=n,this.click=new t.vpe,this._visible=!1,this._zIndex=990}}It.\u0275fac=function(n){return new(n||It)(t.Y36(t.sBO))},It.\u0275cmp=t.Xpm({type:It,selectors:[["ngx-overlay"]],inputs:{visible:"visible",zIndex:"zIndex"},outputs:{click:"click"},exportAs:["ngxOverlay"],ngContentSelectors:["*"],decls:2,vars:3,consts:[["cdkTrapFocus","","cdkTrapFocusAutoCapture","",1,"ngx-overlay",3,"click"]],template:function(n,e){1&n&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("click",function(){return e.click.emit(!0)}),t.Hsn(1),t.qZA()),2&n&&(t.Udp("z-index",e.zIndex),t.Q6J("@overlayTransition",e.animationState))},styles:[".ngx-overlay{position:fixed;inset:0;width:100%;overflow:hidden;height:100%;background-color:#000;opacity:0;visibility:hidden;text-align:center;line-height:100vh}\n"],encapsulation:2,data:{animation:[(0,y.X$)("overlayTransition",[(0,y.SB)("active",(0,y.oB)({opacity:.8,visibility:"visible"})),(0,y.SB)("inactive",(0,y.oB)({visibility:"hidden",opacity:0})),(0,y.eR)("* => active",[(0,y.jt)("100ms ease-in")]),(0,y.eR)("* => inactive",[(0,y.jt)("100ms ease-out")]),(0,y.eR)("* => void",[(0,y.oB)({opacity:0,visibility:"hidden","pointer-events":"none"}),(0,y.jt)("100ms ease-out")])])]},changeDetection:0});class et{get instance(){if(this.component)return this.component.instance}constructor(n){this.injectionService=n,this.triggerComponents=[],this.click=new t.vpe}show(n={}){if(!n.triggerComponent)throw new Error("ngx-ui OverlayService.show: triggerComponent missing ");return this.component||(this.component=this.injectComponent(),this.instance.click.subscribe(this.onClick.bind(this))),this.triggerComponents.push({component:n.triggerComponent,zIndex:n.zIndex}),this.component.instance.visible=!0,this.updateZIndex(),this.component}hide(){0===this.triggerComponents.length&&(this.component.instance.visible=!1)}destroy(){this.component&&(this.hide(),setTimeout(()=>{this.component&&0===this.triggerComponents.length&&(this.component.destroy(),this.component=void 0)},100))}injectComponent(){return this.injectionService.appendComponent(It)}onClick(){this.triggerComponents.length>0&&this.click.emit(this.triggerComponents[this.triggerComponents.length-1].component)}removeTriggerComponent(n){const e=this.triggerComponents.findIndex(o=>o.component===n);-1!==e&&this.triggerComponents.splice(e,1),this.updateZIndex(),0===this.triggerComponents.length&&this.destroy()}updateZIndex(){if(0===this.triggerComponents.length)return;const n=this.triggerComponents.map(o=>o.zIndex),e=Math.max(...n)-1;this.instance.zIndex=e}}et.\u0275fac=function(n){return new(n||et)(t.LFG(q))},et.\u0275prov=t.Yz7({token:et,factory:et.\u0275fac});class E extends li{constructor(n,e,o){super(n),this.injectionService=n,this.overlayService=e,this.rendererFactory=o,this.type=Zt,this.defaults={inputs:{direction:G.Left}},this.zIndex=995,this.size=80,this.renderer=this.rendererFactory.createRenderer(null,null)}create(n){const e=super.create(n);return this.createSubscriptions(e,n.isRoot,n.parentContainer),e}destroy(n){n&&n.instance&&(n.instance.size=0),setTimeout(()=>{this.zIndex=this.zIndex-2,this.size=this.size+10,this.overlayService.removeTriggerComponent(n),super.destroy(n)},10)}assignDefaults(n){return(n=super.assignDefaults(n)).inputs.zIndex||(this.zIndex=this.overlayService.instance?this.overlayService.instance.zIndex+3:this.zIndex+2,n.inputs.zIndex=this.zIndex),this.size=this.size-10,n.inputs.size||(n.inputs.size=this.size),n}createSubscriptions(n,e=!0,o){let r,a;e&&this.overlayService.show({triggerComponent:n,zIndex:this.zIndex});const l=c=>{n===c&&(r.unsubscribe(),a&&a.unsubscribe(),this.parentListenerFunc&&1===this.components.get(this.type).length&&this.parentListenerFunc(),this.destroy(n))};if(console.log("___"),r=n.instance.close.subscribe(l.bind(this,n)),n.instance.closeOnOutsideClick)if(e)a=this.overlayService.click.subscribe(l);else{const c=this.components.get(this.type);this.parentListenerFunc=this.renderer.listen(o,"click",f=>{f.target===o&&l(c[c.length-1])})}}}E.\u0275fac=function(n){return new(n||E)(t.LFG(q),t.LFG(et),t.LFG(t.FYo))},E.\u0275prov=t.Yz7({token:E,factory:E.\u0275fac});const di=["editTmpl"];function pi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",5)(1,"div")(2,"button",6),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.loadNewBuilds())}),t._UZ(3,"nb-icon",7),t.TgZ(4,"span"),t._uU(5," New Builds Found "),t.qZA()()()()}}function ui(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",8),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onClickBuild(a))}),t._UZ(1,"app-build-item",9),t.ALo(2,"async"),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw();t.xp6(1),t.Q6J("active",t.lcZ(2,2,o.activeBuildId)==(null==e||null==e._id?null:e._id.$oid))("build",e)}}class St{constructor(n,e,o,r,a){this.apiService=n,this.drawerMngr=e,this.router=o,this.activatedRoute=r,this.nbSidebarService=a,this.buildListLimit=20,this.buildInvalidateIds=new Map,this.topBuildId=void 0,this.bottomBuildId=void 0,this.activeBuildId=this.apiService.selectedBuildId.pipe((0,P.d)(),(0,_.b)(l=>{console.log("resetBuilds",l)})),this.selectedApp=this.apiService.selectedApp,this.buildTransformerPipe=l=>{let c=0,f=[{state:l?.state_requested,ts:l?.state_requested_ts,time_taken:0,title:"Enqueued"},{state:l?.state_execution,ts:l?.state_execution_ts,time_taken:0,title:"Executing"},{state:l?.state_download_raw,ts:l?.state_download_raw_ts,time_taken:0,title:"Report Generated"},{state:l?.state_pushed_to_parser,ts:l?.state_pushed_to_parser_ts,time_taken:0,title:"Analyzing"},{state:l?.state_parsing_started,ts:l?.state_parsing_started_ts,time_taken:0,title:"Parsing"},{state:l?.state_parsing_completed,ts:l?.state_parsing_completed_ts,time_taken:0,title:"Finished"}];return l.success=void 0,l.failed=!1,f.map((g,b)=>(0==b||(g.time_taken=g?.ts?.$date-f[b-1]?.ts?.$date,g.time_taken=g?.time_taken/1e3,g.time_taken=0|g?.time_taken,g.time_taken=Math.ceil(g.time_taken),c+=g.time_taken,0==g?.state&&(l.failed=!0)),g)),l.build_state=f,l.timeElpased=c,l.finding_stats=this.apiService.getFindingStats(l?.applicationId,l?._id).pipe(),l},this.builds$=[],this.allBuildsLoaded=!1,this.loading=!0,this.refreshBuildData=w.w0.EMPTY,this.newBuildsAvailable=!1,this.REFRESH_INTERVAL_PERIOD=1e3}ngOnDestroy(){this.nbSidebarService.expand(),this.refreshBuildData.unsubscribe()}getBuildData(n){return this.apiService.getDevsecopsBuildData({businessId:n?.businessId,projectId:n?.projectId,platformId:n?.platformId,applicationId:n?.application?.applicationId},{offset:this.bottomBuildId,limit:this.buildListLimit,direction:"below"}).pipe((0,v.h)(e=>!!e),(0,u.U)(e=>e.map(o=>this.buildTransformerPipe(o))),(0,_.b)(e=>{if(e?.length<this.buildListLimit&&(this.allBuildsLoaded=!0),e.length<=0||!e)console.log("noBuilds",e);else{console.log("activeBuildId");let o=e[0];this.activeBuildId.pipe((0,A.q)(1)).subscribe(r=>{null==r&&(console.log("activeBuildId",r),console.log("activeBuildId",r,`${o?._id?.$oid}`),this.router.navigate([`${o?._id?.$oid}`],{relativeTo:this.activatedRoute}))})}}),(0,_.b)(e=>{let o=new Map;e.forEach((r,a)=>{0==a&&(this.topBuildId=r?._id?.$oid),a+1==e?.length&&(this.bottomBuildId=r?._id?.$oid),r?.transition_state!=L.FAILED&&r?.transition_state!=L.PARSING_FINISHED&&o.set(r?._id?.$oid,a)}),this.buildInvalidateIds=o,console.log("buildInvalidateIds",this.buildInvalidateIds)}))}downloadRaw(n){this.apiService.downloadReportZip({businessId:n?.businessId?.$oid,projectId:n?.projectId?.$oid,platformId:n?.platformId?.$oid}).subscribe(e=>{})}onClick(n,e){}refreshBuildDataFn(){return(0,te.F)(this.REFRESH_INTERVAL_PERIOD).pipe(ee(n=>{let e=Array.from(this.buildInvalidateIds.keys());return 0==e.length&&this.buildTopOffsetId$?V.E:this.apiService.getBuildByIds(e,this.buildTopOffsetId$).pipe((0,_.b)(o=>console.debug(o)))}),(0,_.b)(n=>console.debug(n)),(0,_.b)(n=>{n.builds.forEach(e=>{let o=e?._id?.$oid;this.buildInvalidateIds.get(o)}),this.newBuildsAvailable=n?.newBuildsFound}),(0,_.b)(n=>{n.builds.forEach(o=>{console.debug("mBuild;d",o),o=this.buildTransformerPipe(o),console.debug("_mBuild;d",o);let r=o?._id?.$oid,a=this.buildInvalidateIds.get(r);o.index=this.builds$[a].index,this.builds$[a]=o})}))}resetBuilds(){this.builds$=[]}loadBuilds(){this.selectedApp.pipe((0,_.b)(n=>{this.resetBuilds(),this.loading=!0}),(0,v.h)(n=>!!n),(0,h.w)(n=>this.getBuildData(n)),(0,_.b)(n=>{this.buildTopOffsetId$=n.length>0?n[0]?._id?.$oid:void 0,this.builds$.push(...n),this.loading=!1})).subscribe()}ngOnInit(){this.refreshBuildData=this.refreshBuildDataFn().subscribe(),this.nbSidebarService.collapse(),this.loadBuilds()}onClickBuild(n){this.router.navigate([`${n?._id?.$oid}`],{relativeTo:this.activatedRoute})}openDrawer(n,e="left",o,r=!0,a=this.editTmpl,l=!0,c){this.drawerMngr.create({direction:G.Left,template:a,size:o,context:{build_id:n?._id?.$oid,application_id:n?.applicationId?.$oid},closeOnOutsideClick:r,parentContainer:c,isRoot:l})}trackBuild(n,e){return e?._id?.$oid}loadNewBuilds(){this.loadBuilds()}bottomThresholdTrigger(n){this.loading||this.allBuildsLoaded||(console.log("bottomThresholdTrigger",this.allBuildsLoaded,n),this.loadBuilds())}}function _i(i,n){1&i&&(t.TgZ(0,"div",2),t._UZ(1,"app-business-list",3)(2,"app-project-list",3),t.qZA())}St.\u0275fac=function(n){return new(n||St)(t.Y36(k),t.Y36(E),t.Y36(C.F0),t.Y36(C.gz),t.Y36(s.lzT))},St.\u0275cmp=t.Xpm({type:St,selectors:[["app-build-list"]],viewQuery:function(n,e){if(1&n&&t.Gf(di,5),2&n){let o;t.iGM(o=t.CRH())&&(e.editTmpl=o.first)}},decls:5,vars:5,consts:[["fxFill","",1,"listContainer"],["fxFlex","","fxFill","",1,"nbCardList"],["style","margin: 0px; padding: 10px;",4,"ngIf"],["nbListPageTracker","","nbInfiniteList","","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data",3,"threshold","nbSpinner","bottomThreshold"],["fxLayout","row",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[2,"margin","0px","padding","10px"],["nbButton","","filled","","status","primary",2,"text-transform","capitalize",3,"click"],["icon","refresh-outline"],["fxLayout","row",3,"click"],["fxFlex","",3,"active","build"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"nb-card",1),t.YNc(2,pi,6,0,"nb-card-header",2),t.TgZ(3,"nb-list",3),t.NdJ("bottomThreshold",function(r){return e.bottomThresholdTrigger(r)}),t.YNc(4,ui,3,4,"nb-list-item",4),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",e.newBuildsAvailable),t.xp6(1),t.Q6J("threshold",50)("nbSpinner",e.loading),t.xp6(1),t.Q6J("ngForOf",e.builds$)("ngForTrackBy",e.trackBuild))},dependencies:[m.sg,m.O5,p.xw,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.ndF,s.zP_,s.qBV,s.B8d,s.sTn,s.Q7R,nt,m.Ov],styles:["nb-list[_ngcontent-%COMP%]{height:30rem;background:var(--background-basic-color-5)}nb-list-item[_ngcontent-%COMP%]{border:none;padding:0;margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:keep-all}nb-card-body[_ngcontent-%COMP%]{padding:0}span[_ngcontent-%COMP%]{text-overflow:ellipsis}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}code[_ngcontent-%COMP%]{color:#f8f8f2;font-size:.875rem}.container[_ngcontent-%COMP%]{padding-left:0rem;padding-right:0rem;margin-left:5px}.container.fail[_ngcontent-%COMP%], .container.active[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.icon[_ngcontent-%COMP%]{height:100%}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize}.dot[_ngcontent-%COMP%]{font-size:20px;font-weight:300}.dot[_ngcontent-%COMP%]:hover{font-size:40px;transition:.2s}.horizontal_line[_ngcontent-%COMP%]{width:30px;height:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}.circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;display:flex;width:3rem;height:3rem;line-height:3rem;border-radius:50%;font-size:.8rem;text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-primary-600),1px -1px 1px var(--color-primary-600),-1px -1px 1px var(--color-primary-600);box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.circle.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600);text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-success-600),1px -1px 1px var(--color-success-600),-1px -1px 1px var(--color-success-600)}.circle.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600);text-shadow:1px 1px 1px var(--color-danger-300),-1px 1px 1px var(--color-danger-600),1px -1px 1px var(--color-danger-600),-1px -1px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]:hover{font-size:1rem;transition:.2s;width:4rem;height:4rem}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 2px 2px 5px 1px var(--color-primary-300),2px 0 5px 1px var(--color-primary-600)}.vertical_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.vertical_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.xContainer[_ngcontent-%COMP%]{padding:1rem}.listContainer[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;padding-top:10px;background:var(--background-basic-color-4);display:flex;flex:0 0 var(--sidebar-width)}.content[_ngcontent-%COMP%]{display:flex;flex:0 1 900px}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.contentContainer[_ngcontent-%COMP%]{min-width:0}"]});class Ft{constructor(){}ngOnInit(){}}function gi(i,n){1&i&&t._UZ(0,"app-list-selector")}Ft.\u0275fac=function(n){return new(n||Ft)},Ft.\u0275cmp=t.Xpm({type:Ft,selectors:[["app-list-selector"]],decls:3,vars:1,consts:[["fxLayout","row","fxLayoutGap","20px",1,"container"],["class","container","fxLayout","column",4,"ngIf"],["fxLayout","column",1,"container"],["fxFlex","50%"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-list"),t.YNc(2,_i,3,0,"div",1),t.qZA()),2&n&&(t.xp6(2),t.Q6J("ngIf",!1))},dependencies:[m.O5,p.xw,p.SQ,p.yH,R,tt,it],styles:[".container[_ngcontent-%COMP%]{height:100vh;max-height:100vh}"]});class Lt{constructor(n){this.dialogService=n}ngOnInit(){}openAppListDialog(n){this.dialogService.open(n,{dialogClass:"sidebarNextlDilog",backdropClass:"blurBackdrop"}).onClose.subscribe()}}Lt.\u0275fac=function(n){return new(n||Lt)(t.Y36(s.Gln))},Lt.\u0275cmp=t.Xpm({type:Lt,selectors:[["app-switch-workspace"]],decls:5,vars:0,consts:[["appListDialog",""],["fxFlex","","shape","round","nbButton","","size","large",1,"title","button",3,"click"],["icon","toggle-left-outline"]],template:function(n,e){if(1&n){const o=t.EpF();t.YNc(0,gi,1,0,"ng-template",null,0,t.W1O),t.TgZ(2,"button",1),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(1);return t.KtG(e.openAppListDialog(a))}),t._UZ(3,"nb-icon",2),t._uU(4," Switch\n"),t.qZA()}},dependencies:[p.yH,s.fMN,s.DPz,Ft],styles:["button[_ngcontent-%COMP%]{text-transform:capitalize!important;margin:0;font-weight:500;padding-right:20px!important;margin-right:1rem;padding-left:20px!important}nb-icon[_ngcontent-%COMP%]{color:var(--text-alternative-color)!important}.button[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:.9rem;text-transform:uppercase;font-weight:550;background-color:#7d2ae8!important;color:var(--text-basic-color)!important;box-shadow:0 0 8px #7d2ae8;border:none;transition:all .3s ease 0s;cursor:pointer;outline:none;height:calc(var(--header-height) - 20px)}.button[_ngcontent-%COMP%]:hover{background-color:var(--color-success-500)!important;box-shadow:0 0 8px var(--color-success-400);color:var(--text-alternative-color)!important}"]});const mi=["businessListDialog"],fi=["projectListDialog"];function hi(i,n){1&i&&t._UZ(0,"app-business-list",8),2&i&&t.Q6J("dialogRef",n.dialogRef)}function bi(i,n){1&i&&t._UZ(0,"app-project-list",8),2&i&&t.Q6J("dialogRef",n.dialogRef)}function xi(i,n){1&i&&t._UZ(0,"app-list")}function vi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"button",20),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3),a=t.MAs(1);return t.KtG(r.openBusinessDialog(a))}),t.TgZ(2,"div",21),t._uU(3," Business "),t.qZA(),t.TgZ(4,"div",22),t._uU(5),t.ALo(6,"async"),t.qZA()(),t._UZ(7,"nb-icon",23),t.TgZ(8,"button",20),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3),a=t.MAs(3);return t.KtG(r.openProjectDialog(a))}),t.TgZ(9,"div",21),t._uU(10," Project "),t.qZA(),t.TgZ(11,"div",22),t._uU(12),t.ALo(13,"async"),t.qZA()()()}if(2&i){const e=t.oxw(3);let o,r;t.xp6(5),t.hij(" ",null==(o=t.lcZ(6,2,e.selectedBusiness))?null:o.title," "),t.xp6(7),t.hij(" ",null==(r=t.lcZ(13,4,e.selectedProject))?null:r.title," ")}}function Ci(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"button",10),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleMenu())}),t._UZ(3,"app-hamburger-icon",11),t.ALo(4,"async"),t.TgZ(5,"span",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleMenu())}),t._uU(6),t._UZ(7,"span",13),t.qZA()(),t.TgZ(8,"div",14),t._UZ(9,"nb-icon",15),t.TgZ(10,"span",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleMenu())}),t._uU(11),t._UZ(12,"span",13),t.qZA()(),t._UZ(13,"div",16),t.qZA(),t.TgZ(14,"app-switch-workspace",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2),a=t.MAs(5);return t.KtG(r.openAppListDialog(a))}),t.qZA(),t.YNc(15,vi,14,6,"div",18),t.BQk()}if(2&i){const e=n.ngIf,o=t.oxw(2);t.xp6(3),t.Q6J("active",t.lcZ(4,6,o.isSidebarOpen)),t.xp6(3),t.AsE(" ",null==e||null==e.application?null:e.application.applicationName," "," ("+(null==e?null:e.platformName)+") "," "),t.xp6(5),t.AsE(" ",null==e||null==e.application?null:e.application.applicationName," "," ("+(null==e?null:e.platformName)+") "," "),t.xp6(4),t.Q6J("ngIf",!1)}}function yi(i,n){if(1&i&&(t.TgZ(0,"nb-layout-header"),t.YNc(1,Ci,16,8,"ng-container",3),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.selectedApp))}}function ki(i,n){if(1&i&&(t.TgZ(0,"nb-sidebar",24),t._UZ(1,"router-outlet",25),t.qZA()),2&i){const e=t.oxw();t.Q6J("state",e.SIDEBAR_DEFAULT_STATE)}}function Mi(i,n){1&i&&(t.TgZ(0,"nb-sidebar",26),t._UZ(1,"app-build-list"),t.qZA())}class Q{constructor(n,e,o,r,a,l){this.apiService=n,this.themeService=e,this.activatedRoute=o,this.sidebarService=r,this.dialogService=a,this.router=l,this.selectedBusiness=this.apiService.selectedBusiness,this.selectedProject=this.apiService.selectedProject,this.selectedApp=this.apiService.selectedApp.pipe(),this.activeAppId=this.activatedRoute.paramMap.pipe((0,_.b)(c=>console.log("logger",c)),(0,u.U)(c=>(console.log("logger",c.get("app_id")),c.get("app_id"))),(0,v.h)(c=>!!c),(0,P.d)()).subscribe(),this.SIDEBAR_DEFAULT_STATE="expanded",this.isSidebarOpen=this.sidebarService.onToggle().pipe((0,_.b)(c=>{console.log("state",c)}),(0,h.w)(c=>this.sidebarService.getSidebarState()),(0,u.U)(c=>"expanded"==c),(0,O.O)("expanded"==this.SIDEBAR_DEFAULT_STATE))}ngOnInit(){this.themeService.changeTheme("dark"),this.activatedRoute.paramMap.pipe((0,u.U)(e=>e.get("app_id")),(0,v.h)(e=>!!e),(0,h.w)(e=>(console.debug("activeAppId",e),"*"==e?(0,N.of)(void 0):this.apiService.getUserApplicationById(e))),(0,_.b)(e=>{console.log("selectApp_test",e),this.apiService.selectApp(e)})).subscribe()}ngOnDestroy(){this.themeService.changeTheme("default"),console.log("ngOnDestroy")}retry(n){this.apiService.retry(n).subscribe(e=>{e.status&&this.apiService.toastrService.success("REQUEST SENT!!")})}toggleMenu(){this.sidebarService.toggle(!1,"applist")}openAppListDialog(n){this.dialogService.open(n,{dialogClass:"sidebarlDilog",backdropClass:"blurBackdrop"}).onClose.subscribe()}openBusinessDialog(n){this.openDialog(n,()=>{this.openProjectDialog(this.projectListDialog)})}openProjectDialog(n){this.openDialog(n)}openDialog(n,e){this.dialogService.open(n,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{title:"Are you sure you want to delete all the tasks ?",description:"All the tasks will be lost, and you won't be able to recover them in future.    "}}).onClose.subscribe(o=>{1==o&&e&&e()})}}Q.\u0275fac=function(n){return new(n||Q)(t.Y36(k),t.Y36(s.WMF),t.Y36(C.gz),t.Y36(s.lzT),t.Y36(s.Gln),t.Y36(C.F0))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["app-bootstrap"]],viewQuery:function(n,e){if(1&n&&(t.Gf(mi,5),t.Gf(fi,5)),2&n){let o;t.iGM(o=t.CRH())&&(e.businessListDialog=o.first),t.iGM(o=t.CRH())&&(e.projectListDialog=o.first)}},decls:14,vars:3,consts:[["businessListDialog",""],["projectListDialog",""],["appListDialog",""],[4,"ngIf"],["tag","menuSidebar",1,"menuSidebar"],["name","sidebar"],["tag","menuSidebar","tag","applist","right","","fixed","",3,"state",4,"ngIf"],["tag","menuSidebar","tag","builds","state","expanded","right","",4,"ngIf"],[3,"dialogRef"],["fxFlex","","fxLayout","row"],["fxLayoutAlign","start  center","outline","","status","success","nbButtonToggle","",1,"sidebar-header",3,"click"],[3,"active"],["fxHide.lt-sm","","fxShow","",1,"title",3,"click"],[1,"caption-2"],["fxLayoutGap","1rem","fxLayoutAlign","start center"],["status","danger","icon","chevron-right-outline"],["fxLayoutGap","1rem","fxHide.lt-md","","fxShow","","fxLayoutGap","1rem","fxFlex","","fxLayoutAlign","end center"],[3,"click"],["style","overflow: hidden; ","fxLayoutAlign","center center",4,"ngIf"],["fxLayoutAlign","center center",2,"overflow","hidden"],["fxLayout","column","fxLayoutAlign","start start","fxFlex","","outline","","status","basic","shape","semi-round","nbButton","","size","small",1,"title",2,"padding","0px","padding-left","20px","padding-bottom","10px","padding-top","10px",3,"click"],[1,"text-alternative",2,"font-size","15px","font-weight","300","margin-bottom","5px"],[2,"font-size","25px","font-weight","500"],["icon","chevron-right-outline"],["tag","menuSidebar","tag","applist","right","","fixed","",3,"state"],["name","appList"],["tag","menuSidebar","tag","builds","state","expanded","right",""]],template:function(n,e){1&n&&(t.YNc(0,hi,1,1,"ng-template",null,0,t.W1O),t.YNc(2,bi,1,1,"ng-template",null,1,t.W1O),t.YNc(4,xi,1,0,"ng-template",null,2,t.W1O),t.TgZ(6,"nb-layout"),t.YNc(7,yi,3,3,"nb-layout-header",3),t.TgZ(8,"nb-sidebar",4),t._UZ(9,"router-outlet",5),t.qZA(),t.YNc(10,ki,2,1,"nb-sidebar",6),t.YNc(11,Mi,2,0,"nb-sidebar",7),t.TgZ(12,"nb-layout-column"),t._UZ(13,"router-outlet"),t.qZA()()),2&n&&(t.xp6(7),t.Q6J("ngIf",!1),t.xp6(3),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1))},dependencies:[s.Aqw,s.dP_,s.dmS,m.O5,p.xw,p.SQ,p.Wh,p.yH,re.b8,s.fMN,s.DPz,C.lC,s.ZDs,s.nZR,R,tt,it,lt,St,Lt,m.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center}.test[_ngcontent-%COMP%]{flex:1}td[_ngcontent-%COMP%]{text-transform:capitalize}.caption[_ngcontent-%COMP%], .caption-2[_ngcontent-%COMP%]{font-size:.9rem!important;margin:.1rem}tr[_ngcontent-%COMP%]{margin-bottom:1rem}th[_ngcontent-%COMP%]{font-style:bold;color:#000;background:var(--select-filled-basic-background-color);border-color:var(--select-filled-basic-border-color)}.hoverOn[_ngcontent-%COMP%]{background:var(--select-outline-basic-hover-background-color);color:#000}th[_ngcontent-%COMP%]{padding:0;text-align:center}._heading[_ngcontent-%COMP%]{font-size:1rem;margin:.2rem;font-weight:400}._subheading[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500}.opt[_ngcontent-%COMP%]{margin-left:1rem;font-size:.8rem;font-weight:500}.optH[_ngcontent-%COMP%]{margin-left:0rem;font-weight:600;font-size:.8rem}h5[_ngcontent-%COMP%]{font-size:1.2rem;margin-top:.3rem;padding:0;margin-bottom:.3rem;font-weight:400}.loader[_ngcontent-%COMP%]{padding-top:5rem;padding-bottom:5rem}.content[_ngcontent-%COMP%]{display:flex}.flex[_ngcontent-%COMP%]{flex:1}.picture[_ngcontent-%COMP%]{background-position:center;background-size:cover;position:relative;border-top-left-radius:.25rem;border-top-right-radius:.25rem;flex:1;background-image:url(/assets/rocket.png)}.card[_ngcontent-%COMP%]{padding:0}.icons-block[_ngcontent-%COMP%]{width:1.4rem;height:1.4rem;border-radius:50%;background-color:#fff;box-shadow:0 .5rem 1.25rem #dae0eb99;margin-left:1rem;margin-right:1rem}.stateicon[_ngcontent-%COMP%]{width:1.8rem;height:1.8rem}.icons-block[_ngcontent-%COMP%]:hover{box-shadow:0 1rem 1.95rem #dae0eb99}.status-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#484747}.stateicon[_ngcontent-%COMP%]{margin-left:auto}.heading[_ngcontent-%COMP%]{font-weight:600}.low[_ngcontent-%COMP%]{background-color:var(--button-filled-primary-background-color)}.medium[_ngcontent-%COMP%]{background-color:var(--button-filled-warning-background-color)}.high[_ngcontent-%COMP%], .critical[_ngcontent-%COMP%]{background-color:var(--button-filled-danger-background-color)}nb-select[_ngcontent-%COMP%]{align-self:center}.accordianitem[_ngcontent-%COMP%]{width:100%}.subName[_ngcontent-%COMP%], .headName[_ngcontent-%COMP%]{font-weight:600;height:inherit}.name[_ngcontent-%COMP%]{font-weight:400;height:inherit}.nooverflow[_ngcontent-%COMP%]{overflow:hidden}.textSpace[_ngcontent-%COMP%]{padding-left:1rem;text-overflow:ellipsis;overflow:hidden;flex:1}.textSpace1[_ngcontent-%COMP%]{padding-left:1rem;text-overflow:ellipsis;overflow:auto;flex:1;font-size:medium}.textSpaceLower[_ngcontent-%COMP%]{padding-left:3.4rem;text-overflow:ellipsis;white-space:nowrap}.controlpanelbg[_ngcontent-%COMP%]{background:var(--color-primary-default)}.controlpanelbg2[_ngcontent-%COMP%]{background:var(--color-secondary-default)}h3[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem;line-height:2rem}.buttonspace[_ngcontent-%COMP%]{margin-right:10px}.nomar[_ngcontent-%COMP%]{margin:0;padding:0}.usericon[_ngcontent-%COMP%]{color:var(--color-primary-default)}nb-list[_ngcontent-%COMP%]{overflow:visible}.bold[_ngcontent-%COMP%]{font-weight:650}.nomar[_ngcontent-%COMP%]{margin:0}nb-card[_ngcontent-%COMP%]{max-height:100vh;margin:0}nb-card-body[_ngcontent-%COMP%]{padding:0}.ipaddress[_ngcontent-%COMP%]{font-size:.9rem}button[_ngcontent-%COMP%]{text-transform:capitalize!important}input[_ngcontent-%COMP%]{max-width:150px!important}nb-select[_ngcontent-%COMP%]{width:100px!important;overflow:hidden}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-basic-400)}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-primary-400);color:#fff}nb-list-item.selected[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff!important}nb-list-item.selected.primary[_ngcontent-%COMP%]{background-color:var(--color-primary-500)}nb-list-item.selected.success[_ngcontent-%COMP%]{background-color:var(--color-success-500)}nb-list-item.selected.danger[_ngcontent-%COMP%]{background-color:var(--color-danger-500)}nb-list-item.selected.warning[_ngcontent-%COMP%]{background-color:var(--color-warning-500)}nb-list-item.selected.basic[_ngcontent-%COMP%]{background-color:var(--color-basic-500)}.dot[_ngcontent-%COMP%]{font-size:60px;margin-right:1rem;margin-left:.3rem}.dot.primary[_ngcontent-%COMP%]{color:var(--color-primary-500)}.dot.success[_ngcontent-%COMP%]{color:var(--color-success-500)}.dot.danger[_ngcontent-%COMP%]{color:var(--color-danger-500)}.dot.warning[_ngcontent-%COMP%]{color:var(--color-warning-500)}.dot.basic[_ngcontent-%COMP%]{color:var(--color-basic-500)}.dot.selected[_ngcontent-%COMP%]{color:#fff!important}.src[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.dst[_ngcontent-%COMP%]{font-weight:500;font-size:1rem}nb-layout-column[_ngcontent-%COMP%]{padding:.2rem!important;background:var(--background-basic-color-1)!important}nb-layout-column[_ngcontent-%COMP%]{padding:0!important}  nb-sidebar{transition:width .1s}  nb-sidebar div{transition:width .1s}  nb-sidebar.menuSidebar div{top:0!important;height:100%}nb-layout-header[_ngcontent-%COMP%]{background-color:var(--background-basic-color-3)}.timeline-item[_ngcontent-%COMP%]{border-radius:3px;margin:0 auto}@keyframes _ngcontent-%COMP%_placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{animation-duration:4.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:_ngcontent-%COMP%_placeHolderShimmer;background:var(--background-basic-color-2);background:linear-gradient(to right,var(--background-basic-color-2) 8%,var(--background-basic-color-1) 18%,var(--background-basic-color-1) 33%);height:calc(var(--header-height) - 20px);position:relative}.background-masker[_ngcontent-%COMP%]{background:var(--background-alternative-color-1);opacity:.6;position:absolute;border-radius:4px}.background-masker.header-top[_ngcontent-%COMP%], .background-masker.header-bottom[_ngcontent-%COMP%], .background-masker.subheader-bottom[_ngcontent-%COMP%]{top:5px;left:40px;right:0;height:10px}.background-masker.header-left[_ngcontent-%COMP%], .background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:10px;left:40px;height:calc(var(--header-height) / 3);width:10px}.background-masker.header-bottom[_ngcontent-%COMP%]{top:calc(10px + var(--header-height) / 3);bottom:10px;height:calc(var(--header-height) / 3)}.background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:24px;height:calc(var(--header-height) / 2)}.background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{width:auto;left:300px;right:0}.background-masker.subheader-bottom[_ngcontent-%COMP%]{top:30px;height:calc(var(--header-height) / 2)}.background-masker.content-top[_ngcontent-%COMP%], .background-masker.content-second-line[_ngcontent-%COMP%], .background-masker.content-third-line[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%], .background-masker.content-first-end[_ngcontent-%COMP%]{top:40px;left:0;right:0;height:6px}.background-masker.content-top[_ngcontent-%COMP%]{height:20px}.background-masker.content-first-end[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%]{width:auto;left:380px;right:0;top:60px;height:8px}.background-masker.content-second-line[_ngcontent-%COMP%]{top:68px}.background-masker.content-second-end[_ngcontent-%COMP%]{left:420px;top:74px}.background-masker.content-third-line[_ngcontent-%COMP%]{top:82px}.background-masker.content-third-end[_ngcontent-%COMP%]{left:300px;top:88px}.lds-ripple[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid var(--background-alternative-color-2);opacity:1;border-radius:50%;animation:_ngcontent-%COMP%_lds-ripple 1s cubic-bezier(0,.2,.8,1) infinite}.lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0;left:0;width:72px;height:72px;opacity:0}}.sidebar-header[_ngcontent-%COMP%]{width:var(--sidebar-width)!important;max-width:var(--sidebar-width)!important;height:var(--header-height)!important}"]});class wi{constructor(n,e){this._document=e;const o=this._textarea=this._document.createElement("textarea"),r=o.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",o.setAttribute("aria-hidden","true"),o.value=n,o.readOnly=!0,this._document.body.appendChild(o)}copy(){const n=this._textarea;let e=!1;try{if(n){const o=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),e=this._document.execCommand("copy"),o&&o.focus()}}catch{}return e}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let ne=(()=>{class i{constructor(e){this._document=e}copy(e){const o=this.beginCopy(e),r=o.copy();return o.destroy(),r}beginCopy(e){return new wi(e,this._document)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(m.K0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ti=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();function Ai(i,n){1&i&&(t.TgZ(0,"div",3)(1,"div")(2,"div",4),t._UZ(3,"div")(4,"div"),t.qZA()()())}const Oi=function(){return{exact:!1}};function Pi(i,n){if(1&i&&(t.ynx(0),t._UZ(1,"nb-route-tabset",5),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("activeLinkOptions",t.DdM(2,Oi))("tabs",e.tabs)}}class gt{constructor(n,e,o,r){this.apiService=n,this.clipboard=e,this.toastrService=o,this.activatedRoute=r,this.tabs=[{title:"Config",route:["config"],badgeText:"23"},{title:"Integration",route:["integration"]},{title:"Builds",route:["builds"]},{title:"Findings",route:["findings"]}],this.selectedApp=this.apiService.selectedApp.pipe((0,v.h)(a=>!!a))}ngOnInit(){}getToken(n){return this.apiService.getAppToken({businessId:n?.businessId,businessName:n?.businessName,projectId:n?.projectId,projectName:n?.projectName,platformId:n?.platformId,applicationId:n?.application?.applicationId,applicationName:n?.application?.applicationName}).pipe((0,u.U)(o=>o?.data),(0,u.U)(o=>`curl --request POST http://hawki-api.indiatimes.com/stargate/api/api/v1/devsecops/getCodeSnipppet?token=${o} | sh`))}copyToCB(n){this.clipboard.copy(n),this.toastrService.success("Success","Copied to clipboard")}}function Zi(i,n){1&i&&(t.TgZ(0,"div",9),t._UZ(1,"app-config"),t.qZA())}function Ii(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"ul",10)(2,"li"),t._uU(3," Add a new build step for shell script execution in the Jenkins build job / pipeline. "),t.qZA(),t.TgZ(4,"li"),t._uU(5," Copy & paste the below code-snippet in the newly created build step. "),t.qZA(),t.TgZ(6,"div",11),t.NdJ("click",function(){const a=t.CHM(e).ngIf,l=t.oxw();return t.KtG(l.copyToCB(null==a?null:a.code_snippet))}),t.TgZ(7,"div",12)(8,"div",13)(9,"div",14)(10,"div",15)(11,"span",16),t._uU(12," Shell Script "),t.qZA(),t.TgZ(13,"button",17),t.NdJ("click",function(){const a=t.CHM(e).ngIf,l=t.oxw();return t.KtG(l.copyToCB(null==a?null:a.code_snippet))}),t._UZ(14,"nb-icon",18),t._uU(15," Copy "),t.qZA()(),t.TgZ(16,"div",19)(17,"code"),t._uU(18),t.qZA()()()()()(),t.TgZ(19,"li"),t._uU(20," Make sure the newly added build step executes at the last. "),t.qZA()()()}if(2&i){const e=n.ngIf;t.xp6(18),t.hij(" ",null==e?null:e.code_snippet," ")}}gt.\u0275fac=function(n){return new(n||gt)(t.Y36(k),t.Y36(ne),t.Y36(s.quB),t.Y36(C.gz))},gt.\u0275cmp=t.Xpm({type:gt,selectors:[["app-main-app"]],decls:5,vars:4,consts:[["loadingView",""],[1,"content"],[4,"ngIf","ngIfElse"],["fxLayoutAlign","center center",1,"content"],["fxLayoutAlign","center center",1,"lds-ripple"],[3,"activeLinkOptions","tabs"]],template:function(n,e){if(1&n&&(t.YNc(0,Ai,5,0,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.YNc(3,Pi,2,3,"ng-container",2),t.ALo(4,"async"),t.qZA()),2&n){const o=t.MAs(1);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,e.selectedApp))("ngIfElse",o)}},dependencies:[m.O5,p.Wh,s.l0$,m.Ov],styles:[".containers[_ngcontent-%COMP%]{width:0}nb-card-footer[_ngcontent-%COMP%]{padding:.3rem}.content[_ngcontent-%COMP%]{background:var(--background-basic-color-2);max-height:calc(100vh - var(--header-height));height:calc(100vh - var(--header-height));overflow-y:hidden}[_nghost-%COMP%]     ul{justify-content:end;height:var(--header-height);padding-left:1rem!important;box-shadow:0 8px 6px -6px var(--background-basic-color-1);padding-right:2rem!important}[_nghost-%COMP%]     ul li{margin-left:.5rem}"]});class ${constructor(n,e,o,r){this.apiService=n,this.nbToastrService=e,this.clipboard=o,this.nbDialogService=r,this.selectedApp=this.apiService.selectedApp.pipe((0,v.h)(a=>!!a),(0,h.w)(a=>(console.log("selectedApp",a),this.getToken(a).pipe((0,u.U)(l=>(a.code_snippet=l,a)))))),this.DEVSECOPS_ENDPOINT=ut.N.hawki_api_hostname}ngOnInit(){}editConfig(n){this.openDialog(n)}openDialog(n){this.nbDialogService.open(n,{dialogClass:"fullScreenDialog",context:{title:"Are you sure you want to delete all the tasks ?",description:"All the tasks will be lost, and you won't be able to recover them in future.    "}}).onClose.subscribe(e=>{})}getToken(n){return this.apiService.getAppToken({businessId:n?.businessId,businessName:n?.businessName,projectId:n?.projectId,projectName:n?.projectName,platformId:n?.platformId,applicationId:n?.application?.applicationId,applicationName:n?.application?.applicationName}).pipe((0,u.U)(o=>o?.data),(0,u.U)(o=>`curl --request POST -L http://${this.DEVSECOPS_ENDPOINT}/api/v1/devsecops/getCodeSnipppet?token=${o} | sh || true`))}copyToCB(n){this.clipboard.copy(n),this.nbToastrService.success("Code snipped has been copied to your clipboard!","Copied to clipboard")}}function Si(i,n){if(1&i&&(t.TgZ(0,"nb-option",29),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Fi(i,n){if(1&i&&(t.TgZ(0,"nb-option",29),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Li(i,n){1&i&&(t.ynx(0)(1),t.TgZ(2,"div",30)(3,"div",31)(4,"h6",32),t._uU(5,"Code Repository"),t.qZA()()(),t.BQk()())}function Ui(i,n){1&i&&(t.ynx(0)(1),t.TgZ(2,"div",33)(3,"div",31)(4,"h6",32),t._uU(5,"Branch"),t.qZA()()(),t.BQk()())}function Bi(i,n){1&i&&(t.ynx(0)(1),t.TgZ(2,"div",34)(3,"div",31)(4,"h6",32),t._uU(5,"Website URL "),t.qZA()()(),t.BQk()())}function Ni(i,n){1&i&&(t.ynx(0)(1),t.TgZ(2,"div",35)(3,"div",36)(4,"h6",32),t._uU(5,"Coding Language"),t.qZA()()(),t.BQk()())}function qi(i,n){1&i&&(t.ynx(0)(1),t.TgZ(2,"div",35)(3,"div",36)(4,"h6",32),t._uU(5,"Integration"),t.qZA()()(),t.BQk()())}function Ji(i,n){1&i&&t.GkF(0)}function Di(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-icon",41),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).index,a=t.oxw(2);return t.KtG(a.changeStep(r))}),t.qZA()}if(2&i){const e=t.oxw(2),o=e.index,r=e.$implicit,a=t.oxw(2);t.ekj("current_step",a.currentStep==o)("invaliid_step",null==a.scanDetails?null:a.scanDetails.get(null==r?null:r.key).invalid),t.Q6J("icon",null!=a.scanDetails&&a.scanDetails.get(null==r?null:r.key).valid?"checkmark-circle-2-outline":"close-circle-outline")}}function Qi(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"nb-icon",41),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).index,a=t.oxw(2);return t.KtG(a.changeStep(r))}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2),o=e.$implicit,r=e.index,a=t.oxw(2);t.xp6(1),t.ekj("invaliid_step",null==a.scanDetails?null:a.scanDetails.get(null==o?null:o.key).invalid)("current_step",a.currentStep==r),t.Q6J("icon",null!=a.scanDetails&&a.scanDetails.get(null==o?null:o.key).valid?"checkmark-circle-2-outline":"close-circle-outline")}}function zi(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",16),t.YNc(2,Di,1,5,"ng-template",null,39,t.W1O),t.YNc(4,Qi,2,5,"ng-container",13),t.TgZ(5,"div",18),t._uU(6),t.qZA()(),t.TgZ(7,"div",40),t._uU(8," \xa0 "),t.qZA(),t.BQk()),2&i){const e=t.MAs(3),o=t.oxw(),r=o.index,a=o.$implicit,l=t.oxw(2);t.xp6(4),t.Q6J("ngIf",l.currentStep==r)("ngIfElse",e),t.xp6(1),t.ekj("current_step_title",l.currentStep==r),t.xp6(1),t.hij(" ",null==a?null:a.alias," ")}}function Ri(i,n){if(1&i&&(t.ynx(0),t.YNc(1,zi,9,5,"ng-container",38),t.BQk()),2&i){const e=n.$implicit,o=t.oxw(2);let r;t.xp6(1),t.Q6J("ngIf",null==(null==e?null:e.depends_upon)||1==(null==o.scanDetails||null==(r=o.scanDetails.get(null==o.stepper[null==e?null:e.depends_upon]?null:o.stepper[null==e?null:e.depends_upon].key))?null:r.valid))}}function Gi(i,n){if(1&i&&t.YNc(0,Ri,2,1,"ng-container",37),2&i){const e=t.oxw();t.Q6J("ngForOf",e.stepper)}}function Ei(i,n){if(1&i){const e=t.EpF();t.ynx(0)(1),t.TgZ(2,"div",42)(3,"div",43)(4,"div",44)(5,"span",45),t._uU(6,"\xa0 Please make sure that you have provided read access permission of the code-repository to "),t.TgZ(7,"b"),t._uU(8," `whitehat` "),t.qZA(),t._uU(9," group. "),t.qZA()(),t.TgZ(10,"div",44)(11,"span",46),t._uU(12,"\xa0 Or "),t.qZA()(),t.TgZ(13,"div",44)(14,"span",45),t._uU(15,"\xa0 Add SSH Public Access key "),t.TgZ(16,"button",47),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.copySshKey())}),t._UZ(17,"nb-icon",48),t.TgZ(18,"span"),t._uU(19," Copy "),t.qZA()(),t._uU(20," to your Bitbucket Cloud repositories. "),t.qZA()()(),t.TgZ(21,"nb-form-field",49),t._UZ(22,"nb-icon",50),t.TgZ(23,"input",51),t.NdJ("keyup.enter",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.validateGitAccess())}),t.qZA(),t.TgZ(24,"button",52),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleCodeRepo())}),t._UZ(25,"nb-icon",53),t.qZA()(),t.TgZ(26,"div",31)(27,"span",46),t._uU(28),t.qZA()()(),t.BQk()()}if(2&i){const e=t.oxw(),o=t.MAs(4);t.xp6(21),t.Q6J("nbSpinner",e.disableFormChange),t.xp6(1),t.Q6J("icon",e.loadingGeneric?"refresh-outline":"checkmark-outline"),t.xp6(1),t.ekj("disabled",e.disableFormChange||e.CODE_REPOSITORY_DISABLED),t.Q6J("disabled",!0)("nbAutocomplete",o)("status",e.disableFormChange||e.CODE_REPOSITORY_DISABLED?"basic":"primary")("readonly",e.disableFormChange||e.CODE_REPOSITORY_DISABLED),t.xp6(1),t.Q6J("status",e.CODE_REPOSITORY_DISABLED?"primary":"success"),t.xp6(1),t.Q6J("icon",e.CODE_REPOSITORY_DISABLED?"edit-outline":"corner-down-left-outline"),t.xp6(3),t.hij("\xa0 ",e.code_repository_message," ")}}function $i(i,n){if(1&i&&t._UZ(0,"nb-icon",62),2&i){const e=t.oxw(3);t.Q6J("icon",e.loadingGeneric?"refresh-outline":"checkmark-outline")}}function ji(i,n){if(1&i&&t._UZ(0,"nb-icon",62),2&i){const e=t.oxw(4);t.Q6J("icon",e.loadingGeneric?"refresh-outline":"checkmark-outline")}}function Yi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",57),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.selectBranch(a))}),t.TgZ(1,"div",58),t._uU(2),t.qZA(),t.YNc(3,ji,1,1,"nb-icon",59),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw(3);t.ekj("selected",(null==o.scanDetails||null==o.scanDetails.controls||null==o.scanDetails.controls.GIT_BRANCH?null:o.scanDetails.controls.GIT_BRANCH.value)==e),t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",(null==o.scanDetails||null==o.scanDetails.controls||null==o.scanDetails.controls.GIT_BRANCH?null:o.scanDetails.controls.GIT_BRANCH.value)==e)}}function Hi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",15)(1,"button",63),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.validateGitAccess())}),t._UZ(2,"nb-icon",64),t._uU(3," Retry "),t.qZA()()}}function Vi(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",55)(2,"nb-list",56)(3,"nb-list-item",57),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.selectBranch(void 0))}),t.TgZ(4,"div",58),t._uU(5," Default "),t.qZA(),t.YNc(6,$i,1,1,"nb-icon",59),t.qZA(),t.YNc(7,Yi,4,4,"nb-list-item",60),t.qZA(),t.YNc(8,Hi,4,0,"div",61),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("nbSpinner",e.disableFormChange),t.xp6(5),t.Q6J("ngIf",""==(null==e.scanDetails||null==e.scanDetails.controls||null==e.scanDetails.controls.GIT_BRANCH?null:e.scanDetails.controls.GIT_BRANCH.value)),t.xp6(1),t.Q6J("ngForOf",e.repoBranchList),t.xp6(1),t.Q6J("ngIf",e.retryBranchFetch)}}function Wi(i,n){if(1&i&&(t.TgZ(0,"nb-list",65)(1,"nb-list-item")(2,"div",66)(3,"div",67),t._uU(4," Loading branches for repository: "),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",68),t._uU(7),t.qZA()()()()),2&i){const e=t.oxw(2);t.Q6J("nbSpinner",e.disableFormChange),t.xp6(7),t.hij(" ",null==e.scanDetails||null==e.scanDetails.controls||null==e.scanDetails.controls.GIT_URL?null:e.scanDetails.controls.GIT_URL.value," ")}}function Ki(i,n){if(1&i&&(t.ynx(0),t.YNc(1,Vi,9,4,"ng-container",13),t.YNc(2,Wi,8,2,"ng-template",null,54,t.W1O),t.BQk()),2&i){const e=t.MAs(3),o=t.oxw();t.xp6(1),t.Q6J("ngIf",!o.disableFormChange)("ngIfElse",e)}}function Xi(i,n){if(1&i){const e=t.EpF();t.ynx(0)(1),t.TgZ(2,"div",34)(3,"nb-form-field",49)(4,"input",69),t.NdJ("keyup.enter",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.validateWebsiteHealthCheck())}),t.qZA(),t.TgZ(5,"button",70),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.validateWebsiteHealthCheck())}),t._UZ(6,"nb-icon",64),t.qZA()(),t.TgZ(7,"div",31)(8,"span",46),t._uU(9),t.qZA()()(),t.BQk()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("nbSpinner",e.website_healthcheck_loading),t.xp6(1),t.Q6J("status",null!=e.scanDetails&&null!=e.scanDetails.controls&&null!=e.scanDetails.controls.APP_URL&&e.scanDetails.controls.APP_URL.valid?"primary":"danger")("readonly",e.website_healthcheck_loading),t.xp6(5),t.hij("\xa0 ",e.website_healthcheck_message," ")}}function to(i,n){if(1&i&&t._UZ(0,"nb-icon",62),2&i){const e=t.oxw(3);t.Q6J("icon",e.loadingGeneric?"refresh-outline":"checkmark-outline")}}function eo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",57),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.selectLang(a))}),t.TgZ(1,"div",58),t._uU(2),t.qZA(),t.YNc(3,to,1,1,"nb-icon",59),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.ekj("selected",(null==o.scanDetails||null==o.scanDetails.controls||null==o.scanDetails.controls.LANG_NAME?null:o.scanDetails.controls.LANG_NAME.value)==e),t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",(null==o.scanDetails||null==o.scanDetails.controls||null==o.scanDetails.controls.LANG_NAME?null:o.scanDetails.controls.LANG_NAME.value)==e)}}function no(i,n){if(1&i&&(t.ynx(0)(1),t.TgZ(2,"div",35)(3,"nb-list",71),t.YNc(4,eo,4,4,"nb-list-item",60),t.qZA()(),t.BQk()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.programming_languages)}}function io(i,n){1&i&&(t.ynx(0)(1),t._UZ(2,"app-integration"),t.BQk()())}function oo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",57),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.selectLang(a))}),t._uU(1),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.ekj("selected",(null==o.scanDetails||null==o.scanDetails.controls||null==o.scanDetails.controls.LANG_NAME?null:o.scanDetails.controls.LANG_NAME.value)==e),t.xp6(1),t.hij(" ",e," ")}}function ro(i,n){1&i&&(t.ynx(0),t.TgZ(1,"div",104),t._uU(2," \xa0 "),t.qZA(),t.TgZ(3,"div",15),t._UZ(4,"nb-icon",103),t.qZA(),t.BQk())}function ao(i,n){if(1&i&&(t.TgZ(0,"div",102)(1,"div",15),t._UZ(2,"nb-icon",103),t.qZA(),t.YNc(3,ro,5,0,"ng-container",37),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.stepper)}}function lo(i,n){if(1&i&&(t.TgZ(0,"nb-option",29),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function so(i,n){if(1&i&&(t.TgZ(0,"nb-option",29),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function co(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-body",72,73)(2,"div",74),t.ynx(3),t.TgZ(4,"div",75)(5,"nb-form-field",49)(6,"input",76),t.NdJ("keyup.enter",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.validateGitAccess())}),t.qZA(),t.TgZ(7,"button",70),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.validateGitAccess())}),t._UZ(8,"nb-icon",64),t.qZA()(),t.TgZ(9,"div",31)(10,"span",46),t._uU(11),t.qZA()()(),t.BQk(),t.ynx(12),t.TgZ(13,"div",34)(14,"nb-form-field",49)(15,"input",77,78),t.NdJ("keyup.enter",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.validateWebsiteHealthCheck())}),t.qZA(),t.TgZ(17,"button",70),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.validateWebsiteHealthCheck())}),t._UZ(18,"nb-icon",64),t.qZA()(),t.TgZ(19,"div",31)(20,"span",46),t._uU(21),t.qZA()()(),t.BQk(),t.ynx(22),t.TgZ(23,"div",35)(24,"nb-list",79),t.YNc(25,oo,2,3,"nb-list-item",60),t.qZA()(),t.BQk(),t.YNc(26,ao,4,1,"div",80),t.TgZ(27,"div",81)(28,"span"),t._uU(29," Feed in the below details devsecops mapping. "),t._UZ(30,"br"),t.TgZ(31,"strong"),t._uU(32,"Note:"),t.qZA(),t._uU(33," The changes would reflect instantly, so be extra cautious. "),t.qZA()(),t.TgZ(34,"div",81),t._UZ(35,"input",82),t.TgZ(36,"nb-autocomplete",null,0),t.YNc(38,lo,2,2,"nb-option",1),t.qZA()(),t.TgZ(39,"div",81),t._UZ(40,"input",83),t.TgZ(41,"nb-autocomplete",null,2),t.YNc(43,so,2,2,"nb-option",1),t.qZA()(),t.TgZ(44,"div",81)(45,"div",84)(46,"span",85),t._uU(47," Platform "),t.qZA()(),t.TgZ(48,"nb-select",86)(49,"nb-option",87),t._uU(50,"web"),t.qZA(),t.TgZ(51,"nb-option",88),t._uU(52,"mobile"),t.qZA()()(),t.TgZ(53,"div",81)(54,"div",84)(55,"span",85),t._uU(56," Programming Language "),t.qZA()(),t.TgZ(57,"nb-select",89)(58,"nb-option",90),t._uU(59,"java"),t.qZA(),t.TgZ(60,"nb-option",91),t._uU(61,"go"),t.qZA(),t.TgZ(62,"nb-option",92),t._uU(63,"javascript"),t.qZA(),t.TgZ(64,"nb-option",93),t._uU(65,"python"),t.qZA(),t.TgZ(66,"nb-option",94),t._uU(67,"ruby"),t.qZA(),t.TgZ(68,"nb-option",95),t._uU(69,"php"),t.qZA(),t.TgZ(70,"nb-option",96),t._uU(71,"nodejs"),t.qZA(),t.TgZ(72,"nb-option",97),t._uU(73,"django"),t.qZA(),t.TgZ(74,"nb-option",98),t._uU(75,"flask"),t.qZA(),t.TgZ(76,"nb-option",99),t._uU(77,"react"),t.qZA()()(),t.TgZ(78,"div",100)(79,"div",84)(80,"span",85),t._uU(81," Deployment Time "),t.qZA()(),t._UZ(82,"input",101),t.qZA()()()}if(2&i){const e=t.MAs(37),o=t.MAs(42),r=t.oxw();t.Q6J("formGroup",r.scanDetails),t.xp6(5),t.Q6J("nbSpinner",r.disableFormChange),t.xp6(1),t.Q6J("status",null!=r.scanDetails&&null!=r.scanDetails.controls&&null!=r.scanDetails.controls.GIT_URL&&r.scanDetails.controls.GIT_URL.valid?"primary":"danger")("readonly",r.disableFormChange),t.xp6(5),t.hij("\xa0 ",r.code_repository_message," "),t.xp6(3),t.Q6J("nbSpinner",r.website_healthcheck_loading),t.xp6(1),t.Q6J("nbAutocomplete",e)("status",null!=r.scanDetails&&null!=r.scanDetails.controls&&null!=r.scanDetails.controls.APP_URL&&r.scanDetails.controls.APP_URL.valid?"primary":"danger")("readonly",r.website_healthcheck_loading),t.xp6(6),t.hij("\xa0 ",r.website_healthcheck_message," "),t.xp6(4),t.Q6J("ngForOf",r.programming_languages),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(9),t.Q6J("nbAutocomplete",e)("status",null!=r.scanDetails&&null!=r.scanDetails.controls&&null!=r.scanDetails.controls.APP_URL&&r.scanDetails.controls.APP_URL.valid?"primary":"danger")("placeholder","Application URL (e.g. http://hawki.indiatimes.com/)"),t.xp6(3),t.Q6J("ngForOf",null==r.appSuggestions?null:r.appSuggestions.APP_URL),t.xp6(2),t.Q6J("nbAutocomplete",o)("status",null!=r.scanDetails&&null!=r.scanDetails.controls&&null!=r.scanDetails.controls.GIT_URL&&r.scanDetails.controls.GIT_URL.valid?"primary":"danger")("placeholder","Git Repo URL (e.g. git@bitbucket.org:times_internet/hawkeye-ui.git)"),t.xp6(3),t.Q6J("ngForOf",null==r.appSuggestions?null:r.appSuggestions.GIT_URL),t.xp6(5),t.Q6J("status",null!=r.scanDetails&&null!=r.scanDetails.controls&&null!=r.scanDetails.controls.APP_TYPE&&r.scanDetails.controls.APP_TYPE.valid?"primary":"danger"),t.xp6(9),t.Q6J("status",null!=r.scanDetails&&null!=r.scanDetails.controls&&null!=r.scanDetails.controls.LANG_NAME&&r.scanDetails.controls.LANG_NAME.valid?"primary":"danger"),t.xp6(25),t.Q6J("status",null!=r.scanDetails&&null!=r.scanDetails.controls&&null!=r.scanDetails.controls.DEP_TIME&&r.scanDetails.controls.DEP_TIME.valid?"primary":"danger")("placeholder","Deployment Time (e.g. 100)")}}function po(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",105),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.saveScanDetails())}),t.TgZ(1,"span"),t._uU(2," Save "),t.qZA(),t._UZ(3,"nb-icon",106),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("disabled",0==e.currentStep)}}$.\u0275fac=function(n){return new(n||$)(t.Y36(k),t.Y36(s.quB),t.Y36(ne),t.Y36(s.Gln))},$.\u0275cmp=t.Xpm({type:$,selectors:[["app-integration"]],decls:14,vars:3,consts:[["editConfigTemplate",""],["fxFill","",2,"padding","2rem"],["fxFlex","1 1"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start center",1,"h5"],["disabled","","outline","","size","medium","status","success","nbButton","",3,"click"],["icon","sun-outline"],["fxLayoutAlign","center center"],[4,"ngIf"],["fxFlex",""],[1,"live"],[1,"_item",3,"click"],[1,"mb-n7","text-left","rules","col","col-12"],[1,"ml-5"],["fxLayout","column",1,"main"],["fxLayoutAlign","start center",1,"btn"],["fxFlex","",1,"codetitle",2,"font-size","1.2rem"],["size","tiny","status","warning","nbButton","","outline","",3,"click"],["icon","copy-outline"],["fxFill","",1,"rows"]],template:function(n,e){if(1&n){const o=t.EpF();t.YNc(0,Zi,2,0,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1)(3,"nb-card",2)(4,"nb-card-header",3)(5,"div",4),t._uU(6," Integration Guides "),t.qZA(),t.TgZ(7,"div")(8,"button",5),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(1);return t.KtG(e.editConfig(a))}),t._UZ(9,"nb-icon",6),t._uU(10," Setup "),t.qZA()()(),t.TgZ(11,"nb-card-body",7),t.YNc(12,Ii,21,1,"div",8),t.ALo(13,"async"),t.qZA()()()}2&n&&(t.xp6(12),t.Q6J("ngIf",t.lcZ(13,1,e.selectedApp)))},styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:center}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#fff;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem;margin:40px}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%], ._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 20px 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}']});const uo=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?|^((http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;var j=(()=>{return(i=j||(j={}))[i.GIT_URL=0]="GIT_URL",i[i.GIT_BRANCH=1]="GIT_BRANCH",i[i.APP_URL=2]="APP_URL",i[i.LANG=3]="LANG",i[i.INTEGRATION=4]="INTEGRATION",j;var i})();class Y{toggleCodeRepo(){this.CODE_REPOSITORY_DISABLED||this.validateGitAccess(),this.CODE_REPOSITORY_DISABLED=!this.CODE_REPOSITORY_DISABLED}copySshKey(){this.clipboard.copy("ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC1Bkdt4M4kJ8K01EUxyY3c/pBCPj8ForBIQs7Up9VaWaKpJ6HqY8Z14k5KnN8T3tu2G0EOP2TQ3PIHDhQBJaU6xpEbqmYk4VCb30uRBUjfOz4xJSPqVl8DcpU7USupSSFqJMWXj4YLjVmMQTq1vA/MFAuVlpTuDOy86AnqIbq6mw4vrUpZoZegozg/jA4NzaXkQTEOYI92fWC6w1YznynFQNQtI+aXp33LhzgUGTYFLTDD7/ueINjlu5PAc2Rle8+tQ7cUxBC9xKUxzTC2+NI9PIlh6LJCiogESjLUXouNw5f7lmkIhmr9NdE3I/i1D2E6Oefgxnk9iAjbYIkl6GNv prakhar.agnihotri@prakharagnihotri.local"),this.nbToastrService.primary("Copied to clipboard!","SSH Public Key")}changeStep(n){switch(n){case 0:this.currentStep=j.GIT_URL;break;case 1:this.currentStep=j.GIT_BRANCH;break;case 2:this.currentStep=j.APP_URL;break;case 3:this.currentStep=j.LANG;break;case 4:this.currentStep=j.INTEGRATION}}branchValidator(n){return this.repoBranchList.includes(n.value)?null:{error:"Invalid Branch"}}constructor(n,e,o,r,a){this.apiService=n,this.activatedRoute=e,this.router=o,this.clipboard=r,this.nbToastrService=a,this.CODE_REPOSITORY_DISABLED=!0,this.REPOSITORY_BRANCH_DISABLED=!0,this.WEBSITE_URL_DISABLED=!0,this.CODING_LANG_DISABLED=!0,this.StepTypeEnum=j,this.currentStep=j.GIT_URL,this.code_repository_message="",this.website_healthcheck_message="",this.repoBranchList=[],this.disableFormChange=!1,this.stepper=[{key:"GIT_URL",alias:"1.Code Repository"},{key:"GIT_BRANCH",alias:"2.Repository Branch",depends_upon:0},{key:"APP_URL",alias:"3.Webapp URL"},{key:"LANG_NAME",alias:"4.Programming Lang."}],this.appDetails={businessId:"",businessName:"",projectId:"",projectName:"",platformId:"",platformName:"",applicationId:"",applicationName:""},this.programming_languages=["java","go","javascript","python","ruby","php","nodejs","django","flask","react","Other"],this.scan_details_default={APP_URL:"",APP_TYPE:"",LANG_NAME:"",GIT_URL:"",GIT_BRANCH:"",DEP_TIME:""},this.scanDetails=new d.cw({GIT_URL:new d.NI("",{validators:[d.kI.required]}),GIT_BRANCH:new d.NI("",{validators:[this.branchValidator.bind(this)]}),APP_URL:new d.NI("",{validators:[d.kI.pattern(uo),d.kI.required]}),APP_TYPE:new d.NI("",{validators:[d.kI.required]}),LANG_NAME:new d.NI("",{validators:[d.kI.required]}),DEP_TIME:new d.NI("",{validators:[d.kI.required,d.kI.pattern("^[0-9]*$")]})}),this.integrationProgress=this.scanDetails.valueChanges.pipe((0,u.U)(l=>({progress:"10%"}))).subscribe(),this.scan_details={APP_URL:"",APP_TYPE:"",LANG_NAME:"",GIT_URL:"",DEP_TIME:""},this.appSuggestions={GIT_URL:[],APP_URL:[]},this.giturl_loading=!1,this.website_healthcheck_loading=!1,this.loadingGeneric=!1,this.retryBranchFetch=!1}getRemoteDetails(){}ngOnInit(){this.giturl_loading=!0,this.apiService.selectedApp.subscribe(n=>{if(this.appDetails.businessId=n?.businessId,this.appDetails.businessName=n?.businessName,this.appDetails.projectId=n?.projectId,this.appDetails.projectName=n?.projectName,this.appDetails.platformId=n?.platformId,this.appDetails.platformName=n?.platformName,this.appDetails.applicationId="",this.appDetails.applicationName="",this.scanDetails.reset(),this.appSuggestions={GIT_URL:[],APP_URL:[]},this.appSuggestions=n?.appSuggestions,n?.application&&(this.appDetails.applicationId=n?.application?.applicationId,this.appDetails.applicationName=n?.application?.applicationName,n?.application?.scan_data)){let o={...this.scan_details_default,...n?.application?.scan_data};this.scanDetails.setValue(o),this.validateGitAccess()}this.giturl_loading=!1})}saveScanDetails(){this.apiService.addDevsecopsScanDetails(this.appDetails,this.scanDetails.value).pipe((0,_.b)(n=>{this.loadingGeneric=!0})).subscribe(n=>{this.loadingGeneric=!1})}validateWebsiteHealthCheck(){console.log(this.scanDetails.value);let n=this.scanDetails.get("APP_URL").value;this.website_healthcheck_loading=!0,this.website_healthcheck_message="Checking access to website",this.apiService.healthcheck(n).subscribe(e=>{this.website_healthcheck_loading=!1,this.website_healthcheck_message="Status Code:"+e?.data})}validateGitAccess(){this.retryBranchFetch=!1;let n=this.scanDetails.get("GIT_URL").value;this.disableFormChange=!0,this.code_repository_message="Validating access to code repository.",this.apiService.lsremote(n).pipe((0,u.U)(e=>{let o=[];if(1!=e?.status)throw Error("Unauthenticated access. Make sure that `whitehat` group has read permission for this repository.");return o=Object.keys(e?.data),o}),(0,u.U)(e=>e.map(o=>o.split("/").pop()))).subscribe(e=>{this.repoBranchList=e,this.disableFormChange=!1,this.code_repository_message="",this.scanDetails.get("GIT_BRANCH").updateValueAndValidity(),this.scanDetails.markAsTouched()},e=>{this.repoBranchList=[],console.error("failed"),this.disableFormChange=!1,this.code_repository_message=e,this.scanDetails.get("GIT_BRANCH").updateValueAndValidity(),this.scanDetails.markAsTouched(),this.retryBranchFetch=!0})}selectLang(n){this.scanDetails.get("LANG_NAME").setValue(n),this.saveScanDetails()}selectBranch(n){this.scanDetails.get("GIT_BRANCH").setValue(n),this.saveScanDetails()}nextStep(){this.currentStep<this.stepper.length-1&&(this.currentStep+=1)}previousStep(){this.currentStep>0&&(this.currentStep-=1)}}Y.\u0275fac=function(n){return new(n||Y)(t.Y36(k),t.Y36(C.gz),t.Y36(C.F0),t.Y36(ne),t.Y36(s.quB))},Y.\u0275cmp=t.Xpm({type:Y,selectors:[["app-config"]],decls:53,vars:26,consts:[["autoWebUrl",""],[3,"value",4,"ngFor","ngForOf"],["autoGitUrl",""],["fxFill","","fxFlex","0 1 900px",1,"_mainRemain"],["nbSpinnerStatus","danger","fxLayout","row",2,"padding","0px"],["fxLayoutAlign","center center","fxFlex",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["fxLayoutGap","10px","outline","","size","small","nbButton","","status","basic",2,"text-transform","capitalize","margin-right","20px !important",3,"click"],["icon","info-outline"],["fxLayoutGap","50px","fxLayoutAlign","center center","nbSpinnerStatus","danger","fxLayout","row",3,"formGroup"],["fxLayout","row","fxFlex","0 1 900px"],["fxFlex","","fxLayoutAlign","center center","fxLayout","row",2,"height","4rem"],[4,"ngIf","ngIfElse"],["stepperTemplate",""],["fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center center",2,"margin-top","0.0rem"],["icon","message-square-outline","status","primary",1,"dot",3,"click"],[1,"caption-2",2,"text-align","center"],["fxLayoutAlign","end center","nbSpinnerStatus","danger","fxLayout","row"],["fxLayoutAlign","center start",3,"formGroup"],["fxLayoutAlign","center","fxFlex","0 1 900px",2,"align-self","center"],["nbSpinnerStatus","danger",3,"formGroup",4,"ngIf"],["fxLayoutAlign","end","fxLayoutGap","1rem","fxFlex",""],["fxLayoutGap","1rem","outline","","size","medium","nbButton","","status","basic",2,"text-transform","capitalize",3,"disabled","click"],["icon","chevron-left-outline"],["outline","","size","medium","nbButton","","status","primary",2,"text-transform","capitalize",3,"disabled","click"],["icon","chevron-right-outline"],["fxLayoutGap","1rem","outline","","style","text-transform:capitalize;","size","medium","nbButton","","status","success",3,"disabled","click",4,"ngIf"],[3,"value"],["fxFlex","","fxLayout","column","fxLayoutAlign","center start"],["fxLayoutAlign","center  center"],[1,"title"],["fxFlex","","fxLayoutAlign","center center","fxLayout","column",1,"cardbody",2,"justify-content","center"],["fxFlex","","fxLayout","column","fxLayoutAlign","center center",2,"justify-content","center"],["fxFlex","","fxLayoutAlign","center center","fxLayout","column",1,"cardbody"],["fxFlex","","fxLayoutAlign","center  center"],[4,"ngFor","ngForOf"],[4,"ngIf"],["defaultIconTemplate",""],["fxFlex","1 1 100%",1,"horizontal_line"],["status","primary",1,"dot",3,"icon","click"],["fxLayoutGap","2rem","fxLayout","column","fxLayoutAlign","center center"],["fxLayoutGap","1rem","fxLayout","column","fxLayoutAlign","center  center"],["fxLayoutAlign","center  center","fxFlex",""],[1,"caption-2","text-basic",2,"font-size","1rem","font-weight","500","margin-top","0.0rem"],[1,"caption-2",2,"font-size","1rem","font-weight","500","margin-top","0.0rem"],["size","tiny","nbButton","","filled","","status","basic","outline","",2,"text-transform","capitalize",3,"click"],["icon","copy-outline"],["nbSpinnerStatus","danger",3,"nbSpinner"],["nbPrefix","","status","basic",3,"icon"],["fullWidth","","type","text","nbInput","","fieldSize","giant","formControlName","GIT_URL","placeholder","git@bitbucket.org:times_internet/hawkeye-api.git",3,"disabled","nbAutocomplete","status","readonly","keyup.enter"],["size","small","nbSuffix","","nbButton","","filled","",3,"status","click"],[3,"icon"],["loadingBranches",""],["fxFlex","01 1 500px","fxLayoutAlign","center center","fxLayoutGap","20px","fxLayout","column",1,"cardbody",3,"nbSpinner"],["fxLayout","column",2,"max-height","500px"],[3,"click"],["fxFlex",""],["class","loading-icon",3,"icon",4,"ngIf"],[3,"selected","click",4,"ngFor","ngForOf"],["fxLayoutAlign","center center",4,"ngIf"],[1,"loading-icon",3,"icon"],["nbSuffix","","nbButton","","filled","","status","danger",2,"text-transform","capitalize",3,"click"],["icon","refresh-outline"],["fxLayout","column",3,"nbSpinner"],["fxLayout","column","fxLayoutGap","2rem","fxFlex",""],["fxLayoutAlign","center center",1,"title"],["fxLayoutAlign","center center",1,"subtitle"],["fullWidth","","type","text","nbInput","","fieldSize","giant","formControlName","APP_URL","placeholder","http://hawki.indiatimes.com",3,"status","readonly","keyup.enter"],["nbSuffix","","nbButton","","filled","","status","primary",3,"click"],["fxLayout","column",2,"max-width","500px","width","100%","max-height","500px"],["nbSpinnerStatus","danger",3,"formGroup"],["overlayHost",""],["fxLayout","column"],["fxLayout","column","fxLayoutAlign","center center"],["fullWidth","","type","text","nbInput","","fieldSize","giant","formControlName","GIT_URL","placeholder","git@bitbucket.org:times_internet/hawkeye-api.git",3,"status","readonly","keyup.enter"],["scrollStrategy","close","fullWidth","","type","text","nbInput","","fieldSize","giant","formControlName","APP_URL","placeholder","http://hawki.indiatimes.com",3,"nbAutocomplete","status","readonly","keyup.enter"],["websiteInp",""],["fxLayout","column",2,"max-width","500px","width","100%"],["fxFlex","","fxLayoutAlign","center center","fxLayout","row",4,"ngIf"],[1,"row"],["type","text","fullWidth","","nbInput","","fieldSize","small","formControlName","APP_URL",3,"nbAutocomplete","status","placeholder"],["type","text","fullWidth","","nbInput","","fieldSize","small","formControlName","GIT_URL",3,"nbAutocomplete","status","placeholder"],[1,"label"],[1,"caption-2"],["size","small","fullWidth","","placeholder","--Select App Type--","formControlName","APP_TYPE",3,"status"],["value","web"],["value","mobile"],["size","small","formControlName","LANG_NAME","fullWidth","","placeholder","Language Used",3,"status"],["value","java"],["value","go"],["value","javascript"],["value","python"],["value","ruby"],["value","php"],["value","nodejs"],["value","django"],["value","flask"],["value","react"],["fxLayoutGap","1rem",1,"row"],["type","number","type","text","fullWidth","","nbInput","","fieldSize","small","formControlName","DEP_TIME",3,"status","placeholder"],["fxFlex","","fxLayoutAlign","center center","fxLayout","row"],["status","success","icon","checkmark-circle-2-outline",1,"dot"],["fxFlex","",1,"horizontal_line"],["fxLayoutGap","1rem","outline","","size","medium","nbButton","","status","success",2,"text-transform","capitalize",3,"disabled","click"],["icon","sync-outline"]],template:function(n,e){if(1&n&&(t.TgZ(0,"nb-autocomplete",null,0),t.YNc(2,Si,2,2,"nb-option",1),t.qZA(),t.TgZ(3,"nb-autocomplete",null,2),t.YNc(5,Fi,2,2,"nb-option",1),t.qZA(),t.TgZ(6,"nb-card",3)(7,"nb-card-header",4)(8,"div",5),t.ynx(9,6),t.YNc(10,Li,6,0,"ng-container",7),t.YNc(11,Ui,6,0,"ng-container",7),t.YNc(12,Bi,6,0,"ng-container",7),t.YNc(13,Ni,6,0,"ng-container",7),t.YNc(14,qi,6,0,"ng-container",7),t.BQk(),t.TgZ(15,"button",8),t.NdJ("click",function(){return e.saveScanDetails()}),t.TgZ(16,"span"),t._uU(17," Save "),t.qZA(),t._UZ(18,"nb-icon",9),t.qZA()()(),t.TgZ(19,"nb-card-header",10)(20,"div",11)(21,"div",12),t.YNc(22,Ji,1,0,"ng-container",13),t.YNc(23,Gi,1,1,"ng-template",null,14,t.W1O),t.TgZ(25,"div",15)(26,"div",16)(27,"nb-icon",17),t.NdJ("click",function(){return e.changeStep(4)}),t.qZA(),t.TgZ(28,"div",18),t._uU(29," Integration Guide "),t.qZA()()()()()(),t.TgZ(30,"nb-card-header",19)(31,"nb-toggle"),t._uU(32,"Toggle with FormControl"),t.qZA()(),t.TgZ(33,"nb-card-body",20)(34,"div",21),t.ynx(35,6),t.YNc(36,Ei,29,11,"ng-container",7),t.YNc(37,Ki,4,2,"ng-container",7),t.YNc(38,Xi,10,4,"ng-container",7),t.YNc(39,no,5,1,"ng-container",7),t.YNc(40,io,3,0,"ng-container",7),t.BQk(),t.qZA()(),t.YNc(41,co,83,24,"nb-card-body",22),t.TgZ(42,"nb-card-footer")(43,"div",23)(44,"button",24),t.NdJ("click",function(){return e.previousStep()}),t._UZ(45,"nb-icon",25),t.TgZ(46,"span"),t._uU(47," Back "),t.qZA()(),t.TgZ(48,"button",26),t.NdJ("click",function(){return e.nextStep()}),t.TgZ(49,"span"),t._uU(50," Next "),t.qZA(),t._UZ(51,"nb-icon",27),t.qZA()(),t.YNc(52,po,4,1,"button",28),t.qZA()()),2&n){const o=t.MAs(24);t.xp6(2),t.Q6J("ngForOf",null==e.appSuggestions?null:e.appSuggestions.APP_URL),t.xp6(3),t.Q6J("ngForOf",null==e.appSuggestions?null:e.appSuggestions.GIT_URL),t.xp6(4),t.Q6J("ngSwitch",e.currentStep),t.xp6(1),t.Q6J("ngSwitchCase",e.StepTypeEnum.GIT_URL),t.xp6(1),t.Q6J("ngSwitchCase",e.StepTypeEnum.GIT_BRANCH),t.xp6(1),t.Q6J("ngSwitchCase",e.StepTypeEnum.APP_URL),t.xp6(1),t.Q6J("ngSwitchCase",e.StepTypeEnum.LANG),t.xp6(1),t.Q6J("ngSwitchCase",e.StepTypeEnum.INTEGRATION),t.xp6(5),t.Q6J("formGroup",e.scanDetails),t.xp6(3),t.Q6J("ngIf",e.currentStep==e.StepTypeEnum.INTEGRATION)("ngIfElse",o),t.xp6(5),t.ekj("invaliid_step",null==e.scanDetails?null:e.scanDetails.invalid)("current_step",4==e.currentStep),t.xp6(6),t.Q6J("formGroup",e.scanDetails),t.xp6(2),t.Q6J("ngSwitch",e.currentStep),t.xp6(1),t.Q6J("ngSwitchCase",e.StepTypeEnum.GIT_URL),t.xp6(1),t.Q6J("ngSwitchCase",e.StepTypeEnum.GIT_BRANCH),t.xp6(1),t.Q6J("ngSwitchCase",e.StepTypeEnum.APP_URL),t.xp6(1),t.Q6J("ngSwitchCase",e.StepTypeEnum.LANG),t.xp6(1),t.Q6J("ngSwitchCase",e.StepTypeEnum.INTEGRATION),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(3),t.Q6J("disabled",0==e.currentStep),t.xp6(4),t.Q6J("disabled",e.currentStep==e.stepper.length-1),t.xp6(4),t.Q6J("ngIf",!1)}},dependencies:[m.sg,m.O5,m.RF,m.n9,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.yKW,s.XWE,s.ndF,s.h8i,s.zP_,s.qBV,s.rs,s.q51,d.Fj,d.JJ,d.JL,d.sg,d.u,s.jBG,s.t3q,s.yyc,s.Q7R,s.Xh,s.wNd,s.BLq,$],styles:[".caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.row[_ngcontent-%COMP%]{padding-bottom:1rem;padding-right:1rem;padding-left:1rem;margin:1rem}[_nghost-%COMP%]{justify-content:center}nb-step[_ngcontent-%COMP%]{height:100%}.nb-stepper[_ngcontent-%COMP%]{background-color:#000!important;padding:60px 0 0;border-radius:0!important}nb-stepper[_ngcontent-%COMP%]{padding:2rem!important}.disabled[_ngcontent-%COMP%]{color:var(--text-disabled-color)}.horizontal_line[_ngcontent-%COMP%]{height:2px;align-self:start;margin-top:1rem;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.dot[_ngcontent-%COMP%]{font-size:2.3rem;font-weight:300;transition-duration:.4s;line-height:3rem;height:3rem}.dot[_ngcontent-%COMP%]:hover{color:var(--color-success-hover);font-size:2.8rem}.dot.invaliid_step[_ngcontent-%COMP%]{color:var(--color-danger-active)!important;font-size:2.3rem;transition-duration:1s}.dot.current_step[_ngcontent-%COMP%]{color:var(--color-success-active);font-size:3rem;transition-duration:1s}.current_step_title[_ngcontent-%COMP%]{color:var(--color-basic-active)!important;font-weight:750!important}h6[_ngcontent-%COMP%]{color:var(--color-basic-400);font-weight:300;font-size:1.4rem}.title[_ngcontent-%COMP%]{margin:1rem}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4);padding:1rem}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}nb-card-body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}nb-card-footer[_ngcontent-%COMP%]{padding:1rem!important}nb-form-field[_ngcontent-%COMP%]{width:100%}nb-list[_ngcontent-%COMP%]{width:100%;border-radius:10px}nb-card[_ngcontent-%COMP%]{margin:0}input[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{margin:0!important}.loading-icon[_ngcontent-%COMP%]{font-weight:700}"]});var le=x(3099);function _o(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"button",4),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggle("info"))}),t.TgZ(3,"div",5),t._uU(4," Info "),t.qZA(),t.TgZ(5,"div",6),t._uU(6),t.qZA()(),t.TgZ(7,"button",7),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggle("low"))}),t.TgZ(8,"div",5),t._uU(9," Low "),t.qZA(),t.TgZ(10,"div",6),t._uU(11),t.qZA()(),t.TgZ(12,"button",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggle("medium"))}),t.TgZ(13,"div",5),t._uU(14," Medium "),t.qZA(),t.TgZ(15,"div",6),t._uU(16),t.qZA()(),t.TgZ(17,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggle("high"))}),t.TgZ(18,"div",5),t._uU(19," High "),t.qZA(),t.TgZ(20,"div",6),t._uU(21),t.qZA()(),t.TgZ(22,"button",10),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggle("critical"))}),t.TgZ(23,"div",5),t._uU(24," Critical "),t.qZA(),t.TgZ(25,"div",6),t._uU(26),t.qZA()()()()}if(2&i){const e=n.ngIf,o=t.oxw(2);t.xp6(1),t.Q6J("nbSpinner",!e),t.xp6(1),t.Q6J("appearance",o.info_status?"outline":"ghost")("disabled",!e||"0"==(null==e?null:e.info)),t.xp6(4),t.hij(" ",null==e?null:e.info," "),t.xp6(1),t.Q6J("disabled",!e||"0"==(null==e?null:e.low))("appearance",o.low_status?"outline":"ghost"),t.xp6(4),t.hij(" ",null==e?null:e.low," "),t.xp6(1),t.Q6J("disabled",!e||"0"==(null==e?null:e.medium))("appearance",o.medium_status?"outline":"ghost"),t.xp6(4),t.hij(" ",null==e?null:e.medium," "),t.xp6(1),t.Q6J("disabled",!e||"0"==(null==e?null:e.high))("appearance",o.high_status?"outline":"ghost"),t.xp6(4),t.hij(" ",null==e?null:e.high," "),t.xp6(1),t.Q6J("disabled",!e||"0"==(null==e?null:e.critical))("appearance",o.critical_status?"outline":"ghost"),t.xp6(4),t.hij(" ",null==e?null:e.critical," ")}}function go(i,n){if(1&i&&(t.ynx(0),t.YNc(1,_o,27,16,"div",1),t.ALo(2,"async"),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.findingStats))}}function mo(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"span",16),t._uU(4),t.qZA()(),t.TgZ(5,"div",17),t._uU(6," Info "),t.qZA()(),t.TgZ(7,"div",14)(8,"div",18)(9,"span",16),t._uU(10),t.qZA()(),t.TgZ(11,"div",19),t._uU(12," Low "),t.qZA()(),t.TgZ(13,"div",14)(14,"div",20)(15,"span",16),t._uU(16),t.qZA()(),t.TgZ(17,"div",21),t._uU(18," Medium "),t.qZA()(),t.TgZ(19,"div",14)(20,"div",22)(21,"span",16),t._uU(22),t.qZA()(),t.TgZ(23,"div",23),t._uU(24," High "),t.qZA()(),t.TgZ(25,"div",14)(26,"div",24)(27,"span",16),t._uU(28),t.qZA()(),t.TgZ(29,"div",25),t._uU(30," Critical "),t.qZA()()()),2&i){const e=n.ngIf;t.xp6(4),t.hij(" ",null==e?null:e.info," "),t.xp6(6),t.hij(" ",null==e?null:e.low," "),t.xp6(6),t.hij(" ",null==e?null:e.medium," "),t.xp6(6),t.hij(" ",null==e?null:e.high," "),t.xp6(6),t.hij(" ",null==e?null:e.critical," ")}}function fo(i,n){1&i&&(t.TgZ(0,"div",26)(1,"div",17)(2,"span",27),t._uU(3," Info "),t.qZA()(),t.TgZ(4,"div",19)(5,"span",27),t._uU(6," Low "),t.qZA()(),t.TgZ(7,"div",21)(8,"span",27),t._uU(9," Medium "),t.qZA()(),t.TgZ(10,"div",23)(11,"span",27),t._uU(12," High "),t.qZA()(),t.TgZ(13,"div",25)(14,"span",27),t._uU(15," Critical "),t.qZA()()())}function ho(i,n){if(1&i&&(t.ynx(0),t.YNc(1,mo,31,5,"div",11),t.ALo(2,"async"),t.YNc(3,fo,16,0,"div",12),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.findingStats)),t.xp6(2),t.Q6J("ngIf",!1)}}class mt{constructor(n){this.apiService=n,this.info_status=!0,this.low_status=!0,this.medium_status=!0,this.high_status=!0,this.critical_status=!0,this.interactive=!0,this.theme=0,this._findingStats={info:"0",low:"0",medium:"0",high:"0",critical:"0"},this.findingStats=(0,D.a)([this.apiService.selectedBuildId,this.apiService.selectedApp.pipe((0,u.U)(e=>e?.identifier),(0,v.h)(e=>!!e))]).pipe((0,v.h)(e=>!e.includes(void 0)),(0,h.w)(e=>(console.log("findingStats",e),this.apiService.getFindingStats({$oid:e[1]},{$oid:e[0]}))),(0,_.b)(e=>{this.totalFindings=e,console.log("tapper",e)}),(0,le.B)()),this.totalFindings={},this.severityFilter=new F.X({Info:this.info_status,Low:this.low_status,Medium:this.medium_status,High:this.high_status,Critical:this.critical_status,TotalIssues:0})}ngOnInit(){this.totalFindings={}}toggle(n){if(0!=this.interactive){switch(n){case"info":this.info_status=!this.info_status;break;case"low":this.low_status=!this.low_status;break;case"medium":this.medium_status=!this.medium_status;break;case"high":this.high_status=!this.high_status;break;case"critical":this.critical_status=!this.critical_status}this.severityFilter.next({Info:this.info_status,Low:this.low_status,Medium:this.medium_status,High:this.high_status,Critical:this.critical_status,TotalIssues:0})}}}function bo(i,n){if(1&i&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" Took ",null==e?null:e.time_taken," seconds ")}}function xo(i,n){if(1&i&&(t.TgZ(0,"div",3)(1,"div",4),t._uU(2),t.qZA(),t.TgZ(3,"div",4),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,bo,2,1,"div",5),t.qZA()),2&i){const e=n.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.title," "),t.xp6(2),t.hij(" ",t.lcZ(5,3,null==e||null==e.ts?null:e.ts.$date)," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.time_taken)}}function vo(i,n){if(1&i&&(t.ynx(0),t._UZ(1,"div",9),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.ekj("fail",0==(null==e?null:e.state))("primary",null==(null==e?null:e.state))("success",1==(null==e?null:e.state))}}function Co(i,n){if(1&i&&(t.ynx(0),t.YNc(1,vo,2,6,"ng-container",6),t.TgZ(2,"div",7),t._UZ(3,"nb-icon",8),t.qZA(),t.BQk()),2&i){const e=n.$implicit,o=n.index;t.oxw();const r=t.MAs(1);t.xp6(1),t.Q6J("ngIf",0!=o),t.xp6(2),t.ekj("spin",1!=(null==e?null:e.state)),t.Q6J("nbPopoverContext",e)("nbPopover",null!=e&&e.ts?r:null)("status",1==(null==e?null:e.state)?"success":"danger")("icon",1==(null==e?null:e.state)?"checkmark-circle-2-outline":"close-circle-outline")}}mt.\u0275fac=function(n){return new(n||mt)(t.Y36(k))},mt.\u0275cmp=t.Xpm({type:mt,selectors:[["app-finding-stats"]],inputs:{interactive:"interactive",theme:"theme",_findingStats:["findingStats","_findingStats"]},outputs:{severityFilter:"severityFilter"},decls:2,vars:2,consts:[[4,"ngIf"],["fxLayout","column",4,"ngIf"],["fxLayout","column"],["nbSpinnerStatus","danger","fxLayoutGap","5px","fxFlex","","id","bar-container",3,"nbSpinner"],["fxLayout","column","status","basic","nbButton","","size","small","fxFlex","","id","bar-info",3,"appearance","disabled","click"],[1,"field_name"],[1,"field_value"],["fxLayout","column","status","info","nbButton","","size","small","fxFlex","","id","bar-low",3,"disabled","appearance","click"],["fxLayout","column","status","primary","nbButton","","size","small","fxFlex","","id","bar-medium",3,"disabled","appearance","click"],["fxLayout","column","status","warning","nbButton","","size","small","fxFlex","","id","bar-high",3,"disabled","appearance","click"],["fxLayout","column","status","danger","nbButton","","size","small","fxFlex","","id","bar-critical",3,"disabled","appearance","click"],["style","justify-self: center;","fxFlex","0 1 900px","fxLayout","row-reverse ",4,"ngIf"],["fxLayoutGap","20px",4,"ngIf"],["fxFlex","0 1 900px","fxLayout","row-reverse ",2,"justify-self","center"],["fxFlex.lt-lg","50","fxFlex","30","fxLayout","column"],["fxFlex","",1,"box","box1"],["fxFlex","","fxLayoutAlign","center center",1,"font-size:","30vmin;"],["fxLayoutAlign","center center","fxFlex","",1,"textbox","select_heading","box1"],["fxFlex","",1,"box","box2"],["fxLayoutAlign","center center","fxFlex","",1,"textbox","select_heading","box2"],["fxFlex","",1,"box","box3"],["fxLayoutAlign","center center","fxFlex","",1,"textbox","select_heading","box3"],["fxFlex","",1,"box","box4"],["fxLayoutAlign","center center","fxFlex","",1,"textbox","select_heading","box4"],["fxFlex","",1,"box","box5"],["fxLayoutAlign","center center","fxFlex","",1,"textbox","select_heading","box5"],["fxLayoutGap","20px"],[1,"textMargin"]],template:function(n,e){1&n&&(t.YNc(0,go,3,3,"ng-container",0),t.YNc(1,ho,4,4,"ng-container",0)),2&n&&(t.Q6J("ngIf",0==e.theme),t.xp6(1),t.Q6J("ngIf",1==e.theme))},dependencies:[m.O5,p.xw,p.SQ,p.Wh,p.yH,s.DPz,s.Q7R,m.Ov],styles:['div[_ngcontent-%COMP%]{text-transform:capitalize!important}.field_name[_ngcontent-%COMP%]{font-size:15px;font-weight:400;margin-left:5px;margin-right:5px}.field_value[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:13px}#bar-container[_ngcontent-%COMP%]{height:40px;background-color:var(--select-outline-basic-background-color);border-color:var(--select-outline-basic-border-color);color:var(--select-outline-basic-text-color);border-style:var(--select-outline-border-style);border-width:var(--select-outline-border-width);border-radius:var(--select-rectangle-border-radius)}button[_ngcontent-%COMP%]{min-width:50px;padding-left:4px;padding-right:4px}.select_heading[_ngcontent-%COMP%]{color:var(--color-primary-400)!important;margin-top:.5rem;font-weight:450;font-size:1.4rem}.textMargin[_ngcontent-%COMP%]{font-size:1.6rem;line-height:2rem}nb-select[_ngcontent-%COMP%]{align-self:center}.box[_ngcontent-%COMP%]{margin:5px;background:var(--color-alternative-900);border-radius:5%!important;border:2px solid rgba(0,0,0,.125)}.box[_ngcontent-%COMP%]:after{content:"";display:block;padding-bottom:100%}.box1[_ngcontent-%COMP%]{border-color:var(--color-basic-500)!important;color:var(--color-basic-400)!important}.box2[_ngcontent-%COMP%]{border-color:var(--color-primary-500)!important;color:var(--color-primary-400)!important}.box3[_ngcontent-%COMP%]{border-color:var(--color-warning-500)!important;color:var(--color-warning-600)!important}.box4[_ngcontent-%COMP%]{border-color:var(--color-danger-400)!important;color:var(--color-danger-500)!important}.box5[_ngcontent-%COMP%]{border-color:var(--color-danger-500)!important;color:var(--color-danger-500)!important}.textbox[_ngcontent-%COMP%]{margin:10px 0 20px!important}.box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10vmin!important;color:var(--text-color-basic)}[_nghost-%COMP%]{justify-content:center}']});class ft{set build$(n){this.build=this.apiService.buildTransformerPipe(n)}constructor(n){this.apiService=n,this.active=!1}ngOnInit(){}}ft.\u0275fac=function(n){return new(n||ft)(t.Y36(k))},ft.\u0275cmp=t.Xpm({type:ft,selectors:[["app-build-progress-view"]],inputs:{active:"active",build$:["build","build$"]},decls:4,vars:7,consts:[["hintPopover",""],["fxFlex","","fxLayoutAlign","center center","fxLayout","row",1,"container","selected"],[4,"ngFor","ngForOf"],["fxLayout","column",2,"padding","1rem"],["fxFlex",""],["fxFlex","",4,"ngIf"],[4,"ngIf"],["fxLayoutAlign","start center"],["nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"dot",3,"nbPopoverContext","nbPopover","status","icon"],["fxFlex","",1,"horizontal_line"]],template:function(n,e){1&n&&(t.YNc(0,xo,7,5,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.YNc(3,Co,4,7,"ng-container",2),t.qZA()),2&n&&(t.xp6(2),t.ekj("active",e.active)("success","SUCCESS"==(null==e.build?null:e.build.status))("fail","FAIL"==(null==e.build?null:e.build.status)),t.xp6(1),t.Q6J("ngForOf",null==e.build?null:e.build.build_state))},dependencies:[m.sg,m.O5,p.xw,p.Wh,p.yH,s.fMN,s.ydg,m.uU],styles:[".horizontal_line[_ngcontent-%COMP%]{width:30px;height:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.spin[_ngcontent-%COMP%]{animation:spin 2s linear infinite}.container[_ngcontent-%COMP%]{opacity:.3}.container.active[_ngcontent-%COMP%]{opacity:1}.circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;display:flex;width:3rem;height:3rem;line-height:3rem;border-radius:50%;font-size:.8rem;text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-primary-600),1px -1px 1px var(--color-primary-600),-1px -1px 1px var(--color-primary-600);box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.circle.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600);text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-success-600),1px -1px 1px var(--color-success-600),-1px -1px 1px var(--color-success-600)}.circle.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600);text-shadow:1px 1px 1px var(--color-danger-300),-1px 1px 1px var(--color-danger-600),1px -1px 1px var(--color-danger-600),-1px -1px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]:hover{font-size:1rem;transition:.2s;width:4rem;height:4rem}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 2px 2px 5px 1px var(--color-primary-300),2px 0 5px 1px var(--color-primary-600)}.vertical_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.vertical_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}"]});class Ut{constructor(){}ngOnInit(){}}Ut.\u0275fac=function(n){return new(n||Ut)},Ut.\u0275cmp=t.Xpm({type:Ut,selectors:[["app-build-loading-animation"]],decls:9,vars:0,consts:[["fxLayoutAlign","center center"],[1,"lds-ellipsis"],[1,"loading-text"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div")(3,"div")(4,"div")(5,"div"),t.qZA()(),t.TgZ(6,"div")(7,"span",2),t._uU(8," Scan is in progress. "),t.qZA()())},dependencies:[p.Wh],styles:[".loading-text[_ngcontent-%COMP%]{color:var(--text-success-color);font-size:1.5rem;font-weight:400}.lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:var(--text-success-color);animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:_ngcontent-%COMP%_lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:_ngcontent-%COMP%_lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:_ngcontent-%COMP%_lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:_ngcontent-%COMP%_lds-ellipsis3 .6s infinite}@keyframes _ngcontent-%COMP%_lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes _ngcontent-%COMP%_lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}"]});class ht{transform(n){let e="";return n?.split("_").map(o=>o[0].toUpperCase()+o.substr(1).toLowerCase()).forEach(o=>{e+=o+" "}),e}}function yo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",2)(1,"nb-card-header")(2,"h5",3),t._UZ(3,"nb-icon",4),t._uU(4),t.qZA()(),t.TgZ(5,"nb-card-body")(6,"h6",5),t._uU(7," All the scan-progress wil be lost. "),t._UZ(8,"br"),t._uU(9," Are you sure you want to stop build from scanning ? "),t.qZA()(),t.TgZ(10,"nb-card-footer",6)(11,"button",7),t.NdJ("click",function(){const a=t.CHM(e).dialogRef;return t.KtG(a.close())}),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){const r=t.CHM(e),a=r.$implicit,l=r.dialogRef,c=t.oxw();return t.KtG(c.stopBuildScan(null==a?null:a.buildId,null==a?null:a.delete_all,l))}),t._uU(14,"Stop"),t.qZA()()()}if(2&i){const e=n.$implicit;t.xp6(4),t.hij(" Stop ",null!=e&&e.delete_all?"All":""," Scan ")}}function ko(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).ngIf,a=t.oxw(),l=t.MAs(1);return t.KtG(a.openDialog(l,{buildId:null==r||null==r._id?null:r._id.$oid,delete_all:!1}))}),t._UZ(1,"nb-icon",39),t._uU(2," Stop "),t.qZA()}}function Mo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).ngIf,a=t.oxw(),l=t.MAs(1);return t.KtG(a.openDialog(l,{buildId:null==r||null==r._id?null:r._id.$oid,delete_all:!0}))}),t._uU(1," All "),t.qZA()}}function wo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).ngIf,a=t.oxw();return t.KtG(a.downloadFile(null==r||null==r.extras?null:r.extras.report_file))}),t._UZ(1,"nb-icon",42),t._uU(2," Download Report "),t.qZA()}}function To(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).ngIf,a=t.oxw();return t.KtG(a.downloadFile(null==r?null:r.file))}),t._UZ(1,"nb-icon",42),t._uU(2," Download "),t.qZA()}}function Ao(i,n){if(1&i&&(t.TgZ(0,"nb-card-header",29)(1,"span",30)(2,"div",31),t._UZ(3,"nb-tag",32),t.qZA()(),t.TgZ(4,"div",33)(5,"nb-button-group",34),t.YNc(6,ko,3,0,"button",35),t.YNc(7,Mo,2,0,"button",36),t.qZA(),t.YNc(8,wo,3,0,"button",37),t.YNc(9,To,3,0,"button",37),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(3),t.Q6J("text","#"+(null==e?null:e.buildNo)),t.xp6(3),t.Q6J("ngIf","Failed"!=(null==e?null:e.buildState)&&"Completed"!=(null==e?null:e.buildState)),t.xp6(1),t.Q6J("ngIf","Failed"!=(null==e?null:e.buildState)&&"Completed"!=(null==e?null:e.buildState)),t.xp6(1),t.Q6J("ngIf",null==e?null:e.report_generated),t.xp6(1),t.Q6J("ngIf",null==e?null:e.file)}}function Oo(i,n){if(1&i&&(t.TgZ(0,"nb-card-header"),t._UZ(1,"app-finding-stats",43),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("interactive",!1)("findingStats",t.lcZ(2,2,e.findingStats))}}function Po(i,n){1&i&&(t.TgZ(0,"div",44),t._UZ(1,"app-build-loading-animation"),t.qZA())}function Zo(i,n){if(1&i&&(t.TgZ(0,"div",45),t._UZ(1,"app-finding-stats",46),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("interactive",!1)("findingStats",t.lcZ(2,2,e.findingStats))}}function Io(i,n){if(1&i&&(t.TgZ(0,"div",47),t._UZ(1,"app-build-progress-view",48),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("build",e)}}function So(i,n){if(1&i&&(t.TgZ(0,"div",28)(1,"div",21)(2,"span",50),t._uU(3),t.qZA(),t.TgZ(4,"span",23),t._uU(5),t.qZA(),t._UZ(6,"nb-tag",51),t.qZA()()),2&i){const e=n.$implicit,o=n.index;t.xp6(3),t.hij(" ",o+1,". "),t.xp6(2),t.hij(" ",null==e?null:e.key," "),t.xp6(1),t.Q6J("text",null!=e&&e.value?"Success":"Failed")("status",null!=e&&e.value?"success":"danger")}}function Fo(i,n){if(1&i&&(t.TgZ(0,"nb-accordion-item",49)(1,"nb-accordion-item-header",19),t._uU(2," Tools / Scans "),t.qZA(),t.TgZ(3,"nb-accordion-item-body"),t.YNc(4,So,7,4,"div",27),t.ALo(5,"keyvalue"),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,null==e?null:e.tools_executed))}}function Lo(i,n){if(1&i&&t._UZ(0,"nb-tag",53),2&i){const e=t.oxw(2).$implicit,o=t.oxw().ngIf;t.Q6J("text",null==o||null==o.tools_execution_progress[null==e?null:e.key]?null:o.tools_execution_progress[null==e?null:e.key].status)}}function Uo(i,n){if(1&i&&(t.ynx(0),t.YNc(1,Lo,1,1,"nb-tag",52),t.BQk()),2&i){const e=t.oxw().$implicit,o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",null==o?null:o.tools_execution_progress[null==e?null:e.key])}}function Bo(i,n){if(1&i&&(t.TgZ(0,"div",28)(1,"div",21)(2,"span",50),t._uU(3),t.qZA(),t.TgZ(4,"span",23),t._uU(5),t.ALo(6,"textShowcase"),t.qZA(),t.YNc(7,Uo,2,1,"ng-container",1),t.qZA()()),2&i){const e=n.$implicit,o=n.index,r=t.oxw().ngIf;t.xp6(3),t.hij(" ",o+1,". "),t.xp6(2),t.hij(" ",t.lcZ(6,3,null==e?null:e.key)," "),t.xp6(2),t.Q6J("ngIf",null==r?null:r.tools_execution_progress)}}function No(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",55)(2,"div",56)(3,"button",57),t._uU(4),t.qZA()(),t.TgZ(5,"div",56)(6,"button",58),t._uU(7),t.qZA()()(),t.BQk()),2&i){const e=n.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.key," "),t.xp6(3),t.hij(" ",null==e?null:e.value," ")}}function qo(i,n){if(1&i&&(t.ynx(0),t.YNc(1,No,8,2,"ng-container",54),t.ALo(2,"keyvalue"),t.BQk()),2&i){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,null==e?null:e.raw_request_sent_for_execution))}}function Jo(i,n){if(1&i&&(t.TgZ(0,"nb-card"),t.YNc(1,Ao,10,5,"nb-card-header",9),t.YNc(2,Oo,3,4,"nb-card-header",1),t.TgZ(3,"nb-card-body",10)(4,"div",11),t._UZ(5,"nb-tag",12),t.qZA(),t.TgZ(6,"div",11),t._UZ(7,"nb-icon",13),t.TgZ(8,"span",14),t._uU(9),t.qZA()(),t.YNc(10,Po,2,0,"div",15),t.YNc(11,Zo,3,4,"div",16),t.YNc(12,Io,2,1,"div",17),t.TgZ(13,"nb-accordion")(14,"nb-accordion-item",18)(15,"nb-accordion-item-header",19),t._uU(16," Scan Info. "),t.qZA(),t.TgZ(17,"nb-accordion-item-body")(18,"div",20)(19,"div",21),t._UZ(20,"nb-tag",22),t.TgZ(21,"span",23),t._uU(22),t.qZA()(),t.TgZ(23,"div",21),t._UZ(24,"nb-tag",24),t.TgZ(25,"span",23),t._uU(26),t.qZA(),t._UZ(27,"nb-tag",25),t.qZA()()()(),t.YNc(28,Fo,6,3,"nb-accordion-item",26),t.TgZ(29,"nb-accordion-item",18)(30,"nb-accordion-item-header",19),t._uU(31," Tools Config "),t.qZA(),t.TgZ(32,"nb-accordion-item-body"),t.YNc(33,Bo,8,5,"div",27),t.ALo(34,"keyvalue"),t.qZA()(),t.TgZ(35,"nb-accordion-item",18)(36,"nb-accordion-item-header",19),t._uU(37," Environment "),t.qZA(),t.TgZ(38,"nb-accordion-item-body")(39,"div",28),t.YNc(40,qo,3,3,"ng-container",1),t.qZA()()()()()()),2&i){const e=n.ngIf;t.xp6(1),t.Q6J("ngIf",!0),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(3),t.Q6J("status",null==e?null:e._status)("text",null==e?null:e.buildState),t.xp6(4),t.hij(" ",(null==e?null:e.timeElpased)||"-"," sec. elpased "),t.xp6(1),t.Q6J("ngIf","Failed"!=(null==e?null:e.buildState)&&"Completed"!=(null==e?null:e.buildState)),t.xp6(1),t.Q6J("ngIf","Completed"==(null==e?null:e.buildState)),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(10),t.hij(" ",null==e||null==e.scan_data?null:e.scan_data.APP_URL," "),t.xp6(4),t.hij(" ",null==e||null==e.scan_data?null:e.scan_data.GIT_URL," "),t.xp6(1),t.Q6J("text",null==e||null==e.scan_data?null:e.scan_data.GIT_BRANCH),t.xp6(1),t.Q6J("ngIf","Failed"==(null==e?null:e.buildState)||"Completed"==(null==e?null:e.buildState)),t.xp6(5),t.Q6J("ngForOf",t.lcZ(34,14,null==e?null:e.tools_execution_config)),t.xp6(7),t.Q6J("ngIf",e)}}ht.\u0275fac=function(n){return new(n||ht)},ht.\u0275pipe=t.Yjl({name:"textShowcase",type:ht,pure:!0});class U{set selected_build$(n){console.log("___selectedBuild",n)}refreshBuildDataFn(){return(0,te.F)(this.REFRESH_INTERVAL_PERIOD).pipe((0,_.b)(n=>{}))}constructor(n,e,o,r){this.apiService=n,this.activatedRoute=e,this.router=o,this.dialogService=r,this.selectedBuild$=new F.X(void 0),this.selectedBuild=this.selectedBuild$.pipe((0,_.b)(a=>{console.log("__selectedBuild","ngOnInit","Obs")})),this.buildDetails=this.selectedBuild.pipe((0,h.w)(a=>(console.log("buildDetails",a),a?this.apiService.getBuildById(a.buildId).pipe((0,_.b)(l=>{console.log("buildDetails",l)}),(0,u.U)(l=>this.apiService.buildTransformerPipe(l)),(0,u.U)(l=>this.apiService.buildDetailedPipe(l)),(0,P.d)()):(0,N.of)(a)))),this.findingStats=this.selectedBuild.pipe((0,h.w)(a=>this.findingStats=this.apiService.getFindingStats({$oid:a.applicationId},{$oid:a.buildId}))),this.refreshBuildData=w.w0.EMPTY,this.newBuildsAvailable=!1,this.REFRESH_INTERVAL_PERIOD=1e3,this.subscription_1=w.w0.EMPTY,this.subscription_2=w.w0.EMPTY}ngOnDestroy(){this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.refreshBuildData.unsubscribe()}downloadFile(n){this.apiService.downloadFile(n).pipe((0,_.b)(e=>{window.open(ut.N.minio_url+e?.url,"_blank")})).subscribe()}goToFindings(n){this.router.navigate(["issues"],{relativeTo:this.activatedRoute})}forceStopBuild(n){}ngOnInit(){console.log("__selectedBuild","ngOnInit"),this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.subscription_1=(0,D.a)([this.apiService.selectedBuildId.pipe((0,_.b)(n=>{this.selectedBuild$.next(void 0)}),(0,v.h)(n=>!!n)),this.apiService.selectedApp.pipe((0,_.b)(n=>{this.selectedBuild$.next(void 0)}),(0,u.U)(n=>n?.identifier),(0,v.h)(n=>!!n))]).subscribe(n=>{console.log("combineLatest",n),console.log("!__selectedBuild",{applicationId:n[1],buildId:n[0]}),this.selectedBuild$.next({applicationId:n[1],buildId:n[0]})}),this.subscription_2=this.apiService.selectedBuildId.pipe((0,_.b)(n=>{this.resetComponent()})).subscribe(),(0,D.a)([this.activatedRoute.parent.params,this.activatedRoute.params]).pipe((0,_.b)(n=>{this.resetComponent()}),(0,u.U)(n=>{let e={};return n.forEach(o=>{e=Object.assign(e,o)}),console.log("paramsparms",e),e}),(0,v.h)(n=>"build_id"in n&&"buildId"in n),(0,_.b)(n=>{console.log("_selectedBuild",{applicationId:n?.build_id,buildId:n?.buildId}),this.selectedBuild$.next({applicationId:n?.build_id,buildId:n?.buildId})}))}resetComponent(){}reloadComponent(){}openDialog(n,e){this.dialogService.open(n,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:e})}stopBuildScan(n,e,o){1==e?this.selectedBuild.pipe((0,h.w)(a=>this.apiService.stopAllPrevious(a.applicationId,n))).subscribe(()=>{o.close(!0)}):this.selectedBuild.pipe((0,h.w)(a=>this.apiService.stopBuildScan(a.applicationId,n))).subscribe(()=>{o.close(!0)})}}U.\u0275fac=function(n){return new(n||U)(t.Y36(k),t.Y36(C.gz),t.Y36(C.F0),t.Y36(s.Gln))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-build-detail-view"]],inputs:{selected_build$:["selected_build","selected_build$"]},decls:4,vars:3,consts:[["stopBuildDialog",""],[4,"ngIf"],["accent","danger"],[1,"text-danger"],["icon","stop-circle-outline","status","danger",2,"margin","10px"],[2,"line-height","2rem"],["fxLayoutAlign","end","fxLayoutGap","1rem"],["status","basic","outline","","nbButton","",3,"click"],["status","danger","outline","","nbButton","",3,"click"],["fxLayoutAlign","space-between center",4,"ngIf"],["fxLayoutGap","20px","fxLayout","column",2,"padding","2rem"],["fxLayoutGap","10px","fxLayoutAlign","end center"],["appearance","outline","size","medium",1,"status-tag",3,"status","text"],["icon","clock-outline",1,"text-interactive"],[1,"text-interactive"],["fxLayoutAlign","center center","style","padding: 2rem;",4,"ngIf"],["class","findingstats",4,"ngIf"],["style","padding: 2rem;","fxFlex","",4,"ngIf"],["expanded",""],[1,"text-basic"],["fxLayoutGap","1rem","fxLayout","column"],["fxLayoutGap","1rem","fxFlex",""],["appearance","outline","size","small","text","1. Url","status","alternative"],[1,"caption","text-hint",2,"font-size","1.2rem","line-height","1.8rem"],["appearance","outline","size","small","text","2. Git","status","alternative"],["appearance","filled","size","tiny","status","basic",3,"text"],["expanded","","expanded","",4,"ngIf"],["fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"subtitle"],["fxLayoutGap","5px"],["appearance","filled","size","medium","status","alternative",3,"text"],["fxLayout","row","fxLayoutGap","10px"],["fxLayoutGap","1px","appearance","filled","size","small","status","primary","shape","semi-round"],["nbButton","","size","small","status","danger",3,"click",4,"ngIf"],["nbButton","","size","small","filled","","status","danger",3,"click",4,"ngIf"],["nbButton","","size","small","status","success",3,"click",4,"ngIf"],["nbButton","","size","small","status","danger",3,"click"],["icon","stop-circle-outline"],["nbButton","","size","small","filled","","status","danger",3,"click"],["nbButton","","size","small","status","success",3,"click"],["icon","download-outline"],["theme","1",3,"interactive","findingStats"],["fxLayoutAlign","center center",2,"padding","2rem"],[1,"findingstats"],["fxFlex","","theme","1",3,"interactive","findingStats"],["fxFlex","",2,"padding","2rem"],[3,"build"],["expanded","","expanded",""],[1,"caption-2","text-primary",2,"font-size","1.2rem","line-height","1.8rem"],["appearance","outline","size","small",3,"text","status"],["appearance","outline","size","small",3,"text",4,"ngIf"],["appearance","outline","size","small",3,"text"],[4,"ngFor","ngForOf"],["fxFlex","","fxLayout","row"],["fxLayout","column","fxFlex","50%"],["size","medium","status","basic","nbButton","","ghost",""],["size","medium","classstatus","basic","nbButton","","ghost",""]],template:function(n,e){1&n&&(t.YNc(0,yo,15,1,"ng-template",null,0,t.W1O),t.YNc(2,Jo,41,16,"nb-card",1),t.ALo(3,"async")),2&n&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,e.buildDetails)))},dependencies:[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.yH,s.fMN,s.DPz,s.Asz,s.yKW,s.XWE,s.ndF,s.qCO,s.SaG,s.YZd,s.AvE,s.mnu,s.c2L,mt,ft,Ut,m.Ov,m.Nd,ht],styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";.field[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:400;padding:.5rem;color:var(--text-hint-color);padding-left:10px;border-left:4px solid var(--color-basic-200);margin-bottom:1rem}.field_details[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:500;padding:.5rem;padding-left:20px;color:var(--text-basic-color)}nb-card[_ngcontent-%COMP%]{margin:0!important;max-height:calc(100vh - 4rem);background:var(--background-basic-color-2)!important}nb-card-header[_ngcontent-%COMP%]{background:var(--background-basic-color-1)!important}nb-accordion-item[_ngcontent-%COMP%]{background:var(--background-basic-color-4)!important;margin-bottom:1rem}nb-accordion-item-header[_ngcontent-%COMP%]{background:var(--background-basic-color-3)!important;padding:1rem}nb-accordion-item-header[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-2)!important}.chip[_ngcontent-%COMP%]{font-weight:500;color:#fff;background-color:var(--color-primary-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px}.sub_chip[_ngcontent-%COMP%]{font-weight:500;color:var(--color-basic-200);background-color:var(--color-danger-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px;margin-top:1rem}hr[_ngcontent-%COMP%]{display:block;height:1px;border:0;border-top:1px solid var(--text-alternate-color);margin:1em 0;padding:0;margin-bottom:1rem}.item[_ngcontent-%COMP%]{border-radius:.3rem;font-size:1rem;line-height:1.5rem;padding:var(--button-ghost-medium-padding);padding-right:0!important;max-lines:2;white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis}.item[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:1s}button[_ngcontent-%COMP%]{text-transform:none!important;text-align:start;justify-content:start;overflow-x:hidden}.text-interactive[_ngcontent-%COMP%]{color:var(--text-warning-color);font-weight:550}.status-tag[_ngcontent-%COMP%]{color:var(--text-basic-color)!important}.findingstats[_ngcontent-%COMP%]{min-width:0;display:flex}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize!important}']});const Do=["editTmpl"];function Qo(i,n){1&i&&(t.TgZ(0,"div",16)(1,"div",17)(2,"div",18),t._UZ(3,"div",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"div",23)(8,"div",24)(9,"div",25),t.qZA()()())}const ve=function(){return{exact:!1}};function zo(i,n){if(1&i&&(t.TgZ(0,"button",26,27),t.NdJ("click",function(o){return o.stopPropagation(),o.preventDefault()}),t._uU(2),t.qZA()),2&i){const e=n.$implicit,o=t.MAs(1);t.Q6J("appearance",null!=o&&o.isActive?"outline":"ghost")("status",null!=o&&o.isActive?"success":"basic")("routerLink",null==e?null:e.route)("routerLinkActiveOptions",t.DdM(5,ve)),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}const Ro=function(){return["../"]};function Go(i,n){1&i&&(t.TgZ(0,"nb-card-header",28)(1,"div",29)(2,"button",30),t._UZ(3,"nb-icon",31),t.TgZ(4,"span"),t._uU(5," Latest Build "),t.qZA()()()()),2&i&&(t.xp6(2),t.Q6J("routerLink",t.DdM(1,Ro)))}function Eo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",32),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onClickBuild(a))}),t._UZ(1,"app-build-item",33),t.ALo(2,"async"),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw();t.Q6J("appScrollableItem",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.Q6J("active",t.lcZ(2,3,o.activeBuildId)==(null==e||null==e._id?null:e._id.$oid))("build",e)}}function $o(i,n){1&i&&t.GkF(0)}function jo(i,n){if(1&i&&(t.ynx(0)(1),t.YNc(2,$o,1,0,"ng-container",34),t.BQk()()),2&i){t.oxw();const e=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function Yo(i,n){1&i&&t.GkF(0)}function Ho(i,n){if(1&i&&(t.ynx(0)(1),t.YNc(2,Yo,1,0,"ng-container",34),t.BQk()()),2&i){t.oxw();const e=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function Vo(i,n){if(1&i&&(t.TgZ(0,"button",43,27),t.NdJ("click",function(o){return o.stopPropagation(),o.preventDefault()}),t._uU(2),t.qZA()),2&i){const e=n.$implicit,o=t.MAs(1);t.Q6J("disabled",!0)("routerLink",null==e?null:e.route)("routerLinkActiveOptions",t.DdM(5,ve))("pressed",null==o?null:o.isActive),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}function Wo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",28)(1,"div",44)(2,"button",45),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.loadNewBuilds())}),t._UZ(3,"nb-icon",31),t.TgZ(4,"span"),t._uU(5," New Builds Found "),t.qZA()()()()}}function Ko(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",32),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onClickBuild(a))}),t._UZ(1,"app-build-item",33),t.ALo(2,"async"),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.Q6J("appScrollableItem",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.Q6J("active",t.lcZ(2,3,o.activeBuildId)==(null==e||null==e._id?null:e._id.$oid))("build",e)}}function Xo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",36)(2,"div",3),t._uU(3," Build Details "),t.qZA(),t.TgZ(4,"nb-button-group",37)(5,"div"),t.YNc(6,Vo,3,6,"button",38),t.qZA()()(),t.TgZ(7,"div",39)(8,"div",40)(9,"nb-card",41),t.YNc(10,Wo,6,0,"nb-card-header",9),t.TgZ(11,"nb-list",10),t.NdJ("bottomThreshold",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.bottomThresholdTrigger(r))}),t.YNc(12,Ko,3,5,"nb-list-item",11),t.qZA()()(),t.TgZ(13,"div",42)(14,"router-outlet",13),t.NdJ("activate",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.onRouterOutletActivate(r))}),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.tabs),t.xp6(4),t.Q6J("ngIf",e.newBuildsAvailable),t.xp6(1),t.Q6J("threshold",50)("nbSpinner",e.loading),t.xp6(1),t.Q6J("ngForOf",e.builds$)("ngForTrackBy",e.trackBuild)}}const tr=function(i,n){return{buildId:i,applicationId:n}};function er(i,n){if(1&i&&t._UZ(0,"app-build-detail-view",46),2&i){const e=n.context;t.Q6J("selected_build",t.WLB(1,tr,null==e?null:e.build_id,null==e?null:e.application_id))}}class I{scrollToSelectedItem(n){console.log("distinctUntilChanged",n,this.scrollableItems);const e=this.scrollableItems?.find(o=>o.key===n);e?.scrollIntoView(),console.log("distinctUntilChanged",n,e)}onRouterOutletActivate(n){"FindingsComponent"==n?.constructor.name?this.buttonState="finding":"BuildsComponent"==n?.constructor.name&&(this.buttonState="build"),console.log("event",n)}constructor(n,e,o,r,a){this.apiService=n,this.drawerMngr=e,this.router=o,this.activatedRoute=r,this.nbSidebarService=a,this.tabs=[{title:"Details",route:["details"]},{title:"Finding",route:["issues"]},{title:"Logs",route:["logs"]},{title:"Builds",route:["builds"]}],this.isMenuOpen=(0,Xt.T)(this.nbSidebarService.onExpand(),this.nbSidebarService.onToggle(),this.nbSidebarService.onCollapse(),this.nbSidebarService.onCompact(),(0,N.of)({tag:"buildList"})).pipe((0,v.h)(l=>"buildList"==l?.tag),(0,h.w)(l=>this.nbSidebarService.getSidebarState("buildList")),(0,u.U)(l=>(console.debug("menumenu2",l),"expanded"==l?(this.nbSidebarService.expand("menuSidebar"),!0):(this.nbSidebarService.collapse("menuSidebar"),!1))),(0,_.b)(l=>{console.debug("menumenu",l)}),(0,P.d)()),this.buildListLimit=20,this.buildInvalidateIds=new Map,this.topBuildId=void 0,this.bottomBuildId=void 0,this.active_protection=!1,this.extra_filters={},this.uuid=void 0,this.activeBuildId=this.apiService.selectedBuildId.pipe((0,P.d)()),this.scrollToActiveIdObserver=this.activeBuildId.pipe((0,pt.x)(),(0,_.b)(l=>{console.debug("distinctUntilChanged",l),this.builds$=[],this.initialResultsLoaded=!1,this.bottomBuildId=l,this.buildInvalidateIds.clear()})),this.scrollToActiveIdObserverSubscription=w.w0.EMPTY,this.routeSubscription=w.w0.EMPTY,this.activeBuildSubscription=w.w0.EMPTY,this.reportDownloaderZipSubscription=w.w0.EMPTY,this.selectedAppSubscription=w.w0.EMPTY,this.selectedApp=this.apiService.selectedApp,this.buttonState="",this.buildTransformerPipe=l=>{console.log("buildTransformerPipe",l);let c=0,f=[{state:l?.state_requested,ts:l?.state_requested_ts,time_taken:0,title:"Enqueued"},{state:l?.state_execution,ts:l?.state_execution_ts,time_taken:0,title:"Executing"},{state:l?.state_download_raw,ts:l?.state_download_raw_ts,time_taken:0,title:"Report Generated"},{state:l?.state_pushed_to_parser,ts:l?.state_pushed_to_parser_ts,time_taken:0,title:"Analyzing"},{state:l?.state_parsing_started,ts:l?.state_parsing_started_ts,time_taken:0,title:"Parsing"},{state:l?.state_parsing_completed,ts:l?.state_parsing_completed_ts,time_taken:0,title:"Finished"}];return l.success=void 0,l.failed=!1,f.map((g,b)=>(0==b||(g.time_taken=g?.ts?.$date-f[b-1]?.ts?.$date,g.time_taken=g?.time_taken/1e3,g.time_taken=0|g?.time_taken,g.time_taken=Math.ceil(g.time_taken),c+=g.time_taken,0==g?.state&&(l.failed=!0)),g)),l.build_state=f,l.timeElpased=c,l.finding_stats=this.apiService.getFindingStats(l?.applicationId,l?._id).pipe(),l},this.builds$=[],this.allBuildsLoaded=!1,this.initialResultsLoaded=!1,this.loading=!0,this.refreshBuildData=w.w0.EMPTY,this.newBuildsAvailable=!1,this.REFRESH_INTERVAL_PERIOD=1e3,this.subscrption=w.w0.EMPTY}ngAfterViewInit(){}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.activeBuildSubscription.unsubscribe(),this.reportDownloaderZipSubscription.unsubscribe(),this.selectedAppSubscription.unsubscribe(),this.scrollToActiveIdObserverSubscription.unsubscribe(),this.subscrption.unsubscribe(),this.nbSidebarService.expand(),this.refreshBuildData.unsubscribe()}getBuildData(n){this.activatedRoute.params.pipe((0,A.q)(1)).pipe((0,_.b)(o=>{console.log("console__",o)})).subscribe(o=>{});let e={applicationId:n?.application?.applicationId,...this.extra_filters};return!0===this.active_protection&&(e={active_protection:!0,...this.extra_filters}),this.apiService.getDevsecopsBuildData(e,{offset:this.bottomBuildId,limit:this.buildListLimit,includeOffsetId:!this.initialResultsLoaded||void 0}).pipe((0,v.h)(o=>!!o),(0,u.U)(o=>o.map(r=>this.buildTransformerPipe(r))),(0,_.b)(o=>{if(o?.length<this.buildListLimit&&(this.allBuildsLoaded=!0),o.length<=0||!o)console.log("noBuilds",o);else{console.log("activeBuildId",this.bottomBuildId);let r=o[0];0==this.initialResultsLoaded&&(this.buildTopOffsetId$=r?._id?.$oid,this.initialResultsLoaded=!0,this.routeSubscription=(0,D.a)([this.activatedRoute.data,this.activatedRoute.params]).pipe((0,A.q)(1),(0,u.U)(a=>Object.assign({},...a)),(0,_.b)(a=>{console.log("activedataroute",a,this.buttonState,"finding"==this.buttonState),a?.buildId!=r?._id?.$oid&&this.router.navigate("finding"==this.buttonState?[`${r?._id?.$oid}`,"issues"]:[`${r?._id?.$oid}`],{relativeTo:this.activatedRoute})})).subscribe()),this.activeBuildSubscription=this.activeBuildId.pipe((0,A.q)(1)).subscribe(a=>{null==a&&(console.log("activeBuildId",a),console.log("activeBuildId",a,`${r?._id?.$oid}`))})}}),(0,_.b)(o=>{let r=new Map;o.forEach((a,l)=>{0==l&&(this.topBuildId=a?._id?.$oid),l+1==o?.length&&(this.bottomBuildId=a?._id?.$oid),a?.transition_state!=L.FAILED&&a?.transition_state!=L.PARSING_FINISHED&&r.set(a?._id?.$oid,l)}),this.buildInvalidateIds=r,console.log("buildInvalidateIds",this.buildInvalidateIds)}))}downloadRaw(n){this.reportDownloaderZipSubscription=this.apiService.downloadReportZip({...this.extra_filters}).subscribe(e=>{})}onClick(n,e){}refreshBuildDataFn(){return(0,te.F)(this.REFRESH_INTERVAL_PERIOD).pipe(ee(n=>{console.debug("REFRESH_INTERVAL_PERIOD!");let e=Array.from(this.buildInvalidateIds.keys());return this.apiService.getBuildByIds(e,this.buildTopOffsetId$,this.extra_filters).pipe((0,_.b)(o=>console.debug(o)))}),(0,_.b)(n=>console.debug(n)),(0,_.b)(n=>{n.builds.forEach(e=>{let o=e?._id?.$oid;this.buildInvalidateIds.get(o)}),console.log("newBuildsAvailable",this.extra_filters),this.newBuildsAvailable=n?.newBuildsFound}),(0,_.b)(n=>{n.builds.forEach(o=>{console.debug("mBuild;d",o),o=this.buildTransformerPipe(o),console.debug("_mBuild;d",o);let r=o?._id?.$oid,a=this.buildInvalidateIds.get(r);o.index=this.builds$[a].index,this.builds$[a]=o})}))}loadBuilds(){this.selectedAppSubscription=this.selectedApp.pipe((0,h.w)(n=>this.apiService.selectedBuildId.pipe((0,A.q)(1),(0,_.b)(e=>{console.debug("switchMap",e)}),(0,u.U)(e=>n))),(0,_.b)(n=>{this.loading=!0}),(0,v.h)(n=>!!n),(0,h.w)(n=>(console.log("_appoopo",n),this.getBuildData(n))),(0,_.b)(n=>{n.length>0||(this.buildTopOffsetId$=void 0),this.builds$.push(...n),this.loading=!1})).subscribe()}ngOnInit(){this.routeSubscription.unsubscribe(),this.activeBuildSubscription.unsubscribe(),this.reportDownloaderZipSubscription.unsubscribe(),this.selectedAppSubscription.unsubscribe(),this.subscrption.unsubscribe(),this.scrollToActiveIdObserverSubscription.unsubscribe(),this.scrollToActiveIdObserverSubscription=this.scrollToActiveIdObserver.subscribe(),this.nbSidebarService.expand("buildList"),this.subscrption=(0,D.a)([this.activatedRoute?.params,this.activatedRoute?.data]).pipe((0,_.b)(n=>{this.apiService.selectedBuildId$.next(void 0)}),(0,u.U)(n=>{console.log("paramspaps",n);let e={};return n.forEach(o=>{e=Object.assign(e,o)}),e}),(0,_.b)(n=>{this.apiService.selectedBuildId$.next(n?.buildId)})).subscribe(n=>{this.active_protection=n?.active_protection||!1,this.extra_filters=n?.extra_filters||{},n?.uuid&&(this.extra_filters.uuid=n?.uuid),console.debug("active+protection",n.active_protection,this.extra_filters),this.loadBuilds()}),this.refreshBuildData=this.refreshBuildDataFn().subscribe()}onClickBuild(n){this.router.navigate(["../",`${n?._id?.$oid}`],{relativeTo:this.activatedRoute})}openDrawer(n,e="left",o,r=!0,a=this.editTmpl,l=!0,c){this.drawerMngr.create({direction:G.Left,template:a,size:o,context:{build_id:n?._id?.$oid,application_id:n?.applicationId?.$oid},closeOnOutsideClick:r,parentContainer:c,isRoot:l})}trackBuild(n,e){return e?._id?.$oid}toggleSidebar(){this.nbSidebarService.toggle(!1,"buildList")}loadNewBuilds(){this.router.navigate(["./"],{relativeTo:this.activatedRoute.parent}),this.loadBuilds()}bottomThresholdTrigger(n){this.loading||this.allBuildsLoaded||(console.log("bottomThresholdTrigger",this.allBuildsLoaded,n),this.loadBuilds())}resetBuilds(){this.builds$=[]}}function nr(i,n){1&i&&(t.TgZ(0,"div")(1,"nb-card",3)(2,"nb-card-body",4)(3,"h6"),t._uU(4,"Latest Build"),t.qZA()()()())}I.\u0275fac=function(n){return new(n||I)(t.Y36(k),t.Y36(E),t.Y36(C.F0),t.Y36(C.gz),t.Y36(s.lzT))},I.\u0275cmp=t.Xpm({type:I,selectors:[["app-builds"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Do,5),t.Gf(z,5)),2&n){let o;t.iGM(o=t.CRH())&&(e.editTmpl=o.first),t.iGM(o=t.CRH())&&(e.scrollableItems=o)}},decls:27,vars:12,consts:[["loadingListItem",""],["fxLayoutAlign","center","fxFlex",""],["fxLayoutAlign","center center","fxLayout","row",1,"buildListBtn",3,"click"],[2,"margin-left","20px","margin-right","20px"],[3,"active"],["fxFlex","","fxLayoutAlign","end end"],["size","medium","shape","round","routerLinkActive","","nbButton","",3,"appearance","status","routerLink","routerLinkActiveOptions","click",4,"ngFor","ngForOf"],["tag","buildList","containerFixed",""],["fxFlex","",1,"nbCardList"],["style","margin: 0px; padding: 10px;",4,"ngIf"],["nbListPageTracker","","nbInfiniteList","","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data",3,"threshold","nbSpinner","bottomThreshold"],["fxLayout","row",3,"appScrollableItem","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"activate"],["fxLayout","column",4,"ngIf"],["editTmpl",""],["fxFlex","",1,"timeline-wrapper",2,"margin","1rem"],[1,"timeline-item"],[1,"animated-background"],[1,"background-masker","header-top"],[1,"background-masker","header-left"],[1,"background-masker","header-right"],[1,"background-masker","header-bottom"],[1,"background-masker","subheader-left"],[1,"background-masker","subheader-right"],[1,"background-masker","subheader-bottom"],["size","medium","shape","round","routerLinkActive","","nbButton","",3,"appearance","status","routerLink","routerLinkActiveOptions","click"],["rla","routerLinkActive"],[2,"margin","0px","padding","10px"],["fxLayoutAlign","center","fxFlex","",2,"margin-left","20px","margin-right","20px"],["nbButton","","outline","","shape","round","status","basic","size","small",2,"text-transform","capitalize",3,"routerLink"],["icon","refresh-outline"],["fxLayout","row",3,"appScrollableItem","click"],["fxFlex","",3,"active","build"],[4,"ngTemplateOutlet"],["fxLayout","column"],["fxLayoutAlign","space-between center",1,"header"],["outline","","status","success","size","small","shape","round"],["routerLinkActive","","nbButtonToggle","","pressed","",3,"disabled","routerLink","routerLinkActiveOptions","pressed","click",4,"ngFor","ngForOf"],["fxLayout","row",1,"body"],[1,"listContainer"],["fxFlex","","fxFill","",1,"nbCardList"],["fxFlex","",1,"contentContainer"],["routerLinkActive","","nbButtonToggle","","pressed","",3,"disabled","routerLink","routerLinkActiveOptions","pressed","click"],["fxFlex",""],["fullWidth","","nbButton","","filled","","status","primary",2,"text-transform","capitalize",3,"click"],[3,"selected_build"]],template:function(n,e){1&n&&(t.YNc(0,Qo,10,0,"ng-template",null,0,t.W1O),t.TgZ(2,"nb-layout")(3,"nb-layout-header")(4,"div",1)(5,"div",2),t.NdJ("click",function(){return e.toggleSidebar()}),t.TgZ(6,"div",3),t._UZ(7,"app-hamburger-icon",4),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"div"),t._uU(10," Build Details "),t.qZA()(),t.TgZ(11,"div",5),t.YNc(12,zo,3,6,"button",6),t.qZA()()(),t.TgZ(13,"nb-sidebar",7)(14,"nb-card",8),t.YNc(15,Go,6,2,"nb-card-header",9),t.TgZ(16,"nb-list",10),t.NdJ("bottomThreshold",function(r){return e.bottomThresholdTrigger(r)}),t.YNc(17,Eo,3,5,"nb-list-item",11),t.TgZ(18,"nb-list-item"),t.YNc(19,jo,3,1,"ng-container",12),t.qZA(),t.TgZ(20,"nb-list-item"),t.YNc(21,Ho,3,1,"ng-container",12),t.qZA()()()(),t.TgZ(22,"nb-layout-column")(23,"router-outlet",13),t.NdJ("activate",function(r){return e.onRouterOutletActivate(r)}),t.qZA()()(),t.YNc(24,Xo,15,6,"div",14),t.YNc(25,er,1,4,"ng-template",null,15,t.W1O)),2&n&&(t.xp6(7),t.Q6J("active",t.lcZ(8,10,e.isMenuOpen)),t.xp6(5),t.Q6J("ngForOf",e.tabs),t.xp6(3),t.Q6J("ngIf",e.newBuildsAvailable),t.xp6(1),t.Q6J("threshold",50)("nbSpinner",e.loading),t.xp6(1),t.Q6J("ngForOf",e.builds$)("ngForTrackBy",e.trackBuild),t.xp6(2),t.Q6J("ngIf",e.loading),t.xp6(2),t.Q6J("ngIf",e.loading),t.xp6(3),t.Q6J("ngIf",!1))},dependencies:[s.Aqw,s.dP_,s.dmS,m.sg,m.O5,m.tP,p.xw,p.Wh,p.s9,p.yH,s.fMN,s.DPz,C.lC,C.rH,C.Od,s.Asz,s.ndF,s.zP_,s.qBV,s.B8d,s.sTn,s.Q7R,s.mnu,s.ZDs,s.nZR,U,nt,lt,z,m.Ov],styles:[".buildListBtn[_ngcontent-%COMP%]{cursor:pointer}nb-list[_ngcontent-%COMP%]{background:var(--background-basic-color-3)}nb-list-item[_ngcontent-%COMP%]{border:none;padding:0;margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:keep-all}.nbCardList[_ngcontent-%COMP%]{margin:0!important}nb-card-body[_ngcontent-%COMP%]{padding:0}span[_ngcontent-%COMP%]{text-overflow:ellipsis}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}code[_ngcontent-%COMP%]{color:#f8f8f2;font-size:.875rem}.container[_ngcontent-%COMP%]{padding-left:0rem;padding-right:0rem;margin-left:5px}.container.fail[_ngcontent-%COMP%], .container.active[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.icon[_ngcontent-%COMP%]{height:100%}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize}.dot[_ngcontent-%COMP%]{font-size:20px;font-weight:300}.dot[_ngcontent-%COMP%]:hover{font-size:40px;transition:.2s}.horizontal_line[_ngcontent-%COMP%]{width:30px;height:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}.circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;display:flex;width:3rem;height:3rem;line-height:3rem;border-radius:50%;font-size:.8rem;text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-primary-600),1px -1px 1px var(--color-primary-600),-1px -1px 1px var(--color-primary-600);box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.circle.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600);text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-success-600),1px -1px 1px var(--color-success-600),-1px -1px 1px var(--color-success-600)}.circle.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600);text-shadow:1px 1px 1px var(--color-danger-300),-1px 1px 1px var(--color-danger-600),1px -1px 1px var(--color-danger-600),-1px -1px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]:hover{font-size:1rem;transition:.2s;width:4rem;height:4rem}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 2px 2px 5px 1px var(--color-primary-300),2px 0 5px 1px var(--color-primary-600)}.vertical_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.vertical_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.xContainer[_ngcontent-%COMP%]{padding:1rem}.listContainer[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;padding-top:10px;background:var(--background-basic-color-4);display:flex;flex:0 0 var(--sidebar-width)}.content[_ngcontent-%COMP%]{display:flex;flex:0 1 900px}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.contentContainer[_ngcontent-%COMP%]{min-width:0}.header[_ngcontent-%COMP%]{height:4rem}.body[_ngcontent-%COMP%]{max-height:calc(100vh - 4rem);min-height:calc(100vh - 4rem)}nb-layout-column[_ngcontent-%COMP%]{padding:0!important}  nb-sidebar{transition:width .1s}  nb-sidebar div{transition:width .1s}  nb-sidebar.menuSidebar div{top:0!important;height:100%}.timeline-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid;border-color:#e5e6e9 #dfe0e4 #d0d1d5;border-radius:3px;padding:12px;margin:0 auto}@keyframes _ngcontent-%COMP%_placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:_ngcontent-%COMP%_placeHolderShimmer;background:#f6f7f8;background:linear-gradient(to right,#eeeeee 8%,#dddddd 18%,#eeeeee 33%);height:40px;position:relative}.background-masker[_ngcontent-%COMP%]{background:#fff;position:absolute}.background-masker.header-top[_ngcontent-%COMP%], .background-masker.header-bottom[_ngcontent-%COMP%], .background-masker.subheader-bottom[_ngcontent-%COMP%]{top:0;left:40px;right:0;height:10px}.background-masker.header-left[_ngcontent-%COMP%], .background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:10px;left:40px;height:8px;width:10px}.background-masker.header-bottom[_ngcontent-%COMP%]{top:18px;height:6px}.background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:24px;height:6px}.background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{width:auto;left:300px;right:0}.background-masker.subheader-bottom[_ngcontent-%COMP%]{top:30px;height:10px}.background-masker.content-top[_ngcontent-%COMP%], .background-masker.content-second-line[_ngcontent-%COMP%], .background-masker.content-third-line[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%], .background-masker.content-first-end[_ngcontent-%COMP%]{top:40px;left:0;right:0;height:6px}.background-masker.content-top[_ngcontent-%COMP%]{height:20px}.background-masker.content-first-end[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%]{width:auto;left:380px;right:0;top:60px;height:8px}.background-masker.content-second-line[_ngcontent-%COMP%]{top:68px}.background-masker.content-second-end[_ngcontent-%COMP%]{left:420px;top:74px}.background-masker.content-third-line[_ngcontent-%COMP%]{top:82px}.background-masker.content-third-end[_ngcontent-%COMP%]{left:300px;top:88px}"]});class ot{constructor(){this.test=[2,2,32,32,321,312,3,123,21]}ngOnInit(){}}function ir(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",2)(1,"nb-card-header")(2,"h1",3)(3,"strong"),t._uU(4,"Critical Action"),t.qZA()()(),t.TgZ(5,"nb-card-body")(6,"span",4),t._uU(7),t._UZ(8,"br"),t.TgZ(9,"input",5,6),t.NdJ("keyup.enter",function(){const a=t.CHM(e).dialogRef,l=t.MAs(10);return t.KtG(a.close(null==l?null:l.value))}),t.qZA()()(),t.TgZ(11,"nb-card-footer",7)(12,"div",8)(13,"button",9),t.NdJ("click",function(){const a=t.CHM(e).dialogRef,l=t.MAs(10);return t.KtG(a.close(null==l?null:l.value))}),t._uU(14,"Update"),t.qZA()()()()}if(2&i){const e=n.$implicit,o=t.MAs(10);t.xp6(7),t.hij(" ",e," "),t.xp6(6),t.Q6J("disabled",o.value.length<=0)}}function or(i,n){if(1&i&&(t.TgZ(0,"div",21)(1,"span",22)(2,"b"),t._uU(3," Last Action: "),t.qZA()(),t.TgZ(4,"span",22),t._uU(5),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e||null==e.hawki_attributes||null==e.hawki_attributes.supress_vuln?null:e.hawki_attributes.supress_vuln.performed_by," ")}}function rr(i,n){if(1&i&&(t.TgZ(0,"div",21)(1,"span",22)(2,"b"),t._uU(3," Last Action: "),t.qZA()(),t.TgZ(4,"span",22),t._uU(5),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e||null==e.hawki_attributes||null==e.hawki_attributes.accept_risk?null:e.hawki_attributes.accept_risk.performed_by," ")}}function ar(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," Discovered By "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.found_by))}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.found_by," ")}}function lr(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," Scan Type "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.found_by))}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.AsE(" ",null!=e&&e.static_finding?"Static Analysis":""," ",null!=e&&e.dynamic_finding?"Dynamic Analysis":""," ")}}function sr(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",26),t._uU(3," Title "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.title))}),t._uU(5),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.title," ")}}function cr(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",26),t._uU(3," Severity "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.severity))}),t._uU(5),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.severity," ")}}function dr(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," Description "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.description))}),t._uU(5),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.description," ")}}function pr(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",24),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.copyToCB(a))}),t._uU(1),t.qZA()}if(2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e," ")}}function ur(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," Endpoints "),t.qZA(),t.YNc(4,pr,2,1,"div",27),t.qZA(),t.BQk()),2&i){const e=t.oxw().ngIf;t.xp6(4),t.Q6J("ngForOf",null==e?null:e.endpoints)}}function _r(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," Mitigation "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.mitigation))}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.mitigation," ")}}function gr(i,n){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(3).ngIf;t.xp6(1),t.hij(" @",null==e?null:e.component_version,"")}}function mr(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t.YNc(4,gr,2,1,"ng-container",20),t.qZA(),t.BQk()),2&i){const e=t.oxw(2).ngIf;t.xp6(2),t.Oqu(null==e?null:e.component_name),t.xp6(2),t.Q6J("ngIf",null==e?null:e.component_version)}}function fr(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",19)(2,"div",3),t._uU(3," Component "),t.qZA(),t.TgZ(4,"div",28),t.YNc(5,mr,5,2,"ng-container",20),t.qZA()(),t.BQk()),2&i){const e=t.oxw().ngIf;t.xp6(5),t.Q6J("ngIf",null==e?null:e.component_name)}}function hr(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," Date "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.date))}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.date," ")}}function br(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," CWE "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.cwe))}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.cwe," ")}}function xr(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," CVE "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.cve))}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.cve," ")}}function vr(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," Refrences "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.references))}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.references," ")}}function Cr(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," File Path "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.file_path))}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.file_path," ")}}function yr(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," Line No. "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.copyToCB(null==r?null:r.line))}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(5),t.hij(" ",null==e?null:e.line," ")}}function kr(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",23),t._uU(3," Go To Line "),t.qZA(),t.TgZ(4,"div",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw().ngIf,l=t.oxw();return t.KtG(l.goToFile(null==a?null:a.file_path,null==a?null:a.line,null==r||null==r.raw_request_sent_for_execution?null:r.raw_request_sent_for_execution.GIT_URL,null==r||null==r.raw_request_sent_for_execution?null:r.raw_request_sent_for_execution.GIT_COMMIT))}),t._uU(5),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"hr"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw(2).ngIf;t.xp6(5),t.hij(" ",null==e?null:e.line," ")}}function Mr(i,n){if(1&i&&(t.ynx(0),t.YNc(1,kr,8,1,"ng-container",20),t.BQk()),2&i){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",null==e?null:e.line)}}function wr(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",10)(1,"nb-card-header")(2,"div",11)(3,"h6"),t._uU(4," Finding Details "),t.qZA()(),t.TgZ(5,"div",12)(6,"div",13)(7,"button",14),t.NdJ("click",function(){const a=t.CHM(e).ngIf,l=t.oxw(),c=t.MAs(1);return t.KtG(l.open(c,"Are you sure you want to reset the vulnerability state ?","resetFindingState",null==a||null==a._id?null:a._id.$oid))}),t._UZ(8,"nb-icon",15),t.TgZ(9,"span"),t._uU(10," Reset "),t.qZA()(),t.TgZ(11,"button",16),t.NdJ("click",function(){const a=t.CHM(e).ngIf,l=t.oxw(),c=t.MAs(1);return t.KtG(l.open(c,"Are you sure you want to supress the vulnerability ?","suppressFinding",null==a||null==a._id?null:a._id.$oid))}),t._UZ(12,"nb-icon",15),t.TgZ(13,"span"),t._uU(14," Supress "),t.qZA()(),t.TgZ(15,"button",17),t.NdJ("click",function(){const a=t.CHM(e).ngIf,l=t.oxw(),c=t.MAs(1);return t.KtG(l.open(c,"Are you sure you want to accept the risk ?","acceptRisk",null==a||null==a._id?null:a._id.$oid))}),t._UZ(16,"nb-icon",15),t.TgZ(17,"span"),t._uU(18," Known Risk "),t.qZA()()(),t.YNc(19,or,6,1,"div",18),t.YNc(20,rr,6,1,"div",18),t.qZA()(),t.TgZ(21,"nb-card-body",19),t.YNc(22,ar,8,1,"ng-container",20),t.YNc(23,lr,8,2,"ng-container",20),t.YNc(24,sr,6,1,"ng-container",20),t.YNc(25,cr,6,1,"ng-container",20),t.YNc(26,dr,6,1,"ng-container",20),t.YNc(27,ur,5,1,"ng-container",20),t.YNc(28,_r,8,1,"ng-container",20),t.YNc(29,fr,6,1,"ng-container",20),t.YNc(30,hr,8,1,"ng-container",20),t.YNc(31,br,8,1,"ng-container",20),t.YNc(32,xr,8,1,"ng-container",20),t.YNc(33,vr,8,1,"ng-container",20),t.YNc(34,Cr,8,1,"ng-container",20),t.YNc(35,yr,8,1,"ng-container",20),t.YNc(36,Mr,2,1,"ng-container",20),t.ALo(37,"async"),t.qZA()()}if(2&i){const e=n.ngIf,o=t.oxw();t.xp6(7),t.Q6J("appearance",null!=e&&null!=e.hawki_attributes&&null!=e.hawki_attributes.reset_state&&e.hawki_attributes.reset_state.reset?"filled":"outline"),t.xp6(4),t.Q6J("appearance",null!=e&&null!=e.hawki_attributes&&null!=e.hawki_attributes.supress_vuln&&e.hawki_attributes.supress_vuln.supressed?"filled":"outline"),t.xp6(4),t.Q6J("appearance",null!=e&&null!=e.hawki_attributes&&null!=e.hawki_attributes.accept_risk&&e.hawki_attributes.accept_risk.accepted?"filled":"outline"),t.xp6(4),t.Q6J("ngIf",null==e||null==e.hawki_attributes||null==e.hawki_attributes.supress_vuln?null:e.hawki_attributes.supress_vuln.supressed),t.xp6(1),t.Q6J("ngIf",null==e||null==e.hawki_attributes||null==e.hawki_attributes.accept_risk?null:e.hawki_attributes.accept_risk.accepted),t.xp6(2),t.Q6J("ngIf",null==e?null:e.title),t.xp6(1),t.Q6J("ngIf",null==e?null:e.title),t.xp6(1),t.Q6J("ngIf",null==e?null:e.title),t.xp6(1),t.Q6J("ngIf",null==e?null:e.severity),t.xp6(1),t.Q6J("ngIf",null==e?null:e.description),t.xp6(1),t.Q6J("ngIf",null==e?null:e.endpoints),t.xp6(1),t.Q6J("ngIf",null==e?null:e.description),t.xp6(1),t.Q6J("ngIf",null==e?null:e.component_name),t.xp6(1),t.Q6J("ngIf",null==e?null:e.date),t.xp6(1),t.Q6J("ngIf",null==e?null:e.cwe),t.xp6(1),t.Q6J("ngIf",null==e?null:e.cwe),t.xp6(1),t.Q6J("ngIf",null==e?null:e.cwe),t.xp6(1),t.Q6J("ngIf",null==e?null:e.file_path),t.xp6(1),t.Q6J("ngIf",null==e?null:e.line),t.xp6(1),t.Q6J("ngIf",t.lcZ(37,20,o.build_details))}}ot.\u0275fac=function(n){return new(n||ot)},ot.\u0275cmp=t.Xpm({type:ot,selectors:[["app-application-details"]],decls:3,vars:1,consts:[["fxFill","",1,"container"],[1,"container"],[4,"ngFor","ngForOf"],["size","medium","fxFlex","50%",1,"content"],[1,"content"]],template:function(n,e){1&n&&(t.TgZ(0,"nb-card",0)(1,"nb-card-body",1),t.YNc(2,nr,5,0,"div",2),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngForOf",e.test))},dependencies:[m.sg,p.s9,p.yH,s.Asz,s.yKW],styles:["nb-card.container[_ngcontent-%COMP%]{background:var(--background-basic-color-3)}nb-card.container[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin:2rem;background:var(--background-basic-color-1)}nb-card.content[_ngcontent-%COMP%]{background:var(--color-success-400);border-radius:1rem}nb-card.content[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{background:var(--color-success-400)}"]});class Bt{constructor(n,e,o,r){this.apiService=n,this.nbToastrService=e,this.clipboard=o,this.dialogService=r,this.finding_details=(0,N.of)(V.E),this.build_details=(0,N.of)(V.E)}refreshFinding(){this.finding_details=this.apiService.getFindingById(this.finding_id).pipe((0,u.U)(n=>n?.data),(0,_.b)(n=>{this.build_details=this.apiService.getBuildById(n?.buildId?.$oid).pipe((0,P.d)())}))}ngOnInit(){this.refreshFinding()}copyToCB(n){this.clipboard.copy(n),this.nbToastrService.control(n,"Copied to clipboard")}suppressFinding(n,e){this.apiService.suppressFindingById(n,{supressed:!0,comment:e}).subscribe(o=>{this.refreshFinding()})}resetFindingState(n,e){this.apiService.resetStateFindingById(n,{reset:!0,comment:e}).subscribe(o=>{this.refreshFinding()})}acceptRisk(n,e){this.apiService.acceptRiskFindingById(n,{accepted:!0,comment:e}).subscribe(o=>{this.refreshFinding()})}open(n,e,o,r){console.log("dialog",n,o,r),this.dialogService.open(n,{context:e}).onClose.subscribe(a=>{a&&(console.log("dialogclose",a),"acceptRisk"==o?this.acceptRisk(r,a):"suppressFinding"==o?this.suppressFinding(r,a):"resetFindingState"==o&&this.resetFindingState(r,a))})}parseGitUrl(n,e,o,r){return n.startsWith("git@")&&(n="https://"+n.split("git@")[1].replace(":","/"),e.split("/"),n+=r?"/src/"+r+"//"+e+"#-"+o:"/src/master/"+e),n}goToFile(n,e,o,r){return console.log(n,e,o,r),o=this.parseGitUrl(o,n,e,r),console.log("goToFile",o),window.open(o,"_blank"),o}}Bt.\u0275fac=function(n){return new(n||Bt)(t.Y36(k),t.Y36(s.quB),t.Y36(ne),t.Y36(s.Gln))},Bt.\u0275cmp=t.Xpm({type:Bt,selectors:[["app-finding-detail-view"]],inputs:{finding_id:"finding_id"},decls:4,vars:3,consts:[["commentDialog",""],["fxFill","",4,"ngIf"],[1,"dialog"],[1,"field"],[1,"subheading"],["fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Comment",2,"margin-top","2rem",3,"keyup.enter"],["commentInput",""],["fxLayoutAlign","end"],[1,"row"],["nbButton","","size","small","status","danger",3,"disabled","click"],["fxFill",""],["fxFlex","","fxLayout","start"],["fxLayoutGap","1rem","fxLayout","column"],["fxLayout","row","fxLayoutGap","1rem","fxLayout","end end"],["size","small","status","danger","nbButton","",3,"appearance","click"],["icon","info-outline"],["size","small","status","success","nbButton","",3,"appearance","click"],["size","small","status","warning","nbButton","",3,"appearance","click"],["fxLayoutGap","1rem","fxLayout","row",4,"ngIf"],["fxLayout","column"],[4,"ngIf"],["fxLayoutGap","1rem","fxLayout","row"],[1,"paragraph"],[1,"field","item"],[1,"field_details","item",3,"click"],["fxFlex",""],[1,"field","item","item"],["class","field_details item",3,"click",4,"ngFor","ngForOf"],[1,"field_details"]],template:function(n,e){1&n&&(t.YNc(0,ir,15,2,"ng-template",null,0,t.W1O),t.YNc(2,wr,38,22,"nb-card",1),t.ALo(3,"async")),2&n&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,e.finding_details)))},dependencies:[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.yKW,s.XWE,s.ndF,s.h8i,m.Ov],styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";.field[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:400;padding:.5rem;color:var(--text-hint-color);padding-left:10px;border-left:4px solid var(--color-basic-200);margin-bottom:1rem}.field_details[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:500;padding:.5rem;padding-left:20px;color:var(--text-basic-color)}nb-card[_ngcontent-%COMP%]{margin:0!important;background:var(--background-basic-color-2)!important;max-height:calc(var(--layout-min-height))}nb-card-header[_ngcontent-%COMP%]{background:var(--background-basic-color-1)!important}nb-card-body[_ngcontent-%COMP%]{overflow-wrap:break-word}.chip[_ngcontent-%COMP%]{font-weight:500;color:#fff;background-color:var(--color-primary-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px}.sub_chip[_ngcontent-%COMP%]{font-weight:500;color:var(--color-basic-200);background-color:var(--color-danger-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px;margin-top:1rem}hr[_ngcontent-%COMP%]{display:block;height:1px;border:0;border-top:1px solid var(--text-alternate-color);margin:1em 0;padding:0;margin-bottom:1rem}.item[_ngcontent-%COMP%]{border-radius:.3rem;font-size:1rem;line-height:1.5rem;padding:var(--button-ghost-medium-padding);padding-right:0!important;max-lines:2;white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis}.item[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:1s}button[_ngcontent-%COMP%]{text-transform:capitalize!important}']});class Nt{constructor(){this.percentColors=[{pct:0,color:{r:43,g:200,b:25}},{pct:.5,color:{r:255,g:178,b:0}},{pct:1,color:{r:240,g:14,b:74}}]}getColorForPercentage(n){let e;return e=n<30?this.percentColors[0].color:n<60?this.percentColors[1].color:this.percentColors[2].color,"rgb("+[e.r,e.g,e.b].join(",")+")"}transform(n,...e){if(null==n&&(n=""),e.indexOf("color")>=0){switch(n.toString().toLowerCase()){case"low":return"#bfbfc3";case"medium":return"#ffc94d";case"high":return"#ff708d";case"critical":return"#f90d0d"}return"#bfbfc3"}switch(n.toString().toLowerCase()){case"low":return"basic";case"medium":return"warning";case"high":case"critical":return"danger"}return"basic"}}Nt.\u0275fac=function(n){return new(n||Nt)},Nt.\u0275pipe=t.Yjl({name:"severity",type:Nt,pure:!0});const Tr=["findingStatsView"],Ar=["editTmpl"];function Or(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",40),t.NdJ("mouseover",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onMouseOver(a))})("mouseout",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onMouseOut())}),t.TgZ(1,"div",41)(2,"span"),t._uU(3,"\xb7"),t.qZA(),t._uU(4),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.Q6J("disabled","FAIL"==(null==e?null:e.status))("value",null==e||null==e._id?null:e._id.$oid),t.xp6(2),t.Gre("dot  ",null==e?null:e.status,""),t.ekj("previousBuild",o.previousBuildId==(null==e||null==e._id?null:e._id.$oid))("currentBuild",o.currentBuildId==(null==e||null==e._id?null:e._id.$oid)),t.xp6(2),t.hij(" #",null==e?null:e.buildNo," ")}}function Pr(i,n){if(1&i&&(t.TgZ(0,"div",36)(1,"div",37),t._uU(2," Build No. "),t.qZA(),t.TgZ(3,"nb-select",38),t.ALo(4,"async"),t.YNc(5,Or,5,10,"nb-option",39),t.ALo(6,"async"),t.qZA()()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("nbSpinner",!t.lcZ(4,3,e.builds))("formControl",e.selectedBuildId),t.xp6(2),t.Q6J("ngForOf",t.lcZ(6,5,e.builds))}}function Zr(i,n){1&i&&t._UZ(0,"nb-icon",42)}function Ir(i,n){1&i&&t._UZ(0,"nb-icon",43)}function Sr(i,n){1&i&&(t.TgZ(0,"div",44)(1,"button",18),t._uU(2," Description "),t.qZA()())}function Fr(i,n){1&i&&t._UZ(0,"nb-icon",42)}function Lr(i,n){1&i&&t._UZ(0,"nb-icon",43)}function Ur(i,n){1&i&&t._UZ(0,"nb-icon",42)}function Br(i,n){1&i&&t._UZ(0,"nb-icon",43)}function Nr(i,n){1&i&&t._UZ(0,"nb-tag",59)}function qr(i,n){1&i&&t._UZ(0,"nb-tag",60)}function Jr(i,n){if(1&i&&(t.TgZ(0,"div",61),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e?null:e.description," ")}}function Dr(i,n){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" @",null==e?null:e.component_version,"")}}function Qr(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"span",62),t._uU(2),t.qZA(),t.TgZ(3,"span",63),t.YNc(4,Dr,2,1,"ng-container",58),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",null==e?null:e.component_name," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.component_version)}}function zr(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",45),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onClickFinding(a))}),t.TgZ(1,"div",46)(2,"div",47)(3,"div",48),t._uU(4),t.qZA()(),t.TgZ(5,"div",49)(6,"div",50),t._uU(7),t.qZA(),t.YNc(8,Nr,1,0,"nb-tag",51),t.YNc(9,qr,1,0,"nb-tag",52),t.qZA(),t.TgZ(10,"div",53)(11,"div",54),t._uU(12),t.qZA()(),t.TgZ(13,"div",55),t._uU(14),t.qZA(),t.TgZ(15,"div",56),t._uU(16),t.qZA(),t.TgZ(17,"div",56),t._uU(18),t.qZA(),t.YNc(19,Jr,2,1,"div",57),t.TgZ(20,"div",55)(21,"div"),t._uU(22),t.qZA(),t.TgZ(23,"div"),t.YNc(24,Qr,5,2,"ng-container",58),t.qZA()(),t.TgZ(25,"div",53)(26,"div",54),t.ALo(27,"severity"),t._uU(28),t.qZA()()()()}if(2&i){const e=n.$implicit;t.ekj("inactive",0==(null==e?null:e.active)),t.xp6(4),t.hij(" ",null==e?null:e.index," "),t.xp6(3),t.hij(" ",null==e?null:e.title," "),t.xp6(1),t.Q6J("ngIf",null==e||null==e.hawki_attributes||null==e.hawki_attributes.supress_vuln?null:e.hawki_attributes.supress_vuln.supressed),t.xp6(1),t.Q6J("ngIf",null==e||null==e.hawki_attributes||null==e.hawki_attributes.accept_risk?null:e.hawki_attributes.accept_risk.accepted),t.xp6(3),t.hij(" ",null!=e&&e.active?"Active":"Inactive"," "),t.xp6(2),t.hij(" ",null==e?null:e.date," "),t.xp6(2),t.hij(" ",null==e?null:e.cwe," "),t.xp6(2),t.hij(" ",null==e?null:e.cve," "),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(3),t.hij(" ",null==e?null:e.found_by," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.component_name),t.xp6(2),t.Jzz("\n                            border          : 2px solid ",t.xi3(27,17,null==e?null:e.severity,"color")," "),t.xp6(2),t.hij(" ",null==e?null:e.severity," ")}}function Rr(i,n){if(1&i&&(t.TgZ(0,"nb-option",64)(1,"div"),t._uU(2),t.qZA()()),2&i){const e=n.index;t.Q6J("value",e),t.xp6(2),t.hij(" Page ",e+1," ")}}function Gr(i,n){if(1&i&&t._UZ(0,"app-finding-detail-view",65),2&i){const e=n.context;t.Q6J("finding_id",null==e||null==e.finding_id?null:e.finding_id.$oid)}}const Er=function(){return[]};class Z{toggleSort(n){null==this.sortFindingFilter[n]||0==this.sortFindingFilter[n]?(this.sortFindingFilter={},this.sortFindingFilter[n]=1):this.sortFindingFilter[n]=1==this.sortFindingFilter[n]?-1:1,console.log("sortFilter",this.sortFindingFilter),this.refreshFindings()}getBuildData(n){return this.apiService.getDevsecopsBuildData({businessId:n?.businessId,projectId:n?.projectId,platformId:n?.platformId,applicationId:n?.application?.applicationId},{}).pipe((0,_.b)(console.log))}refreshFindings(){this.triggerRefresh.next(!0)}constructor(n,e,o,r,a){this.apiService=n,this.drawerMngr=e,this.nbSidebarService=o,this.router=r,this.activatedRoute=a,this.math=Math,this.findingsListLimit=20,this.totalFindings=0,this.sortFindingFilter={numerical_severity:1},this.lastFindingIdOffset=0,this.lastFindingPageLength=0,this.finishedLoadingFindings$=!1,this.loadMoreFindings$=new F.X(0),this.selectedBuildId=new d.NI,this.selectedApp=this.apiService.selectedApp,this.builds=this.activatedRoute.paramMap.pipe((0,u.U)(l=>l?.get("buildId")),(0,v.h)(l=>!!l),(0,h.w)(l=>this.selectedApp.pipe((0,v.h)(c=>!!c?.identifier),(0,h.w)(c=>(console.log("switchMap",c),this.getBuildData(c))),(0,_.b)(c=>{c?.length>0&&this.selectedBuildId.setValue(l)}),(0,le.B)(),(0,O.O)(void 0)))),this._builds=this.selectedApp.pipe((0,v.h)(l=>!!l?.identifier),(0,h.w)(l=>(console.log("switchMap",l),this.getBuildData(l))),(0,_.b)(l=>{l?.length>0&&this.selectedBuildId.setValue(l[0]?._id?.$oid)}),(0,le.B)(),(0,O.O)(void 0)),this.selectedBuildIdFilter=new F.X(void 0),this.findingStats=this.selectedBuildId.valueChanges.pipe((0,O.O)(this.selectedBuildId.value),(0,_.b)(l=>{console.debug("selectedBuildId",l)}),(0,v.h)(l=>!!l),(0,u.U)(l=>l||[]),(0,h.w)(l=>this.selectedApp.pipe((0,u.U)(c=>({selectedApp:c,selectedBuildId:{$oid:l}})))),(0,h.w)(l=>this.apiService.getFindingStats(l.selectedApp?.application?.applicationId,l.selectedBuildId))),this.triggerRefresh=new F.X(void 0),this.triggerReset=new W.x,this.loadingFindings$=!1,this.findings=this.triggerRefresh.asObservable().pipe((0,_.b)(l=>{this.loadingFindings$=!0}),(0,h.w)(l=>this.selectedBuildId.valueChanges.pipe((0,_.b)(c=>{this.triggerReset.next(void 0),this.loadingFindings$=!0,this.lastFindingIdOffset=0,this.lastFindingPageLength=0,this.loadMoreFindings$.next(this.lastFindingIdOffset),this.finishedLoadingFindings$=!1}),(0,O.O)(this.selectedBuildId.value))),(0,v.h)(l=>!!l),(0,u.U)(l=>l||[]),(0,h.w)(l=>this.selectedApp.pipe((0,u.U)(c=>({selectedApp:c,selectedBuildId:{$oid:l},severityFilter:{},findingStats:{},totalFindings:0})))),(0,h.w)(l=>this.findingStatsView.findingStats.pipe((0,u.U)(c=>(l.findingStats=c,l)))),(0,h.w)(l=>this.findingStatsView.severityFilter.pipe((0,_.b)(c=>{this.triggerReset.next(void 0),this.loadingFindings$=!0,this.totalFindings=0}),(0,u.U)(c=>{let f=[];return Object.keys(c).forEach(g=>{if(c[g]&&(f.push(g),c[g])){let b=g.toLowerCase();b in l.findingStats&&(this.totalFindings+=l.findingStats[b],console.log("tappper",l.findingStats[b],g.toLowerCase(),c[g],l.findingStats,l.totalFindings),l.totalFindings=l.findingStats[b])}}),console.log("tappper",l.totalFindings),l.severityFilter=f,l}))),(0,h.w)(l=>(console.log("sortFindingFilter","loadMoreFindings"),this.loadMoreFindings$.pipe((0,u.U)(c=>l)))),(0,h.w)(l=>(console.log("sortFindingFilter",this.sortFindingFilter),this.apiService.getFindings(l.selectedApp?.application?.applicationId,l.selectedBuildId,l?.severityFilter,this.sortFindingFilter,this.lastFindingIdOffset,this.findingsListLimit).pipe((0,_.b)(c=>{this.lastFindingPageLength=c.length,this.lastFindingIdOffset+=this.lastFindingPageLength,c.length<this.findingsListLimit&&(this.finishedLoadingFindings$=!0)})))),(0,O.O)(void 0)),this._findings=(0,Xt.T)(this.findings,this.triggerReset).pipe((0,me.R)((l,c)=>(console.log("_findings_findings",l,c),null==c?(this.lastFindingPageLength=0,this.lastFindingIdOffset=0,this.finishedLoadingFindings$=!1,[]):(c?.map((f,g)=>(f.index=this.lastFindingIdOffset-this.lastFindingPageLength+g+1,f)),c))),(0,_.b)(l=>{this.loadingFindings$=!1})),this.currentBuildId=void 0,this.previousBuildId=void 0}ngOnInit(){this.activatedRoute.parent.paramMap.pipe((0,_.b)(n=>{console.log("logger2",n)}),(0,u.U)(n=>n?.get("buildId")),(0,v.h)(n=>!!n),(0,_.b)(n=>{console.log("___",n),this.selectedBuildId.setValue(n,{emitModelToViewChange:!0,emitEvent:!1,emitViewToModelChange:!0})})).subscribe()}ngOnDestroy(){this.nbSidebarService.expand("buildList")}loadMoreStatic(){}onClickFinding(n){this.openDrawer(n)}openDrawer(n,e="left",o,r=!0,a=this.editTmpl,l=!0,c){this.drawerMngr.create({direction:G.Left,template:a,size:o,context:{finding_id:n?._id},closeOnOutsideClick:r,parentContainer:c,isRoot:l})}onMouseOver(n){this.currentBuildId=n?._id?.$oid,this.previousBuildId=n?.parser_meta_data?.previous_build_id?.$oid}onMouseOut(){this.currentBuildId=void 0,this.previousBuildId=void 0}bottomThresholdTrigger(n){}nextPage(){1!=this.loadingFindings$&&(this.loadingFindings$=!0,this.loadMoreFindings$.next(this.lastFindingIdOffset))}goto(n){this.loadingFindings$=!0,this.lastFindingIdOffset=n*this.findingsListLimit,this.loadMoreFindings$.next(this.lastFindingIdOffset)}previousPage(){1!=this.loadingFindings$&&(this.lastFindingIdOffset<=this.findingsListLimit||(this.loadingFindings$=!0,this.lastFindingIdOffset=this.lastFindingIdOffset-this.lastFindingPageLength-this.findingsListLimit,this.loadMoreFindings$.next(this.lastFindingIdOffset)))}}Z.\u0275fac=function(n){return new(n||Z)(t.Y36(k),t.Y36(E),t.Y36(s.lzT),t.Y36(C.F0),t.Y36(C.gz))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-findings"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Tr,7),t.Gf(Ar,5)),2&n){let o;t.iGM(o=t.CRH())&&(e.findingStatsView=o.first),t.iGM(o=t.CRH())&&(e.editTmpl=o.first)}},decls:65,vars:25,consts:[["fxFill","","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data"],["fxLayoutAlign","space-between","fxLayout","row"],["fxLayoutAlign","start"],["class","nb-select","fxLayout","column",4,"ngIf"],["fxLayout","column",2,"margin","0.5rem"],[3,"findingStats"],["findingStatsView",""],[2,"margin-top","0px","margin-bottom","0px"],["fxLayoutAlign","center start","fxLayout","row"],["fxFlex","0 0 3rem","fxLayoutAlign","start start",1,"cell_header"],["fullWidth","","size","medium","status","basic","nbButton","","ghost","",1,"left",3,"click"],["icon","hash-outline"],["fxFlex","1 0","fxLayoutAlign","start start",1,"cell_header"],["disabled","","fullWidth","","size","medium","status","basic","nbButton","","ghost","",1,"left"],["fxFlex","0 0 7rem","fxLayoutAlign","center start",1,"cell_header"],["icon","arrow-up-outline",4,"ngIf"],["icon","arrow-down-outline",4,"ngIf"],["fxFlex","0 0 10rem","fxLayoutAlign","start start",1,"cell_header"],["fullWidth","","size","medium","status","basic","nbButton","","ghost","",1,"left"],["fxFlex","0 0 5rem","fxLayoutAlign","center start",1,"cell_header"],["fxHide","","fxShow.gt-md","","fxFlex","0 0 5rem","fxLayoutAlign","center start",1,"cell_header"],["class","cell_header","fxFlex","","fxLayoutAlign","center start",4,"ngIf"],["fxFlex","0 0 10rem","fxLayoutAlign","center start",1,"cell_header"],["fxFlex","0 0 7rem","fxLayoutAlign","start start",1,"cell_header"],["fxFlex",""],[3,"inactive","click",4,"ngFor","ngForOf"],["fxFlex","","fxLayoutAlign","space-between"],["size","medium","status","success","nbButton","","ghost","",2,"margin-left","1rem",3,"disabled","click"],["icon","arrow-left-outline"],["fxFlex","","fxLayoutAlign","center center"],["placeholder","Select Showcase",3,"selected","selectedChange"],[1,"page"],[3,"value",4,"ngFor","ngForOf"],["size","medium","status","success","nbButton","","ghost","",2,"margin-right","1rem",3,"disabled","click"],["icon","arrow-right-outline"],["editTmpl",""],["fxLayout","column",1,"nb-select"],[1,"select_heading"],["fullWidth","","optionsListClass","nb-option","optionsPanelClass","nb-option","size","medium","placeholder","Build Id",3,"nbSpinner","formControl"],["style","overflow: hidden;",3,"disabled","value","mouseover","mouseout",4,"ngFor","ngForOf"],[2,"overflow","hidden",3,"disabled","value","mouseover","mouseout"],["fxLayout","row"],["icon","arrow-up-outline"],["icon","arrow-down-outline"],["fxFlex","","fxLayoutAlign","center start",1,"cell_header"],[3,"click"],["fxLayout","row","fxFlex",""],["fxLayoutAlign","center center","fxFlex","0 0 3rem",1,"item",2,"padding","0"],["fxFlex","","fxLayoutAlign","center center",2,"padding","0"],["fxFlex","1 0","fxLayoutALign","start",1,"item"],[2,"display","inline","line-break","anywhere"],["appearance","outline","status","danger","class","buildcount","size","tiny","text","Supressed",4,"ngIf"],["appearance","outline","status","danger","class","buildcount","size","tiny","text","Known Risk",4,"ngIf"],["fxLayoutAlign","start start","fxFlex","0 0 7rem",1,"item"],[1,"severity"],["fxFlex","0 0 10rem",1,"item"],["fxFlex","0 0 5rem",1,"item"],["class","item","class"," item ","fxFlex","",4,"ngIf"],[4,"ngIf"],["appearance","outline","status","danger","size","tiny","text","Supressed",1,"buildcount"],["appearance","outline","status","danger","size","tiny","text","Known Risk",1,"buildcount"],["fxFlex","",1,"item"],[1,"chip"],[1,"sub_chip"],[3,"value"],[3,"finding_id"]],template:function(n,e){1&n&&(t.TgZ(0,"nb-card",0)(1,"nb-card-header",1)(2,"div",2),t.YNc(3,Pr,7,7,"div",3),t.TgZ(4,"div",4),t._UZ(5,"app-finding-stats",5,6),t.ALo(7,"async"),t.qZA()()(),t.TgZ(8,"nb-card-header",7)(9,"div",8)(10,"div",9)(11,"button",10),t.NdJ("click",function(){return e.toggleSort("numerical_severity")}),t._UZ(12,"nb-icon",11),t.qZA()(),t.TgZ(13,"div",12)(14,"button",13),t._uU(15," Title "),t.qZA()(),t.TgZ(16,"div",14)(17,"button",10),t.NdJ("click",function(){return e.toggleSort("active")}),t.YNc(18,Zr,1,0,"nb-icon",15),t.YNc(19,Ir,1,0,"nb-icon",16),t._uU(20," Status "),t.qZA()(),t.TgZ(21,"div",17)(22,"button",18),t._uU(23," Date "),t.qZA()(),t.TgZ(24,"div",19)(25,"button",18),t._uU(26," CWE "),t.qZA()(),t.TgZ(27,"div",20)(28,"button",18),t._uU(29," CVE "),t.qZA()(),t.YNc(30,Sr,3,0,"div",21),t.TgZ(31,"div",22)(32,"button",10),t.NdJ("click",function(){return e.toggleSort("found_by")}),t.YNc(33,Fr,1,0,"nb-icon",15),t.YNc(34,Lr,1,0,"nb-icon",16),t._uU(35," Tool "),t.qZA()(),t.TgZ(36,"div",23)(37,"button",10),t.NdJ("click",function(){return e.toggleSort("numerical_severity")}),t.YNc(38,Ur,1,0,"nb-icon",15),t.YNc(39,Br,1,0,"nb-icon",16),t._uU(40," Severity "),t.qZA()()()(),t.TgZ(41,"nb-list",24),t.YNc(42,zr,29,20,"nb-list-item",25),t.ALo(43,"async"),t.qZA(),t.TgZ(44,"nb-card-footer")(45,"div",26)(46,"button",27),t.NdJ("click",function(){return e.previousPage()}),t._UZ(47,"nb-icon",28),t._uU(48," Prev "),t.qZA(),t.TgZ(49,"div",29)(50,"nb-select",30),t.NdJ("selectedChange",function(r){return e.goto(r)}),t.TgZ(51,"nb-select-label")(52,"div"),t._uU(53," Page "),t.TgZ(54,"span",31),t._uU(55),t.qZA(),t._uU(56," of "),t.TgZ(57,"span",31),t._uU(58),t.qZA()()(),t.YNc(59,Rr,3,2,"nb-option",32),t.qZA()(),t.TgZ(60,"button",33),t.NdJ("click",function(){return e.nextPage()}),t._uU(61," Next "),t._UZ(62,"nb-icon",34),t.qZA()()()(),t.YNc(63,Gr,1,1,"ng-template",null,35,t.W1O)),2&n&&(t.xp6(3),t.Q6J("ngIf",!1),t.xp6(2),t.Q6J("findingStats",t.lcZ(7,20,e.findingStats)),t.xp6(13),t.Q6J("ngIf",1==(null==e.sortFindingFilter?null:e.sortFindingFilter.active)),t.xp6(1),t.Q6J("ngIf",-1==(null==e.sortFindingFilter?null:e.sortFindingFilter.active)),t.xp6(11),t.Q6J("ngIf",!1),t.xp6(3),t.Q6J("ngIf",1==(null==e.sortFindingFilter?null:e.sortFindingFilter.found_by)),t.xp6(1),t.Q6J("ngIf",-1==(null==e.sortFindingFilter?null:e.sortFindingFilter.found_by)),t.xp6(4),t.Q6J("ngIf",-1==(null==e.sortFindingFilter?null:e.sortFindingFilter.numerical_severity)),t.xp6(1),t.Q6J("ngIf",1==(null==e.sortFindingFilter?null:e.sortFindingFilter.numerical_severity)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(43,22,e._findings)),t.xp6(4),t.Q6J("disabled",e.loadingFindings$||e.math.ceil(e.lastFindingIdOffset/e.findingsListLimit)<=1),t.xp6(4),t.Q6J("selected",0),t.xp6(4),t.ekj("page_no",!e.loadingFindings$),t.xp6(1),t.hij(" ",e.math.ceil(e.lastFindingIdOffset/e.findingsListLimit)," "),t.xp6(2),t.ekj("page_no",!e.loadingFindings$),t.xp6(1),t.hij(" ",e.math.ceil(e.totalFindings/e.findingsListLimit)," "),t.xp6(1),t.Q6J("ngForOf",t.DdM(24,Er).constructor(e.math.ceil(e.totalFindings/e.findingsListLimit))),t.xp6(1),t.Q6J("disabled",e.loadingFindings$||e.math.ceil(e.lastFindingIdOffset/e.findingsListLimit)>=e.math.ceil(e.totalFindings/e.findingsListLimit)))},dependencies:[m.sg,m.O5,p.xw,p.Wh,p.s9,p.yH,re.b8,s.fMN,s.DPz,s.Asz,s.XWE,s.ndF,s.zP_,s.qBV,s.rs,s.aGg,s.q51,d.JJ,d.oH,s.Q7R,s.c2L,Bt,mt,m.Ov,Nt],styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";.container[_ngcontent-%COMP%]{display:flex;align-items:center}.test[_ngcontent-%COMP%]{flex:1}td[_ngcontent-%COMP%]{text-transform:capitalize}tr[_ngcontent-%COMP%]{margin-bottom:10px}th[_ngcontent-%COMP%]{font-style:bold;color:#000;background:var(--select-filled-basic-background-color);border-color:var(--select-filled-basic-border-color)}th[_ngcontent-%COMP%]{padding:0;text-align:center}._heading[_ngcontent-%COMP%]{font-size:1rem;margin:.2rem;font-weight:400}._subheading[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500}.opt[_ngcontent-%COMP%]{margin-left:1rem;font-size:.8rem;font-weight:500}.optH[_ngcontent-%COMP%]{margin-left:0rem;font-weight:600;font-size:.8rem}h5[_ngcontent-%COMP%]{font-size:1.2rem;margin-top:.3rem;padding:0;margin-bottom:.3rem;font-weight:400}.loader[_ngcontent-%COMP%]{padding-top:5rem;padding-bottom:5rem}.content[_ngcontent-%COMP%]{display:flex}.flex[_ngcontent-%COMP%]{flex:1}.picture[_ngcontent-%COMP%]{background-position:center;background-size:cover;position:relative;border-top-left-radius:.25rem;border-top-right-radius:.25rem;flex:1;background-image:url(/assets/rocket.png)}.card[_ngcontent-%COMP%]{padding:0}.icons-block[_ngcontent-%COMP%]{width:1.4rem;height:1.4rem;border-radius:50%;background-color:#fff;box-shadow:0 .5rem 1.25rem #dae0eb99;margin-left:1rem;margin-right:1rem}.stateicon[_ngcontent-%COMP%]{width:1.8rem;height:1.8rem}.icons-block[_ngcontent-%COMP%]:hover{box-shadow:0 1rem 1.95rem #dae0eb99}.status-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#484747}.stateicon[_ngcontent-%COMP%]{margin-left:auto}.heading[_ngcontent-%COMP%]{font-weight:600}.low[_ngcontent-%COMP%]{background-color:var(--button-filled-primary-background-color)}.medium[_ngcontent-%COMP%]{background-color:var(--button-filled-warning-background-color)}.high[_ngcontent-%COMP%], .critical[_ngcontent-%COMP%]{background-color:var(--button-filled-danger-background-color)}nb-select[_ngcontent-%COMP%]{align-self:center}.accordianitem[_ngcontent-%COMP%]{width:100%}.subName[_ngcontent-%COMP%], .headName[_ngcontent-%COMP%]{font-weight:600;height:inherit}.name[_ngcontent-%COMP%]{font-weight:400;height:inherit}.nooverflow[_ngcontent-%COMP%]{overflow:hidden}.textSpace[_ngcontent-%COMP%]{padding-left:1rem;text-overflow:ellipsis;overflow:hidden;flex:1}.textSpace1[_ngcontent-%COMP%]{padding-left:1rem;text-overflow:ellipsis;overflow:auto;flex:1;font-size:medium}.textSpaceLower[_ngcontent-%COMP%]{padding-left:3.4rem;text-overflow:ellipsis;white-space:nowrap}.controlpanelbg[_ngcontent-%COMP%]{background:var(--color-primary-default)}.controlpanelbg2[_ngcontent-%COMP%]{background:var(--color-secondary-default)}h3[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem;line-height:2rem}.buttonspace[_ngcontent-%COMP%]{margin-right:10px}.nomar[_ngcontent-%COMP%]{margin:0;padding:0}.usericon[_ngcontent-%COMP%]{color:var(--color-primary-default)}nb-list[_ngcontent-%COMP%]{background:var(--background-basic-color-2)!important;overflow-x:hidden;margin:10px;padding:4px}.bold[_ngcontent-%COMP%]{font-weight:650}.nomar[_ngcontent-%COMP%]{margin:0}nb-card[_ngcontent-%COMP%]{margin:0;border-radius:0!important}.innercard[_ngcontent-%COMP%]{margin:0}nb-card-header[_ngcontent-%COMP%]{background:var(--background-basic-color-3)!important;margin:10px;padding:4px;overflow:hidden}.page[_ngcontent-%COMP%]{margin-right:.6rem;margin-left:.6rem}.page_no[_ngcontent-%COMP%]{font-size:1rem;font-weight:800}nb-card-footer[_ngcontent-%COMP%]{background:var(--background-basic-color-3)!important;margin:3px;padding:4px;overflow:hidden}nb-card-body[_ngcontent-%COMP%]{padding:0}.left[_ngcontent-%COMP%]{padding-right:0!important}.right[_ngcontent-%COMP%]{padding-left:0!important}.ipaddress[_ngcontent-%COMP%]{font-size:.9rem}button[_ngcontent-%COMP%]{text-transform:capitalize!important}.left[_ngcontent-%COMP%]{justify-content:start!important}.captialize[_ngcontent-%COMP%]{text-transform:capitalize!important}input[_ngcontent-%COMP%]{max-width:150px!important}.cell_header[_ngcontent-%COMP%]{border-left:1px solid var(--select-outline-basic-border-color);border-right:1px solid var(--select-outline-basic-border-color)}nb-list-item[_ngcontent-%COMP%]{margin-bottom:5px;overflow:hidden;padding:1px}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:.5s;filter:alpha(opacity=30)}nb-list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-radius:.3rem;font-size:1rem;line-height:1.5rem;padding:var(--button-ghost-medium-padding);padding-right:0!important;max-lines:2;white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis}nb-list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:1s}nb-list-item.dasd[_ngcontent-%COMP%]:hover{background:var(--color-basic-100)!important;transition:1s}nb-list-item.dasd[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]{padding:var(--button-ghost-medium-padding);padding-right:0!important;color:#000}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-primary-400);color:#fff}nb-list-item.selected[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff!important}nb-list-item.selected.primary[_ngcontent-%COMP%]{background-color:var(--color-primary-500)}nb-list-item.selected.success[_ngcontent-%COMP%]{background-color:var(--color-success-500)}nb-list-item.selected.danger[_ngcontent-%COMP%]{background-color:var(--color-danger-500)}nb-list-item.selected.warning[_ngcontent-%COMP%]{background-color:var(--color-warning-500)}nb-list-item.selected.basic[_ngcontent-%COMP%]{background-color:var(--color-basic-500)}nb-list-item.inactive[_ngcontent-%COMP%]{opacity:.4}.dot[_ngcontent-%COMP%]{font-size:60px;margin-right:1rem;margin-left:.3rem;color:var(--color-primary-500)}.dot.SUCCESS[_ngcontent-%COMP%]{color:var(--color-success-500)}.dot.FAIL[_ngcontent-%COMP%]{color:var(--color-danger-500)}.dot.currentBuild[_ngcontent-%COMP%]{color:var(--color-danger-600)}.dot.previousBuild[_ngcontent-%COMP%]{color:var(--color-danger-100)}.src[_ngcontent-%COMP%], .dst[_ngcontent-%COMP%]{font-weight:650;font-size:1.2rem}.date[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}[_nghost-%COMP%]{width:100%}.nb-select[_ngcontent-%COMP%]{margin-right:1rem;margin-left:1rem}button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{justify-content:start;text-transform:capitalize!important}.title[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2rem;overflow-wrap:break-word;word-break:break-all}.caption[_ngcontent-%COMP%]{overflow-wrap:break-word;word-break:break-all}.nomar[_ngcontent-%COMP%]{margin:0;padding:10px;padding-left:1rem;padding-right:1rem}nb-card[_ngcontent-%COMP%]{height:0;max-height:0}nb-card-body[_ngcontent-%COMP%]{padding:10px}.multiline[_ngcontent-%COMP%]{margin:5px;text-transform:capitalize}nb-list-item[_ngcontent-%COMP%], nb-list-item.hidden[_ngcontent-%COMP%]:nth-child(even) + nb-list-item[_ngcontent-%COMP%]:nth-of-type(odd) + nb-list-item[_ngcontent-%COMP%]:nth-of-type(even), nb-list-item.hidden[_ngcontent-%COMP%]:nth-child(even) + nb-list-item.hidden[_ngcontent-%COMP%]:nth-child(odd) ~ nb-list-item[_ngcontent-%COMP%]:nth-of-type(odd){background:none}.marg[_ngcontent-%COMP%]{margin-top:10px;white-space:break-spaces;border-right:#000;border-right-width:2px}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f0f0f0}.box[_ngcontent-%COMP%]{position:relative;max-width:600px;width:90%;height:400px;background:#fff;box-shadow:0 0 15px #0000001a}.dst[_ngcontent-%COMP%]:hover, .src[_ngcontent-%COMP%]:hover{text-decoration:underline}.severity[_ngcontent-%COMP%]{font-weight:500;border:2px solid var(--color-primary-400);color:var(--ext-basic-color);background-color:transparent;font-size:.8rem;line-height:1.5rem;border-radius:9px}.chip[_ngcontent-%COMP%]{font-weight:500;color:var(--ext-basic-color);background-color:var(--color-primary-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px}.sub_chip[_ngcontent-%COMP%]{font-weight:500;color:var(--ext-basic-color);background-color:var(--color-danger-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px}.tool[_ngcontent-%COMP%]{font-size:1.2rem;border-right:1px solid rgba(175,177,182,.678);margin-bottom:1rem;margin-top:1rem}.nb-select[_ngcontent-%COMP%]{margin:.5rem;width:250px!important;max-width:250px!important}.select_heading[_ngcontent-%COMP%]{font-size:1rem!important;color:var(--color-primary-400)!important;margin-left:10px;margin-top:.5rem;font-weight:550;font-size:.8rem}.nb-option[_ngcontent-%COMP%]{max-width:250px!important}.timeline-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid;border-color:#e5e6e9 #dfe0e4 #d0d1d5;border-radius:3px;padding:12px;margin:0 auto}@keyframes _ngcontent-%COMP%_placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:_ngcontent-%COMP%_placeHolderShimmer;background:#f6f7f8;background:linear-gradient(to right,#eeeeee 8%,#dddddd 18%,#eeeeee 33%);height:40px;position:relative}.background-masker[_ngcontent-%COMP%]{background:#fff;position:absolute}.background-masker.header-top[_ngcontent-%COMP%], .background-masker.header-bottom[_ngcontent-%COMP%], .background-masker.subheader-bottom[_ngcontent-%COMP%]{top:0;left:40px;right:0;height:10px}.background-masker.header-left[_ngcontent-%COMP%], .background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:10px;left:40px;height:8px;width:10px}.background-masker.header-bottom[_ngcontent-%COMP%]{top:18px;height:6px}.background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:24px;height:6px}.background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{width:auto;left:300px;right:0}.background-masker.subheader-bottom[_ngcontent-%COMP%]{top:30px;height:10px}.background-masker.content-top[_ngcontent-%COMP%], .background-masker.content-second-line[_ngcontent-%COMP%], .background-masker.content-third-line[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%], .background-masker.content-first-end[_ngcontent-%COMP%]{top:40px;left:0;right:0;height:6px}.background-masker.content-top[_ngcontent-%COMP%]{height:20px}.background-masker.content-first-end[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%]{width:auto;left:380px;right:0;top:60px;height:8px}.background-masker.content-second-line[_ngcontent-%COMP%]{top:68px}.background-masker.content-second-end[_ngcontent-%COMP%]{left:420px;top:74px}.background-masker.content-third-line[_ngcontent-%COMP%]{top:82px}.background-masker.content-third-end[_ngcontent-%COMP%]{left:300px;top:88px}']});class st{constructor(){}ngOnInit(){}}st.\u0275fac=function(n){return new(n||st)},st.\u0275cmp=t.Xpm({type:st,selectors:[["app-empty-view"]],decls:0,vars:0,template:function(n,e){}});class bt{constructor(n,e){this.router=n,this.activatedRoute=e}ngOnInit(){}configure(){this.router.navigate(["../../config"],{relativeTo:this.activatedRoute})}reloadBuiilds(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}function $r(i,n){if(1&i&&(t.TgZ(0,"nb-list-item")(1,"div",5),t._UZ(2,"img",6),t.TgZ(3,"div"),t._uU(4),t.qZA()()()),2&i){const e=n.$implicit;t.xp6(2),t.Q6J("src",null==e?null:e.icon,t.LSH),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}bt.\u0275fac=function(n){return new(n||bt)(t.Y36(C.F0),t.Y36(C.gz))},bt.\u0275cmp=t.Xpm({type:bt,selectors:[["app-null-builds"]],decls:12,vars:0,consts:[["fxFill","","fxLayoutAlign","center center"],["accent","danger"],["fxLayoutAlign","space-around center","fxLayout","column"],[1,"text-alternate"],["fxFlex","","hero","","status","danger","shape","round","nbButton","","size","giant",3,"click"],["fxFlex","","hero","","status","primary","shape","round","nbButton","","size","giant",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"nb-card",1)(2,"nb-card-body")(3,"div",2)(4,"h1",3),t._uU(5,"No build found!"),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return e.reloadBuiilds()}),t._uU(7," Refresh "),t.qZA(),t.TgZ(8,"h6",3),t._uU(9,"Or"),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return e.configure()}),t._uU(11," Configure "),t.qZA()()()()())},dependencies:[p.xw,p.Wh,p.s9,p.yH,s.DPz,s.Asz,s.yKW],styles:["button[_ngcontent-%COMP%]{text-transform:capitalize!important;font-weight:500}nb-card[_ngcontent-%COMP%]{background:var(--background-alternative-color-1);border-radius:1rem}nb-card[_ngcontent-%COMP%]{transition-duration:.3s}"]});class xt{constructor(){this.menuItems=[{icon:"https://img.icons8.com/nolan/64/dashboard.png",title:"Dashboard"},{icon:"https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/64/000000/external-app-healthy-lifestyle-icongeek26-outline-gradient-icongeek26.png",title:"Applications"},{icon:"https://img.icons8.com/nolan/64/bookmark.png",title:"Builds"},{icon:"https://img.icons8.com/nolan/64/dashboard.png",title:"CI/CD Integration"},{icon:"https://img.icons8.com/nolan/64/dashboard.png",title:"Scan"},{icon:"https://img.icons8.com/external-bearicons-gradient-bearicons/64/000000/external-setting-essential-collection-bearicons-gradient-bearicons.png",title:"Settings"}]}ngOnInit(){}}xt.\u0275fac=function(n){return new(n||xt)},xt.\u0275cmp=t.Xpm({type:xt,selectors:[["app-sidebar-menu"]],decls:8,vars:1,consts:[["fxFill",""],[2,"margin-bottom","10px"],["fxFlex",""],[1,"subtitle","text-basic"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","start center","fxFlex","",1,"list-item"],[1,"icon",3,"src"]],template:function(n,e){1&n&&(t.TgZ(0,"nb-card",0)(1,"nb-card-header",1)(2,"div",2)(3,"span",3),t._uU(4," Ci/CD Operation Managements "),t.qZA()()(),t.TgZ(5,"nb-list"),t.YNc(6,$r,5,2,"nb-list-item",4),t.qZA(),t._UZ(7,"nb-card-footer"),t.qZA()),2&n&&(t.xp6(6),t.Q6J("ngForOf",e.menuItems))},dependencies:[m.sg,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.Asz,s.XWE,s.ndF,s.zP_,s.qBV],styles:["nb-card[_ngcontent-%COMP%]{margin-bottom:0}.icon[_ngcontent-%COMP%]{width:40px;height:40px}.list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-4);box-shadow:2px 2px 3px #ffffff29,2px 2px 3px #ffffff3b}.logo[_ngcontent-%COMP%]{width:2rem;height:2rem}"]});class ct{toggleActivateAppSwitch(n){this.updatingActiveAttribute=!0,this.selectedApp.pipe((0,v.h)(e=>!!e?.identifier),(0,u.U)(e=>({businessId:e?.businessId,projectId:e?.projectId,platformId:e?.platformId,applicationId:e?.application?.applicationId})),(0,h.w)(e=>this.apiService.setDevsecopsConfigActivationFlag(e,this.flagName,n))).subscribe(e=>{this.updatingActiveAttribute=!1,this.activeState.next(n)})}constructor(n){this.apiService=n,this.flagName="active_state",this.active_state$=(0,N.of)(!1),this.initialsed=!1,this.activeState=new W.x,this.activeState$$=this.activeState.pipe((0,P.d)(),(0,v.h)(e=>this.initialsed)),this.updatingActiveAttribute=!0,this.selectedApp=(0,N.of)(V.E)}ngOnInit(){this.initialsed=!0,this.selectedApp=this.apiService.selectedApp.pipe((0,P.d)()),this.active_state$=this.selectedApp.pipe((0,u.U)(n=>n?.application?.scan_data?.configure[this.flagName]||!1),(0,P.d)(),(0,_.b)(n=>{this.activeState.next(null!=n&&n)})),this.updatingActiveAttribute=!1}ngAfterViewInit(){}}function jr(i,n){1&i&&(t.ynx(0),t._UZ(1,"app-activate-toggle"),t.BQk())}function Yr(i,n){if(1&i&&(t.TgZ(0,"div",29)(1,"div",30)(2,"span",31),t._uU(3),t.qZA()(),t.TgZ(4,"div",32)(5,"div",33),t._uU(6),t.qZA(),t.TgZ(7,"div",34),t._uU(8),t.qZA()()()),2&i){const e=t.oxw().ngIf;t.xp6(3),t.hij(" ",null==e?null:e.businessName[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.businessName," "),t.xp6(2),t.hij(" ",null==e?null:e.projectName," ")}}function Hr(i,n){if(1&i&&(t.TgZ(0,"nb-card-footer",23)(1,"div",24)(2,"button",25),t._UZ(3,"nb-tag",26),t.TgZ(4,"span"),t._uU(5),t.qZA()()(),t.TgZ(6,"div",27),t.YNc(7,Yr,9,3,"div",28),t.qZA()()),2&i){const e=n.ngIf;t.xp6(3),t.Q6J("text",null==e?null:e.platformTag),t.xp6(2),t.hij(" ",null==e||null==e.application?null:e.application.applicationName," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.identifier)}}function Vr(i,n){if(1&i&&t._UZ(0,"nb-tag",35),2&i){const e=t.oxw();t.Q6J("text",e.build_count)}}function Wr(i,n){1&i&&(t.TgZ(0,"nb-list-item",5)(1,"div",6),t._uU(2," Active Protection "),t.qZA()())}ct.\u0275fac=function(n){return new(n||ct)(t.Y36(k))},ct.\u0275cmp=t.Xpm({type:ct,selectors:[["app-activate-toggle"]],inputs:{flagName:"flagName"},outputs:{activeState$$:"activeState"},decls:6,vars:10,consts:[["fxLayoutAlign","start center",2,"margin-right","10px"],["labelPosition","left","size","small",3,"disabled","checked","status","checkedChange"],["toggleBtn",""]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"nb-toggle",1,2),t.NdJ("checkedChange",function(r){return e.toggleActivateAppSwitch(r)}),t.ALo(3,"async"),t.ALo(4,"async"),t._uU(5),t.qZA()()),2&n){const o=t.MAs(2);t.xp6(1),t.ekj("unselected",!t.lcZ(3,6,e.active_state$)),t.Q6J("disabled",e.updatingActiveAttribute)("checked",t.lcZ(4,8,e.active_state$))("status",null!=o&&o.checked?"success":"basic"),t.xp6(4),t.hij(" ",null!=o&&o.checked?"Deactivate":"Activate"," ")}},dependencies:[p.Wh,s.BLq,m.Ov]});const S=function(){return{exact:!1}},Kr=function(){return["scans"]};function Xr(i,n){1&i&&(t.TgZ(0,"nb-list-item",21)(1,"div",9),t._UZ(2,"img",36),t._uU(3," Scans "),t.qZA()()),2&i&&(t.ekj("disabled",!1),t.Q6J("routerLinkActiveOptions",t.DdM(4,S))("routerLink",t.DdM(5,Kr)))}const Ce=function(){return["active_protection"]};function ta(i,n){1&i&&(t.TgZ(0,"nb-list-item",21)(1,"div",9),t._UZ(2,"img",36),t._uU(3," Configuration "),t.qZA()()),2&i&&(t.ekj("disabled",!1),t.Q6J("routerLinkActiveOptions",t.DdM(4,S))("routerLink",t.DdM(5,Ce)))}function ea(i,n){if(1&i&&t._UZ(0,"nb-tag",40,41),2&i){const e=t.MAs(1),o=t.oxw().$implicit;t.Q6J("routerLinkActiveOptions",t.DdM(4,S))("routerLink",null==o?null:o.link)("status",null!=e&&e.isActive?"alternative":"basic")("text",null==o?null:o.tag)}}function na(i,n){if(1&i&&(t.TgZ(0,"nb-list-item",37)(1,"div",9),t._UZ(2,"img",38),t._uU(3),t.qZA(),t.YNc(4,ea,2,5,"nb-tag",39),t.qZA()),2&i){const e=n.$implicit;t.ekj("disabled",null==e?null:e.disabled),t.Q6J("routerLinkActiveOptions",t.DdM(7,S))("routerLink",1==(null==e?null:e.disabled)||null==e?null:e.link),t.xp6(2),t.Q6J("src",null==e?null:e.icon,t.LSH),t.xp6(1),t.hij(" ",null==e?null:e.title," "),t.xp6(1),t.Q6J("ngIf",null==e?null:e.tag)}}function ia(i,n){1&i&&(t.TgZ(0,"nb-list-item",5)(1,"div",6),t._uU(2," Admin "),t.qZA()())}const oa=function(){return["bitbucket","manage"]};function ra(i,n){1&i&&(t.TgZ(0,"nb-list-item",21)(1,"div",9),t._UZ(2,"img",36),t._uU(3," Bitbucket Access Control "),t.qZA()()),2&i&&(t.ekj("disabled",!1),t.Q6J("routerLinkActiveOptions",t.DdM(4,S))("routerLink",t.DdM(5,oa)))}function aa(i,n){1&i&&(t.TgZ(0,"nb-list-item",21)(1,"div",9),t._UZ(2,"img",36),t._uU(3," Configuration "),t.qZA()()),2&i&&(t.ekj("disabled",!1),t.Q6J("routerLinkActiveOptions",t.DdM(4,S))("routerLink",t.DdM(5,Ce)))}const la=function(){return["/","app"]},sa=function(){return["external_tool_scans"]},ca=function(){return["external_tool"]},da=function(){return["external_tool_scans_new"]},pa=function(){return["external_tool_new"]};class qt{constructor(n,e,o){this.apiService=n,this.activatedRoute=e,this.accessChecker=o,this.selectedApp=V.E,this.routePrefix=["/","devsec"],this.menu_items=[{title:"Reports",icon:"https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/64/000000/external-process-graphic-design-icongeek26-outline-gradient-icongeek26.png",tag:"Upcoming",disabled:!0,link:["reports"]},{title:"Integration Guide",icon:"https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/64/000000/external-process-graphic-design-icongeek26-outline-gradient-icongeek26.png",tag:void 0,link:["integration"]},{title:"Settings",icon:"https://img.icons8.com/nolan/64/critical-thinking.png",tag:void 0,link:["tools_configure"]},{title:"Switch",icon:"https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/64/000000/external-home-user-interface-icongeek26-outline-gradient-icongeek26.png",tag:void 0,link:["/","devsec","switch"]}],this.selectedAppSubscription=w.w0.EMPTY,this.updatingActiveAttribute=!1}ngOnDestroy(){this.selectedAppSubscription.unsubscribe()}ngOnInit(){this.selectedApp=this.apiService.selectedApp.pipe((0,_.b)(n=>{let e=n?.application?.noOfBuilds;null!=e&&(this.build_count=e)})),console.debug("routeDebug","ngOnInit"),this.selectedAppSubscription.unsubscribe(),this.selectedAppSubscription=this.selectedApp.subscribe(),this.activatedRoute.params.subscribe(n=>{console.debug("routeDebug",n,this.activatedRoute.snapshot)})}toggleActivateAppSwitch(n){this.updatingActiveAttribute=!0,this.selectedApp.pipe((0,v.h)(e=>!!e?.identifier),(0,u.U)(e=>({businessId:e?.businessId,projectId:e?.projectId,platformId:e?.platformId,applicationId:e?.application?.applicationId})),(0,h.w)(e=>this.apiService.setDevsecopsActivationState(e,n))).subscribe(e=>{this.updatingActiveAttribute=!1})}}qt.\u0275fac=function(n){return new(n||qt)(t.Y36(k),t.Y36(C.gz),t.Y36(ae.QH))},qt.\u0275cmp=t.Xpm({type:qt,selectors:[["app-sidebar"]],decls:80,vars:58,consts:[["fxFill",""],["fxLayoutAlign","space-between center"],["src","/assets/secops.png",1,"logo",3,"routerLink"],[4,"ngIf"],["class","nb-card-footer","fxLayout","column",4,"ngIf"],[1,"subitem-header"],["fxLayoutAlign","start center","fxFlex","",1,"subitem-header"],["appearance","filled","size","small",3,"text",4,"ngIf"],["routerLink","builds","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["fxLayoutAlign","start center","fxFlex",""],["src","https://img.icons8.com/nolan/64/package.png"],["routerLink","static_scans","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["src","https://img.icons8.com/color-glass/48/000000/code.png"],["routerLink","dynamic_scans","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["src","https://img.icons8.com/nolan/64/inspect-code.png"],["routerLink","dns","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["routerLink","quick_scan","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["routerLink","recon_jobs","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["routerLink","quick_scan_admin","routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions"],["class","subitem-header",4,"ngIf"],["class","subitem","routerLinkActive","active",3,"routerLinkActiveOptions","routerLink","disabled",4,"ngIf"],["routerLinkActive","active",1,"subitem",3,"routerLinkActiveOptions","routerLink"],["routerLinkActive","active",3,"routerLinkActiveOptions","disabled","routerLink",4,"ngFor","ngForOf"],["fxLayout","column",1,"nb-card-footer"],[1,"appName"],["fxFlex","","fxLayoutGap","10px","shape","round","nbButton","","size","medium",1,"title","button"],["appearance","filled","size","tiny",3,"text"],[1,"selectedApp"],["fxFlex","","fxLayout","row",4,"ngIf"],["fxFlex","","fxLayout","row"],["fxLayoutAlign","center center",1,"circle"],[1,"text"],["fxLayout","column","fxLayoutAlign","space-between"],["fxLayoutAlign","start center texttitle",1,"text-hint",2,"font-size","1.2rem","font-weight","500"],["fxLayoutAlign","start center texttitle",1,"text-vasic",2,"font-size","1rem","font-weight","600"],["appearance","filled","size","small",3,"text"],["src","https://img.icons8.com/nolan/64/shield.png"],["routerLinkActive","active",3,"routerLinkActiveOptions","routerLink"],[3,"src"],["routerLinkActive","","appearance","outline","size","small",3,"routerLinkActiveOptions","routerLink","status","text",4,"ngIf"],["routerLinkActive","","appearance","outline","size","small",3,"routerLinkActiveOptions","routerLink","status","text"],["rlActive","routerLinkActive"]],template:function(n,e){1&n&&(t.TgZ(0,"nb-card",0)(1,"nb-card-header")(2,"div",1),t._UZ(3,"img",2),t.YNc(4,jr,2,0,"ng-container",3),t.ALo(5,"async"),t.qZA()(),t.YNc(6,Hr,8,3,"nb-card-footer",4),t.ALo(7,"async"),t.TgZ(8,"nb-card-body")(9,"nb-list")(10,"nb-list-item",5)(11,"div",6),t._uU(12," CI/CD Integration "),t.qZA(),t.YNc(13,Vr,1,1,"nb-tag",7),t.qZA(),t.TgZ(14,"nb-list-item",8)(15,"div",9),t._UZ(16,"img",10),t._uU(17," Scans "),t.qZA()(),t.TgZ(18,"nb-list-item",11)(19,"div",9),t._UZ(20,"img",12),t._uU(21," Static Configuration "),t.qZA()(),t.TgZ(22,"nb-list-item",13)(23,"div",9),t._UZ(24,"img",14),t._uU(25," Dynamic Configuration "),t.qZA()(),t.TgZ(26,"nb-list-item",5)(27,"div",6),t._uU(28," Assets "),t.qZA()(),t.TgZ(29,"nb-list-item",15)(30,"div",9),t._UZ(31,"img",14),t._uU(32," DNS "),t.qZA()(),t.TgZ(33,"nb-list-item",16)(34,"div",9),t._UZ(35,"img",14),t._uU(36," Findings "),t.qZA()(),t.TgZ(37,"nb-list-item",17)(38,"div",9),t._UZ(39,"img",14),t._uU(40," Recon Jobs "),t.qZA()(),t.TgZ(41,"nb-list-item",18)(42,"div",9),t._UZ(43,"img",14),t._uU(44," Recon Jobs Admin "),t.qZA()(),t.YNc(45,Wr,3,0,"nb-list-item",19),t.ALo(46,"async"),t.YNc(47,Xr,4,6,"nb-list-item",20),t.ALo(48,"async"),t.YNc(49,ta,4,6,"nb-list-item",20),t.ALo(50,"async"),t.TgZ(51,"nb-list-item",5)(52,"div",6),t._uU(53," Add-on Tools "),t.qZA()(),t.TgZ(54,"nb-list-item",21)(55,"div",9),t._UZ(56,"img",10),t._uU(57," Scans "),t.qZA()(),t.TgZ(58,"nb-list-item",21)(59,"div",9),t._UZ(60,"img",10),t._uU(61," Tools "),t.qZA()(),t.TgZ(62,"nb-list-item",5)(63,"div",6),t._uU(64," External Tools "),t.qZA()(),t.TgZ(65,"nb-list-item",21)(66,"div",9),t._UZ(67,"img",10),t._uU(68," Scans "),t.qZA()(),t.TgZ(69,"nb-list-item",21)(70,"div",9),t._UZ(71,"img",10),t._uU(72," Tools "),t.qZA()(),t.YNc(73,na,5,8,"nb-list-item",22),t.YNc(74,ia,3,0,"nb-list-item",19),t.ALo(75,"async"),t.YNc(76,ra,4,6,"nb-list-item",20),t.ALo(77,"async"),t.YNc(78,aa,4,6,"nb-list-item",20),t.ALo(79,"async"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("routerLink",t.DdM(42,la)),t.xp6(1),t.Q6J("ngIf",t.lcZ(5,26,e.selectedApp)),t.xp6(2),t.Q6J("ngIf",t.lcZ(7,28,e.selectedApp)),t.xp6(7),t.Q6J("ngIf",e.build_count),t.xp6(1),t.Q6J("routerLinkActiveOptions",t.DdM(43,S)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(44,S)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(45,S)),t.xp6(7),t.Q6J("routerLinkActiveOptions",t.DdM(46,S)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(47,S)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(48,S)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(49,S)),t.xp6(4),t.Q6J("ngIf",t.lcZ(46,30,e.accessChecker.isGranted("view","active_protection"))),t.xp6(2),t.Q6J("ngIf",t.lcZ(48,32,e.accessChecker.isGranted("view","active_protection"))),t.xp6(2),t.Q6J("ngIf",t.lcZ(50,34,e.accessChecker.isGranted("view","active_protection"))),t.xp6(5),t.Q6J("routerLinkActiveOptions",t.DdM(50,S))("routerLink",t.DdM(51,sa)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(52,S))("routerLink",t.DdM(53,ca)),t.xp6(7),t.Q6J("routerLinkActiveOptions",t.DdM(54,S))("routerLink",t.DdM(55,da)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(56,S))("routerLink",t.DdM(57,pa)),t.xp6(4),t.Q6J("ngForOf",e.menu_items),t.xp6(1),t.Q6J("ngIf",t.lcZ(75,36,e.accessChecker.isGranted("modify","active_protection"))),t.xp6(2),t.Q6J("ngIf",t.lcZ(77,38,e.accessChecker.isGranted("modify","bitbucket"))),t.xp6(2),t.Q6J("ngIf",t.lcZ(79,40,e.accessChecker.isGranted("modify","bitbucket"))))},dependencies:[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.DPz,C.rH,C.Od,s.Asz,s.yKW,s.XWE,s.ndF,s.zP_,s.qBV,s.c2L,ct,m.Ov],styles:[".expander[_ngcontent-%COMP%]{width:20px;height:20px;top:50%;position:absolute;right:-10px}.subitem-header[_ngcontent-%COMP%]{color:var(--color-success-400)}.subitem[_ngcontent-%COMP%]{margin-left:38px}nb-toggle.unselected[_ngcontent-%COMP%]     .toggle{background-color:var(--color-basic-700)!important}nb-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff!important}nb-toggle.unselected[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff!important}nb-card[_ngcontent-%COMP%]{box-shadow:10px 0 5px -2px #7d2ae8;transition-duration:.1s;background:var(--color-basic-1100);margin:0}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{padding:0 0 0 20px;background:var(--color-basic-1000);border:0}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:70px;height:70px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0 15px 15px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{padding:8px;margin-top:10px;border-radius:10px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item.active[_ngcontent-%COMP%]{background:var(--color-basic-800)}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item.active[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--text-success-color);font-weight:550}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-basic-800)}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:350;color:var(--text-hint-color)}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px;height:26px;margin-right:20px;margin-left:10px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item.disabled[_ngcontent-%COMP%]{opacity:.5}nb-card-footer[_ngcontent-%COMP%]{cursor:pointer}.nb-card-footer[_ngcontent-%COMP%]{background:var(--color-basic-900);padding:0;border-top-left-radius:.5rem;border-top-right-radius:.5rem;border:0}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{justify-content:start;font-family:Roboto,sans-serif;font-size:.9rem;text-transform:capitalize;margin-left:20px;margin-right:20px;font-weight:500;background-color:#7d2ae8!important;color:var(--text-basic-color)!important;box-shadow:0 0 8px #7d2ae8;border:none;transition:all .3s ease 0s;cursor:pointer;outline:none;height:calc(var(--header-height) - 20px)}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:var(--color-success-500)!important;box-shadow:0 0 8px var(--color-success-400);color:var(--text-alternative-color)!important}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]{font-weight:500}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]{border-radius:.5rem;margin:4px;padding:10px 5px;transition-duration:.3s}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]   .texttitle[_ngcontent-%COMP%]{color:var(--text-primary-color)}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{margin-left:10px;margin-right:20px;border:2px solid #7d2ae8;height:3rem;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;width:3rem;box-shadow:0 0 8px #7d2ae8}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.8rem;line-height:1.8rem;color:#7d2ae8;font-weight:400;text-transform:capitalize}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp.hover[_ngcontent-%COMP%]{background:var(--color-basic-900)}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp.hover[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid var(--text-success-color);background-color:var(--text-success-color);box-shadow:0 0 8px var(--text-success-color)}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp.hover[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:2.5rem;line-height:2.5rem;color:#fff!important;font-weight:400;text-transform:capitalize}"]});class Jt{constructor(){this.focus$=!1}ngOnInit(){}mouseenter(){this.focus$=!0}mouseleave(){this.focus$=!1}}Jt.\u0275fac=function(n){return new(n||Jt)},Jt.\u0275cmp=t.Xpm({type:Jt,selectors:[["app-frezzed-input-field"]],inputs:{label:"label",text:"text"},decls:9,vars:2,consts:[["fxFlex","",1,"host"],["fxLayoutAlign","space-between center","fxLayout","row","appearance","filled",3,"mouseenter","mouseleave"],["fxLayout","column"],["fxLayoutAlign","start center",1,"label-container"],["fxLayoutAlign","start center",1,"text-container"],["shape","round","nbSuffix","","size","small","outline","","nbButton","",2,"margin","10px"],["icon","search-outline"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("mouseenter",function(){return e.mouseenter()})("mouseleave",function(){return e.mouseleave()}),t.TgZ(2,"div",2)(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t._uU(6),t.qZA()(),t.TgZ(7,"button",5),t._UZ(8,"nb-icon",6),t.qZA()()()),2&n&&(t.xp6(4),t.hij(" ",e.label," "),t.xp6(2),t.hij(" ",e.text," "))},dependencies:[p.xw,p.Wh,p.yH,s.fMN,s.DPz,s.yyc],styles:[".host[_ngcontent-%COMP%]{background-color:var(--color-basic-800);cursor:pointer;border:1px solid var(--color-success-400);border-radius:.3rem}.host[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-width:1px}.host[_ngcontent-%COMP%]:hover{border-color:var(--color-primary-400);background-color:var(--color-basic-900)}.host[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{border-color:var(--color-primary-400);border-width:2px}.host[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]:hover{border-width:2px;border-color:var(--color-primary-400);background-color:var(--color-primary-400);color:var(--color-basic-100);font-weight:800}.label-container[_ngcontent-%COMP%]{font-size:.8rem;padding-left:20px;padding-right:20px;line-height:1.2rem;color:var(--color-basic-600)}.text-container[_ngcontent-%COMP%]{font-size:1rem;padding-left:20px;padding-right:20px;line-height:1.2rem;color:var(--text-color-basic);font-weight:400}"]});class Dt{constructor(){}ngOnInit(){}}Dt.\u0275fac=function(n){return new(n||Dt)},Dt.\u0275cmp=t.Xpm({type:Dt,selectors:[["app-workspace-chooser"]],decls:11,vars:0,consts:[[2,"height","100%"],["fxLayoutGap","20px","fxLayout","row"],["icon","funnel-outline",1,"filter-icon"],[1,"text-heading"],["fxLayoutGap","20px","fxLayout","column"],["label","Business","text","Gaana"],["label","Project","text","Gaana API"],["label","Platform","text","Web Application"]],template:function(n,e){1&n&&(t.TgZ(0,"nb-card",0)(1,"nb-card-header")(2,"div",1),t._UZ(3,"nb-icon",2),t.TgZ(4,"div",3),t._uU(5," Filters "),t.qZA()()(),t.TgZ(6,"nb-card-body")(7,"div",4),t._UZ(8,"app-frezzed-input-field",5)(9,"app-frezzed-input-field",6)(10,"app-frezzed-input-field",7),t.qZA()()())},dependencies:[p.xw,p.SQ,s.fMN,s.Asz,s.yKW,s.ndF,Jt],styles:["nb-card[_ngcontent-%COMP%]{background:var(--background-basic-color-3);border-radius:1rem;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-4)}.text-heading[_ngcontent-%COMP%], .filter-icon[_ngcontent-%COMP%]{color:var(--text-hint-color)}"]});const ua=["toggleView"];class Qt{constructor(){this.focus$=!1,this.toggleState=!1}ngOnInit(){}mouseenter(){this.focus$=!0}mouseleave(){this.focus$=!1}onClick(n){this.toggleState=!this.toggleState,console.log("onClick",n)}}Qt.\u0275fac=function(n){return new(n||Qt)},Qt.\u0275cmp=t.Xpm({type:Qt,selectors:[["app-frezzed-toggle-field"]],viewQuery:function(n,e){if(1&n&&t.Gf(ua,5),2&n){let o;t.iGM(o=t.CRH())&&(e.toggleView=o.first)}},inputs:{label:"label",text:"text"},decls:9,vars:3,consts:[["fxFlex","",1,"host",3,"click"],["fxLayoutAlign","space-between center","fxLayout","row","appearance","filled",3,"mouseenter","mouseleave"],["fxLayout","column"],["fxLayoutAlign","start center",1,"label-container"],["fxLayoutAlign","start center",1,"text-container"],["status","success",2,"margin","10px",3,"checked","click"],["toggleView",""]],template:function(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"div",0),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(8);return t.KtG(e.onClick(a))}),t.TgZ(1,"div",1),t.NdJ("mouseenter",function(){return e.mouseenter()})("mouseleave",function(){return e.mouseleave()}),t.TgZ(2,"div",2)(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t._uU(6),t.qZA()(),t.TgZ(7,"nb-toggle",5,6),t.NdJ("click",function(a){return a.preventDefault()}),t.qZA()()()}2&n&&(t.xp6(4),t.hij(" ",e.label," "),t.xp6(2),t.hij(" ",e.text," "),t.xp6(1),t.Q6J("checked",e.toggleState))},dependencies:[p.xw,p.Wh,p.yH,s.BLq],styles:[".host[_ngcontent-%COMP%]{background-color:var(--color-basic-800);cursor:pointer;border:1px solid var(--color-primary-400);border-radius:.3rem}.host.false[_ngcontent-%COMP%]{border:1px solid var(--color-danger-400)}.host[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-width:1px}.host[_ngcontent-%COMP%]:hover{border-color:var(--color-primary-400);background-color:var(--color-basic-900)}.host[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{border-color:var(--color-primary-400);border-width:2px}.host[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]:hover{border-width:2px;border-color:var(--color-primary-400);background-color:var(--color-primary-400);color:var(--color-basic-100);font-weight:800}.label-container[_ngcontent-%COMP%]{font-size:.8rem;padding-left:20px;padding-right:20px;line-height:1.2rem;color:var(--color-basic-600)}.text-container[_ngcontent-%COMP%]{font-size:1rem;padding-left:20px;padding-right:20px;line-height:1.2rem;color:var(--text-color-basic);font-weight:400}"]});class zt{constructor(){}ngOnInit(){}}zt.\u0275fac=function(n){return new(n||zt)},zt.\u0275cmp=t.Xpm({type:zt,selectors:[["app-workspace-chooser-filter"]],decls:11,vars:0,consts:[[2,"height","100%"],["fxLayoutGap","20px","fxLayout","row"],["icon","funnel-outline",1,"filter-icon"],[1,"text-heading"],["fxLayoutGap","20px","fxLayout","column"],["label","Active","text","Web Applications"],["label","Active","text","Android Applications"],["label","Active","text","iOS Applications"]],template:function(n,e){1&n&&(t.TgZ(0,"nb-card",0)(1,"nb-card-header")(2,"div",1),t._UZ(3,"nb-icon",2),t.TgZ(4,"div",3),t._uU(5," Sort "),t.qZA()()(),t.TgZ(6,"nb-card-body")(7,"div",4),t._UZ(8,"app-frezzed-toggle-field",5)(9,"app-frezzed-toggle-field",6)(10,"app-frezzed-toggle-field",7),t.qZA()()())},dependencies:[p.xw,p.SQ,s.fMN,s.Asz,s.yKW,s.ndF,Qt],styles:["nb-card[_ngcontent-%COMP%]{background:var(--background-basic-color-3);border-radius:1rem;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-4)}.text-heading[_ngcontent-%COMP%], .filter-icon[_ngcontent-%COMP%]{color:var(--text-hint-color)}"]});var se=x(1520);function _a(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-card",30)(2,"nb-card-header")(3,"h5",31),t._UZ(4,"nb-icon",32),t._uU(5," Access Denied "),t.qZA()(),t.TgZ(6,"nb-card-body")(7,"h6",33),t._uU(8," Invalid access / Invalid Repository "),t._UZ(9,"br"),t._uU(10),t.qZA()()(),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(10),t.hij(" ",null==e?null:e.git_url," ")}}function ga(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",41),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(4);return t.KtG(l.selectBranch(a))}),t.TgZ(1,"div",42),t._uU(2),t.qZA(),t._UZ(3,"nb-icon",43),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw(4);t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("icon",o.loadingGeneric?"refresh-outline":"checkmark-outline")}}function ma(i,n){if(1&i&&(t.TgZ(0,"nb-card",34)(1,"nb-card-header")(2,"h5",31),t._UZ(3,"nb-icon",32),t._uU(4," Select Branch "),t.qZA(),t.TgZ(5,"div",12),t._uU(6),t.qZA()(),t.TgZ(7,"nb-card-header",35)(8,"div",36),t._UZ(9,"input",37),t.qZA()(),t.TgZ(10,"nb-list",38),t.YNc(11,ga,4,2,"nb-list-item",39),t.qZA(),t._UZ(12,"nb-card-footer",40),t.qZA()),2&i){const e=t.oxw().ngIf,o=t.oxw(2);t.xp6(6),t.hij(" ",null==e?null:e.length," Branches "),t.xp6(3),t.Q6J("formControl",o.searchBranchFilter),t.xp6(2),t.Q6J("ngForOf",e)}}function fa(i,n){if(1&i&&(t.ynx(0),t.YNc(1,_a,11,1,"ng-container",27),t.YNc(2,ma,13,3,"ng-template",null,29,t.W1O),t.BQk()),2&i){const e=n.ngIf,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.length))("ngIfElse",o)}}function ha(i,n){if(1&i&&(t.TgZ(0,"nb-card",44)(1,"nb-card-header")(2,"h5",31),t._UZ(3,"nb-icon",32),t._uU(4," Validating Access "),t.qZA()(),t.TgZ(5,"nb-card-body")(6,"h6",33),t._uU(7," Validating access to "),t._UZ(8,"br"),t._uU(9),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(9),t.hij(" ",null==e?null:e.git_url," ")}}function ba(i,n){if(1&i&&(t.YNc(0,fa,4,2,"ng-container",27),t.ALo(1,"async"),t.YNc(2,ha,10,1,"ng-template",null,28,t.W1O)),2&i){const e=n.$implicit,o=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,null==e?null:e.lsRemote))("ngIfElse",o)}}function xa(i,n){if(1&i&&(t.TgZ(0,"nb-option",45),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.name,"")}}function va(i,n){if(1&i&&(t.TgZ(0,"nb-option",45),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.name,"")}}function Ca(i,n){if(1&i&&(t.TgZ(0,"nb-option",45),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.name,"")}}class rt{loadEdittableApp(){this.apiService.getUserApplicationById(this.applicationId).pipe((0,_.b)(n=>{this.configurationModel.setControl("business",new d.NI(n?.businessId?.$oid,[d.kI.required])),this.configurationModel.setControl("project",new d.NI(n?.projectId?.$oid,[d.kI.required])),this.configurationModel.setControl("platform",new d.NI(n?.platformId?.$oid,[d.kI.required])),this.configurationModel.setControl("name",new d.NI(n?.application?.applicationName,[d.kI.required])),this.configurationModel.setControl("desc",new d.NI("",[d.kI.required])),this.configurationModel.setControl("git",new d.NI(n?.application?.scan_data?.static?.GIT_URL,[d.kI.required])),this.configurationModel.setControl("branch",new d.NI(n?.application?.scan_data?.static?.GIT_BRANCH,[d.kI.required])),this.configurationModel.setControl("url",new d.NI(n?.application?.scan_data?.dynamic?.APP_URL,[d.kI.required]))})).subscribe()}formInvalidated(){}focusRepoField(n,e){let o=this.configurationModel.get("git").value,r=this.configurationModel.get("branch").value;if(console.log("______|",o,"_",this.repoBackupField,n),1==n)this.repoBackupField=o,this.branchBackupField=r;else{if(this.repoBackupField==o)return;this.openDialog(e,o)}}constructor(n,e,o,r,a){this.apiService=n,this.dialogService=e,this.router=o,this.activatedRoute=r,this.themeService=a,this.loadingGeneric=!1,this.onClose$=new t.vpe,this.business$=this.apiService.getAssociatedBusinesses().pipe((0,_.b)(l=>{this.configurationModel.get("business").setValue(l[0]?._id?.$oid)})),this.platforms$=this.apiService.getPlatforms().pipe((0,_.b)(l=>{this.configurationModel.get("platform").setValue(l[0]?._id?.$oid)})),this.configurationModel=new d.cw({business:new d.NI(void 0,[d.kI.required]),project:new d.NI(void 0,[d.kI.required]),platform:new d.NI(void 0,[d.kI.required]),name:new d.NI("",[d.kI.required]),desc:new d.NI("",[]),git:new d.NI("",[d.kI.required]),branch:new d.NI("",[d.kI.required]),url:new d.NI("",[]),configuration:new d.cw({email:new d.NI(!1),jira:new d.NI(!1),git:new d.NI(!1),url:new d.NI(!1),apk:new d.NI(!1),ipa:new d.NI(!1)})}),this.repoBackupField="",this.branchBackupField="",this.searchBranchFilter=new d.NI(""),this.configurationModel.get("url")}ngOnInit(){this.themeService.changeTheme("dark"),this.loadEdittableApp(),this.configurationModel.valueChanges.pipe((0,O.O)(this.configurationModel.value),(0,se.G)()).subscribe(n=>{let o=n[1];n[0].business!==o.business&&(this.projects$=this.apiService.getAssociatedBusinessesByProjectId(o.business).pipe((0,_.b)(r=>{console.log("____",r),this.configurationModel.get("project").setValue(r[0]?._id?.$oid)}))),console.log("valueChanges",n)})}onBusinessChange(){}selectBranch(n){0!=n?.length&&(this.configurationModel.get("branch").setValue(n),this.dialogRef?.close())}openDialog(n,e){this.dialogRef=this.dialogService.open(n,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{git_url:e,lsRemote:this.apiService.lsremote(e).pipe((0,h.w)(o=>this.searchBranchFilter.valueChanges.pipe((0,O.O)(this.searchBranchFilter.value)).pipe((0,u.U)(r=>(console.debug("map_val",r,o),0==o.status?[]:Object.keys(o?.data).filter(a=>-1!=a.toLowerCase().indexOf(r))))))).pipe((0,u.U)(o=>(0==o?.length&&(console.log("____",o),this.configurationModel.get("git").setValue(this.repoBackupField),this.configurationModel.get("branch").setValue(this.branchBackupField)),o.map(r=>r.split("/").pop()))),(0,P.d)())}}),this.dialogRef.onClose.subscribe(o=>{this.searchBranchFilter.setValue("")})}saveApp(){let n=this.configurationModel.value,e={business:{$oid:n?.business},project:{$oid:n?.project},platform:{$oid:n?.platform},name:n?.name,desc:n?.desc,git:n?.git,branch:n?.branch,url:n?.url};this.loadingGeneric=!0,this.apiService.createApp(e).subscribe(o=>{this.loadingGeneric=!1,console.log("navigating",o?.inserted_id),this.onClose$.emit(!0),o?.inserted_id?this.router.navigate(["../",o?.inserted_id,"integration"],{relativeTo:this.activatedRoute}):this.router.navigate(["./"])})}}function ya(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-create-app",13),t.NdJ("onclose",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.onClose(r))}),t.qZA()}2&i&&t.Q6J("appId","5fd9d91331a6a8556c11b34a")}function ka(i,n){1&i&&(t.TgZ(0,"div",14)(1,"div"),t._UZ(2,"app-workspace-chooser"),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"app-workspace-chooser-filter"),t.qZA()())}rt.\u0275fac=function(n){return new(n||rt)(t.Y36(k),t.Y36(s.Gln),t.Y36(C.F0),t.Y36(C.gz),t.Y36(s.WMF))},rt.\u0275cmp=t.Xpm({type:rt,selectors:[["app-create-app"]],inputs:{applicationId:["appId","applicationId"]},outputs:{onClose$:"onclose"},decls:58,vars:18,consts:[["lsRemoteDialog",""],["fxFlex","1 0 400px"],["nbSpinnerStatus","danger",3,"formGroup"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","1rem"],["fxLayout","column","fxLayoutGap","1rem"],[1,"col-2","header"],["formControlName","business","placeholder","Select Type",3,"status","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","project","placeholder","Select Type",3,"status","selectedChange"],["formControlName","platform","placeholder","Select Platform",3,"status"],["fxLayoutAlign","end"],["nbButton","","color","success",3,"disabled","click"],["fxFlex","","nbSpinnerStatus","danger"],[1,"text-hint",2,"margin-left","0.5rem","margin-bottom","1rem"],["formControlName","name","fullWidth","","type","text","nbInput","","fieldSize","small","placeholder","Hawki-App",3,"status"],["formControlName","desc","status","primary","fullWidth","","type","text","nbInput","","fieldSize","small","placeholder",""],["fxLayout","column","fxLayoutAlign","end"],["fxLayoutGap","1rem","fxLayoutAlign","start end"],["formControlName","git","fullWidth","","type","text","nbInput","","fieldSize","small","placeholder","git@bitbucket.org:times_internet/hawkeye-api.git",3,"status","focus","focusout","keyup.enter"],["gitInp",""],["fxLayoutAlign","end end"],["nbSpinnerStatus","danger"],["readonly","","formControlName","branch","status","primary","type","text","nbInput","","fieldSize","small","placeholder","Select Branch",3,"status","click"],["branchName",""],["formControlName","url","fullWidth","","type","text","nbInput","","fieldSize","small","placeholder","http://hawkeye.com",3,"status"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["branchSelectorTemplate",""],["accent","primary"],[1,"text-primary"],["icon","stop-circle-outline","status","primary",2,"margin","10px"],[2,"line-height","2rem"],["fxFlex","1 1 500px","accent","primary"],[2,"padding","0.3rem"],["fxLayoutAlign","center center","fxLayoutGap","1rem","fxLayout","row",1,"search-input"],["focusOnce","","fullWidth","","placeholder","Search","status","basic","nbInput","",3,"formControl"],["fxLayout","column",2,"max-height","500px"],[3,"click",4,"ngFor","ngForOf"],["fxLayoutAlign","end","fxLayoutGap","1rem"],[3,"click"],["fxFlex",""],[1,"loading-icon",3,"icon"],["fxFlex","0 1 500px","accent","primary"],[3,"value"]],template:function(n,e){if(1&n){const o=t.EpF();t.YNc(0,ba,4,4,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1)(3,"nb-card",2)(4,"nb-card-header",3)(5,"div",4),t._uU(6," Create App "),t.qZA()(),t.TgZ(7,"nb-card-body")(8,"div",5)(9,"div",6)(10,"b",7),t._uU(11,"Business"),t.qZA(),t.TgZ(12,"nb-select",8),t.NdJ("selectedChange",function(){return e.onBusinessChange()}),t.YNc(13,xa,2,2,"nb-option",9),t.ALo(14,"async"),t.qZA()(),t.TgZ(15,"div",6)(16,"b",7),t._uU(17,"Projects"),t.qZA(),t.TgZ(18,"nb-select",10),t.NdJ("selectedChange",function(){return e.onBusinessChange()}),t.YNc(19,va,2,2,"nb-option",9),t.ALo(20,"async"),t.qZA()(),t.TgZ(21,"div",6)(22,"b",7),t._uU(23,"Platform"),t.qZA(),t.TgZ(24,"nb-select",11),t.YNc(25,Ca,2,2,"nb-option",9),t.ALo(26,"async"),t.qZA()()()(),t.TgZ(27,"nb-card-footer",12)(28,"button",13),t.NdJ("click",function(){return e.saveApp()}),t._uU(29," Save "),t.qZA()(),t.TgZ(30,"nb-card-body")(31,"nb-form-field",14)(32,"span",15),t._uU(33," Name "),t.qZA(),t._UZ(34,"input",16),t.qZA()(),t.TgZ(35,"nb-card-body")(36,"nb-form-field",14)(37,"span",15),t._uU(38," Description "),t.qZA(),t._UZ(39,"input",17),t.qZA()(),t.TgZ(40,"nb-card-body",18)(41,"div",19)(42,"nb-form-field",14)(43,"span",15),t._uU(44," Repository "),t.qZA(),t.TgZ(45,"input",20,21),t.NdJ("focus",function(){return e.focusRepoField(!0)})("focusout",function(){t.CHM(o);const a=t.MAs(1);return t.KtG(e.focusRepoField(!1,a))})("keyup.enter",function(){t.CHM(o);const a=t.MAs(1),l=t.MAs(46);return t.KtG(e.openDialog(a,l.value))}),t.qZA()(),t.TgZ(47,"div",22)(48,"nb-form-field",23)(49,"span",15),t._uU(50," Branch "),t.qZA(),t.TgZ(51,"input",24,25),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(1),l=t.MAs(46);return t.KtG(e.openDialog(a,l.value))}),t.qZA()()()()(),t.TgZ(53,"nb-card-body")(54,"nb-form-field",14)(55,"span",15),t._uU(56," Url "),t.qZA(),t._UZ(57,"input",26),t.qZA()()()()}if(2&n){const o=t.MAs(52);t.xp6(3),t.Q6J("formGroup",e.configurationModel),t.xp6(9),t.Q6J("status",e.configurationModel.get("business").invalid?"danger":"primary"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(14,12,e.business$)),t.xp6(5),t.Q6J("status",e.configurationModel.get("project").invalid?"danger":"primary"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(20,14,e.projects$)),t.xp6(5),t.Q6J("status",e.configurationModel.get("platform").invalid?"danger":"primary"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(26,16,e.platforms$)),t.xp6(3),t.Q6J("disabled",null==e.configurationModel?null:e.configurationModel.invalid),t.xp6(6),t.Q6J("status",e.configurationModel.get("name").invalid?"danger":"primary"),t.xp6(11),t.Q6J("status",e.configurationModel.get("git").invalid?"danger":"primary"),t.xp6(6),t.Q6J("status",0==(null==o||null==o.value?null:o.value.length)?"danger":"primary"),t.xp6(6),t.Q6J("status",e.configurationModel.get("url").invalid?"danger":"primary")}},dependencies:[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.yH,s.fMN,s.DPz,s.Asz,s.yKW,s.XWE,s.ndF,s.h8i,s.zP_,s.qBV,s.rs,s.q51,d.Fj,d.JJ,d.JL,d.oH,d.sg,d.u,s.jBG,X,m.Ov]});class vt{constructor(n,e){this.dialogService=n,this.themeService=e,this.searchQuery=""}ngOnInit(){this.themeService.changeTheme("dark")}onClose(n){console.log("onclose",n),this.dialogRef?.close()}openDialog(n){this.dialogRef=this.dialogService.open(n,{dialogClass:"dialogClass",backdropClass:"blurBackdrop"})}}vt.\u0275fac=function(n){return new(n||vt)(t.Y36(s.Gln),t.Y36(s.WMF))},vt.\u0275cmp=t.Xpm({type:vt,selectors:[["app-switch-app-viewer"]],decls:17,vars:3,consts:[["loadingTemplate",""],["fxFill","","fxFlex","0 1 1200px","fxLayout","column",1,"container"],["fxLayoutAlign","space-between center",1,"header"],[1,"_heading"],["fxLayout","row","fxLayoutGap","2rem"],["fieldSize","medium","type","text","nbInput","","placeholder","Search",3,"ngModel","ngModelChange"],["nbSuffix","","size","medium","status","primary","ghost","","nbButton",""],["icon","search-outline"],["size","medium","status","success","outline","","nbButton","",2,"text-transform","capitalize",3,"click"],["icon","plus-outline"],["fxLayoutGap","1rem",1,"content"],["fxFlex","300px","style","height:  100%;","fxLayoutGap","30px","fxLayout","column",4,"ngIf"],[3,"searchQuery"],[3,"appId","onclose"],["fxFlex","300px","fxLayoutGap","30px","fxLayout","column",2,"height","100%"]],template:function(n,e){if(1&n){const o=t.EpF();t.YNc(0,ya,1,1,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1)(3,"div",2)(4,"span",3),t._uU(5," Select Application "),t.qZA(),t.TgZ(6,"div",4)(7,"nb-form-field")(8,"input",5),t.NdJ("ngModelChange",function(a){return e.searchQuery=a}),t.qZA(),t.TgZ(9,"button",6),t._UZ(10,"nb-icon",7),t.qZA()(),t.TgZ(11,"button",8),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(1);return t.KtG(e.openDialog(a))}),t._UZ(12,"nb-icon",9),t._uU(13," Create App "),t.qZA()()(),t.TgZ(14,"div",10),t.YNc(15,ka,5,0,"div",11),t._UZ(16,"app-list",12),t.qZA()()}2&n&&(t.xp6(8),t.Q6J("ngModel",e.searchQuery),t.xp6(7),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("searchQuery",e.searchQuery))},dependencies:[m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,s.h8i,d.Fj,d.JJ,d.On,s.jBG,s.yyc,R,Dt,zt,rt],styles:["nb-card[_ngcontent-%COMP%]{height:100%;margin:0rem;border:0}nb-card-body[_ngcontent-%COMP%]{padding:0}.container[_ngcontent-%COMP%]{border-radius:2rem;max-height:100vh;height:100vh;padding:1rem}._heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:400;color:var(--text-hint-color)}.content[_ngcontent-%COMP%]{overflow:scroll;height:calc(100vh - 6rem)}.header[_ngcontent-%COMP%]{height:5rem}"]});class Rt{constructor(n){this.themeService=n}ngOnInit(){}}function Ma(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-card",24)(2,"nb-card-header")(3,"h5",25),t._UZ(4,"nb-icon",26),t._uU(5," Access Denied "),t.qZA()(),t.TgZ(6,"nb-card-body")(7,"h6",27),t._uU(8," Invalid access / Invalid Repository "),t._UZ(9,"br"),t._uU(10),t.qZA()()(),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(10),t.hij(" ",null==e?null:e.git_url," ")}}function wa(i,n){if(1&i&&t._UZ(0,"nb-icon",41),2&i){const e=t.oxw(5);t.Q6J("icon",e.loadingGeneric?"refresh-outline":"checkmark-outline")}}function Ta(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",38),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(4);return t.KtG(l.selectBranch(a))}),t.TgZ(1,"div",39),t._uU(2),t.qZA(),t.YNc(3,wa,1,1,"nb-icon",40),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw(4);t.ekj("selected",(null==o.gitBranchInputFormControl?null:o.gitBranchInputFormControl.value)==e),t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",(null==o.gitBranchInputFormControl?null:o.gitBranchInputFormControl.value)==e)}}function Aa(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",28)(1,"nb-card-header")(2,"h5",25),t._UZ(3,"nb-icon",26),t._uU(4," Select Branch "),t.qZA(),t.TgZ(5,"div",29),t._uU(6),t.qZA()(),t.TgZ(7,"nb-card-header",30)(8,"div",31),t._UZ(9,"input",32),t.qZA()(),t.TgZ(10,"nb-list",33),t.YNc(11,Ta,4,4,"nb-list-item",34),t.qZA(),t.TgZ(12,"nb-card-footer",35)(13,"button",36),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).dialogRef;return t.KtG(r.close())}),t._uU(14,"Cancel"),t.qZA(),t.TgZ(15,"button",37),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).dialogRef,a=t.oxw();return t.KtG(a.save(r))}),t._uU(16,"Save"),t.qZA()()()}if(2&i){const e=t.oxw().ngIf,o=t.oxw(2);t.xp6(6),t.hij(" ",null==e?null:e.length," Branches "),t.xp6(3),t.Q6J("formControl",o.searchBranchFilter),t.xp6(2),t.Q6J("ngForOf",e)}}function Oa(i,n){if(1&i&&(t.ynx(0),t.YNc(1,Ma,11,1,"ng-container",21),t.YNc(2,Aa,17,3,"ng-template",null,23,t.W1O),t.BQk()),2&i){const e=n.ngIf,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0==(null==e?null:e.length))("ngIfElse",o)}}function Pa(i,n){if(1&i&&(t.TgZ(0,"nb-card",24)(1,"nb-card-header")(2,"h5",25),t._UZ(3,"nb-icon",26),t._uU(4," Validating Access "),t.qZA()(),t.TgZ(5,"nb-card-body")(6,"h6",27),t._uU(7," Validating access to "),t._UZ(8,"br"),t._uU(9),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(9),t.hij(" ",null==e?null:e.git_url," ")}}function Za(i,n){if(1&i&&(t.YNc(0,Oa,4,2,"ng-container",21),t.ALo(1,"async"),t.YNc(2,Pa,10,1,"ng-template",null,22,t.W1O)),2&i){const e=n.$implicit,o=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,null==e?null:e.lsRemote))("ngIfElse",o)}}function Ia(i,n){if(1&i&&(t.TgZ(0,"div",42),t._UZ(1,"nb-icon",43),t.TgZ(2,"span",44),t._uU(3),t.qZA()()),2&i){const e=t.oxw();t.xp6(3),t.hij(" ",null==e.gitBranchInputFormControl?null:e.gitBranchInputFormControl.value," ")}}function Sa(i,n){if(1&i&&(t.TgZ(0,"nb-option",45),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}Rt.\u0275fac=function(n){return new(n||Rt)(t.Y36(s.WMF))},Rt.\u0275cmp=t.Xpm({type:Rt,selectors:[["app-app-selector"]],decls:3,vars:0,template:function(n,e){1&n&&(t.TgZ(0,"nb-layout")(1,"nb-layout-column"),t._UZ(2,"app-switch-app-viewer"),t.qZA()())},dependencies:[s.Aqw,s.dP_,vt],styles:["nb-layout-column[_ngcontent-%COMP%]{padding:0!important}"]});class Gt{enableFormEdit(){0==this.loadingGeneric&&0==this.editEnabled&&(this.editEnabled=!0)}loadControlData(){this.editEnabled=!1,this.loadingGeneric=!0,this.gitRepoInputFormControl.setValue(""),this.gitBranchInputFormControl.setValue(""),this.initSubscription$=this.selectedApp.pipe((0,A.q)(1),(0,_.b)(n=>{console.log("selectedApp","static",n)}),(0,h.w)(n=>this.apiService.getDevsecopsStaticScanData(n).pipe()),(0,_.b)(n=>{this.gitRepoInputFormControl.setValue(n?.GIT_URL),this.gitBranchInputFormControl.setValue(n?.GIT_BRANCH)})).subscribe(n=>{this.loadingGeneric=!1})}constructor(n,e){this.apiService=n,this.dialogService=e,this.searchBranchFilter=new d.NI(""),this.editEnabled=!1,this.inputKey="GIT_URL",this.gitRepoInputFormControl=new d.NI("",[d.kI.required]),this.gitBranchInputFormControl=new d.NI("",[d.kI.required]),this.selectedApp=this.apiService.selectedApp.pipe((0,v.h)(o=>!!o?.identifier),(0,u.U)(o=>({businessId:o?.businessId,projectId:o?.projectId,platformId:o?.platformId,applicationId:o?.application?.applicationId}))),this.setAutoSuggestions=this.getAutoSuggestions().pipe((0,_.b)(o=>{this.filteredOptions$=this.gitRepoInputFormControl.valueChanges.pipe((0,O.O)(""),(0,u.U)(r=>this.filter(r)))})),this.initSubscription$=w.w0.EMPTY,this.loadingGeneric=!1}ngOnDestroy(){console.log("ngOnDestroy","staticconfig"),this.initSubscription$.unsubscribe()}ngOnInit(){console.log("ngOnInit","staticconfig"),this.initSubscription$.unsubscribe(),this.loadControlData()}filter(n){const e=n.toLowerCase();return this.options.filter(o=>o.toLowerCase().includes(e))}viewHandle(n){return n}getAutoSuggestions(){return this.apiService.selectedApp.pipe((0,v.h)(n=>!!n?.application?.applicationId),(0,h.w)(n=>this.apiService.getAutoSuggestions({businessId:n?.businessId,projectId:n?.projectId,platformId:n?.platformId,applicationId:n?.application?.applicationId})),(0,u.U)(n=>{console.log("GIT_URL",n?.data?.GIT_URL),this.options=n?.data?.GIT_URL?n?.data?.GIT_URL:[]}))}save(n){let e=this.selectedApp.pipe((0,A.q)(1),(0,h.w)(o=>this.apiService.addDevsecopsStaticScanDetails(o,{GIT_URL:this.gitRepoInputFormControl.value,GIT_BRANCH:this.gitBranchInputFormControl.value}).pipe((0,_.b)(a=>{this.loadingGeneric=!0})))).subscribe(o=>{this.loadingGeneric=!1,n.close(),e.unsubscribe()})}openDialog(n){this.dialogService.open(n,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{git_url:this.gitRepoInputFormControl.value,lsRemote:this.apiService.lsremote(this.gitRepoInputFormControl.value).pipe((0,h.w)(e=>this.searchBranchFilter.valueChanges.pipe((0,O.O)(this.searchBranchFilter.value)).pipe((0,u.U)(o=>(console.debug("map_val",o,e),0==e.status?[]:Object.keys(e?.data).filter(r=>-1!=r.toLowerCase().indexOf(o))))))).pipe((0,u.U)(e=>e.map(o=>o.split("/").pop())),(0,P.d)())}}).onClose.subscribe(e=>{this.loadControlData()})}selectBranch(n){this.gitBranchInputFormControl.setValue(n)}}function Fa(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"nb-card",23)(2,"nb-card-header")(3,"h5",24),t._UZ(4,"nb-icon",25),t._uU(5," Website is reachable "),t.qZA()(),t.TgZ(6,"nb-card-body")(7,"h6",26),t._uU(8," Status Code "),t._UZ(9,"br"),t._uU(10),t.qZA()(),t.TgZ(11,"nb-card-footer",12)(12,"button",27),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).dialogRef,a=t.oxw();return t.KtG(a.save(r))}),t._uU(13," Save "),t._UZ(14,"nb-icon",16),t.qZA()()(),t.BQk()}if(2&i){const e=t.oxw().ngIf;t.xp6(10),t.hij(" ",null==e?null:e.status_code," ")}}function La(i,n){if(1&i&&(t.TgZ(0,"nb-card",28)(1,"nb-card-header")(2,"h5",24),t._UZ(3,"nb-icon",25),t._uU(4," Website is unreachable "),t.qZA()(),t.TgZ(5,"nb-card-body")(6,"h6",26),t._uU(7," Website seems to be unreachable "),t._UZ(8,"br"),t._uU(9),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(9),t.hij(" ",null==e?null:e.app_url," ")}}function Ua(i,n){if(1&i&&(t.ynx(0),t.YNc(1,Fa,15,1,"ng-container",20),t.YNc(2,La,10,1,"ng-template",null,22,t.W1O),t.BQk()),2&i){const e=n.ngIf,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",(null==e?null:e.status_code)>=-1)("ngIfElse",o)}}function Ba(i,n){if(1&i&&(t.TgZ(0,"nb-card",29)(1,"nb-card-header")(2,"h5",24),t._UZ(3,"nb-icon",25),t._uU(4," Checking Website Connectivity "),t.qZA()(),t.TgZ(5,"nb-card-body")(6,"h6",26),t._uU(7," Checking connectivity to "),t._UZ(8,"br"),t._uU(9),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(9),t.hij(" ",null==e?null:e.app_url," ")}}function Na(i,n){if(1&i&&(t.YNc(0,Ua,4,2,"ng-container",20),t.ALo(1,"async"),t.YNc(2,Ba,10,1,"ng-template",null,21,t.W1O)),2&i){const e=n.$implicit,o=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,null==e?null:e.lsRemote))("ngIfElse",o)}}function qa(i,n){if(1&i&&(t.TgZ(0,"nb-option",30),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}Gt.\u0275fac=function(n){return new(n||Gt)(t.Y36(k),t.Y36(s.Gln))},Gt.\u0275cmp=t.Xpm({type:Gt,selectors:[["app-static-config"]],decls:30,vars:12,consts:[["lsRemoteDialog",""],["fxFill","","fxLayoutAlign","center center"],["nbSpinnerStatus","danger","size","medium","fxFlex","0 1 900px",3,"nbSpinner","click"],["fxLayoutAlign","center space-between"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],[3,"ngModel","ngModelChange"],["fxFlex","","fxLayoutAlign","center center"],["fxFlex","","fxLayoutGap","20px","fxLayout","column"],["fxFlex","",1,"text-hint",2,"font-size","1.2rem"],["fxFlex","","nbSpinnerStatus","danger"],["nbPrefix","",1,"text-hint"],["status","primary","fullWidth","","type","text","nbInput","","fieldSize","giant","placeholder","git@bitbucket.org:times_internet/hawkeye-api.git",3,"readonly","formControl","nbAutocomplete","keyup.enter"],["fxLayoutAlign","end","style","font-size: 1.2rem;  ","class","text-hint ","fxFlex","",4,"ngIf"],["fxLayoutGap","20px","fxLayoutAlign","end"],["status","danger","size","medium","nbSuffix","","nbButton","","hero","",3,"disabled","click"],["icon","refresh-outline"],["status","primary","size","medium","nbSuffix","","nbButton","","filled","",3,"disabled","click"],["icon","checkmark-outline"],[3,"handleDisplayFn"],["repoAutoComplete",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["branchSelectorTemplate",""],["fxFlex","0 1 500px","accent","primary"],[1,"text-primary"],["icon","stop-circle-outline","status","primary",2,"margin","10px"],[2,"line-height","2rem"],["fxFlex","1 1 500px","accent","primary"],["fxLayoutAlign","end"],[2,"padding","0.3rem"],["fxLayoutAlign","center center","fxLayoutGap","1rem","fxLayout","row",1,"search-input"],["focusOnce","","fullWidth","","placeholder","Search","status","basic","nbInput","",3,"formControl"],["fxLayout","column",2,"max-height","500px"],[3,"selected","click",4,"ngFor","ngForOf"],["fxLayoutAlign","end","fxLayoutGap","1rem"],["status","basic","outline","","nbButton","",3,"click"],["status","success","outline","","nbButton","",3,"click"],[3,"click"],["fxFlex",""],["class","loading-icon",3,"icon",4,"ngIf"],[1,"loading-icon",3,"icon"],["fxLayoutAlign","end","fxFlex","",1,"text-hint",2,"font-size","1.2rem"],["icon","corner-up-right-outline"],[2,"font-size","1.1rem","; margin-right","1rem"],[3,"value"]],template:function(n,e){if(1&n){const o=t.EpF();t.YNc(0,Za,4,4,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1)(3,"nb-card",2),t.NdJ("click",function(){return e.enableFormEdit()}),t.TgZ(4,"nb-card-header",3)(5,"div",4),t._uU(6," Static Configuration "),t.qZA(),t.TgZ(7,"nb-toggle",5),t.NdJ("ngModelChange",function(a){return e.editEnabled=a}),t._uU(8,"Edit"),t.qZA()(),t.TgZ(9,"nb-card-body",6)(10,"div",7)(11,"div",8),t._uU(12," Code Repository "),t.qZA(),t.TgZ(13,"div",6)(14,"nb-form-field",9)(15,"span",10),t._uU(16," ssh "),t.qZA(),t.TgZ(17,"input",11),t.NdJ("keyup.enter",function(){t.CHM(o);const a=t.MAs(1);return t.KtG(e.openDialog(a))}),t.qZA()()(),t.YNc(18,Ia,4,1,"div",12),t.qZA()(),t.TgZ(19,"nb-card-footer",13)(20,"button",14),t.NdJ("click",function(){return e.loadControlData()}),t._uU(21," Reset "),t._UZ(22,"nb-icon",15),t.qZA(),t.TgZ(23,"button",16),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(1);return t.KtG(e.openDialog(a))}),t._uU(24," Save "),t._UZ(25,"nb-icon",17),t.qZA()()()(),t.TgZ(26,"nb-autocomplete",18,19),t.YNc(28,Sa,2,2,"nb-option",20),t.ALo(29,"async"),t.qZA()}if(2&n){const o=t.MAs(27);t.xp6(3),t.Q6J("nbSpinner",e.loadingGeneric),t.xp6(4),t.Q6J("ngModel",e.editEnabled),t.xp6(10),t.Q6J("readonly",!e.editEnabled)("formControl",e.gitRepoInputFormControl)("nbAutocomplete",o),t.xp6(1),t.Q6J("ngIf",null==e.gitBranchInputFormControl?null:e.gitBranchInputFormControl.valid),t.xp6(2),t.Q6J("disabled",!e.editEnabled),t.xp6(3),t.Q6J("disabled",!e.editEnabled||(null==e.gitRepoInputFormControl?null:e.gitRepoInputFormControl.invalid)||(null==e.gitBranchInputFormControl?null:e.gitBranchInputFormControl.invalid)),t.xp6(3),t.Q6J("handleDisplayFn",e.viewHandle),t.xp6(2),t.Q6J("ngForOf",t.lcZ(29,10,e.filteredOptions$))}},dependencies:[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.yKW,s.XWE,s.ndF,s.h8i,s.zP_,s.qBV,s.q51,d.Fj,d.JJ,d.On,d.oH,s.jBG,s.t3q,s.yyc,s.Q7R,s.Xh,s.wNd,s.BLq,X,m.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:center}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{cursor:pointer;border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:2rem}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%], ._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 0 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4);padding:1rem}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}']});class Et{enableFormEdit(){0==this.loadingGeneric&&0==this.editEnabled&&(this.editEnabled=!0)}ngOnDestroy(){this.initSubscription$.unsubscribe()}loadControlData(){this.editEnabled=!1,this.loadingGeneric=!0,this.appUrlInputFormControl.setValue(""),this.initSubscription$=this.selectedApp.pipe((0,A.q)(1),(0,h.w)(n=>this.apiService.getDevsecopsDynamicScanData(n).pipe()),(0,_.b)(n=>{this.appUrlInputFormControl.setValue(n?.APP_URL)})).subscribe(n=>{this.loadingGeneric=!1})}constructor(n,e){this.apiService=n,this.dialogService=e,this.editEnabled=!1,this.inputKey="GIT_URL",this.appUrlInputFormControl=new d.NI("",[d.kI.required]),this.selectedApp=this.apiService.selectedApp.pipe((0,v.h)(o=>!!o?.identifier),(0,u.U)(o=>({businessId:o?.businessId,projectId:o?.projectId,platformId:o?.platformId,applicationId:o?.application?.applicationId}))),this.setAutoSuggestions=this.getAutoSuggestions().pipe((0,_.b)(o=>{this.filteredOptions$=this.appUrlInputFormControl.valueChanges.pipe((0,O.O)(""),(0,u.U)(r=>this.filter(r)))})),this.initSubscription$=w.w0.EMPTY,this.loadingGeneric=!1}ngOnInit(){this.initSubscription$.unsubscribe(),this.loadControlData()}filter(n){const e=n.toLowerCase();return this.options.filter(o=>o.toLowerCase().includes(e))}viewHandle(n){return n}getAutoSuggestions(){return this.apiService.selectedApp.pipe((0,v.h)(n=>!!n?.application?.applicationId),(0,h.w)(n=>this.apiService.getAutoSuggestions({businessId:n?.businessId,projectId:n?.projectId,platformId:n?.platformId,applicationId:n?.application?.applicationId})),(0,u.U)(n=>{console.log("GIT_URL",n?.data?.GIT_URL),this.options=n?.data?.GIT_URL?n?.data?.GIT_URL:[]}))}save(n){this.selectedApp.pipe((0,A.q)(1),(0,h.w)(e=>this.apiService.addDevsecopsDynamicScanDetails(e,{APP_URL:this.appUrlInputFormControl.value}).pipe((0,_.b)(r=>{this.loadingGeneric=!0})))).subscribe(e=>{this.loadingGeneric=!1,n.close()})}openDialog(n){this.dialogService.open(n,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{app_url:this.appUrlInputFormControl.value,lsRemote:this.apiService.healthcheck(this.appUrlInputFormControl.value).pipe((0,u.U)(e=>({status_code:e?.data})))}}).onClose.subscribe(e=>{this.loadControlData()})}}function Ja(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-toggle",18),t._uU(2),t.ALo(3,"textShowcase"),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("nbSpinner",null==(null==e||null==e.value?null:e.value.value))("disabled",null==(null==e||null==e.value?null:e.value.value))("formControlName",e.key),t.xp6(1),t.hij(" ",t.lcZ(3,4,null==e?null:e.key)," ")}}function Da(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"nb-toggle",18),t._uU(2),t.ALo(3,"textShowcase"),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("nbSpinner",null==(null==e||null==e.value?null:e.value.value))("disabled",null==(null==e||null==e.value?null:e.value.value))("formControlName",e.key),t.xp6(1),t.hij(" ",t.lcZ(3,4,null==e?null:e.key)," ")}}function Qa(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"nb-toggle",26),t.NdJ("checkedChange",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.formInvalidated())})("ngModelChange",function(r){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.static_tools[null==l?null:l.key]=r)}),t._uU(2),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngModel",o.static_tools[null==e?null:e.key]),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function za(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",27)(1,"nb-toggle",26),t.NdJ("checkedChange",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.formInvalidated())})("ngModelChange",function(r){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.dynamic_tools[null==l?null:l.key]=r)}),t._uU(2),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngModel",o.dynamic_tools[null==e?null:e.key]),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function Ra(i,n){if(1&i&&(t.TgZ(0,"div",27)(1,"nb-toggle",29),t._uU(2),t.qZA()()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("disabled",!(null!=e&&e.value)),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function Ga(i,n){if(1&i&&(t.TgZ(0,"div",28)(1,"h6"),t._uU(2,"Dynamic Tools"),t.qZA(),t.TgZ(3,"div",22),t.YNc(4,Ra,3,2,"div",24),t.ALo(5,"keyvalue"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,e.dynamic_tools))}}function Ea(i,n){if(1&i&&(t.TgZ(0,"nb-card-body",19)(1,"div",20)(2,"div",8)(3,"div",21)(4,"h6"),t._uU(5,"Static Tools"),t.qZA()(),t.TgZ(6,"div",22),t.YNc(7,Qa,3,2,"div",14),t.ALo(8,"keyvalue"),t.qZA()(),t.TgZ(9,"div",23)(10,"div",21)(11,"h6"),t._uU(12,"Dynamic Tools"),t.qZA()(),t.TgZ(13,"div",22),t.YNc(14,za,3,2,"div",24),t.ALo(15,"keyvalue"),t.qZA()()(),t.YNc(16,Ga,6,3,"div",25),t.qZA()),2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",t.lcZ(8,3,e.static_tools)),t.xp6(7),t.Q6J("ngForOf",t.lcZ(15,5,e.dynamic_tools)),t.xp6(2),t.Q6J("ngIf",!1)}}function $a(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"nb-toggle",26),t.NdJ("checkedChange",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.formInvalidated())})("ngModelChange",function(r){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.static_tools[null==l?null:l.key]=r)}),t._uU(2),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngModel",o.static_tools[null==e?null:e.key]),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function ja(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",27)(1,"nb-toggle",26),t.NdJ("checkedChange",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.formInvalidated())})("ngModelChange",function(r){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.dynamic_tools[null==l?null:l.key]=r)}),t._uU(2),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngModel",o.dynamic_tools[null==e?null:e.key]),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function Ya(i,n){if(1&i&&(t.TgZ(0,"div")(1,"nb-toggle",29),t._uU(2),t.qZA()()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("disabled",!(null!=e&&e.value)),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function Ha(i,n){if(1&i&&(t.TgZ(0,"div",28)(1,"h6"),t._uU(2,"Static Tools"),t.qZA(),t.TgZ(3,"div",22),t.YNc(4,Ya,3,2,"div",14),t.ALo(5,"keyvalue"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,e.static_tools))}}function Va(i,n){if(1&i&&(t.TgZ(0,"div",27)(1,"nb-toggle",29),t._uU(2),t.qZA()()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("disabled",!(null!=e&&e.value)),t.xp6(1),t.hij(" ",null==e?null:e.key," ")}}function Wa(i,n){if(1&i&&(t.TgZ(0,"div",28)(1,"h6"),t._uU(2,"Dynamic Tools"),t.qZA(),t.TgZ(3,"div",22),t.YNc(4,Va,3,2,"div",24),t.ALo(5,"keyvalue"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,e.dynamic_tools))}}function Ka(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",30)(1,"nb-card-header",2)(2,"div",3),t._uU(3," Manage Tools "),t.qZA(),t.TgZ(4,"div")(5,"button",31),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.save())}),t._UZ(6,"nb-icon",32),t._uU(7," Save "),t.qZA()()(),t.TgZ(8,"nb-card-body",19)(9,"div",20)(10,"div",8)(11,"div",21)(12,"h6"),t._uU(13,"Static Tools"),t.qZA()(),t.TgZ(14,"div",22),t.YNc(15,$a,3,2,"div",14),t.ALo(16,"keyvalue"),t.qZA()(),t.TgZ(17,"div",23)(18,"div",21)(19,"h6"),t._uU(20,"Dynamic Tools"),t.qZA()(),t.TgZ(21,"div",22),t.YNc(22,ja,3,2,"div",24),t.ALo(23,"keyvalue"),t.qZA()()(),t.YNc(24,Ha,6,3,"div",25),t.YNc(25,Wa,6,3,"div",25),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("nbSpinner",e.loadingGeneric),t.xp6(5),t.Q6J("disabled",!e.canSave),t.xp6(10),t.Q6J("ngForOf",t.lcZ(16,6,e.static_tools)),t.xp6(7),t.Q6J("ngForOf",t.lcZ(23,8,e.dynamic_tools)),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1)}}Et.\u0275fac=function(n){return new(n||Et)(t.Y36(k),t.Y36(s.Gln))},Et.\u0275cmp=t.Xpm({type:Et,selectors:[["app-dynamic-config"]],decls:29,vars:11,consts:[["lsRemoteDialog",""],["fxFill","","fxLayoutAlign","center center"],["nbSpinnerStatus","danger","size","medium","fxFlex","0 1 900px",3,"nbSpinner","click"],["fxLayoutAlign","center space-between"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],[3,"ngModel","ngModelChange"],["fxFlex","","fxLayoutAlign","center center"],["fxFlex","","fxLayoutGap","20px","fxLayout","column"],["fxFlex","",1,"text-hint",2,"font-size","1.2rem"],["fxFlex","","nbSpinnerStatus","danger"],["nbPrefix","",1,"text-hint"],["status","primary","fullWidth","","type","text","nbInput","","fieldSize","giant","placeholder","https://example.your-website.com/",3,"readonly","formControl","nbAutocomplete","keyup.enter"],["fxLayoutGap","20px","fxLayoutAlign","end"],["status","danger","size","medium","nbSuffix","","nbButton","","hero","",3,"disabled","click"],["icon","refresh-outline"],["status","primary","size","medium","nbSuffix","","nbButton","","filled","",3,"disabled","click"],["icon","checkmark-outline"],[3,"handleDisplayFn"],["repoAutoComplete",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["invalidAccessTemplate",""],["fxFlex","0 1 500px","accent","success"],[1,"text-primary"],["icon","stop-circle-outline","status","primary",2,"margin","10px"],[2,"line-height","2rem"],["status","primary","size","medium","nbSuffix","","nbButton","","filled","",3,"click"],["fxFlex","0 1 500px","accent","danger"],["fxFlex","0 1 500px","accent","primary"],[3,"value"]],template:function(n,e){if(1&n){const o=t.EpF();t.YNc(0,Na,4,4,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1)(3,"nb-card",2),t.NdJ("click",function(){return e.enableFormEdit()}),t.TgZ(4,"nb-card-header",3)(5,"div",4),t._uU(6," Dynamic Configuration "),t.qZA(),t.TgZ(7,"nb-toggle",5),t.NdJ("ngModelChange",function(a){return e.editEnabled=a}),t._uU(8,"Edit"),t.qZA()(),t.TgZ(9,"nb-card-body",6)(10,"div",7)(11,"div",8),t._uU(12," Website Url "),t.qZA(),t.TgZ(13,"div",6)(14,"nb-form-field",9)(15,"span",10),t._uU(16," Url "),t.qZA(),t.TgZ(17,"input",11),t.NdJ("keyup.enter",function(){t.CHM(o);const a=t.MAs(1);return t.KtG(e.openDialog(a))}),t.qZA()()()()(),t.TgZ(18,"nb-card-footer",12)(19,"button",13),t.NdJ("click",function(){return e.loadControlData()}),t._uU(20," Reset "),t._UZ(21,"nb-icon",14),t.qZA(),t.TgZ(22,"button",15),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(1);return t.KtG(e.openDialog(a))}),t._uU(23," Save "),t._UZ(24,"nb-icon",16),t.qZA()()()(),t.TgZ(25,"nb-autocomplete",17,18),t.YNc(27,qa,2,2,"nb-option",19),t.ALo(28,"async"),t.qZA()}if(2&n){const o=t.MAs(26);t.xp6(3),t.Q6J("nbSpinner",e.loadingGeneric),t.xp6(4),t.Q6J("ngModel",e.editEnabled),t.xp6(10),t.Q6J("readonly",!e.editEnabled)("formControl",e.appUrlInputFormControl)("nbAutocomplete",o),t.xp6(2),t.Q6J("disabled",!e.editEnabled),t.xp6(3),t.Q6J("disabled",!e.editEnabled||(null==e.appUrlInputFormControl?null:e.appUrlInputFormControl.invalid)),t.xp6(3),t.Q6J("handleDisplayFn",e.viewHandle),t.xp6(2),t.Q6J("ngForOf",t.lcZ(28,9,e.filteredOptions$))}},dependencies:[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.yKW,s.XWE,s.ndF,s.h8i,s.q51,d.Fj,d.JJ,d.On,d.oH,s.jBG,s.t3q,s.yyc,s.Q7R,s.Xh,s.wNd,s.BLq,m.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:center}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{cursor:pointer;border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:2rem}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%], ._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 0 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4);padding:1rem}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}']});class $t{constructor(n){this.apiService=n,this.loadingGeneric=!1,this.selectedApp=this.apiService.selectedApp.pipe((0,v.h)(e=>!!e?.identifier),(0,u.U)(e=>({businessId:e?.businessId,projectId:e?.projectId,platformId:e?.platformId,applicationId:e?.application?.applicationId})),(0,P.d)()),this.static_tools={},this.dynamic_tools={},this.configuration={},this.external_tools={},this.email_notifications=new d.NI(void 0),this.active_state=new d.NI(void 0),this.external_tools_list=this.apiService.getExternalTools(),this.listenChangesSubscription=w.w0.EMPTY,this.canSave=!1,this.formEnabled=!1}ngOnDestroy(){this.listenChangesSubscription.unsubscribe()}initFormData(n){console.log("initFormData",n),Object.keys(n?.static_tools).forEach(e=>{this.configurationModel.get("static_tools").setControl(e,new d.NI(n?.static_tools[e]))}),n?.configuration?.email&&this.configurationModel.get("configuration").setControl("email",new d.NI(n?.configuration?.email)),n?.configuration?.jira&&this.configurationModel.get("configuration").setControl("jira",new d.NI(n?.configuration?.jira)),Object.keys(n?.static_tools).forEach(e=>{this.configurationModel.get("static_tools").setControl(e,new d.NI(n?.static_tools[e]))}),Object.keys(n?.dynamic_tools).forEach(e=>{this.configurationModel.get("dynamic_tools").setControl(e,new d.NI(n?.dynamic_tools[e]))})}updateFormData(n){console.debug("__",n),Object.keys(n?.tools_config?.static_tools)?.forEach(e=>{this.configurationModel.get("static_tools").get(e).patchValue(n?.tools_config?.static_tools[e],{emitEvent:!1,onlySelf:!0})}),Object.keys(n?.tools_config?.dynamic_tools)?.forEach(e=>{this.configurationModel.get("dynamic_tools").get(e).patchValue(n?.tools_config?.dynamic_tools[e],{emitEvent:!1,onlySelf:!0})}),Object.keys(n?.configuration)?.forEach(e=>{this.configurationModel.get("configuration").get(e).patchValue(n?.configuration[e],{emitEvent:!1,onlySelf:!0})})}ngOnInit(){this.configurationModel=new d.cw({static_tools:new d.cw({}),dynamic_tools:new d.cw({}),configuration:new d.cw({email:new d.NI(!1),jira:new d.NI(!1)})}),this.listenChangesSubscription.unsubscribe(),this.loadingGeneric=!0,this.selectedApp.pipe((0,A.q)(1),(0,h.w)(n=>this.apiService.getConfigureTools(n).pipe((0,_.b)(e=>{console.log("disturbing"),this.initFormData(e),this.static_tools=e?.static_tools,this.dynamic_tools=e?.dynamic_tools,this.configuration=e?.configuration})))).subscribe(n=>{this.loadingGeneric=!1,console.log("pairwise",this.configurationModel.value),this.listenChangesSubscription=this.configurationModel.valueChanges.pipe((0,_.b)(e=>{console.log("startWith",this.configurationModel.value)}),(0,O.O)(n),(0,se.G)(),(0,u.U)(([e,o])=>{console.log("pairwise",e,"_",o);let r={static_tools:{},dynamic_tools:{},configuration:{}},l=o?.configuration,c={};for(const B in l)c[B]=l[B],this.configurationModel.get("configuration").get(B).patchValue(!1,{emitEvent:!1,onlySelf:!0});let f=e?.static_tools,g=o?.static_tools,b={};for(const B in g)f[B]!==g[B]&&(b[B]=g[B],this.configurationModel.get("static_tools").get(B).patchValue(void 0,{emitEvent:!1,onlySelf:!0}));let M=e?.dynamic_tools,T=o?.dynamic_tools,H={};for(const B in T)M[B]!==T[B]&&(H[B]=T[B],this.configurationModel.get("dynamic_tools").get(B).patchValue(void 0,{emitEvent:!1,onlySelf:!0}));return r.static_tools=b,r.dynamic_tools=H,r.configuration=c,r}),(0,v.h)(e=>0!==Object.keys(e).length&&!this.configurationModel.invalid),(0,h.w)(e=>(console.log("changesInForm",e),this.selectedApp.pipe((0,A.q)(1),(0,h.w)(o=>this.apiService.setConfigureTools(o,e).pipe((0,_.b)(r=>{this.updateFormData(r)}))))))).subscribe()})}save(){this.loadingGeneric=!0,this.canSave=!1,this.selectedApp.pipe((0,A.q)(1),(0,h.w)(n=>this.apiService.setConfigureTools(n,this.configurationModel.value).pipe((0,_.b)(e=>{this.static_tools=e?.static_tools,this.dynamic_tools=e?.dynamic_tools})))).subscribe(n=>{this.loadingGeneric=!1})}formInvalidated(){}onChangeActiveState(n){this.formEnabled=0!=n,console.debug("onChangeActiveState",n)}runExternalTool(n){this.selectedApp.pipe((0,u.U)(e=>(e.toolId=n._id.$oid,e.scan_data={URL:"https://hackware.ru"},console.log("runExternalTool",e,n),e)),(0,h.w)(e=>this.apiService.runExtetnalTool(e))).subscribe()}}$t.\u0275fac=function(n){return new(n||$t)(t.Y36(k))},$t.\u0275cmp=t.Xpm({type:$t,selectors:[["app-tools-config"]],decls:32,vars:10,consts:[["fxFill","","fxLayout","column","fxLayoutGap","2rem",2,"padding","2rem"],["nbSpinnerStatus","danger",3,"formGroup"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],[3,"activeState"],["fxLayout","row","fxLayoutAlign","start start"],["fxFlex","",2,"border","0",3,"disabled"],["fxFlex","","fxLayoutAlign","start  space-between","fxLayout","row"],["fxLayout","column","fxFlex",""],["formGroupName","configuration"],["fxFlex","","fxLayoutAlign","start"],["formControlName","email","status","success"],["formControlName","jira","status","success"],["formGroupName","static_tools"],[4,"ngFor","ngForOf"],["formGroupName","dynamic_tools"],["fxLayout","row","fxLayoutAlign","center start",4,"ngIf"],["nbSpinnerStatus","danger",3,"nbSpinner",4,"ngIf"],["nbSpinnerStatus","primary","status","success",3,"nbSpinner","disabled","formControlName"],["fxLayout","row","fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","center  space-between","fxLayout","row"],["fxFlex","","fxLayoutAlign","center"],["fxFlex",""],["fxLayout","column","fxLayoutAlign","end start","fxFlex",""],["fxLayoutGap","30px",4,"ngFor","ngForOf"],["fxFlex","","fxLayout","column",4,"ngIf"],["status","success",3,"ngModel","checkedChange","ngModelChange"],["fxLayoutGap","30px"],["fxFlex","","fxLayout","column"],["status","success",3,"disabled"],["nbSpinnerStatus","danger",3,"nbSpinner"],["outline","","size","medium","status","success","nbButton","",3,"disabled","click"],["icon","checkmark-outline"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"nb-card",1)(2,"nb-card-header",2)(3,"div",3),t._uU(4," Configuration "),t.qZA(),t.TgZ(5,"app-activate-toggle",4),t.NdJ("activeState",function(r){return e.onChangeActiveState(r)}),t.qZA()(),t.TgZ(6,"nb-card-body",5)(7,"fieldset",6)(8,"div",7)(9,"div",8),t.ynx(10,9),t.TgZ(11,"div",10)(12,"h6"),t._uU(13,"Configuration"),t.qZA()(),t.TgZ(14,"nb-toggle",11),t._uU(15," Email Notifications "),t.qZA(),t.TgZ(16,"nb-toggle",12),t._uU(17," Jira Integration "),t.qZA(),t.BQk(),t.ynx(18,13),t.TgZ(19,"div",10)(20,"h6"),t._uU(21,"Static Tools"),t.qZA()(),t.YNc(22,Ja,4,6,"ng-container",14),t.ALo(23,"keyvalue"),t.BQk(),t.ynx(24,15),t.TgZ(25,"div",10)(26,"h6"),t._uU(27,"Dynamic Tools"),t.qZA()(),t.YNc(28,Da,4,6,"ng-container",14),t.ALo(29,"keyvalue"),t.BQk(),t.qZA()()()(),t.YNc(30,Ea,17,7,"nb-card-body",16),t.qZA(),t.YNc(31,Ka,26,10,"nb-card",17),t.qZA()),2&n&&(t.xp6(1),t.Q6J("formGroup",e.configurationModel),t.xp6(6),t.Q6J("disabled",!e.formEnabled),t.xp6(15),t.Q6J("ngForOf",t.lcZ(23,6,null==e.configurationModel||null==e.configurationModel.controls||null==e.configurationModel.controls.static_tools?null:e.configurationModel.controls.static_tools.controls)),t.xp6(6),t.Q6J("ngForOf",t.lcZ(29,8,null==e.configurationModel||null==e.configurationModel.controls||null==e.configurationModel.controls.dynamic_tools?null:e.configurationModel.controls.dynamic_tools.controls)),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1))},dependencies:[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.yKW,s.ndF,d.JJ,d.JL,d.On,d.sg,d.u,d.x0,s.Q7R,s.BLq,ct,m.Nd,ht],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:cente}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem;padding:0 0 30px}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem;margin:40px}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%], ._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;margin-left:0;padding-left:0;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 20px 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-toggle[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:20px}nb-toggle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-transform:capitalize}.text[_ngcontent-%COMP%]{font-family:var(--toggle-text-font-family);font-size:var(--toggle-text-font-size);font-weight:var(--toggle-text-font-weight);line-height:var(--toggle-text-line-height);text-transform:capitalize}h6[_ngcontent-%COMP%]{font-weight:500;font-size:1.4rem;line-height:2rem;padding:0;margin:40px 40px 40px 0}']});const Xa=["selectCheckboxView"];function tl(i,n){1&i&&t._UZ(0,"tr",27)}function el(i,n){1&i&&t._UZ(0,"tr",28),2&i&&t.Q6J("clickToToggle",!1)}function nl(i,n){if(1&i&&(t.TgZ(0,"th",29),t._UZ(1,"nb-checkbox",30),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("formControl",e.formControlSelectAll)}}function il(i,n){1&i&&(t.TgZ(0,"th",31),t._uU(1," # "),t.qZA())}function ol(i,n){if(1&i&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("nbSortHeader",e.getSortDirection(e.customColumn)),t.xp6(1),t.hij(" ",e.customColumn," ")}}function rl(i,n){if(1&i&&(t.TgZ(0,"th",35),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw();t.Q6J("nbSortHeader",o.getSortDirection(e)),t.xp6(1),t.hij(" ",e," ")}}function al(i,n){if(1&i&&(t.ynx(0,33),t.YNc(1,rl,2,2,"th",34),t.BQk()),2&i){const e=n.$implicit,o=n.index,r=t.oxw();t.Q6J("nbTreeGridColumnDef",e)("showOn",r.getShowOn(o))}}function ll(i,n){1&i&&(t.TgZ(0,"th",36),t._uU(1," Action "),t.qZA())}function sl(i,n){1&i&&t._UZ(0,"tr",27)}function cl(i,n){1&i&&t._UZ(0,"tr",28),2&i&&t.Q6J("clickToToggle",!1)}function dl(i,n){1&i&&t._UZ(0,"th",37)}function pl(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",38)(1,"nb-checkbox",39,40),t.NdJ("ngModelChange",function(r){const l=t.CHM(e).$implicit;return t.KtG(l.data.selected=r)}),t.qZA()()}if(2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngModel",e.data.selected)}}function ul(i,n){1&i&&t._UZ(0,"th",41)}function _l(i,n){if(1&i&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&i){const e=n.index;t.xp6(1),t.hij(" ",e+1," ")}}function gl(i,n){if(1&i&&t._UZ(0,"th",43),2&i){const e=t.oxw();t.Q6J("nbSortHeader",e.getSortDirection(e.customColumn))}}function ml(i,n){if(1&i&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=t.oxw();t.xp6(1),t.hij(" ",e.data[o.customColumn]," ")}}function fl(i,n){if(1&i&&t._UZ(0,"th",46),2&i){const e=t.oxw().$implicit,o=t.oxw();t.Q6J("nbSortHeader",o.getSortDirection(e))}}function hl(i,n){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=t.oxw().$implicit;t.xp6(1),t.Oqu(e.data[o]||"-")}}function bl(i,n){if(1&i&&(t.ynx(0,33),t.YNc(1,fl,1,1,"th",45),t.YNc(2,hl,2,1,"td",26),t.BQk()),2&i){const e=n.$implicit,o=n.index,r=t.oxw();t.Q6J("nbTreeGridColumnDef",e)("showOn",r.getShowOn(o))}}function xl(i,n){1&i&&t._UZ(0,"th",48)}function vl(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",47)(1,"nb-button-group",49)(2,"button",50),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.exploreScans(null==a||null==a.data?null:a.data.uuid))}),t._UZ(3,"nb-icon",51),t.qZA(),t.TgZ(4,"button",50),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.runScan(null==a||null==a.data?null:a.data.uuid))}),t._UZ(5,"nb-icon",52),t.qZA()()()}}function Cl(i,n){if(1&i&&t._UZ(0,"nb-tree-grid-row-toggle",2),2&i){const e=t.oxw();t.Q6J("expanded",e.expanded)}}function yl(i,n){1&i&&t._UZ(0,"nb-icon",3)}class jt{constructor(n,e,o,r,a){this.dataSourceBuilder=n,this.apiService=e,this.datePipe=o,this.router=r,this.activatedRoute=a,this.customColumn="repository",this.defaultColumns=["project name","language","description","created on","updated on","total scans","size"],this.allColumns=["select","#",this.customColumn,...this.defaultColumns,"action"],this.sortDirection=s.mwv.NONE,this.repositories=new d.Oe([]),this.formControlSelectAll=new d.NI(!0)}bytesToSize(n){if(0==n)return"0 Byte";let o=parseInt(""+Math.floor(Math.log(n)/Math.log(1024)));return Math.round(n/Math.pow(1024,o))+" "+["Bytes","KB","MB","GB","TB"][o]}ngOnInit(){this.apiService.getAllScmRepos().pipe((0,u.U)(n=>n.map((e,o)=>(e["project name"]=e?.project?.name,e.repository=e?.full_name,e["#"]=o+1,e["created on"]=this.datePipe.transform(e?.created_on,"dd-MM-yyyy"),e["updated on"]=this.datePipe.transform(e?.updated_on,"dd-MM-yyyy"),e.size=this.bytesToSize(e.size),e.selected=!1,{data:e,children:[]})))).subscribe(n=>{this.dataSource=this.dataSourceBuilder.create(n),this.formControlSelectAll.valueChanges.pipe((0,O.O)(!1),(0,h.w)(e=>this.dataSource.connect(void 0).pipe((0,_.b)(o=>{o.forEach(r=>{r.data.selected=e})})))).subscribe(),console.debug("getAllScmRepos",n)})}onChangeActiveState(n){}updateSort(n){this.sortColumn=n.column,this.sortDirection=n.direction}getSortDirection(n){return this.sortColumn===n?this.sortDirection:s.mwv.NONE}getShowOn(n){return 400+100*n}exploreScans(n){this.apiService.runScan(n).subscribe(e=>{this.router.navigate(["active_protection",n],{relativeTo:this.activatedRoute.parent})})}runScan(n){console.debug("runScan",n),this.apiService.runScan(n).subscribe(e=>{this.router.navigate(["scans"],{relativeTo:this.activatedRoute.parent})})}}jt.\u0275fac=function(n){return new(n||jt)(t.Y36(s.aDd),t.Y36(k),t.Y36(m.uU),t.Y36(C.F0),t.Y36(C.gz))},jt.\u0275cmp=t.Xpm({type:jt,selectors:[["app-active-protection"]],viewQuery:function(n,e){if(1&n&&t.Gf(Xa,5),2&n){let o;t.iGM(o=t.CRH())&&(e.selectCheckboxView=o)}},decls:38,vars:13,consts:[["fxLayoutAlign","center start",2,"padding","0","padding-top","1rem","padding-left","1rem"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["fxLayoutAlign","center center","fxLayoutGap","1rem","fxLayout","row",1,"search-input"],["placeholder","Search","status","primary","nbInput","","id","search",3,"nbFilterInput"],["fxLayoutAlign","center center"],["flagName","active_protection_state"],[2,"padding","0"],[3,"nbTreeGrid","nbSort","sort"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",3,"clickToToggle",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],["nbTreeGridColumnDef","select"],["style","width: 40px;","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridColumnDef","#"],["style","width: 80px;","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],[3,"nbTreeGridColumnDef"],["style","width: 300px;","nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],[3,"nbTreeGridColumnDef","showOn",4,"ngFor","ngForOf"],["nbTreeGridColumnDef","action"],["nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["style","height: 0; width: 40px;","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","","style","width: 40px;",4,"nbTreeGridCellDef"],["style","height: 0; width: 80px;","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","","style","width: 80px;",4,"nbTreeGridCellDef"],["style","width: 300px;  height: 0;","nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["style","width: 300px","nbTreeGridCell","",4,"nbTreeGridCellDef"],["style","height: 0","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],["nbTreeGridHeaderRow",""],["nbTreeGridRow","",3,"clickToToggle"],["nbTreeGridHeaderCell","",2,"width","40px"],[3,"formControl"],["nbTreeGridHeaderCell","",2,"width","80px"],["nbTreeGridHeaderCell","",2,"width","300px",3,"nbSortHeader"],[3,"nbTreeGridColumnDef","showOn"],["nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["nbTreeGridHeaderCell","",3,"nbSortHeader"],["nbTreeGridHeaderCell",""],["nbTreeGridHeaderCell","",2,"height","0","width","40px"],["nbTreeGridCell","",2,"width","40px"],[3,"ngModel","ngModelChange"],["selectCheckboxView",""],["nbTreeGridHeaderCell","",2,"height","0","width","80px"],["nbTreeGridCell","",2,"width","80px"],["nbTreeGridHeaderCell","",2,"width","300px","height","0",3,"nbSortHeader"],["nbTreeGridCell","",2,"width","300px"],["style","height: 0;","nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["nbTreeGridHeaderCell","",2,"height","0",3,"nbSortHeader"],["nbTreeGridCell",""],["nbTreeGridHeaderCell","",2,"height","0"],["shape","round","outline","","size","small","status","success"],["nbButton","",3,"click"],["icon","swap-outline"],["icon","arrow-right-outline"]],template:function(n,e){1&n&&(t.TgZ(0,"nb-card")(1,"nb-card-header",0)(2,"div",1),t._uU(3," Repositories "),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"input",3),t.TgZ(6,"div",4),t._UZ(7,"app-activate-toggle",5),t.qZA()()(),t.TgZ(8,"nb-card-header",6)(9,"table",7),t.NdJ("sort",function(r){return e.updateSort(r)}),t.YNc(10,tl,1,0,"tr",8),t.YNc(11,el,1,1,"tr",9),t.ynx(12,10),t.YNc(13,nl,2,1,"th",11),t.BQk(),t.ynx(14,12),t.YNc(15,il,2,0,"th",13),t.BQk(),t.ynx(16,14),t.YNc(17,ol,2,2,"th",15),t.BQk(),t.YNc(18,al,2,2,"ng-container",16),t.ynx(19,17),t.YNc(20,ll,2,0,"th",18),t.BQk(),t.qZA()(),t.TgZ(21,"nb-card-body")(22,"table",7),t.NdJ("sort",function(r){return e.updateSort(r)}),t.YNc(23,sl,1,0,"tr",8),t.YNc(24,cl,1,1,"tr",9),t.ynx(25,10),t.YNc(26,dl,1,0,"th",19),t.YNc(27,pl,3,1,"td",20),t.BQk(),t.ynx(28,12),t.YNc(29,ul,1,0,"th",21),t.YNc(30,_l,2,1,"td",22),t.BQk(),t.ynx(31,14),t.YNc(32,gl,1,1,"th",23),t.YNc(33,ml,2,1,"td",24),t.BQk(),t.YNc(34,bl,3,2,"ng-container",16),t.ynx(35,17),t.YNc(36,xl,1,0,"th",25),t.YNc(37,vl,6,0,"td",26),t.BQk(),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("nbFilterInput",e.dataSource),t.xp6(4),t.Q6J("nbTreeGrid",e.dataSource)("nbSort",e.dataSource),t.xp6(1),t.Q6J("nbTreeGridHeaderRowDef",e.allColumns),t.xp6(1),t.Q6J("nbTreeGridRowDefColumns",e.allColumns),t.xp6(5),t.Q6J("nbTreeGridColumnDef",e.customColumn),t.xp6(2),t.Q6J("ngForOf",e.defaultColumns),t.xp6(4),t.Q6J("nbTreeGrid",e.dataSource)("nbSort",e.dataSource),t.xp6(1),t.Q6J("nbTreeGridHeaderRowDef",e.allColumns),t.xp6(1),t.Q6J("nbTreeGridRowDefColumns",e.allColumns),t.xp6(7),t.Q6J("nbTreeGridColumnDef",e.customColumn),t.xp6(3),t.Q6J("ngForOf",e.defaultColumns))},dependencies:[m.sg,p.xw,p.SQ,p.Wh,p.yH,s.fMN,s.DPz,s.Asz,s.yKW,s.ndF,s.h8i,d.JJ,d.On,d.oH,s.mnu,s.D4l,s.faK,s.Snn,s.oN1,s.BIT,s.Rky,s.CJ8,s.iL,s.qpn,s.omC,s.LeH,s.exr,s.WVR,s.NTf,ct],styles:["th button{text-transform:capitalize!important}tr[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}tr[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}tr[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]{border:0;margin:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;max-height:100vh;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin-left:0rem;margin-right:0rem;padding:0 0 30px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]     table thead{display:none}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.search-label[_ngcontent-%COMP%]{display:block}.search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-column-name[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 400px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width: 500px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width: 600px){.nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-column-size[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%], .nb-column-items[_ngcontent-%COMP%]{width:100%;display:flex;height:100%;flex:1 1}}"]});class ie{isDir(){return"dir"===this.kind}}ie.\u0275fac=function(n){return new(n||ie)},ie.\u0275cmp=t.Xpm({type:ie,selectors:[["nb-fs-icon"]],inputs:{kind:"kind",expanded:"expanded"},decls:3,vars:2,consts:[[3,"expanded",4,"ngIf","ngIfElse"],["fileIcon",""],[3,"expanded"],["icon","file-text-outline"]],template:function(n,e){if(1&n&&(t.YNc(0,Cl,1,1,"nb-tree-grid-row-toggle",0),t.YNc(1,yl,1,0,"ng-template",null,1,t.W1O)),2&n){const o=t.MAs(2);t.Q6J("ngIf",e.isDir())("ngIfElse",o)}},dependencies:[m.O5,s.fMN,s.rvZ],encapsulation:2});class Yt{transform(n,e,o){return console.log("transform",n,e,o),o?(n||[]).filter(r=>e.split(",").some(a=>r.hasOwnProperty(a)&&new RegExp(o,"gi").test(r[a]))):n}}Yt.\u0275fac=function(n){return new(n||Yt)},Yt.\u0275pipe=t.Yjl({name:"searchBusiness",type:Yt,pure:!0});const kl=["selectCheckboxView"],Ml=function(i){return{data:i}};function wl(i,n){if(1&i&&(t.TgZ(0,"nb-list-item")(1,"div",8)(2,"div",9),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.GkF(5,10),t.qZA()()()),2&i){const e=n.$implicit;t.oxw();const o=t.MAs(9);t.xp6(3),t.hij(" ",null==e?null:e.name," "),t.xp6(2),t.Q6J("ngTemplateOutletContext",t.VKq(3,Ml,e))("ngTemplateOutlet",o)}}function Tl(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().data,a=t.oxw(),l=t.MAs(11);return t.KtG(a.open(l,r))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().data;t.xp6(1),t.hij(" ",null==e||null==e.mapped_business||null==e.mapped_business.businessId?null:e.mapped_business.businessId.name," ")}}function Al(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().data,a=t.oxw(),l=t.MAs(11);return t.KtG(a.open(l,r))}),t._uU(1," None "),t.qZA()}}function Ol(i,n){if(1&i&&(t.YNc(0,Tl,2,1,"button",11),t.YNc(1,Al,2,0,"ng-template",null,12,t.W1O)),2&i){const e=n.data,o=t.MAs(2);t.Q6J("ngIf",null==e||null==e.mapped_business?null:e.mapped_business.businessId)("ngIfElse",o)}}function Pl(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",16)(1,"button",19),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),c=l.dialogRef,f=l.$implicit,g=t.oxw();return t.KtG(g.saveBusiness(c,null==f||null==f.data?null:f.data.uuid,null==a||null==a._id?null:a._id.$oid))}),t._uU(2),t.qZA()()}if(2&i){const e=n.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.name," ")}}function Zl(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",15)(1,"nb-card-header")(2,"h5"),t._uU(3,"Select Business"),t.qZA()(),t.TgZ(4,"nb-card-header",16)(5,"div",17)(6,"input",18),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.query=r)}),t.qZA()()(),t.TgZ(7,"nb-list")(8,"nb-list-item",16)(9,"button",19),t.NdJ("click",function(){const r=t.CHM(e),a=r.dialogRef,l=r.$implicit,c=t.oxw();return t.KtG(c.saveBusiness(a,null==l||null==l.data?null:l.data.uuid,null))}),t._uU(10," None "),t.qZA()(),t.YNc(11,Pl,3,1,"nb-list-item",20),t.ALo(12,"searchBusiness"),t.ALo(13,"async"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.query),t.xp6(5),t.Q6J("ngForOf",t.Dn7(12,2,t.lcZ(13,6,e.hawkiBusinesses),"name",e.query))}}function Il(i,n){if(1&i&&(t.TgZ(0,"nb-option",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function Sl(i,n){if(1&i&&(t.TgZ(0,"nb-select",21),t.YNc(1,Il,2,2,"nb-option",22),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.hawkiProjects))}}class Ht{constructor(n,e,o,r,a,l){this.dataSourceBuilder=n,this.apiService=e,this.datePipe=o,this.router=r,this.activatedRoute=a,this.dialogService=l,this.query="",this.projects=this.apiService.getAllScmProjects(),this.hawkiBusinesses=this.apiService.getBusinesses(),this.hawkiProjects=this.apiService.getProjects(),this.customColumn="repository",this.defaultColumns=["project name","language","description","created on","updated on","total scans","size"],this.allColumns=["select","#",this.customColumn,...this.defaultColumns,"action"],this.sortDirection=s.mwv.NONE,this.repositories=new d.Oe([]),this.formControlSelectAll=new d.NI(!0)}bytesToSize(n){if(0==n)return"0 Byte";let o=parseInt(""+Math.floor(Math.log(n)/Math.log(1024)));return Math.round(n/Math.pow(1024,o))+" "+["Bytes","KB","MB","GB","TB"][o]}ngOnInit(){this.formControlSelectAll.valueChanges.pipe((0,O.O)(!1),(0,h.w)(n=>this.dataSource.connect(void 0).pipe((0,_.b)(e=>{e.forEach(o=>{o.data.selected=n})})))).subscribe(),this.apiService.getAllScmProjects().pipe((0,u.U)(n=>n.map((e,o)=>(e["project name"]=e?.project?.name,e.uuid=e?.uuid,e.repository=e?.full_name,e["#"]=o+1,e["created on"]=this.datePipe.transform(e?.created_on,"dd-MM-yyyy"),e["updated on"]=this.datePipe.transform(e?.updated_on,"dd-MM-yyyy"),e.size=this.bytesToSize(e.size),e.selected=!1,{data:e,children:[]})))).subscribe(n=>{this.dataSource=this.dataSourceBuilder.create(n),console.debug("getAllScmRepos",n)})}onChangeActiveState(n){}updateSort(n){this.sortColumn=n.column,this.sortDirection=n.direction}getSortDirection(n){return this.sortColumn===n?this.sortDirection:s.mwv.NONE}getShowOn(n){return 400+100*n}runScan(n){console.debug("runScan",n),this.apiService.runScan(n).subscribe(e=>{this.router.navigate(["scans"],{relativeTo:this.activatedRoute.parent})})}open(n,e){console.log("value",e),this.dialogService.open(n,{context:{data:e}}).onClose.subscribe(o=>{this.query=""})}saveBusiness(n,e,o){this.apiService.updateBitbucketMapping({uuid:e,businessId:o}).pipe((0,_.b)(r=>(this.projects=V.E,this.projects=this.apiService.getAllScmProjects(),r)),(0,_.b)(r=>{n.close()})).subscribe(),console.log("value",n,e)}}Ht.\u0275fac=function(n){return new(n||Ht)(t.Y36(s.aDd),t.Y36(k),t.Y36(m.uU),t.Y36(C.F0),t.Y36(C.gz),t.Y36(s.Gln))},Ht.\u0275cmp=t.Xpm({type:Ht,selectors:[["app-bitbucket-integration"]],viewQuery:function(n,e){if(1&n&&t.Gf(kl,5),2&n){let o;t.iGM(o=t.CRH())&&(e.selectCheckboxView=o)}},decls:14,vars:3,consts:[["fxLayoutAlign","center"],["fxFlex","1 1 900px"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],[4,"ngFor","ngForOf"],["businessList",""],["businessListDialog",""],["projectList",""],["fxFlex","","fxLayout","row"],["fxFlex",""],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["fullWidth","","status","success","outline","","nbButton","",3,"click",4,"ngIf","ngIfElse"],["noneSelected",""],["fullWidth","","status","success","outline","","nbButton","",3,"click"],["fullWidth","","outline","","nbButton","",3,"click"],["size","medium"],[2,"padding","0","margin","0"],["fxLayoutAlign","center center","fxLayoutGap","1rem","fxLayout","row",1,"search-input"],["placeholder","Search","status","primary","nbInput","","id","search",3,"ngModel","ngModelChange"],["fxLayoutAlign","start center","ghost","","size","medium","nbButton","","fxFlex","",3,"click"],["style","padding: 0 ; margin: 0;",4,"ngFor","ngForOf"],["optionsPanelClass","optionsPanelClass","fullWidth","","placeholder","Select Type",1,"col-8"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"nb-card",1)(2,"nb-card-header",2)(3,"div",3),t._uU(4," Repositories Access Control "),t.qZA()(),t.TgZ(5,"nb-list"),t.YNc(6,wl,6,5,"nb-list-item",4),t.ALo(7,"async"),t.qZA()()(),t.YNc(8,Ol,3,2,"ng-template",null,5,t.W1O),t.YNc(10,Zl,14,8,"ng-template",null,6,t.W1O),t.YNc(12,Sl,3,3,"ng-template",null,7,t.W1O)),2&n&&(t.xp6(6),t.Q6J("ngForOf",t.lcZ(7,1,e.projects)))},dependencies:[m.sg,m.O5,m.tP,p.xw,p.SQ,p.Wh,p.yH,s.DPz,s.Asz,s.ndF,s.h8i,s.zP_,s.qBV,s.rs,s.q51,d.Fj,d.JJ,d.On,m.Ov,Yt],styles:["button[_ngcontent-%COMP%]{text-transform:capitalize!important}  th button{text-transform:capitalize!important}tr[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}tr[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}tr[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]{border:0;margin:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;max-height:100vh;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin-left:0rem;margin-right:0rem;padding:0 0 30px}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]     table thead{display:none}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.search-label[_ngcontent-%COMP%]{display:block}.search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-column-name[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 400px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width: 500px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width: 600px){.nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-column-size[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%], .nb-column-items[_ngcontent-%COMP%]{width:23%}}"]});const Fl=["parent"];function Ll(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"button",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),c=t.MAs(19);return t.KtG(l.openDialog(c,a))}),t._uU(3,"Run"),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA()(),t.BQk()}if(2&i){const e=n.$implicit;t.xp6(5),t.hij(" ",null==e?null:e.name," ")}}function Ul(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"button",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),c=t.MAs(21);return t.KtG(l.openDialog(c,a))}),t._uU(3,"Run"),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.qZA()(),t.BQk()}if(2&i){const e=n.$implicit;t.xp6(5),t.hij(" ",null==e?null:e.name," ")}}function Bl(i,n){1&i&&(t.TgZ(0,"nb-card-body")(1,"span",21),t._uU(2," Application URL "),t._UZ(3,"br")(4,"input",22,23),t.qZA()())}function Nl(i,n){1&i&&(t.TgZ(0,"nb-card-body")(1,"span",21),t._uU(2," Git Repository "),t._UZ(3,"br")(4,"input",24),t.qZA()())}function ql(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",15)(1,"nb-card-header")(2,"h4",16)(3,"strong"),t._uU(4),t.qZA()()(),t.YNc(5,Bl,6,0,"nb-card-body",17),t.YNc(6,Nl,5,0,"nb-card-body",17),t.TgZ(7,"nb-card-footer",18)(8,"div",19)(9,"button",20),t.NdJ("click",function(){const r=t.CHM(e);return t.KtG(r.dialogRef.close([r.$implicit]))}),t._uU(10,"Run"),t.qZA()()()()}if(2&i){const e=n.$implicit,o=t.oxw();t.Q6J("formGroup",o.dialogFormGroup),t.xp6(4),t.hij("Execute ",null==e?null:e.name,""),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.required_field?null:e.required_field.indexOf("URL"))>=0),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.required_field?null:e.required_field.indexOf("REPO"))>=0),t.xp6(3),t.Q6J("disabled",o.dialogFormGroup.invalid)}}function Jl(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",15)(1,"nb-card-header")(2,"h4",16)(3,"strong"),t._uU(4),t.qZA()()(),t.TgZ(5,"nb-card-body")(6,"span",21),t._uU(7," Application URL "),t._UZ(8,"br")(9,"input",22,23),t.qZA()(),t.TgZ(11,"nb-card-body")(12,"span",21),t._uU(13," Git Repository "),t._UZ(14,"br")(15,"input",24),t.qZA()(),t.TgZ(16,"nb-card-footer",18)(17,"div",19)(18,"button",20),t.NdJ("click",function(){const r=t.CHM(e);return t.KtG(r.dialogRef.close([r.$implicit,!0]))}),t._uU(19,"Run"),t.qZA()()()()}if(2&i){const e=n.$implicit,o=t.oxw();t.Q6J("formGroup",o.dialogFormGroup),t.xp6(4),t.hij("Execute ",null==e?null:e.name,""),t.xp6(14),t.Q6J("disabled",o.dialogFormGroup.invalid)}}class Vt{constructor(n,e,o,r){this.apiService=n,this.dialogService=e,this.router=o,this.activatedRoute=r,this.dialogFormGroup=new d.cw({url:new d.NI("",[d.kI.required]),repo:new d.NI("",[d.kI.required])}),this.loadingGeneric=!1,this.selectedApp=this.apiService.selectedApp.pipe((0,v.h)(a=>!!a?.identifier),(0,u.U)(a=>(console.log("map 1",a),{businessId:a?.businessId,projectId:a?.projectId,platformId:a?.platformId,applicationId:a?.application?.applicationId})),(0,P.d)()),this.external_tools={},this.email_notifications=new d.NI(void 0),this.active_state=new d.NI(void 0),this.external_tools_list=this.apiService.getExternalTools(),this.external_tools_devsec_list=this.apiService.getExternalDevSecTools().pipe((0,u.U)(a=>a.tools),(0,u.U)(a=>a.map(l=>({name:Object.keys(l)[0],parse:l.PARSE})))),this.canSave=!1,this.formEnabled=!1,this.subscription_1=w.w0.EMPTY,this.subscription_2=w.w0.EMPTY,this.subscription_3=w.w0.EMPTY,this.appUrl=this.selectedApp.pipe((0,h.w)(a=>this.apiService.getDevsecopsDynamicScanData(a).pipe((0,u.U)(l=>(console.log("map 1",l),l?.APP_URL||""))))),this.gitRepo=this.selectedApp.pipe((0,h.w)(a=>this.apiService.getDevsecopsStaticScanData(a).pipe((0,u.U)(l=>(console.log("map 1",l),l?.GIT_URL||"")))))}ngOnDestroy(){this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.subscription_3.unsubscribe()}ngOnInit(){this.dialogFormGroup.reset(),this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.subscription_3.unsubscribe(),this.loadingGeneric=!0}runExternalTool(n,e,o){this.subscription_1=this.selectedApp.pipe((0,u.U)(r=>(console.log("map 2",r),r.toolId=n._id.$oid,r.scan_data={URL:e,REPO:o},console.log("runExternalTool",r,n),r)),(0,h.w)(r=>this.apiService.runExtetnalTool(r))).subscribe(r=>{console.log("nbigating to",["external_tool_scans",r]),this.router.navigate(["external_tool_scans",r],{relativeTo:this.activatedRoute.parent})})}runExternalToolNew(n,e,o){this.subscription_1=this.selectedApp.pipe((0,u.U)(r=>{let a="";try{a=new URL(e).hostname}catch{a=e}console.log("map 2",r);let l="_EXT_"+n.name,c=n.parse;return r.toolId=n.name,r.parse=c,r.scan_data={APP_URL:e,DOMAIN:a,bucket_env:0},r.scan_data[l]="True",console.log("runExternalTool",r,n),r}),(0,h.w)(r=>this.apiService.runExtetnalToolNew(r))).subscribe(r=>{console.log("nbigating to",["external_tool_scans",r])})}openDialog(n,e){console.log("open",n,e,this.dialogService),this.subscription_2=(0,D.a)([this.appUrl,this.gitRepo]).pipe((0,A.q)(1)).subscribe(o=>{console.log("merge",o),this.dialogFormGroup.setControl("url",new d.NI(o[0],[d.kI.required])),this.dialogFormGroup.setControl("repo",new d.NI(o[1],[d.kI.required])),this.dialogRef?.close(),this.dialogRef=this.dialogService.open(n,{context:e}),this.subscription_3=this.dialogRef.onClose.subscribe(r=>{if(console.log("Closing dialog",r,e),!r)return void this.dialogFormGroup.reset();let a=this.dialogFormGroup.value,l=a?.url,c=a?.repo;console.log("_runExternalTool",l,c),this.dialogFormGroup.reset(),1==r?.length?this.runExternalTool(e,l,c):2==r?.length&&this.runExternalToolNew(e,l,c)})})}}function Dl(i,n){if(1&i&&(t.TgZ(0,"nb-tab",3),t.ynx(1),t.TgZ(2,"code"),t._uU(3),t.ALo(4,"async"),t.qZA(),t.BQk(),t.qZA()),2&i){const e=n.$implicit;t.Q6J("tabTitle",null==e||null==e.name?null:e.name.split(".")[0]),t.xp6(3),t.hij(" ",t.lcZ(4,2,e.download_url)," ")}}function Ql(i,n){if(1&i&&(t.TgZ(0,"nb-card")(1,"nb-card-body",1)(2,"nb-tabset"),t.YNc(3,Dl,5,4,"nb-tab",2),t.qZA()()()),2&i){const e=n.ngIf;t.xp6(3),t.Q6J("ngForOf",e.files)}}Vt.\u0275fac=function(n){return new(n||Vt)(t.Y36(k),t.Y36(s.Gln),t.Y36(C.F0),t.Y36(C.gz))},Vt.\u0275cmp=t.Xpm({type:Vt,selectors:[["app-external-tools-runner"]],viewQuery:function(n,e){if(1&n&&t.Gf(Fl,5),2&n){let o;t.iGM(o=t.CRH())&&(e.parent=o.first)}},decls:22,vars:6,consts:[["fxFill","","fxLayout","column","fxLayoutGap","2rem",2,"padding","2rem"],["parent",""],["nbSpinnerStatus","danger"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","","fxLayoutAlign","center","fxLayout","row"],["fxLayoutGap","2rem","fxLayout","column","fxFlex",""],[4,"ngFor","ngForOf"],["toolRunnerDialog",""],["toolNewRunnerDialog",""],["fxLayoutGap","2rem","fxLayoutAlign","start center","fxFlex","","fxLayout","row"],["nbButton","","shape","round","outline","","size","small","status","success",3,"click"],[1,"text"],[1,"text",2,"text-transform","capitalize"],[1,"dialog",3,"formGroup"],[1,"field"],[4,"ngIf"],["fxLayoutAlign","end"],[1,"row"],["nbButton","","size","small","status","danger",3,"disabled","click"],[1,"subheading"],["formControlName","url","fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Url",2,"margin-top","2rem"],["appUrlInput",""],["formControlName","repo","fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Git Url",2,"margin-top","2rem"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0,1)(2,"nb-card",2)(3,"nb-card-header",3)(4,"div",4),t._uU(5," Add-on Tools "),t.qZA()(),t.TgZ(6,"nb-card-body",5)(7,"div",6)(8,"div",7),t.ynx(9),t.YNc(10,Ll,6,1,"ng-container",8),t.ALo(11,"async"),t.BQk(),t.qZA()()(),t.TgZ(12,"nb-card-body",5)(13,"div",6)(14,"div",7),t.ynx(15),t.YNc(16,Ul,6,1,"ng-container",8),t.ALo(17,"async"),t.BQk(),t.qZA()()()()(),t.YNc(18,ql,11,5,"ng-template",null,9,t.W1O),t.YNc(20,Jl,20,3,"ng-template",null,10,t.W1O)),2&n&&(t.xp6(10),t.Q6J("ngForOf",t.lcZ(11,2,e.external_tools_list)),t.xp6(6),t.Q6J("ngForOf",t.lcZ(17,4,e.external_tools_devsec_list)))},dependencies:[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.DPz,s.Asz,s.yKW,s.XWE,s.ndF,s.h8i,d.Fj,d.JJ,d.JL,d.sg,d.u,m.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:cente}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem;padding-bottom:30px;padding-top:30px}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem;margin:40px}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%], ._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;margin-left:0;padding-left:0;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 20px 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-toggle[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:20px}nb-toggle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-transform:capitalize}.text[_ngcontent-%COMP%]{font-family:var(--toggle-text-font-family);font-size:var(--toggle-text-font-size);font-weight:var(--toggle-text-font-weight);line-height:var(--toggle-text-line-height);text-transform:capitalize}h6[_ngcontent-%COMP%]{font-weight:500;font-size:1.4rem;line-height:2rem;padding:0;margin:40px 40px 40px 0}']});class J{constructor(n,e,o,r){this.apiService=n,this.activatedRoute=e,this.router=o,this.dialogService=r,this.MINIO_URL=ut.N.minio_url,this.selectedBuild$=new F.X(void 0),this.selectedBuild=this.selectedBuild$.pipe((0,_.b)(a=>{console.log("__selectedBuild","ngOnInit","Obs")})),this.buildDetails=this.selectedBuild.pipe((0,h.w)(a=>(console.log("buildDetails",a),a?this.apiService.getBuildById(a.buildId).pipe((0,_.b)(l=>{console.log("buildDetails",l)}),(0,u.U)(l=>this.apiService.buildTransformerPipe(l)),(0,u.U)(l=>this.apiService.buildDetailedPipe(l)),(0,P.d)()):(0,N.of)(a)))),this.subscription=w.w0.EMPTY}ngOnInit(){this.subscription=(0,D.a)([this.apiService.selectedBuildId.pipe((0,_.b)(n=>{this.selectedBuild$.next(void 0)}),(0,v.h)(n=>!!n)),this.apiService.selectedApp.pipe((0,_.b)(n=>{this.selectedBuild$.next(void 0)}),(0,u.U)(n=>n?.identifier),(0,v.h)(n=>!!n))]).subscribe(n=>{console.log("combineLatest",n),console.log("!__selectedBuild",{applicationId:n[1],buildId:n[0]}),this.selectedBuild$.next({applicationId:n[1],buildId:n[0]})})}}J.\u0275fac=function(n){return new(n||J)(t.Y36(k),t.Y36(C.gz),t.Y36(C.F0),t.Y36(s.Gln))},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-log-stream"]],decls:2,vars:3,consts:[[4,"ngIf"],["fxLayoutGap","20px","fxLayout","column",2,"padding","2rem"],[3,"tabTitle",4,"ngFor","ngForOf"],[3,"tabTitle"]],template:function(n,e){1&n&&(t.YNc(0,Ql,4,1,"nb-card",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,e.buildDetails))},dependencies:[m.sg,m.O5,p.xw,p.SQ,s.Asz,s.yKW,s.kyn,s.TR4,m.Ov],styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";.field[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:400;padding:.5rem;color:var(--text-hint-color);padding-left:10px;border-left:4px solid var(--color-basic-200);margin-bottom:1rem}.field_details[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;font-weight:500;padding:.5rem;padding-left:20px;color:var(--text-basic-color)}nb-card[_ngcontent-%COMP%]{margin:0!important;max-height:calc(100vh - 4rem);background:var(--background-basic-color-2)!important}nb-card-header[_ngcontent-%COMP%]{background:var(--background-basic-color-1)!important}nb-accordion-item[_ngcontent-%COMP%]{background:var(--background-basic-color-4)!important;margin-bottom:1rem}nb-accordion-item-header[_ngcontent-%COMP%]{background:var(--background-basic-color-3)!important;padding:1rem}nb-accordion-item-header[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-2)!important}.chip[_ngcontent-%COMP%]{font-weight:500;color:#fff;background-color:var(--color-primary-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px}.sub_chip[_ngcontent-%COMP%]{font-weight:500;color:var(--color-basic-200);background-color:var(--color-danger-600);font-size:.8rem;line-height:1.5rem;padding:3px;margin:5px;border-radius:9px;margin-top:1rem}hr[_ngcontent-%COMP%]{display:block;height:1px;border:0;border-top:1px solid var(--text-alternate-color);margin:1em 0;padding:0;margin-bottom:1rem}.item[_ngcontent-%COMP%]{border-radius:.3rem;font-size:1rem;line-height:1.5rem;padding:var(--button-ghost-medium-padding);padding-right:0!important;max-lines:2;white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis}.item[_ngcontent-%COMP%]:hover{background:var(--button-ghost-basic-active-background-color);transition:1s}button[_ngcontent-%COMP%]{text-transform:none!important;text-align:start;justify-content:start;overflow-x:hidden}.text-interactive[_ngcontent-%COMP%]{color:var(--text-warning-color);font-weight:550}.status-tag[_ngcontent-%COMP%]{color:var(--text-basic-color)!important}.findingstats[_ngcontent-%COMP%]{min-width:0;display:flex}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize!important}']});const zl=["parent"];function Rl(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12)(2,"button",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2),c=t.MAs(14);return t.KtG(l.openDialog(c,a))}),t._uU(3,"Run"),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.qZA()(),t.BQk()}if(2&i){const e=n.$implicit;t.xp6(5),t.hij(" ",e.alias," ")}}function Gl(i,n){if(1&i&&(t.TgZ(0,"nb-card-body",6)(1,"div",7)(2,"div",8),t.ynx(3),t.YNc(4,Rl,6,1,"ng-container",9),t.ALo(5,"async"),t.BQk(),t.qZA()()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,e.external_tools_list))}}function El(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12)(2,"button",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),c=t.MAs(16);return t.KtG(l.openDialog(c,a))}),t._uU(3,"Run"),t.qZA(),t.TgZ(4,"div",15),t._uU(5),t.qZA()(),t.BQk()}if(2&i){const e=n.$implicit;t.xp6(5),t.hij(" ",e.alias," ")}}function $l(i,n){1&i&&(t.TgZ(0,"nb-card-body")(1,"span",22),t._uU(2," Application URL "),t._UZ(3,"br")(4,"input",23,24),t.qZA()())}function jl(i,n){1&i&&(t.TgZ(0,"nb-card-body")(1,"span",22),t._uU(2," Git Repository "),t._UZ(3,"br")(4,"input",25),t.qZA()())}function Yl(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",16)(1,"nb-card-header")(2,"h4",17)(3,"strong"),t._uU(4),t.qZA()()(),t.YNc(5,$l,6,0,"nb-card-body",18),t.YNc(6,jl,5,0,"nb-card-body",18),t.TgZ(7,"nb-card-footer",19)(8,"div",20)(9,"button",21),t.NdJ("click",function(){const r=t.CHM(e);return t.KtG(r.dialogRef.close([r.$implicit]))}),t._uU(10,"Run"),t.qZA()()()()}if(2&i){const e=n.$implicit,o=t.oxw();t.Q6J("formGroup",o.dialogFormGroup),t.xp6(4),t.hij("Execute ",e.alias,""),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.required_field?null:e.required_field.indexOf("URL"))>=0),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.required_field?null:e.required_field.indexOf("REPO"))>=0),t.xp6(3),t.Q6J("disabled",o.dialogFormGroup.invalid)}}function Hl(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",16)(1,"nb-card-header")(2,"h4",17)(3,"strong"),t._uU(4),t.qZA()()(),t.TgZ(5,"nb-card-body")(6,"span",22),t._uU(7," Application URL "),t._UZ(8,"br")(9,"input",23,24),t.qZA()(),t.TgZ(11,"nb-card-body")(12,"span",22),t._uU(13," Git Repository "),t._UZ(14,"br")(15,"input",25),t.qZA()(),t.TgZ(16,"nb-card-footer",19)(17,"div",20)(18,"button",21),t.NdJ("click",function(){const r=t.CHM(e);return t.KtG(r.dialogRef.close([r.$implicit,!0]))}),t._uU(19,"Run"),t.qZA()()()()}if(2&i){const e=n.$implicit,o=t.oxw();t.Q6J("formGroup",o.dialogFormGroup),t.xp6(4),t.hij("Execute ",e.alias,""),t.xp6(14),t.Q6J("disabled",o.dialogFormGroup.invalid)}}class Ct{constructor(n,e,o,r){this.apiService=n,this.dialogService=e,this.router=o,this.activatedRoute=r,this.dialogFormGroup=new d.cw({url:new d.NI("",[d.kI.required]),repo:new d.NI("",[d.kI.required])}),this.loadingGeneric=!1,this.selectedApp=this.apiService.selectedApp.pipe((0,v.h)(a=>!!a?.identifier),(0,u.U)(a=>(console.log("map 1",a),{businessId:a?.businessId,projectId:a?.projectId,platformId:a?.platformId,applicationId:a?.application?.applicationId})),(0,P.d)()),this.external_tools={},this.email_notifications=new d.NI(void 0),this.active_state=new d.NI(void 0),this.external_tools_list=this.apiService.getExternalTools(),this.external_tools_devsec_list=this.apiService.getExternalDevSecTools().pipe((0,u.U)(a=>a.tools),(0,u.U)(a=>a.map(l=>{let c=Object.keys(l).filter(f=>"PARSE"!==f).filter(f=>"alias"!==f)[0];return{name:c,alias:c.toLowerCase(),parse:l.PARSE}}))),this.canSave=!1,this.formEnabled=!1,this.subscription_1=w.w0.EMPTY,this.subscription_2=w.w0.EMPTY,this.subscription_3=w.w0.EMPTY,this.appUrl=this.selectedApp.pipe((0,h.w)(a=>this.apiService.getDevsecopsDynamicScanData(a).pipe((0,u.U)(l=>(console.log("map 1",l),l?.APP_URL||""))))),this.gitRepo=this.selectedApp.pipe((0,h.w)(a=>this.apiService.getDevsecopsStaticScanData(a).pipe((0,u.U)(l=>(console.log("map 1",l),l?.GIT_URL||"")))))}ngOnDestroy(){this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.subscription_3.unsubscribe()}ngOnInit(){this.dialogFormGroup.reset(),this.subscription_1.unsubscribe(),this.subscription_2.unsubscribe(),this.subscription_3.unsubscribe(),this.loadingGeneric=!0}runExternalTool(n,e,o){this.subscription_1=this.selectedApp.pipe((0,u.U)(r=>(console.log("map 2",r),r.toolId=n._id.$oid,r.scan_data={URL:e,REPO:o},console.log("runExternalTool",r,n),r)),(0,h.w)(r=>this.apiService.runExtetnalTool(r))).subscribe(r=>{console.log("nbigating to",["external_tool_scans",r]),this.router.navigate(["external_tool_scans",r],{relativeTo:this.activatedRoute.parent})})}runExternalToolNew(n,e,o){this.subscription_1=this.selectedApp.pipe((0,u.U)(r=>{let a="";try{a=new URL(e).hostname}catch{a=e}console.log("map 2",r);let l="_EXT_"+n.name,c=n.parse;return r.toolId=n.name,r.parse=c,r.scan_data={APP_URL:e,DOMAIN:a,bucket_env:0},r.scan_data[l]="True",console.log("runExternalTool",r,n),r}),(0,h.w)(r=>this.apiService.runExtetnalToolNew(r))).subscribe(r=>{console.log("nbigating to",["external_tool_scans",r]),this.router.navigate(["external_tool_scans_new",r],{relativeTo:this.activatedRoute.parent})})}openDialog(n,e){console.log("open",n,e,this.dialogService),this.subscription_2=(0,D.a)([this.appUrl,this.gitRepo]).pipe((0,A.q)(1)).subscribe(o=>{console.log("merge",o),this.dialogFormGroup.setControl("url",new d.NI(o[0],[d.kI.required])),this.dialogFormGroup.setControl("repo",new d.NI(o[1],[d.kI.required])),this.dialogRef?.close(),this.dialogRef=this.dialogService.open(n,{context:e}),this.subscription_3=this.dialogRef.onClose.subscribe(r=>{if(console.log("Closing dialog",r,e),!r)return void this.dialogFormGroup.reset();let a=this.dialogFormGroup.value,l=a?.url,c=a?.repo;console.log("_runExternalTool",l,c),this.dialogFormGroup.reset(),1==r?.length?this.runExternalTool(e,l,c):2==r?.length&&this.runExternalToolNew(e,l,c)})})}}function Vl(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item")(1,"div",6)(2,"div",7)(3,"div",8),t._uU(4),t.qZA(),t.TgZ(5,"div",9)(6,"button",10),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),a=t.MAs(11);return t.KtG(r.openDialog(a))}),t._uU(7),t.qZA(),t.TgZ(8,"button",11),t._uU(9," Explore "),t.qZA(),t.TgZ(10,"button",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.removeUrl(null==a||null==a._id?null:a._id.$oid))}),t._uU(11," Delete "),t.qZA(),t.TgZ(12,"button",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.runQuickDynamicScan(null==a?null:a.domain))}),t._uU(13," Scan "),t.qZA(),t.TgZ(14,"button",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.runScan(null==a?null:a.domain))}),t._uU(15," Recon "),t.qZA()()()()()}if(2&i){const e=n.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.domain," "),t.xp6(3),t.hij(" ",null==e?null:e.total_subdomains," "),t.xp6(1),t.Q6J("routerLink",null==e||null==e._id?null:e._id.$oid)}}function Wl(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",14)(1,"nb-card-header",15)(2,"div",1),t._uU(3," Add Domain "),t.qZA()(),t.TgZ(4,"nb-card-body",16)(5,"div",17)(6,"div",18),t._uU(7," Website Url "),t.qZA(),t.TgZ(8,"div",16)(9,"nb-form-field",19)(10,"span",20),t._uU(11," Url "),t.qZA(),t._UZ(12,"input",21),t.qZA()()()(),t.TgZ(13,"nb-card-footer",22)(14,"button",23),t.NdJ("click",function(){const a=t.CHM(e).dialogRef;return t.KtG(a.close())}),t._uU(15," Cancel "),t._UZ(16,"nb-icon",24),t.qZA(),t.TgZ(17,"button",25),t.NdJ("click",function(){const a=t.CHM(e).dialogRef,l=t.oxw();return t.KtG(l.addUrl(a))}),t._uU(18," Save "),t._UZ(19,"nb-icon",26),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(12),t.Q6J("formControl",e.urlFormField),t.xp6(5),t.Q6J("disabled",null==e.urlFormField?null:e.urlFormField.invalid)}}Ct.\u0275fac=function(n){return new(n||Ct)(t.Y36(k),t.Y36(s.Gln),t.Y36(C.F0),t.Y36(C.gz))},Ct.\u0275cmp=t.Xpm({type:Ct,selectors:[["add-on-tools-runner"]],viewQuery:function(n,e){if(1&n&&t.Gf(zl,5),2&n){let o;t.iGM(o=t.CRH())&&(e.parent=o.first)}},decls:17,vars:4,consts:[["fxFill","","fxLayout","column","fxLayoutGap","2rem",2,"padding","2rem"],["parent",""],["nbSpinnerStatus","danger"],["fxLayoutAlign","center start"],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","","fxLayoutAlign","center","fxLayout","row"],["fxLayoutGap","2rem","fxLayout","column","fxFlex",""],[4,"ngFor","ngForOf"],["toolRunnerDialog",""],["toolNewRunnerDialog",""],["fxLayoutGap","2rem","fxLayoutAlign","start center","fxFlex","","fxLayout","row"],["nbButton","","shape","round","outline","","size","small","status","success",3,"click"],[1,"text"],[1,"text",2,"text-transform","capitalize"],[1,"dialog",3,"formGroup"],[1,"field"],[4,"ngIf"],["fxLayoutAlign","end"],[1,"row"],["nbButton","","size","small","status","danger",3,"disabled","click"],[1,"subheading"],["formControlName","url","fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Url",2,"margin-top","2rem"],["appUrlInput",""],["formControlName","repo","fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Git Url",2,"margin-top","2rem"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0,1)(2,"nb-card",2)(3,"nb-card-header",3)(4,"div",4),t._uU(5," External Tools "),t.qZA()(),t.YNc(6,Gl,6,3,"nb-card-body",5),t.TgZ(7,"nb-card-body",6)(8,"div",7)(9,"div",8),t.ynx(10),t.YNc(11,El,6,1,"ng-container",9),t.ALo(12,"async"),t.BQk(),t.qZA()()()()(),t.YNc(13,Yl,11,5,"ng-template",null,10,t.W1O),t.YNc(15,Hl,20,3,"ng-template",null,11,t.W1O)),2&n&&(t.xp6(6),t.Q6J("ngIf",!1),t.xp6(5),t.Q6J("ngForOf",t.lcZ(12,2,e.external_tools_devsec_list)))},dependencies:[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.DPz,s.Asz,s.yKW,s.XWE,s.ndF,s.h8i,d.Fj,d.JJ,d.JL,d.sg,d.u,m.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:cente}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem;padding-bottom:30px;padding-top:30px}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem;margin:40px}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%], ._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;margin-left:0;padding-left:0;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 20px 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-toggle[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:20px}nb-toggle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-transform:capitalize}.text[_ngcontent-%COMP%]{font-family:var(--toggle-text-font-family);font-size:var(--toggle-text-font-size);font-weight:var(--toggle-text-font-weight);line-height:var(--toggle-text-line-height);text-transform:capitalize}h6[_ngcontent-%COMP%]{font-weight:500;font-size:1.4rem;line-height:2rem;padding:0;margin:40px 40px 40px 0}']});const Kl=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?|^((http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;class Wt{constructor(n,e,o,r){this.dialogService=n,this.apiService=e,this.router=o,this.activatedRoute=r,this.urlFormField=new d.NI("",[d.kI.required,d.kI.pattern(Kl)]),this.selectedApp=this.apiService.selectedApp.pipe((0,_.b)(a=>{console.log(a)}),(0,v.h)(a=>!!a?.identifier),(0,u.U)(a=>({businessId:a?.businessId,projectId:a?.projectId,platformId:a?.platformId,applicationId:a?.application?.applicationId}))),this.assetUrls=this.selectedApp.pipe((0,A.q)(1),(0,K.z)(a=>this.apiService.getAssetUrls(a?.applicationId?.$oid).pipe()))}ngOnInit(){}openDialog(n){this.dialogService.open(n,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{}}).onClose.subscribe(e=>{this.urlFormField.setValue("")})}addUrl(n){let e=this.urlFormField.value;0==e.indexOf("http://")||0==e.indexOf("https://")||(e="http://"+e);let o=new URL(e)?.hostname;this.selectedApp.pipe((0,_.b)(r=>{console.log(o)}),(0,K.z)(r=>this.apiService.addAssetUrl(o,r?.applicationId?.$oid).pipe((0,u.U)(a=>r))),(0,_.b)(r=>{n?.close()}),(0,A.q)(1)).subscribe(r=>{this.assetUrls=this.apiService.getAssetUrls(r?.applicationId?.$oid)})}removeUrl(n){this.selectedApp.pipe((0,K.z)(e=>this.apiService.removeAssetUrl(e?.applicationId?.$oid,n).pipe((0,u.U)(o=>e))),(0,_.b)(e=>{}),(0,A.q)(1)).subscribe(e=>{this.assetUrls=this.apiService.getAssetUrls(e?.applicationId?.$oid)})}runScan(n){this.selectedApp.pipe((0,A.q)(1),(0,K.z)(e=>(e.target=n,this.apiService.runRecon(e)))).subscribe(e=>{this.router.navigate(["../","recon_jobs"],{relativeTo:this.activatedRoute})})}runQuickDynamicScan(n){this.selectedApp.pipe((0,A.q)(1),(0,K.z)(e=>(e.target=n,this.apiService.runQuickDynamicScan(e)))).subscribe(e=>{this.router.navigate(["../","quick_dynamic_scan"],{relativeTo:this.activatedRoute})})}}function Xl(i,n){1&i&&t._UZ(0,"nb-icon",12)}function ts(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item")(1,"div",6)(2,"div",7)(3,"div",8),t._uU(4),t.qZA(),t.TgZ(5,"div",9),t.YNc(6,Xl,1,0,"nb-icon",10),t.TgZ(7,"button",11),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.runQuickDynamicScan(null==a?null:a.domain))}),t._uU(8," Scan "),t.qZA()()()()()}if(2&i){const e=n.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.domain," "),t.xp6(2),t.Q6J("ngIf",null==e||null==e.last_in_process_build?null:e.last_in_process_build._id)}}function es(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card",1)(1,"nb-card-header")(2,"div",2),t._uU(3," DNS Discovered "),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){const a=t.CHM(e).ngIf,l=t.oxw();return t.KtG(l.runAll(a))}),t._uU(5," Run All "),t._UZ(6,"nb-icon",4),t.qZA()(),t.TgZ(7,"nb-list"),t.YNc(8,ts,9,2,"nb-list-item",5),t.qZA()()}if(2&i){const e=n.ngIf;t.xp6(8),t.Q6J("ngForOf",e)}}Wt.\u0275fac=function(n){return new(n||Wt)(t.Y36(s.Gln),t.Y36(k),t.Y36(C.F0),t.Y36(C.gz))},Wt.\u0275cmp=t.Xpm({type:Wt,selectors:[["app-assets-dns"]],decls:12,vars:3,consts:[["fxFill",""],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["status","primary","size","small","nbButton","","hero","",3,"click"],["icon","plus-outline"],[4,"ngFor","ngForOf"],["addDomainDialog",""],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayoutAlign","space-between"],["fxFlex",""],["fxLayoutGap","0.4rem"],["status","success","size","tiny","nbButton","","outline","",3,"click"],["status","secondary","size","tiny","nbButton","","control","",3,"routerLink"],["status","danger","size","tiny","nbButton","","control","",3,"click"],["status","primary","size","tiny","nbButton","","control","",3,"click"],["size","medium"],["fxLayoutAlign","center space-between"],["fxFlex","","fxLayoutAlign","center center"],["fxFlex","","fxLayoutGap","20px","fxLayout","column"],["fxFlex","",1,"text-hint",2,"font-size","1.2rem"],["fxFlex","","nbSpinnerStatus","danger"],["nbPrefix","",1,"text-hint"],["status","primary","fullWidth","","type","text","nbInput","","fieldSize","giant","placeholder","https://example.your-website.com/",3,"formControl"],["fxLayoutGap","20px","fxLayoutAlign","end"],["status","danger","size","small","nbSuffix","","nbButton","","hero","",3,"click"],["icon","refresh-outline"],["status","primary","size","small","nbSuffix","","nbButton","","filled","",3,"disabled","click"],["icon","checkmark-outline"]],template:function(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"nb-card",0)(1,"nb-card-header")(2,"div",1),t._uU(3," DNS Assets "),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(11);return t.KtG(e.openDialog(a))}),t._uU(5," Add "),t._UZ(6,"nb-icon",3),t.qZA()(),t.TgZ(7,"nb-list"),t.YNc(8,Vl,16,3,"nb-list-item",4),t.ALo(9,"async"),t.qZA()(),t.YNc(10,Wl,20,2,"ng-template",null,5,t.W1O)}2&n&&(t.xp6(8),t.Q6J("ngForOf",t.lcZ(9,1,e.assetUrls)))},dependencies:[m.sg,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,C.rH,s.Asz,s.yKW,s.XWE,s.ndF,s.h8i,s.zP_,s.qBV,d.Fj,d.JJ,d.oH,s.jBG,s.t3q,s.yyc,m.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:center}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{cursor:pointer;border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:2rem}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%], ._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 0 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4);padding:1rem}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}']});class yt{constructor(n,e,o,r){this.dialogService=n,this.apiService=e,this.router=o,this.activatedRoute=r,this.selectedApp=this.apiService.selectedApp.pipe((0,_.b)(a=>{console.log(a)}),(0,v.h)(a=>!!a?.identifier),(0,u.U)(a=>({businessId:a?.businessId,projectId:a?.projectId,platformId:a?.platformId,applicationId:a?.application?.applicationId})))}ngOnInit(){this.activatedRoute.paramMap.subscribe(n=>{let e=n.get("asset_id");console.debug("activatedRoute",e),this.assetUrls=this.apiService.getDiscoveredAssets(e).pipe()})}openDialog(n){this.dialogService.open(n,{dialogClass:"dialogClass",backdropClass:"blurBackdrop",context:{}}).onClose.subscribe(e=>{})}runQuickDynamicScan(n){this.selectedApp.pipe((0,A.q)(1),(0,K.z)(e=>(e.target=n,this.apiService.runQuickDynamicScan(e)))).subscribe(e=>{})}runAll(n){n.forEach(e=>{this.runQuickDynamicScan(e?.domain)})}}yt.\u0275fac=function(n){return new(n||yt)(t.Y36(s.Gln),t.Y36(k),t.Y36(C.F0),t.Y36(C.gz))},yt.\u0275cmp=t.Xpm({type:yt,selectors:[["app-assets-dns-discovered"]],decls:2,vars:3,consts:[["fxFill","",4,"ngIf"],["fxFill",""],["fxFlex","","fxLayoutAlign","start start",1,"h5"],["status","primary","size","small","nbButton","","hero","",3,"click"],["icon","plus-outline"],[4,"ngFor","ngForOf"],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayoutAlign","space-between"],["fxFlex",""],["fxLayoutAlign","center center","fxLayoutGap","0.4rem"],["class","dot spin","status","info","icon","close-circle-outline",4,"ngIf"],["status","success","size","tiny","nbButton","","control","",3,"click"],["status","info","icon","close-circle-outline",1,"dot","spin"]],template:function(n,e){1&n&&(t.YNc(0,es,9,1,"nb-card",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,e.assetUrls))},dependencies:[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.ndF,s.zP_,s.qBV,m.Ov],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]{justify-content:center}.main[_ngcontent-%COMP%]{color:var(--text-hint-color);font-weight:500;font-size:1rem;line-height:1.4rem;background-color:var(--color-basic-1100)}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{margin:1rem;overflow-wrap:break-word}nb-card[_ngcontent-%COMP%]{cursor:pointer;border:0;background:var(--background-basic-color-4);box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;border-radius:1rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-600)}nb-card[_ngcontent-%COMP%]:hover{background:var(--background-basic-color-3)}nb-card[_ngcontent-%COMP%]:hover   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary-500)}nb-card[_ngcontent-%COMP%]:hover   .h5[_ngcontent-%COMP%]{color:#fff!important}nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:2rem}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}.label[_ngcontent-%COMP%]{margin-bottom:.5rem}.rows[_ngcontent-%COMP%]{padding:1rem;overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;width:0!important;color:var(--text-color-basic)}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.desc[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:1rem;font-size:1rem;line-height:1.7rem;margin-left:1rem}.h5[_ngcontent-%COMP%]{color:#8994a3;font-weight:400}.mainC[_ngcontent-%COMP%]{padding:2rem}.btn[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--background-basic-color-2)}nb-card[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-left:3px solid var(--background-alternative-color-2);padding-top:1rem;padding-bottom:1rem;font-family:neue-haas-unica,sans-serif!important;margin-bottom:2rem}._item[_ngcontent-%COMP%]{padding-bottom:1rem;margin-top:2rem;font-family:neue-haas-unica,sans-serif!important;word-break:break-all;margin-bottom:2rem}._item[_ngcontent-%COMP%]   .codetitle[_ngcontent-%COMP%]{color:var(--text-alternative-color)}._item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:2rem;font-size:1.4rem;margin:0;max-width:100%;white-space:pre-wrap;overflow-wrap:break-word;padding-left:1rem;padding-right:1rem;position:relative}._item[_ngcontent-%COMP%]:hover   .codetitle[_ngcontent-%COMP%], ._item[_ngcontent-%COMP%]:hover   code[_ngcontent-%COMP%]{color:#fff}.h6[_ngcontent-%COMP%]{font-family:neue-haas-unica,sans-serif!important;color:var(--text-hint-color);font-weight:400;font-size:1.4rem;line-height:1.9rem;counter-reset:numbers 0}.h6[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.h6[_ngcontent-%COMP%]:hover{font-weight:900!important}.h6[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}.comment[_ngcontent-%COMP%]{color:#666}.tag[_ngcontent-%COMP%]{color:#fa3}.att[_ngcontent-%COMP%]{color:#ff6}.val[_ngcontent-%COMP%]{color:#9f3}.live[_ngcontent-%COMP%]{overflow:hidden}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;position:relative;padding:0 0 0 2em;margin:0 0 .5em 10px;transition:.12s;color:var(--text-hint-color);font-size:1.4rem;line-height:2rem}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:absolute;content:"\\2022";font-family:Arial;top:0;left:0;text-align:center;font-size:2em;opacity:.5;line-height:.75;transition:.5s}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:var(--text-alternative-color)}.live[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:scale(2);opacity:1;text-shadow:0 0 4px;transition:.1s}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;background:#FFF;border-radius:3px;line-height:0;top:.27em;left:5px}.live.type2[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{transform:none;border-radius:5px;width:25px;left:-10px;background:#BA5353}.live.numbers[_ngcontent-%COMP%]{counter-reset:numbers 0}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counter(numbers,decimal) ".";counter-increment:numbers 1;font-size:1em;opacity:.5;line-height:1.2;transition:.5s}.live.numbers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{opacity:1;left:-10px;transform:none;text-shadow:none;transition:.12s}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4);padding:1rem}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}.dot[_ngcontent-%COMP%]{font-size:40px;transition:.2s}.spin[_ngcontent-%COMP%]{animation:spin 2s linear infinite}']});const ns=["formDomainFieldRef"],is=["editTmpl"];function os(i,n){1&i&&(t.TgZ(0,"div",37)(1,"div",38)(2,"div",39),t._UZ(3,"div",40)(4,"div",41)(5,"div",42)(6,"div",43)(7,"div",44)(8,"div",45)(9,"div",46),t.qZA()()())}function rs(i,n){if(1&i&&(t.TgZ(0,"nb-option",49),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.domain," ")}}function as(i,n){if(1&i&&(t.TgZ(0,"nb-layout-header",47)(1,"nb-select",48,8),t.YNc(3,rs,2,2,"nb-option",9),t.ALo(4,"async"),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("selected",null==e.domainField?null:e.domainField.value)("formControl",e.domainField),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,3,e.assetUrls))}}function ls(i,n){if(1&i&&(t.TgZ(0,"nb-option",49),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.domain," ")}}const ye=function(){return{exact:!1}};function ss(i,n){if(1&i&&(t.TgZ(0,"button",50,51),t.NdJ("click",function(o){return o.stopPropagation(),o.preventDefault()}),t._uU(2),t.qZA()),2&i){const e=n.$implicit,o=t.MAs(1);t.Q6J("appearance",null!=o&&o.isActive?"outline":"ghost")("status",null!=o&&o.isActive?"success":"basic")("routerLink",null==e?null:e.route)("routerLinkActiveOptions",t.DdM(5,ye)),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}function cs(i,n){if(1&i&&(t.TgZ(0,"nb-option",49),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.domain," ")}}function ds(i,n){if(1&i&&(t.TgZ(0,"nb-card-header",52)(1,"nb-select",53,8),t.YNc(3,cs,2,2,"nb-option",9),t.ALo(4,"async"),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("selected",null==e.domainField?null:e.domainField.value)("formControl",e.domainField),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,3,e.assetUrls))}}function ps(i,n){if(1&i&&(t.TgZ(0,"nb-option",49),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",null==e?null:e.domain),t.xp6(1),t.hij(" ",null==e?null:e.domain," ")}}function us(i,n){if(1&i&&(t.TgZ(0,"nb-card-header",52)(1,"nb-select",54),t.YNc(2,ps,2,2,"nb-option",9),t.ALo(3,"async"),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("formControl",e.subdomainField),t.xp6(1),t.Q6J("ngForOf",t.lcZ(3,2,e.assetSubUrls))}}function _s(i,n){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"span",60),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.ekj("spin",1==(null==e?null:e.scan_runningn))}}function gs(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",61),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw();return t.KtG(a.runQuickDynamicScan(null==r?null:r.domain))}),t._UZ(2,"nb-icon",62),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.ekj("spin",1==(null==e?null:e.scan_runningn))}}function ms(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",55),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onClickBuild(a))}),t.TgZ(1,"div",56),t.YNc(2,_s,2,2,"div",57),t.YNc(3,gs,3,2,"ng-template",null,58,t.W1O),t.TgZ(5,"div"),t._UZ(6,"span",59),t.qZA(),t.TgZ(7,"div",16),t._uU(8),t.qZA()()()}if(2&i){const e=n.$implicit,o=t.MAs(4);t.xp6(2),t.Q6J("ngIf",1==(null==e?null:e.scan_runningn))("ngIfElse",o),t.xp6(4),t.ekj("spin",1==(null==e?null:e.scan_runningn)),t.Q6J("ngClass",null==e?null:e.riskScoreColor),t.xp6(2),t.hij(" ",null==e?null:e.domain," ")}}function fs(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",66),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onClickBuild(a))}),t._UZ(1,"app-build-item",67),t.ALo(2,"async"),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.Q6J("appScrollableItem",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.Q6J("active",t.lcZ(2,3,o.activeBuildId)==(null==e||null==e._id?null:e._id.$oid))("build",e)}}function hs(i,n){1&i&&t.GkF(0)}function bs(i,n){if(1&i&&(t.ynx(0)(1),t.YNc(2,hs,1,0,"ng-container",68),t.BQk()()),2&i){t.oxw(2);const e=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function xs(i,n){1&i&&t.GkF(0)}function vs(i,n){if(1&i&&(t.ynx(0)(1),t.YNc(2,xs,1,0,"ng-container",68),t.BQk()()),2&i){t.oxw(2);const e=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function Cs(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list",63),t.NdJ("bottomThreshold",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.bottomThresholdTrigger(r))}),t.YNc(1,fs,3,5,"nb-list-item",64),t.TgZ(2,"nb-list-item"),t.YNc(3,bs,3,1,"ng-container",65),t.qZA(),t.TgZ(4,"nb-list-item"),t.YNc(5,vs,3,1,"ng-container",65),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("threshold",50)("nbSpinner",e.loading),t.xp6(1),t.Q6J("ngForOf",e.builds$)("ngForTrackBy",e.trackBuild),t.xp6(2),t.Q6J("ngIf",e.loading),t.xp6(2),t.Q6J("ngIf",e.loading)}}function ys(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",69),t.NdJ("selectedChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.goto(r))}),t.TgZ(1,"div"),t._uU(2),t.qZA()()}if(2&i){const e=n.index;t.Q6J("value",e),t.xp6(2),t.hij(" Page ",e+1," ")}}function ks(i,n){if(1&i&&(t.TgZ(0,"nb-option",49),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.hij(" ",null==e?null:e.domain," ")}}function Ms(i,n){if(1&i&&(t.TgZ(0,"button",79,51),t.NdJ("click",function(o){return o.stopPropagation(),o.preventDefault()}),t._uU(2),t.qZA()),2&i){const e=n.$implicit,o=t.MAs(1);t.Q6J("disabled",!0)("routerLink",null==e?null:e.route)("routerLinkActiveOptions",t.DdM(5,ye))("pressed",null==o?null:o.isActive),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}function ws(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-card-header",80)(1,"div",16)(2,"button",81),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.loadNewBuilds())}),t._UZ(3,"nb-icon",62),t.TgZ(4,"span"),t._uU(5," New Builds Found "),t.qZA()()()()}}function Ts(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nb-list-item",66),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onClickBuild(a))}),t._UZ(1,"app-build-item",67),t.ALo(2,"async"),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.Q6J("appScrollableItem",null==e||null==e._id?null:e._id.$oid),t.xp6(1),t.Q6J("active",t.lcZ(2,3,o.activeBuildId)==(null==e||null==e._id?null:e._id.$oid))("build",e)}}function As(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",70)(1,"div",71)(2,"div",4)(3,"nb-select",53,8),t.YNc(5,ks,2,2,"nb-option",9),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"nb-button-group",72)(8,"div"),t.YNc(9,Ms,3,6,"button",73),t.qZA()()(),t.TgZ(10,"div",74)(11,"div",75)(12,"nb-card",76),t.YNc(13,ws,6,0,"nb-card-header",77),t.TgZ(14,"nb-list",63),t.NdJ("bottomThreshold",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.bottomThresholdTrigger(r))}),t.YNc(15,Ts,3,5,"nb-list-item",64),t.qZA()()(),t.TgZ(16,"div",78)(17,"router-outlet",34),t.NdJ("activate",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.onRouterOutletActivate(r))}),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("selected",null==e.domainField?null:e.domainField.value)("formControl",e.domainField),t.xp6(2),t.Q6J("ngForOf",t.lcZ(6,9,e.assetUrls)),t.xp6(4),t.Q6J("ngForOf",e.tabs),t.xp6(4),t.Q6J("ngIf",e.newBuildsAvailable),t.xp6(1),t.Q6J("threshold",50)("nbSpinner",e.loading),t.xp6(1),t.Q6J("ngForOf",e.builds$)("ngForTrackBy",e.trackBuild)}}const Os=function(i,n){return{buildId:i,applicationId:n}};function Ps(i,n){if(1&i&&t._UZ(0,"app-build-detail-view",82),2&i){const e=n.context;t.Q6J("selected_build",t.WLB(1,Os,null==e?null:e.build_id,null==e?null:e.application_id))}}const Zs=function(){return[]};class at{scrollToSelectedItem(n){console.log("distinctUntilChanged",n,this.scrollableItems);const e=this.scrollableItems?.find(o=>o.key===n);e?.scrollIntoView(),console.log("distinctUntilChanged",n,e)}onRouterOutletActivate(n){"FindingsComponent"==n?.constructor.name?this.buttonState="finding":"BuildsComponent"==n?.constructor.name&&(this.buttonState="build"),console.log("event",n)}constructor(n,e,o,r,a){this.apiService=n,this.drawerMngr=e,this.router=o,this.activatedRoute=r,this.nbSidebarService=a,this.page_limit=30,this.domainField=new d.NI("",{validators:[d.kI.required]}),this.subdomainField=new d.NI("",{validators:[d.kI.required]}),this.searchField=new d.NI("",{}),this.tabs=[{title:"Details",route:["details"]},{title:"Finding",route:["issues"]},{title:"Logs",route:["logs"]}],this.isMenuOpen=(0,Xt.T)(this.nbSidebarService.onExpand(),this.nbSidebarService.onToggle(),this.nbSidebarService.onCollapse(),this.nbSidebarService.onCompact(),(0,N.of)({tag:"buildList"})).pipe((0,v.h)(l=>"buildList"==l?.tag),(0,h.w)(l=>this.nbSidebarService.getSidebarState("buildList")),(0,u.U)(l=>(console.debug("menumenu2",l),"expanded"==l)),(0,_.b)(l=>{console.debug("menumenu",l)})),this.buildListLimit=20,this.buildInvalidateIds=new Map,this.topBuildId=void 0,this.bottomBuildId=void 0,this.active_protection=!1,this.extra_filters={},this.uuid=void 0,this.last_doc={domain_count:0,domain_index:0},this.loadingResults=!1,this.last_search_val="",this.activeBuildId=this.apiService.selectedBuildId.pipe((0,P.d)()),this.scrollToActiveIdObserver=this.activeBuildId.pipe((0,pt.x)(),(0,_.b)(l=>{console.debug("distinctUntilChanged",l),this.builds$=[],this.initialResultsLoaded=!1,this.bottomBuildId=l,this.buildInvalidateIds.clear()})),this.scrollToActiveIdObserverSubscription=w.w0.EMPTY,this.routeSubscription=w.w0.EMPTY,this.activeBuildSubscription=w.w0.EMPTY,this.reportDownloaderZipSubscription=w.w0.EMPTY,this.selectedAppSubscription=w.w0.EMPTY,this.selectedApp=this.apiService.selectedApp,this.assetUrls=this.selectedApp.pipe((0,_.b)(l=>{console.log(l)}),(0,v.h)(l=>!!l?.identifier),(0,u.U)(l=>({businessId:l?.businessId,projectId:l?.projectId,platformId:l?.platformId,applicationId:l?.application?.applicationId}))).pipe((0,A.q)(1),(0,K.z)(l=>this.apiService.getAssetUrls(l?.applicationId?.$oid).pipe()),(0,_.b)(l=>{try{this.domainField.setValue(l[0]?._id?.$oid,{onlySelf:!0,emitModelToViewChange:!0,emitViewToModelChange:!0}),console.debug("errror",this.domainField.value)}catch(c){console.debug("errror",c)}})),this.buttonState="",this.buildTransformerPipe=l=>{console.log("buildTransformerPipe",l);let c=0,f=[{state:l?.state_requested,ts:l?.state_requested_ts,time_taken:0,title:"Enqueued"},{state:l?.state_execution,ts:l?.state_execution_ts,time_taken:0,title:"Executing"},{state:l?.state_download_raw,ts:l?.state_download_raw_ts,time_taken:0,title:"Report Generated"},{state:l?.state_pushed_to_parser,ts:l?.state_pushed_to_parser_ts,time_taken:0,title:"Analyzing"},{state:l?.state_parsing_started,ts:l?.state_parsing_started_ts,time_taken:0,title:"Parsing"},{state:l?.state_parsing_completed,ts:l?.state_parsing_completed_ts,time_taken:0,title:"Finished"}];return l.success=void 0,l.failed=!1,f.map((g,b)=>(0==b||(g.time_taken=g?.ts?.$date-f[b-1]?.ts?.$date,g.time_taken=g?.time_taken/1e3,g.time_taken=0|g?.time_taken,g.time_taken=Math.ceil(g.time_taken),c+=g.time_taken,0==g?.state&&(l.failed=!0)),g)),l.build_state=f,l.timeElpased=c,l.finding_stats=this.apiService.getFindingStats(l?.applicationId,l?._id).pipe(),l},this.builds$=[],this.allBuildsLoaded=!1,this.initialResultsLoaded=!1,this.loading=!0,this.refreshBuildData=w.w0.EMPTY,this.newBuildsAvailable=!1,this.REFRESH_INTERVAL_PERIOD=1e3,this.subscrption=w.w0.EMPTY,this.lastUrl="",this.selectedDomain=new W.x,this.math=Math,this.searchActive=!1}ngAfterViewInit(){}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.activeBuildSubscription.unsubscribe(),this.reportDownloaderZipSubscription.unsubscribe(),this.selectedAppSubscription.unsubscribe(),this.scrollToActiveIdObserverSubscription.unsubscribe(),this.subscrption.unsubscribe(),this.nbSidebarService.expand(),this.refreshBuildData.unsubscribe()}getBuildData(n){this.activatedRoute.params.pipe((0,A.q)(1)).pipe((0,_.b)(o=>{console.log("console__",o)})).subscribe(o=>{});let e={applicationId:n,...this.extra_filters};return!0===this.active_protection&&(e={active_protection:!0,...this.extra_filters}),this.apiService.getDevsecopsBuildData(e,{limit:this.buildListLimit,includeOffsetId:!this.initialResultsLoaded||void 0}).pipe((0,v.h)(o=>!!o),(0,u.U)(o=>o.map(r=>this.buildTransformerPipe(r))),(0,_.b)(o=>{if(o?.length<this.buildListLimit&&(this.allBuildsLoaded=!0),o.length<=0||!o)console.log("noBuilds",o);else{console.log("activeBuildId",this.bottomBuildId);let r=o[0];0==this.initialResultsLoaded&&(this.buildTopOffsetId$=r?._id?.$oid,this.initialResultsLoaded=!0,this.routeSubscription=(0,D.a)([this.activatedRoute.data,this.activatedRoute.params]).pipe((0,A.q)(1),(0,u.U)(a=>Object.assign({},...a)),(0,_.b)(a=>{console.log("activedataroute",a,this.buttonState,"finding"==this.buttonState),a?.buildId!=r?._id?.$oid&&this.router.navigate("finding"==this.buttonState?[`${r?._id?.$oid}`,"issues"]:[`${r?._id?.$oid}`],{relativeTo:this.activatedRoute})})).subscribe()),this.activeBuildSubscription=this.activeBuildId.pipe((0,A.q)(1)).subscribe(a=>{null==a&&(console.log("activeBuildId",a),console.log("activeBuildId",a,`${r?._id?.$oid}`))})}}),(0,_.b)(o=>{let r=new Map;o.forEach((a,l)=>{0==l&&(this.topBuildId=a?._id?.$oid),l+1==o?.length&&(this.bottomBuildId=a?._id?.$oid),a?.transition_state!=L.FAILED&&a?.transition_state!=L.PARSING_FINISHED&&r.set(a?._id?.$oid,l)}),this.buildInvalidateIds=r,console.log("buildInvalidateIds",this.buildInvalidateIds)}))}downloadRaw(n){this.reportDownloaderZipSubscription=this.apiService.downloadReportZip({...this.extra_filters}).subscribe(e=>{})}onClick(n,e){}refreshBuildDataFn(){return(0,te.F)(this.REFRESH_INTERVAL_PERIOD).pipe(ee(n=>{console.debug("REFRESH_INTERVAL_PERIOD!");let e=Array.from(this.buildInvalidateIds.keys());return this.apiService.getBuildByIds(e,this.buildTopOffsetId$,this.extra_filters).pipe((0,_.b)(o=>console.debug(o)))}),(0,_.b)(n=>console.debug(n)),(0,_.b)(n=>{n.builds.forEach(e=>{let o=e?._id?.$oid;this.buildInvalidateIds.get(o)}),console.log("newBuildsAvailable",this.extra_filters),this.newBuildsAvailable=n?.newBuildsFound}),(0,_.b)(n=>{n.builds.forEach(o=>{console.debug("mBuild;d",o),o=this.buildTransformerPipe(o),console.debug("_mBuild;d",o);let r=o?._id?.$oid,a=this.buildInvalidateIds.get(r);o.index=this.builds$[a].index,this.builds$[a]=o})}))}loadBuilds(){this.selectedAppSubscription=this.selectedDomain.pipe((0,v.h)(n=>!!n),(0,h.w)(n=>(console.log("_appoopo",n),this.getBuildData(n))),(0,_.b)(n=>{n.length>0||(this.buildTopOffsetId$=void 0),this.builds$.push(...n),this.loading=!1})).subscribe()}ngOnInit(){this.routeSubscription.unsubscribe(),this.activeBuildSubscription.unsubscribe(),this.reportDownloaderZipSubscription.unsubscribe(),this.selectedAppSubscription.unsubscribe(),this.subscrption.unsubscribe(),this.scrollToActiveIdObserverSubscription.unsubscribe(),this.scrollToActiveIdObserverSubscription=this.scrollToActiveIdObserver.subscribe(),this.nbSidebarService.expand("buildList"),this.subscrption=(0,D.a)([this.activatedRoute?.params,this.activatedRoute?.data]).pipe((0,_.b)(n=>{this.apiService.selectedBuildId$.next(void 0)}),(0,u.U)(n=>{console.log("paramspaps",n);let e={};return n.forEach(o=>{e=Object.assign(e,o)}),e}),(0,_.b)(n=>{this.apiService.selectedBuildId$.next(n?.buildId)})).subscribe(n=>{this.active_protection=n?.active_protection||!1,this.extra_filters=n?.extra_filters||{},n?.uuid&&(this.extra_filters.uuid=n?.uuid),console.debug("active+protection",n.active_protection,this.extra_filters),this.loadBuilds()}),this.domainField.valueChanges.pipe((0,O.O)(""),(0,se.G)(),(0,v.h)(n=>null!=n[0]),(0,u.U)(n=>(console.log("startWith(0)",n[1]),n[0]!=n[1]?(this.searchField.setValue(""),this.last_search_val=this.searchField.value,this.last_doc={domain_count:0,domain_index:0}):this.last_search_val=this.searchField.value,n[1])),(0,_.b)(n=>{this.loadingResults=!0,console.log("getDiscoveredAssets",n),this.assetSubUrls="*"==n?this.apiService.getDiscoveredAllFilteredAssets(n,this.last_doc.domain_index,this.searchField.value,this.page_limit).pipe((0,_.b)(e=>{try{if(e?.length>0){let o=e[e.length-1];this.last_doc={domain_count:o.domain_count,domain_index:o.domain_index}}else this.last_doc={domain_count:0,domain_index:0};this.subdomainField.setValue(e[0]?.domain,{onlySelf:!0,emitModelToViewChange:!0,emitViewToModelChange:!0})}catch{}}),(0,u.U)(e=>{console.debug("debugger",e);let o="";return e=e.map(r=>(o=r?.domain,r.riskScoreColor="info",r.riskScoreColor="Critical"in r?.item?"critical":"High"in r?.item?"high":"Medium"in r?.item?"medium":"Low"in r?.item?"low":"Unknown"in r?.item||"Info"in r?.item?"info":"none",r)),console.debug("debugger",n),this.lastUrl=o,e}),(0,_.b)(e=>{this.loadingResults=!1})):this.apiService.getDiscoveredAssets(n,this.last_doc.domain_index,this.searchField.value,this.page_limit).pipe((0,_.b)(e=>{try{if(e?.length>0){let o=e[e.length-1];this.last_doc={domain_count:o.domain_count,domain_index:o.domain_index}}else this.last_doc={domain_count:0,domain_index:0};this.subdomainField.setValue(e[0]?.domain,{onlySelf:!0,emitModelToViewChange:!0,emitViewToModelChange:!0})}catch{}}),(0,u.U)(e=>{console.debug("debugger",e);let o="";return e=e.map(r=>(o=r?.domain,r.riskScoreColor="info",r.riskScoreColor="Critical"in r?.item?"critical":"High"in r?.item?"high":"Medium"in r?.item?"medium":"Low"in r?.item?"low":"Unknown"in r?.item||"Info"in r?.item?"info":"none",r)),console.debug("debugger",n),this.lastUrl=o,e}),(0,_.b)(e=>{this.loadingResults=!1}))})).subscribe(n=>{}),this.subdomainField.valueChanges.pipe().subscribe(n=>{this.selectedDomain.next(n)})}onClickBuild(n){console.log("onClickBuild",n?.last_success_build?._id?.$oid),n?.last_success_build?._id?.$oid&&this.router.navigate(["../",`${n?.last_success_build?._id?.$oid}`],{relativeTo:this.activatedRoute})}openDrawer(n,e="left",o,r=!0,a=this.editTmpl,l=!0,c){this.drawerMngr.create({direction:G.Left,template:a,size:o,context:{build_id:n?._id?.$oid,application_id:n?.applicationId?.$oid},closeOnOutsideClick:r,parentContainer:c,isRoot:l})}trackBuild(n,e){return e?._id?.$oid}toggleSidebar(){this.nbSidebarService.toggle(!1,"buildList")}loadNewBuilds(){this.router.navigate(["./"],{relativeTo:this.activatedRoute.parent}),this.loadBuilds()}bottomThresholdTrigger(n){this.loading||this.allBuildsLoaded||(console.log("bottomThresholdTrigger",this.allBuildsLoaded,n),this.loadBuilds())}resetBuilds(){this.builds$=[]}runQuickDynamicScan(n){this.selectedApp.pipe((0,v.h)(e=>!!e?.identifier),(0,u.U)(e=>({businessId:e?.businessId,projectId:e?.projectId,platformId:e?.platformId,applicationId:e?.application?.applicationId}))).pipe((0,A.q)(1),(0,K.z)(e=>(e.target=n,this.apiService.runQuickDynamicScan(e)))).subscribe(e=>{})}previousPage(){this.last_doc.domain_index-=this.page_limit,this.last_doc.domain_index<=0&&(this.last_doc.domain_index=0),this.domainField.setValue(this.domainField.value,{emitEvent:!0,emitModelToViewChange:!1,emitViewToModelChange:!1})}goToNext(){this.domainField.setValue(this.domainField.value,{emitEvent:!0,emitModelToViewChange:!1,emitViewToModelChange:!1})}goto(n){this.last_doc.domain_index=this.page_limit*n,this.domainField.setValue(this.domainField.value,{emitEvent:!0,emitModelToViewChange:!1,emitViewToModelChange:!1})}searchDomain(){this.last_doc={domain_count:0,domain_index:0},this.domainField.setValue(this.domainField.value,{emitEvent:!0,emitModelToViewChange:!1,emitViewToModelChange:!1})}searchDeactivated(n){this.searchActive=!1,console.log("searchDomain",n),this.searchField.setValue(this.last_search_val)}searchActivated(n){this.searchActive=!0}cancelSearch(){this.searchField.setValue(this.last_search_val)}}at.\u0275fac=function(n){return new(n||at)(t.Y36(k),t.Y36(E),t.Y36(C.F0),t.Y36(C.gz),t.Y36(s.lzT))},at.\u0275cmp=t.Xpm({type:at,selectors:[["app-quick-scan-jobs"]],viewQuery:function(n,e){if(1&n&&(t.Gf(ns,5),t.Gf(is,5),t.Gf(z,5)),2&n){let o;t.iGM(o=t.CRH())&&(e.formDomainFieldRef=o.first),t.iGM(o=t.CRH())&&(e.editTmpl=o.first),t.iGM(o=t.CRH())&&(e.scrollableItems=o)}},decls:54,vars:28,consts:[["loadingListItem",""],["fxLayoutGap","1rem","fxLayoutAlign","end center",4,"ngIf"],["fxLayoutAlign","center","fxFlex",""],["fxLayoutAlign","center center","fxLayout","row",1,"buildListBtn",3,"click"],[2,"margin-left","20px","margin-right","20px"],[3,"active"],["fxFlex","","fxLayoutAlign","end end"],["shape","round","size","medium","status","success","outline","","placeholder","Select Domain",2,"margin-right","1rem",3,"selected","formControl"],["formDomainFieldRef",""],[3,"value",4,"ngFor","ngForOf"],["size","medium","shape","round","routerLinkActive","","nbButton","",3,"appearance","status","routerLink","routerLinkActiveOptions","click",4,"ngFor","ngForOf"],["tag","buildList","containerFixed",""],["fxFlex","",1,"nbCardList"],["style","margin: 0px; padding: 3px;",4,"ngIf"],["nbSpinnerStatus","info","nbSpinnerSize","small",2,"margin","0px","padding","0px",3,"nbSpinner"],["fxLayoutAlign","center"],["fxFlex",""],["fullWidth","","fieldSize","medium","type","text","nbInput","","placeholder","Search",3,"status","formControl","focus","focusout","keyup.enter","keyup.escape"],["refInpSearch",""],["nbSuffix","","size","small","outline","","nbButton","",3,"status","click"],["icon","search-outline"],["nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data",3,"nbSpinner"],["style","padding: 10px;","fxLayout","row",3,"click",4,"ngFor","ngForOf"],["nbListPageTracker","","nbInfiniteList","","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data",3,"threshold","nbSpinner","bottomThreshold",4,"ngIf"],["nbSpinnerStatus","info","nbSpinnerSize","small",3,"nbSpinner"],["fxFlex","","fxLayoutAlign","space-between"],["size","small","status","success","nbButton","","ghost","",2,"margin-left","1rem",3,"click"],["icon","arrow-left-outline"],["fxFlex","","fxLayoutAlign","center center"],["size","small","placeholder","Go to",3,"selected","selectedChange"],[1,"page"],[3,"value","selectedChange",4,"ngFor","ngForOf"],["size","small","status","success","nbButton","","ghost","",2,"margin-right","1rem",3,"click"],["icon","arrow-right-outline"],[3,"activate"],["fxLayout","column",4,"ngIf"],["editTmpl",""],["fxFlex","",1,"timeline-wrapper",2,"margin","1rem"],[1,"timeline-item"],[1,"animated-background"],[1,"background-masker","header-top"],[1,"background-masker","header-left"],[1,"background-masker","header-right"],[1,"background-masker","header-bottom"],[1,"background-masker","subheader-left"],[1,"background-masker","subheader-right"],[1,"background-masker","subheader-bottom"],["fxLayoutGap","1rem","fxLayoutAlign","end center"],["status","primary","hero","","placeholder","Select Domain",2,"margin-right","1rem",3,"selected","formControl"],[3,"value"],["size","medium","shape","round","routerLinkActive","","nbButton","",3,"appearance","status","routerLink","routerLinkActiveOptions","click"],["rla","routerLinkActive"],[2,"margin","0px","padding","3px"],["size","large","fullWidth","","status","info","outline","","placeholder","Select Domain",2,"margin-right","1rem",3,"selected","formControl"],["fullWidth","","placeholder","Select subomain",3,"formControl"],["fxLayout","row",2,"padding","10px",3,"click"],["fxFlex","","fxLayoutAlign","center center","fxLayoutGap","10px","fxLayout","row"],[4,"ngIf","ngIfElse"],["scanStartTemplateRef",""],[1,"dot",3,"ngClass"],[1,"dot","low","blinking"],["fullWidth","","nbButton","","size","tiny","ghost","","status","info",2,"text-transform","capitalize","padding","0",3,"click"],["icon","refresh-outline"],["nbListPageTracker","","nbInfiniteList","","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Refreshing data",3,"threshold","nbSpinner","bottomThreshold"],["fxLayout","row",3,"appScrollableItem","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["fxLayout","row",3,"appScrollableItem","click"],["fxFlex","",3,"active","build"],[4,"ngTemplateOutlet"],[3,"value","selectedChange"],["fxLayout","column"],["fxLayoutAlign","space-between center",1,"header"],["outline","","status","success","size","small","shape","round"],["routerLinkActive","","nbButtonToggle","","pressed","",3,"disabled","routerLink","routerLinkActiveOptions","pressed","click",4,"ngFor","ngForOf"],["fxLayout","row",1,"body"],[1,"listContainer"],["fxFlex","","fxFill","",1,"nbCardList"],["style","margin: 0px; padding: 10px;",4,"ngIf"],["fxFlex","",1,"contentContainer"],["routerLinkActive","","nbButtonToggle","","pressed","",3,"disabled","routerLink","routerLinkActiveOptions","pressed","click"],[2,"margin","0px","padding","10px"],["fullWidth","","nbButton","","filled","","status","primary",2,"text-transform","capitalize",3,"click"],[3,"selected_build"]],template:function(n,e){if(1&n){const o=t.EpF();t.YNc(0,os,10,0,"ng-template",null,0,t.W1O),t.TgZ(2,"nb-layout"),t.YNc(3,as,5,5,"nb-layout-header",1),t.TgZ(4,"nb-layout-header")(5,"div",2)(6,"div",3),t.NdJ("click",function(){return e.toggleSidebar()}),t.TgZ(7,"div",4),t._UZ(8,"app-hamburger-icon",5),t.ALo(9,"async"),t.qZA(),t._uU(10," Findings "),t.qZA(),t.TgZ(11,"div",6)(12,"nb-select",7,8),t.YNc(14,ls,2,2,"nb-option",9),t.ALo(15,"async"),t.qZA(),t.YNc(16,ss,3,6,"button",10),t.qZA()()(),t.TgZ(17,"nb-sidebar",11)(18,"nb-card",12),t.YNc(19,ds,5,5,"nb-card-header",13),t.YNc(20,us,4,4,"nb-card-header",13),t.TgZ(21,"nb-card-header",14)(22,"div",15)(23,"nb-form-field",16)(24,"input",17,18),t.NdJ("focus",function(a){return e.searchActivated(a)})("focusout",function(a){return e.searchDeactivated(a)})("keyup.enter",function(){t.CHM(o);const a=t.MAs(25);return e.searchDomain(),t.KtG(a.blur())})("keyup.escape",function(){t.CHM(o);const a=t.MAs(25);return e.cancelSearch(),t.KtG(a.blur())}),t.qZA(),t.TgZ(26,"button",19),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(25);return e.searchDomain(),t.KtG(a.blur())}),t._UZ(27,"nb-icon",20),t.qZA()()()(),t.TgZ(28,"nb-list",21),t.YNc(29,ms,9,6,"nb-list-item",22),t.ALo(30,"async"),t.qZA(),t.YNc(31,Cs,6,6,"nb-list",23),t.TgZ(32,"nb-card-footer",24)(33,"div",25)(34,"button",26),t.NdJ("click",function(){return e.previousPage()}),t._UZ(35,"nb-icon",27),t.qZA(),t.TgZ(36,"div",28)(37,"nb-select",29),t.NdJ("selectedChange",function(a){return e.goto(a)}),t.TgZ(38,"nb-select-label")(39,"div"),t._uU(40," Page "),t.TgZ(41,"span",30),t._uU(42),t.qZA(),t._uU(43," of "),t.TgZ(44,"span",30),t._uU(45),t.qZA()()(),t.YNc(46,ys,3,2,"nb-option",31),t.qZA()(),t.TgZ(47,"button",32),t.NdJ("click",function(){return e.goToNext()}),t._UZ(48,"nb-icon",33),t.qZA()()()()(),t.TgZ(49,"nb-layout-column")(50,"router-outlet",34),t.NdJ("activate",function(a){return e.onRouterOutletActivate(a)}),t.qZA()()(),t.YNc(51,As,18,11,"div",35),t.YNc(52,Ps,1,4,"ng-template",null,36,t.W1O)}2&n&&(t.xp6(3),t.Q6J("ngIf",!1),t.xp6(5),t.Q6J("active",t.lcZ(9,21,e.isMenuOpen)),t.xp6(4),t.Q6J("selected",null==e.domainField?null:e.domainField.value)("formControl",e.domainField),t.xp6(2),t.Q6J("ngForOf",t.lcZ(15,23,e.assetUrls)),t.xp6(2),t.Q6J("ngForOf",e.tabs),t.xp6(3),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("nbSpinner",e.loading||e.loadingResults),t.xp6(3),t.Q6J("status",e.searchActive?"info":"control")("formControl",e.searchField),t.xp6(2),t.Q6J("status",e.searchActive?"info":"control"),t.xp6(2),t.Q6J("nbSpinner",e.loading||e.loadingResults),t.xp6(1),t.Q6J("ngForOf",t.lcZ(30,25,e.assetSubUrls)),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("nbSpinner",e.loadingResults),t.xp6(5),t.Q6J("selected",0),t.xp6(5),t.hij(" ",e.math.ceil((null==e.last_doc?null:e.last_doc.domain_index)/e.page_limit)," "),t.xp6(3),t.hij(" ",e.math.ceil((null==e.last_doc?null:e.last_doc.domain_count)/e.page_limit)," "),t.xp6(1),t.Q6J("ngForOf",t.DdM(27,Zs).constructor(e.math.ceil((null==e.last_doc?null:e.last_doc.domain_count)/e.page_limit))),t.xp6(5),t.Q6J("ngIf",!1))},dependencies:[s.Aqw,s.dP_,s.dmS,m.mk,m.sg,m.O5,m.tP,p.xw,p.SQ,p.Wh,p.s9,p.yH,re.oO,s.fMN,s.DPz,C.lC,C.rH,C.Od,s.Asz,s.XWE,s.ndF,s.h8i,s.zP_,s.qBV,s.B8d,s.sTn,s.rs,s.aGg,s.q51,d.Fj,d.JJ,d.oH,s.jBG,s.yyc,s.Q7R,s.mnu,s.ZDs,s.nZR,U,nt,lt,z,m.Ov],styles:['.buildListBtn[_ngcontent-%COMP%]{cursor:pointer}nb-list[_ngcontent-%COMP%]{background:var(--background-basic-color-3)}nb-list-item[_ngcontent-%COMP%]{border:none;padding:0;overflow-x:hidden;margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:.1rem;text-transform:capitalize!important}.row[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:keep-all}.nbCardList[_ngcontent-%COMP%]{margin:0!important}nb-card-body[_ngcontent-%COMP%]{padding:0}span[_ngcontent-%COMP%]{text-overflow:ellipsis}.caption-2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300}code[_ngcontent-%COMP%]{color:#f8f8f2;font-size:.875rem}.container[_ngcontent-%COMP%]{padding-left:0rem;padding-right:0rem;margin-left:5px}.container.fail[_ngcontent-%COMP%], .container.active[_ngcontent-%COMP%]{color:var(--navitem-selected-text)}.icon[_ngcontent-%COMP%]{height:100%}nb-tag[_ngcontent-%COMP%]{text-transform:capitalize}.dot[_ngcontent-%COMP%]{font-size:20px;font-weight:300}.dot[_ngcontent-%COMP%]:hover{font-size:40px;transition:.2s}.horizontal_line[_ngcontent-%COMP%]{width:30px;height:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.horizontal_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.horizontal_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;display:flex;width:3rem;height:3rem;line-height:3rem;border-radius:50%;font-size:.8rem;text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-primary-600),1px -1px 1px var(--color-primary-600),-1px -1px 1px var(--color-primary-600);box-shadow:inset 0 0 5px 1px var(--color-primary-300),0 0 5px 1px var(--color-primary-600)}.circle.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600);text-shadow:1px 1px 1px var(--color-primary-300),-1px 1px 1px var(--color-success-600),1px -1px 1px var(--color-success-600),-1px -1px 1px var(--color-success-600)}.circle.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600);text-shadow:1px 1px 1px var(--color-danger-300),-1px 1px 1px var(--color-danger-600),1px -1px 1px var(--color-danger-600),-1px -1px 1px var(--color-danger-600)}.circle[_ngcontent-%COMP%]:hover{font-size:1rem;transition:.2s;width:4rem;height:4rem}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-primary-600)!important;box-shadow:inset 2px 2px 5px 1px var(--color-primary-300),2px 0 5px 1px var(--color-primary-600)}.vertical_line.success[_ngcontent-%COMP%]{background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.vertical_line.fail[_ngcontent-%COMP%]{background-color:var(--color-danger-600)!important;box-shadow:inset 0 0 5px 1px var(--color-danger-300),0 0 5px 1px var(--color-danger-600)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.xContainer[_ngcontent-%COMP%]{padding:1rem}.listContainer[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;padding-top:10px;background:var(--background-basic-color-4);display:flex;flex:0 0 var(--sidebar-width)}.content[_ngcontent-%COMP%]{display:flex;flex:0 1 900px}.vertical_line[_ngcontent-%COMP%]{height:80px;width:2px;background-color:var(--color-success-600)!important;box-shadow:inset 0 0 5px 1px var(--color-success-300),0 0 5px 1px var(--color-success-600)}.contentContainer[_ngcontent-%COMP%]{min-width:0}.header[_ngcontent-%COMP%]{height:4rem}.body[_ngcontent-%COMP%]{max-height:calc(100vh - 4rem);min-height:calc(100vh - 4rem)}nb-layout-column[_ngcontent-%COMP%]{padding:0!important}  nb-sidebar{transition:width .1s}  nb-sidebar div{transition:width .1s}  nb-sidebar.menuSidebar div{top:0!important;height:100%}.timeline-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid;border-color:#e5e6e9 #dfe0e4 #d0d1d5;border-radius:3px;padding:12px;margin:0 auto}@keyframes _ngcontent-%COMP%_placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:_ngcontent-%COMP%_placeHolderShimmer;background:#f6f7f8;background:linear-gradient(to right,#eeeeee 8%,#dddddd 18%,#eeeeee 33%);height:40px;position:relative}.background-masker[_ngcontent-%COMP%]{background:#fff;position:absolute}.background-masker.header-top[_ngcontent-%COMP%], .background-masker.header-bottom[_ngcontent-%COMP%], .background-masker.subheader-bottom[_ngcontent-%COMP%]{top:0;left:40px;right:0;height:10px}.background-masker.header-left[_ngcontent-%COMP%], .background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:10px;left:40px;height:8px;width:10px}.background-masker.header-bottom[_ngcontent-%COMP%]{top:18px;height:6px}.background-masker.subheader-left[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{top:24px;height:6px}.background-masker.header-right[_ngcontent-%COMP%], .background-masker.subheader-right[_ngcontent-%COMP%]{width:auto;left:300px;right:0}.background-masker.subheader-bottom[_ngcontent-%COMP%]{top:30px;height:10px}.background-masker.content-top[_ngcontent-%COMP%], .background-masker.content-second-line[_ngcontent-%COMP%], .background-masker.content-third-line[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%], .background-masker.content-first-end[_ngcontent-%COMP%]{top:40px;left:0;right:0;height:6px}.background-masker.content-top[_ngcontent-%COMP%]{height:20px}.background-masker.content-first-end[_ngcontent-%COMP%], .background-masker.content-second-end[_ngcontent-%COMP%], .background-masker.content-third-end[_ngcontent-%COMP%]{width:auto;left:380px;right:0;top:60px;height:8px}.background-masker.content-second-line[_ngcontent-%COMP%]{top:68px}.background-masker.content-second-end[_ngcontent-%COMP%]{left:420px;top:74px}.background-masker.content-third-line[_ngcontent-%COMP%]{top:82px}.background-masker.content-third-end[_ngcontent-%COMP%]{left:300px;top:88px}nb-list[_ngcontent-%COMP%]{display:block;background:var(--background-basic-color-4)}nb-list-item[_ngcontent-%COMP%]{background:var(--background-basic-color-3);color:var(--text-basic-color);border-radius:5px;font-weight:700;transition:.3s}nb-list-item.selected[_ngcontent-%COMP%]{background:var(--color-success-active);color:var(--text-alternate-color)}nb-list-item[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);color:var(--text-alternate-color)}.dot[_ngcontent-%COMP%]{height:10px;width:10px;border-radius:50%;display:inline-block}.dot.none[_ngcontent-%COMP%]{visibility:hidden!important;width:0px!important;height:0px!important}.dot.info[_ngcontent-%COMP%]{background-color:var(--color-primary-500)}.dot.low[_ngcontent-%COMP%]{background-color:var(--color-success-500)}.dot.medium[_ngcontent-%COMP%]{background-color:var(--color-warning-500)}.dot.high[_ngcontent-%COMP%]{background-color:var(--color-danger-500)}.dot.critical[_ngcontent-%COMP%]{background-color:var(--color-danger-800)}nb-card[_ngcontent-%COMP%]{overflow-x:hidden}nb-card-footer[_ngcontent-%COMP%]{background:var(--background-basic-color-3)!important;margin:3px;padding:4px}.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}.blinking[_ngcontent-%COMP%]{animation:1s _ngcontent-%COMP%_blink ease infinite}@keyframes "_ngcontent-%COMP%_blink"{from,to {opacity: 0;} 50% {opacity: 1;}}']});const Is=[{path:"test",component:rt},{path:"",redirectTo:"switch",pathMatch:"full"},{path:"app/:build_id",component:Q,children:[{path:"ommit",component:xt,pathMatch:"full"},{path:"ommit",component:xt},{path:"",component:R,pathMatch:"full"},{path:"",component:R},{path:"",component:gt,outlet:"app_main",children:[{path:"",redirectTo:"config",pathMatch:"full"},{path:"details",component:ot,pathMatch:"full"},{path:"config",component:Y,pathMatch:"full"},{path:"integration",component:$,pathMatch:"full"},{path:"findings/:buildId",component:Z,pathMatch:"full"},{path:"findings",component:Z,pathMatch:"full"},{path:"builds/nobuilds",component:bt,pathMatch:"full"},{path:"issues",component:I,children:[{path:"",component:st,pathMatch:"full"},{path:":buildId",component:Z,pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"builds",component:I,children:[{path:"",component:st,pathMatch:"full"},{path:":buildId",component:U,pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"**",redirectTo:"config",pathMatch:"full"}]},{path:"app_menu/:build_id",component:R,outlet:"app_main",children:[{path:"",redirectTo:"subcomp",pathMatch:"full"},{path:"subcomp",component:gt,children:[{path:"",redirectTo:"config",pathMatch:"full"},{path:"details",component:ot},{path:"config",component:Y},{path:"integration",component:$},{path:"findings",component:Z},{path:"builds",component:I},{path:"**",redirectTo:"config",pathMatch:"full"}]},{path:"**",redirectTo:"config",pathMatch:"full"}]},{path:"**",redirectTo:"*",pathMatch:"full"}]},{path:"dashboard",component:Q},{path:":app_id/dashboard",component:Q},{path:"configure/:app_id",component:Q},{path:"app_id",component:Q,children:[{path:"dashboard",component:Q}]},{path:"",component:tt,pathMatch:"full"},{path:"switch",component:Rt,pathMatch:"full",data:{no_app_selected:!0}},{path:"create",component:rt,pathMatch:"full"},{path:":app_id",component:Q,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"active_protection",component:jt,pathMatch:"full"},{path:"scans",component:I,pathMatch:"full",data:{active_protection:!0}},{path:"external_tool_scans",component:I,pathMatch:"full",data:{extra_filters:{type_of_request:{$eq:"external_tools"}}}},{path:"external_tool_scans_new",component:I,pathMatch:"full",data:{extra_filters:{type_of_request:{$eq:"external_tools_new"}}}},{path:"external_tool_new",component:Ct,pathMatch:"full",data:{view_only:["external_tools"]}},{path:"external_tool",component:Vt,pathMatch:"full",data:{view_only:["external_tools"]}},{path:"external_tool_scans/:buildId",component:I,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:U,pathMatch:"full",data:{section:"details"}},{path:"logs",component:J,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:Z,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}],data:{extra_filters:{type_of_request:{$eq:"external_tools"}}}},{path:"external_tool_scans_new/:buildId",component:I,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:U,pathMatch:"full",data:{section:"details"}},{path:"logs",component:J,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:Z,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}],data:{extra_filters:{type_of_request:{$eq:"external_tools_new"}}}},{path:"external_tool_new",component:Ct,pathMatch:"full",data:{view_only:["external_tools"]}},{path:"tools_configure",component:$t,pathMatch:"full"},{path:"switch",component:vt,pathMatch:"full"},{path:"create",component:rt,pathMatch:"full"},{path:"dashboard",component:ot,pathMatch:"full"},{path:"configure",component:Y,pathMatch:"full"},{path:"builds",component:I,pathMatch:"full",data:{extra_filters:{$and:[{type_of_request:{$ne:"external_tools"}},{type_of_request:{$ne:"external_tools_new"}},{type_of_request:{$ne:"recon"}}]}}},{path:"findings",component:Z,pathMatch:"full"},{path:"reports",component:Y,pathMatch:"full"},{path:"integration",component:$,pathMatch:"full"},{path:"static_scans",component:Gt,pathMatch:"full"},{path:"dns",component:Wt,pathMatch:"full"},{path:"recon_jobs",component:I,pathMatch:"full",data:{extra_filters:{type_of_request:{$eq:"recon"}}}},{path:"recon_jobs/:buildId",component:I,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:U,pathMatch:"full",data:{section:"details"}},{path:"logs",component:J,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:Z,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}],data:{extra_filters:{type_of_request:{$eq:"recon"}}}},{path:"quick_scan",component:at,pathMatch:"full",data:{extra_filters:{type_of_request:{$eq:"quick_dynamic_scan"}}}},{path:"quick_scan/:buildId",component:at,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:U,pathMatch:"full",data:{section:"details"}},{path:"logs",component:J,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:Z,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}],data:{extra_filters:{type_of_request:{$eq:"quick_dynamic_scan"}}}},{path:"quick_scan_admin",component:at,pathMatch:"full",data:{extra_filters:{type_of_request:{$eq:"quick_dynamic_scan"}}}},{path:"quick_scan_admin/:buildId",component:at,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:U,pathMatch:"full",data:{section:"details"}},{path:"logs",component:J,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:Z,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}],data:{extra_filters:{type_of_request:{$eq:"quick_dynamic_scan"}}}},{path:"dns/:asset_id",component:yt,pathMatch:"full"},{path:"dns_discovered",component:yt,pathMatch:"full"},{path:"dynamic_scans",component:Et,pathMatch:"full"},{path:"configure",component:ot,pathMatch:"full"},{path:"config",component:Y,pathMatch:"full"},{path:"integration",component:$,pathMatch:"full"},{path:"findings/:buildId",component:Z,pathMatch:"full"},{path:"findings",component:Z,pathMatch:"full"},{path:"builds/nobuilds",component:bt,pathMatch:"full"},{path:"bitbucket/manage",component:Ht},{path:"active_protection/:uuid",component:I,data:{active_protection:!0},children:[{path:"",redirectTo:"details",pathMatch:"full",data:{active_protection:!0}},{path:"details",component:U,pathMatch:"full",data:{section:"details",data:{active_protection:!0}}},{path:"logs",component:J,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:Z,pathMatch:"full",data:{section:"issues",data:{active_protection:!0}}},{path:"**",redirectTo:"details",pathMatch:"full",data:{active_protection:!0}}]},{path:"scans/:buildId",component:I,data:{active_protection:!0},children:[{path:"",redirectTo:"details",pathMatch:"full",data:{active_protection:!0}},{path:"details",component:U,pathMatch:"full",data:{section:"details",data:{active_protection:!0}}},{path:"logs",component:J,pathMatch:"full",data:{section:"logs"}},{path:"issues",component:Z,pathMatch:"full",data:{section:"issues",data:{active_protection:!0}}},{path:"**",redirectTo:"details",pathMatch:"full",data:{active_protection:!0}}]},{path:"builds/:buildId",component:I,data:{extra_filters:{$and:[{type_of_request:{$ne:"external_tools"}},{type_of_request:{$ne:"external_tools_new"}},{type_of_request:{$ne:"recon"}}]}},children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"logs",component:J,pathMatch:"full",data:{section:"logs"}},{path:"details",component:U,pathMatch:"full",data:{section:"details"}},{path:"issues",component:Z,pathMatch:"full",data:{section:"issues"}},{path:"**",redirectTo:"details",pathMatch:"full"}]},{path:"issues",component:I,children:[{path:"",component:st,pathMatch:"full"},{path:":buildId",component:Z,pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"",redirectTo:"configure",pathMatch:"full",outlet:"sidebar"},{path:"",component:qt,outlet:"sidebar"},{path:"**",redirectTo:"configure",pathMatch:"full",outlet:"sidebar"},{path:"**",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"**",redirectTo:"new_test/switch"}];class kt{}kt.\u0275fac=function(n){return new(n||kt)},kt.\u0275mod=t.oAB({type:kt}),kt.\u0275inj=t.cJS({imports:[C.Bz.forChild(Is),C.Bz]});var Ss=x(8405),Fs=x(2289);class dt{}dt.\u0275fac=function(n){return new(n||dt)},dt.\u0275mod=t.oAB({type:dt}),dt.\u0275inj=t.cJS({providers:[et,q,et],imports:[m.ez,Fs.xu]});var Ls=x(2687);class Mt{}Mt.\u0275fac=function(n){return new(n||Mt)},Mt.\u0275mod=t.oAB({type:Mt}),Mt.\u0275inj=t.cJS({providers:[E,q,et],imports:[m.ez,dt,Ls.rt]});class wt{constructor(){this.branches$=new F.X([3,21321,312,3123,12]),this.branches=this.branches$.asObservable().pipe((0,_.b)(n=>{console.log("boomer",n)}),(0,u.U)(n=>null))}validateBranch(n){return console.log("validateBranch",n.value),(0,N.of)(V.E).pipe((0,_.b)(e=>{console.log("boomer",e)}),(0,u.U)(e=>null))}}wt.\u0275fac=function(n){return new(n||wt)},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac});class Kt{constructor(){}ngOnInit(){}}Kt.\u0275fac=function(n){return new(n||Kt)},Kt.\u0275cmp=t.Xpm({type:Kt,selectors:[["app-progress-bar"]],decls:3,vars:0,consts:[[1,"demo-container"],[1,"progress-bar"],[1,"progress-bar-value"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.qZA()())},styles:[".demo-container[_ngcontent-%COMP%]{width:300px;margin:auto}.progress-bar[_ngcontent-%COMP%]{height:4px;background-color:#0572ce33;width:100%;overflow:hidden}.progress-bar-value[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#0572ce;animation:_ngcontent-%COMP%_indeterminateAnimation 1s infinite linear;transform-origin:0% 50%}@keyframes _ngcontent-%COMP%_indeterminateAnimation{0%{transform:translate(0) scaleX(0)}40%{transform:translate(0) scaleX(.4)}to{transform:translate(100%) scaleX(.5)}}"]});var Us=x(4377);class Tt{}Tt.\u0275fac=function(n){return new(n||Tt)},Tt.\u0275mod=t.oAB({type:Tt}),Tt.\u0275inj=t.cJS({providers:[s.quB,k,wt,{provide:ae.wL,useClass:Us.a}],imports:[s.BW0,m.ez,Ti,ke.o9,s.KdK,s.T2N,s.OA,kt,s.kmq.forRoot(),s.zyh,s.nKr,s.COg,s.IIj,d.u5,d.UX,s.nKr,s.V7y,s.EbI,s.uuI,s.LW9,s.HKp,s.spT,Ss.$,s._WB,s.EoG,s.CG_,Mt,dt,s.j7H,s.oGl,s.obu,s.Qry,s.P1,s.urD,s.wB1,s.AE1,s.caZ,s.MfT]}),t.B6R($,function(){return[m.O5,p.xw,p.Wh,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.yKW,s.ndF,Y]},function(){return[m.Ov]}),t.B6R(nt,function(){return[m.sg,m.O5,p.xw,p.SQ,p.Wh,p.s9,p.yH,s.fMN,s.DPz,s.Asz,s.yKW,s.XWE,s.ndF,s.ydg,s.c2L,Kt,ft]},function(){return[m.uU]})}}]);