(self.webpackChunkcyclops=self.webpackChunkcyclops||[]).push([[187],{6656:function(module,__unused_webpack_exports,__webpack_require__){var r;r=function(){return(()=>{var __webpack_modules__=[(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),Object.defineProperty(g,"addLinkAttributes",{enumerable:!0,get:function(){return a.addLinkAttributes}}),Object.defineProperty(g,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(g,"LinkTarget",{enumerable:!0,get:function(){return a.LinkTarget}}),Object.defineProperty(g,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(g,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(g,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(g,"build",{enumerable:!0,get:function(){return T.build}}),Object.defineProperty(g,"getDocument",{enumerable:!0,get:function(){return T.getDocument}}),Object.defineProperty(g,"LoopbackPort",{enumerable:!0,get:function(){return T.LoopbackPort}}),Object.defineProperty(g,"PDFDataRangeTransport",{enumerable:!0,get:function(){return T.PDFDataRangeTransport}}),Object.defineProperty(g,"PDFWorker",{enumerable:!0,get:function(){return T.PDFWorker}}),Object.defineProperty(g,"version",{enumerable:!0,get:function(){return T.version}}),Object.defineProperty(g,"CMapCompressionType",{enumerable:!0,get:function(){return M.CMapCompressionType}}),Object.defineProperty(g,"createObjectURL",{enumerable:!0,get:function(){return M.createObjectURL}}),Object.defineProperty(g,"createPromiseCapability",{enumerable:!0,get:function(){return M.createPromiseCapability}}),Object.defineProperty(g,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return M.createValidAbsoluteUrl}}),Object.defineProperty(g,"InvalidPDFException",{enumerable:!0,get:function(){return M.InvalidPDFException}}),Object.defineProperty(g,"MissingPDFException",{enumerable:!0,get:function(){return M.MissingPDFException}}),Object.defineProperty(g,"OPS",{enumerable:!0,get:function(){return M.OPS}}),Object.defineProperty(g,"PasswordResponses",{enumerable:!0,get:function(){return M.PasswordResponses}}),Object.defineProperty(g,"PermissionFlag",{enumerable:!0,get:function(){return M.PermissionFlag}}),Object.defineProperty(g,"removeNullCharacters",{enumerable:!0,get:function(){return M.removeNullCharacters}}),Object.defineProperty(g,"shadow",{enumerable:!0,get:function(){return M.shadow}}),Object.defineProperty(g,"UnexpectedResponseException",{enumerable:!0,get:function(){return M.UnexpectedResponseException}}),Object.defineProperty(g,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return M.UNSUPPORTED_FEATURES}}),Object.defineProperty(g,"Util",{enumerable:!0,get:function(){return M.Util}}),Object.defineProperty(g,"VerbosityLevel",{enumerable:!0,get:function(){return M.VerbosityLevel}}),Object.defineProperty(g,"AnnotationLayer",{enumerable:!0,get:function(){return G.AnnotationLayer}}),Object.defineProperty(g,"apiCompatibilityParams",{enumerable:!0,get:function(){return L.apiCompatibilityParams}}),Object.defineProperty(g,"GlobalWorkerOptions",{enumerable:!0,get:function(){return q.GlobalWorkerOptions}}),Object.defineProperty(g,"renderTextLayer",{enumerable:!0,get:function(){return W.renderTextLayer}}),Object.defineProperty(g,"SVGGraphics",{enumerable:!0,get:function(){return z.SVGGraphics}});var a=r(1),T=r(135),M=r(4),G=r(149),L=r(139),q=r(142),W=r(151),z=r(152);if(r(6).isNodeJS){var j=r(153).PDFNodeStream;(0,T.setPDFNetworkStreamFactory)(function(S){return new j(S)})}else{var F,e=r(156).PDFNetworkStream;(0,a.isFetchSupported)()&&(F=r(157).PDFFetchStream),(0,T.setPDFNetworkStreamFactory)(function(S){return F&&(0,a.isValidFetchUrl)(S.url)?new F(S):new e(S)})}},(X,g,r)=>{"use strict";function a(k){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(k)}Object.defineProperty(g,"__esModule",{value:!0}),g.addLinkAttributes=function(k){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},I=N.url,V=N.target,Y=N.rel,J=N.enabled,re=void 0===J||J;(0,M.assert)(I&&"string"==typeof I,'addLinkAttributes: A valid "url" parameter must provided.');var te=(0,M.removeNullCharacters)(I);re?k.href=k.title=te:(k.href="",k.title="Disabled: ".concat(te),k.onclick=function(){return!1});var ae="";switch(V){case w.NONE:break;case w.SELF:ae="_self";break;case w.BLANK:ae="_blank";break;case w.PARENT:ae="_parent";break;case w.TOP:ae="_top"}k.target=ae,k.rel="string"==typeof Y?Y:i},g.deprecated=function(k){console.log("Deprecated API usage: "+k)},g.getFilenameFromUrl=function(k){var N=k.indexOf("#"),I=k.indexOf("?"),V=Math.min(N>0?N:k.length,I>0?I:k.length);return k.substring(k.lastIndexOf("/",V)+1,V)},g.isFetchSupported=f,g.isValidFetchUrl=_,g.loadScript=function(k){var N=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(I,V){var Y=document.createElement("script");Y.src=k,Y.onload=function(J){N&&Y.remove(),I(J)},Y.onerror=function(){V(new Error("Cannot load script at: ".concat(Y.src)))},(document.head||document.documentElement).appendChild(Y)})},g.StatTimer=g.RenderingCancelledException=g.PDFDateString=g.PageViewport=g.LinkTarget=g.DOMSVGFactory=g.DOMCMapReaderFactory=g.DOMCanvasFactory=g.DEFAULT_LINK_REL=g.BaseCMapReaderFactory=g.BaseCanvasFactory=void 0;var k,T=(k=r(2))&&k.__esModule?k:{default:k},M=r(4);function L(k,N){var I;if("undefined"==typeof Symbol||null==k[Symbol.iterator]){if(Array.isArray(k)||(I=function(k,N){if(k){if("string"==typeof k)return W(k,N);var I=Object.prototype.toString.call(k).slice(8,-1);if("Object"===I&&k.constructor&&(I=k.constructor.name),"Map"===I||"Set"===I)return Array.from(k);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return W(k,N)}}(k))||N&&k&&"number"==typeof k.length){I&&(k=I);var V=0,Y=function(){};return{s:Y,n:function(){return V>=k.length?{done:!0}:{done:!1,value:k[V++]}},e:function(ne){throw ne},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var te,J=!0,re=!1;return{s:function(){I=k[Symbol.iterator]()},n:function(){var ne=I.next();return J=ne.done,ne},e:function(ne){re=!0,te=ne},f:function(){try{!J&&null!=I.return&&I.return()}finally{if(re)throw te}}}}function W(k,N){(null==N||N>k.length)&&(N=k.length);for(var I=0,V=new Array(N);I<N;I++)V[I]=k[I];return V}function z(k,N,I,V,Y,J,re){try{var te=k[J](re),ae=te.value}catch(ne){return void I(ne)}te.done?N(ae):Promise.resolve(ae).then(V,Y)}function $(k){return function(){var N=this,I=arguments;return new Promise(function(V,Y){var J=k.apply(N,I);function re(ae){z(J,V,Y,re,te,"next",ae)}function te(ae){z(J,V,Y,re,te,"throw",ae)}re(void 0)})}}function Z(k,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(N&&N.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),N&&H(k,N)}function H(k,N){return(H=Object.setPrototypeOf||function(V,Y){return V.__proto__=Y,V})(k,N)}function x(k){var N=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}();return function(){var Y,V=S(k);if(N){var J=S(this).constructor;Y=Reflect.construct(V,arguments,J)}else Y=V.apply(this,arguments);return j(this,Y)}}function j(k,N){return!N||"object"!==a(N)&&"function"!=typeof N?function(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k):N}function S(k){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(k)}function C(k,N){if(!(k instanceof N))throw new TypeError("Cannot call a class as a function")}function l(k,N){for(var I=0;I<N.length;I++){var V=N[I];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(k,V.key,V)}}function y(k,N,I){return N&&l(k.prototype,N),I&&l(k,I),k}var i="noopener noreferrer nofollow";g.DEFAULT_LINK_REL=i;var u="http://www.w3.org/2000/svg",s=function(){function k(){C(this,k),this.constructor===k&&(0,M.unreachable)("Cannot initialize BaseCanvasFactory.")}return y(k,[{key:"create",value:function(I,V){(0,M.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function(I,V,Y){if(!I.canvas)throw new Error("Canvas is not specified");if(V<=0||Y<=0)throw new Error("Invalid canvas size");I.canvas.width=V,I.canvas.height=Y}},{key:"destroy",value:function(I){if(!I.canvas)throw new Error("Canvas is not specified");I.canvas.width=0,I.canvas.height=0,I.canvas=null,I.context=null}}]),k}();g.BaseCanvasFactory=s;var P=function(k){Z(I,k);var N=x(I);function I(){var V,Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=Y.ownerDocument,re=void 0===J?globalThis.document:J;return C(this,I),(V=N.call(this))._document=re,V}return y(I,[{key:"create",value:function(Y,J){if(Y<=0||J<=0)throw new Error("Invalid canvas size");var re=this._document.createElement("canvas"),te=re.getContext("2d");return re.width=Y,re.height=J,{canvas:re,context:te}}}]),I}(s);g.DOMCanvasFactory=P;var E=function(){function k(N){var I=N.baseUrl,V=void 0===I?null:I,Y=N.isCompressed,J=void 0!==Y&&Y;C(this,k),this.constructor===k&&(0,M.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=V,this.isCompressed=J}return y(k,[{key:"fetch",value:(N=$(T.default.mark(function V(Y){var re,te,J=this;return T.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(re=Y.name,this.baseUrl){he.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(re){he.next=5;break}throw new Error("CMap name must be specified.");case 5:return he.abrupt("return",this._fetchData(te=this.baseUrl+re+(this.isCompressed?".bcmap":""),this.isCompressed?M.CMapCompressionType.BINARY:M.CMapCompressionType.NONE).catch(function(me){throw new Error("Unable to load ".concat(J.isCompressed?"binary ":"","CMap at: ").concat(te))}));case 8:case"end":return he.stop()}},V,this)})),function(V){return N.apply(this,arguments)})},{key:"_fetchData",value:function(I,V){(0,M.unreachable)("Abstract method `_fetchData` called.")}}]),k;var N}();g.BaseCMapReaderFactory=E;var O=function(k){Z(I,k);var N=x(I);function I(){return C(this,I),N.apply(this,arguments)}return y(I,[{key:"_fetchData",value:function(Y,J){var re=this;return f()&&_(Y,document.baseURI)?fetch(Y).then(function(){var te=$(T.default.mark(function ae(ne){var he;return T.default.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(ne.ok){Se.next=2;break}throw new Error(ne.statusText);case 2:if(!re.isCompressed){Se.next=10;break}return Se.t0=Uint8Array,Se.next=6,ne.arrayBuffer();case 6:Se.t1=Se.sent,he=new Se.t0(Se.t1),Se.next=15;break;case 10:return Se.t2=M.stringToBytes,Se.next=13,ne.text();case 13:Se.t3=Se.sent,he=(0,Se.t2)(Se.t3);case 15:return Se.abrupt("return",{cMapData:he,compressionType:J});case 16:case"end":return Se.stop()}},ae)}));return function(ae){return te.apply(this,arguments)}}()):new Promise(function(te,ae){var ne=new XMLHttpRequest;ne.open("GET",Y,!0),re.isCompressed&&(ne.responseType="arraybuffer"),ne.onreadystatechange=function(){if(ne.readyState===XMLHttpRequest.DONE){var he;if((200===ne.status||0===ne.status)&&(re.isCompressed&&ne.response?he=new Uint8Array(ne.response):!re.isCompressed&&ne.responseText&&(he=(0,M.stringToBytes)(ne.responseText)),he))return void te({cMapData:he,compressionType:J});ae(new Error(ne.statusText))}},ne.send(null)})}}]),I}(E);g.DOMCMapReaderFactory=O;var c=function(){function k(){C(this,k)}return y(k,[{key:"create",value:function(I,V){(0,M.assert)(I>0&&V>0,"Invalid SVG dimensions");var Y=document.createElementNS(u,"svg:svg");return Y.setAttribute("version","1.1"),Y.setAttribute("width",I+"px"),Y.setAttribute("height",V+"px"),Y.setAttribute("preserveAspectRatio","none"),Y.setAttribute("viewBox","0 0 "+I+" "+V),Y}},{key:"createElement",value:function(I){return(0,M.assert)("string"==typeof I,"Invalid SVG element type"),document.createElementNS(u,I)}}]),k}();g.DOMSVGFactory=c;var p=function(){function k(N){var I=N.viewBox,V=N.scale,Y=N.rotation,J=N.offsetX,re=void 0===J?0:J,te=N.offsetY,ae=void 0===te?0:te,ne=N.dontFlip,he=void 0!==ne&&ne;C(this,k),this.viewBox=I,this.scale=V,this.rotation=Y,this.offsetX=re,this.offsetY=ae;var se,fe,K,ie,oe,Ee,ye,we,me=(I[2]+I[0])/2,Se=(I[3]+I[1])/2;switch(Y=(Y%=360)<0?Y+360:Y){case 180:se=-1,fe=0,K=0,ie=1;break;case 90:se=0,fe=1,K=1,ie=0;break;case 270:se=0,fe=-1,K=-1,ie=0;break;case 0:se=1,fe=0,K=0,ie=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}he&&(K=-K,ie=-ie),0===se?(oe=Math.abs(Se-I[1])*V+re,Ee=Math.abs(me-I[0])*V+ae,ye=Math.abs(I[3]-I[1])*V,we=Math.abs(I[2]-I[0])*V):(oe=Math.abs(me-I[0])*V+re,Ee=Math.abs(Se-I[1])*V+ae,ye=Math.abs(I[2]-I[0])*V,we=Math.abs(I[3]-I[1])*V),this.transform=[se*V,fe*V,K*V,ie*V,oe-se*V*me-K*V*Se,Ee-fe*V*me-ie*V*Se],this.width=ye,this.height=we}return y(k,[{key:"clone",value:function(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},V=I.scale,Y=void 0===V?this.scale:V,J=I.rotation,re=void 0===J?this.rotation:J,te=I.offsetX,ae=void 0===te?this.offsetX:te,ne=I.offsetY,he=void 0===ne?this.offsetY:ne,me=I.dontFlip,Se=void 0!==me&&me;return new k({viewBox:this.viewBox.slice(),scale:Y,rotation:re,offsetX:ae,offsetY:he,dontFlip:Se})}},{key:"convertToViewportPoint",value:function(I,V){return M.Util.applyTransform([I,V],this.transform)}},{key:"convertToViewportRectangle",value:function(I){var V=M.Util.applyTransform([I[0],I[1]],this.transform),Y=M.Util.applyTransform([I[2],I[3]],this.transform);return[V[0],V[1],Y[0],Y[1]]}},{key:"convertToPdfPoint",value:function(I,V){return M.Util.applyInverseTransform([I,V],this.transform)}}]),k}();g.PageViewport=p;var B=function(k){Z(I,k);var N=x(I);function I(V,Y){var J;return C(this,I),(J=N.call(this,V)).type=Y,J}return I}(M.BaseException);g.RenderingCancelledException=B;var w={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};g.LinkTarget=w;var m=function(){function k(){C(this,k),this.started=Object.create(null),this.times=[]}return y(k,[{key:"time",value:function(I){I in this.started&&(0,M.warn)("Timer is already running for ".concat(I)),this.started[I]=Date.now()}},{key:"timeEnd",value:function(I){I in this.started||(0,M.warn)("Timer has not been started for ".concat(I)),this.times.push({name:I,start:this.started[I],end:Date.now()}),delete this.started[I]}},{key:"toString",value:function(){var J,I=[],V=0,Y=L(this.times);try{for(Y.s();!(J=Y.n()).done;){var te=J.value.name;te.length>V&&(V=te.length)}}catch(Se){Y.e(Se)}finally{Y.f()}var ne,ae=L(this.times);try{for(ae.s();!(ne=ae.n()).done;){var he=ne.value,me=he.end-he.start;I.push("".concat(he.name.padEnd(V)," ").concat(me,"ms\n"))}}catch(Se){ae.e(Se)}finally{ae.f()}return I.join("")}}]),k}();function f(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function _(k,N){try{var V=(N?new URL(k,N):new URL(k)).protocol;return"http:"===V||"https:"===V}catch(Y){return!1}}g.StatTimer=m;var b,A=function(){function k(){C(this,k)}return y(k,null,[{key:"toDateObject",value:function(I){if(!I||!(0,M.isString)(I))return null;b||(b=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var V=b.exec(I);if(!V)return null;var Y=parseInt(V[1],10),J=parseInt(V[2],10);J=J>=1&&J<=12?J-1:0;var re=parseInt(V[3],10);re=re>=1&&re<=31?re:1;var te=parseInt(V[4],10);te=te>=0&&te<=23?te:0;var ae=parseInt(V[5],10);ae=ae>=0&&ae<=59?ae:0;var ne=parseInt(V[6],10);ne=ne>=0&&ne<=59?ne:0;var he=V[7]||"Z",me=parseInt(V[8],10);me=me>=0&&me<=23?me:0;var Se=parseInt(V[9],10)||0;return Se=Se>=0&&Se<=59?Se:0,"-"===he?(te+=me,ae+=Se):"+"===he&&(te-=me,ae-=Se),new Date(Date.UTC(Y,J,re,te,ae,ne))}}]),k}();g.PDFDateString=A},(X,g,r)=>{"use strict";X.exports=r(3)},(X,g,r)=>{"use strict";function a(M){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(M)}var T=function(M){var q,G=Object.prototype,L=G.hasOwnProperty,W="function"==typeof Symbol?Symbol:{},z=W.iterator||"@@iterator",$=W.asyncIterator||"@@asyncIterator",Z=W.toStringTag||"@@toStringTag";function H(v,o,b){return Object.defineProperty(v,o,{value:b,enumerable:!0,configurable:!0,writable:!0}),v[o]}try{H({},"")}catch(v){H=function(b,A,k){return b[A]=k}}function x(v,o,b,A){var N=Object.create((o&&o.prototype instanceof y?o:y).prototype),I=new m(A||[]);return N._invoke=function(v,o,b){var A=e;return function(N,I){if(A===S)throw new Error("Generator is already running");if(A===C){if("throw"===N)throw I;return _()}for(b.method=N,b.arg=I;;){var V=b.delegate;if(V){var Y=w(V,b);if(Y){if(Y===l)continue;return Y}}if("next"===b.method)b.sent=b._sent=b.arg;else if("throw"===b.method){if(A===e)throw A=C,b.arg;b.dispatchException(b.arg)}else"return"===b.method&&b.abrupt("return",b.arg);A=S;var J=j(v,o,b);if("normal"===J.type){if(A=b.done?C:F,J.arg===l)continue;return{value:J.arg,done:b.done}}"throw"===J.type&&(A=C,b.method="throw",b.arg=J.arg)}}}(v,b,I),N}function j(v,o,b){try{return{type:"normal",arg:v.call(o,b)}}catch(A){return{type:"throw",arg:A}}}M.wrap=x;var e="suspendedStart",F="suspendedYield",S="executing",C="completed",l={};function y(){}function i(){}function u(){}var s={};s[z]=function(){return this};var P=Object.getPrototypeOf,E=P&&P(P(f([])));E&&E!==G&&L.call(E,z)&&(s=E);var O=u.prototype=y.prototype=Object.create(s);function c(v){["next","throw","return"].forEach(function(o){H(v,o,function(b){return this._invoke(o,b)})})}function p(v,o){function b(N,I,V,Y){var J=j(v[N],v,I);if("throw"!==J.type){var re=J.arg,te=re.value;return te&&"object"===a(te)&&L.call(te,"__await")?o.resolve(te.__await).then(function(ae){b("next",ae,V,Y)},function(ae){b("throw",ae,V,Y)}):o.resolve(te).then(function(ae){re.value=ae,V(re)},function(ae){return b("throw",ae,V,Y)})}Y(J.arg)}var A;this._invoke=function(N,I){function V(){return new o(function(Y,J){b(N,I,Y,J)})}return A=A?A.then(V,V):V()}}function w(v,o){var b=v.iterator[o.method];if(b===q){if(o.delegate=null,"throw"===o.method){if(v.iterator.return&&(o.method="return",o.arg=q,w(v,o),"throw"===o.method))return l;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var A=j(b,v.iterator,o.arg);if("throw"===A.type)return o.method="throw",o.arg=A.arg,o.delegate=null,l;var k=A.arg;return k?k.done?(o[v.resultName]=k.value,o.next=v.nextLoc,"return"!==o.method&&(o.method="next",o.arg=q),o.delegate=null,l):k:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,l)}function R(v){var o={tryLoc:v[0]};1 in v&&(o.catchLoc=v[1]),2 in v&&(o.finallyLoc=v[2],o.afterLoc=v[3]),this.tryEntries.push(o)}function D(v){var o=v.completion||{};o.type="normal",delete o.arg,v.completion=o}function m(v){this.tryEntries=[{tryLoc:"root"}],v.forEach(R,this),this.reset(!0)}function f(v){if(v){var o=v[z];if(o)return o.call(v);if("function"==typeof v.next)return v;if(!isNaN(v.length)){var b=-1,A=function k(){for(;++b<v.length;)if(L.call(v,b))return k.value=v[b],k.done=!1,k;return k.value=q,k.done=!0,k};return A.next=A}}return{next:_}}function _(){return{value:q,done:!0}}return i.prototype=O.constructor=u,u.constructor=i,i.displayName=H(u,Z,"GeneratorFunction"),M.isGeneratorFunction=function(v){var o="function"==typeof v&&v.constructor;return!!o&&(o===i||"GeneratorFunction"===(o.displayName||o.name))},M.mark=function(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,u):(v.__proto__=u,H(v,Z,"GeneratorFunction")),v.prototype=Object.create(O),v},M.awrap=function(v){return{__await:v}},c(p.prototype),p.prototype[$]=function(){return this},M.AsyncIterator=p,M.async=function(v,o,b,A,k){void 0===k&&(k=Promise);var N=new p(x(v,o,b,A),k);return M.isGeneratorFunction(o)?N:N.next().then(function(I){return I.done?I.value:N.next()})},c(O),H(O,Z,"Generator"),O[z]=function(){return this},O.toString=function(){return"[object Generator]"},M.keys=function(v){var o=[];for(var b in v)o.push(b);return o.reverse(),function A(){for(;o.length;){var k=o.pop();if(k in v)return A.value=k,A.done=!1,A}return A.done=!0,A}},M.values=f,m.prototype={constructor:m,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(D),!o)for(var b in this)"t"===b.charAt(0)&&L.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var b=this;function A(J,re){return I.type="throw",I.arg=o,b.next=J,re&&(b.method="next",b.arg=q),!!re}for(var k=this.tryEntries.length-1;k>=0;--k){var N=this.tryEntries[k],I=N.completion;if("root"===N.tryLoc)return A("end");if(N.tryLoc<=this.prev){var V=L.call(N,"catchLoc"),Y=L.call(N,"finallyLoc");if(V&&Y){if(this.prev<N.catchLoc)return A(N.catchLoc,!0);if(this.prev<N.finallyLoc)return A(N.finallyLoc)}else if(V){if(this.prev<N.catchLoc)return A(N.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return A(N.finallyLoc)}}}},abrupt:function(o,b){for(var A=this.tryEntries.length-1;A>=0;--A){var k=this.tryEntries[A];if(k.tryLoc<=this.prev&&L.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var N=k;break}}N&&("break"===o||"continue"===o)&&N.tryLoc<=b&&b<=N.finallyLoc&&(N=null);var I=N?N.completion:{};return I.type=o,I.arg=b,N?(this.method="next",this.next=N.finallyLoc,l):this.complete(I)},complete:function(o,b){if("throw"===o.type)throw o.arg;return"break"===o.type||"continue"===o.type?this.next=o.arg:"return"===o.type?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):"normal"===o.type&&b&&(this.next=b),l},finish:function(o){for(var b=this.tryEntries.length-1;b>=0;--b){var A=this.tryEntries[b];if(A.finallyLoc===o)return this.complete(A.completion,A.afterLoc),D(A),l}},catch:function(o){for(var b=this.tryEntries.length-1;b>=0;--b){var A=this.tryEntries[b];if(A.tryLoc===o){var k=A.completion;if("throw"===k.type){var N=k.arg;D(A)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(o,b,A){return this.delegate={iterator:f(o),resultName:b,nextLoc:A},"next"===this.method&&(this.arg=q),l}},M}("object"===a(X=r.nmd(X))?X.exports:{});try{regeneratorRuntime=T}catch(M){Function("r","regeneratorRuntime = r")(T)}},(X,g,r)=>{"use strict";function a(pe,Le){for(var de=0;de<Le.length;de++){var Ae=Le[de];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(pe,Ae.key,Ae)}}function z(pe,Le){(null==Le||Le>pe.length)&&(Le=pe.length);for(var de=0,Ae=new Array(Le);de<Le;de++)Ae[de]=pe[de];return Ae}function $(pe){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(pe)}function Z(pe,Le){if(!(pe instanceof Le))throw new TypeError("Cannot call a class as a function")}function H(pe,Le){if("function"!=typeof Le&&null!==Le)throw new TypeError("Super expression must either be null or a function");pe.prototype=Object.create(Le&&Le.prototype,{constructor:{value:pe,writable:!0,configurable:!0}}),Le&&x(pe,Le)}function x(pe,Le){return(x=Object.setPrototypeOf||function(Ae,Qe){return Ae.__proto__=Qe,Ae})(pe,Le)}function j(pe){var Le=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(pe){return!1}}();return function(){var Qe,Ae=C(pe);if(Le){var U=C(this).constructor;Qe=Reflect.construct(Ae,arguments,U)}else Qe=Ae.apply(this,arguments);return e(this,Qe)}}function e(pe,Le){return!Le||"object"!==$(Le)&&"function"!=typeof Le?function(pe){if(void 0===pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}(pe):Le}function C(pe){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(de){return de.__proto__||Object.getPrototypeOf(de)})(pe)}Object.defineProperty(g,"__esModule",{value:!0}),g.arrayByteLength=Ce,g.arraysToBytes=function(pe){var Le=pe.length;if(1===Le&&pe[0]instanceof Uint8Array)return pe[0];for(var de=0,Ae=0;Ae<Le;Ae++)de+=Ce(pe[Ae]);for(var Qe=0,U=new Uint8Array(de),Pe=0;Pe<Le;Pe++){var Re=pe[Pe];Re instanceof Uint8Array||(Re="string"==typeof Re?He(Re):new Uint8Array(Re));var Ie=Re.byteLength;U.set(Re,Qe),Qe+=Ie}return U},g.assert=ae,g.bytesToString=function(pe){ae(null!==pe&&"object"===$(pe)&&void 0!==pe.length,"Invalid argument for bytesToString");var Le=pe.length;if(Le<8192)return String.fromCharCode.apply(null,pe);for(var Ae=[],Qe=0;Qe<Le;Qe+=8192){var U=Math.min(Qe+8192,Le),Pe=pe.subarray(Qe,U);Ae.push(String.fromCharCode.apply(null,Pe))}return Ae.join("")},g.createPromiseCapability=function(){var pe=Object.create(null),Le=!1;return Object.defineProperty(pe,"settled",{get:function(){return Le}}),pe.promise=new Promise(function(de,Ae){pe.resolve=function(Qe){Le=!0,de(Qe)},pe.reject=function(Qe){Le=!0,Ae(Qe)}}),pe},g.createValidAbsoluteUrl=function(pe,Le){if(!pe)return null;try{var de=Le?new URL(pe,Le):new URL(pe);if(function(pe){if(!pe)return!1;switch(pe.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(de))return de}catch(Ae){}return null},g.encodeToXmlString=function(pe){for(var Le=[],de=0,Ae=0,Qe=pe.length;Ae<Qe;Ae++){var U=pe.codePointAt(Ae);if(32<=U&&U<=126){var Pe=xt[U];Pe&&(de<Ae&&Le.push(pe.substring(de,Ae)),Le.push(Pe),de=Ae+1)}else de<Ae&&Le.push(pe.substring(de,Ae)),Le.push("&#x".concat(U.toString(16).toUpperCase(),";")),U>55295&&(U<57344||U>65533)&&Ae++,de=Ae+1}return 0===Le.length?pe:(de<pe.length&&Le.push(pe.substring(de,pe.length)),Le.join(""))},g.escapeString=function(pe){return pe.replace(/([()\\\n\r])/g,function(Le){return"\n"===Le?"\\n":"\r"===Le?"\\r":"\\".concat(Le)})},g.getModificationDate=function(){var pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,Le=[pe.getUTCFullYear().toString(),(pe.getUTCMonth()+1).toString().padStart(2,"0"),pe.getUTCDate().toString().padStart(2,"0"),pe.getUTCHours().toString().padStart(2,"0"),pe.getUTCMinutes().toString().padStart(2,"0"),pe.getUTCSeconds().toString().padStart(2,"0")];return Le.join("")},g.getVerbosityLevel=function(){return I},g.info=function(pe){I>=o.INFOS&&console.log("Info: ".concat(pe))},g.isArrayBuffer=function(pe){return"object"===$(pe)&&null!==pe&&void 0!==pe.byteLength},g.isArrayEqual=function(pe,Le){return pe.length===Le.length&&pe.every(function(de,Ae){return de===Le[Ae]})},g.isAscii=function(pe){return/^[\x00-\x7F]*$/.test(pe)},g.isBool=function(pe){return"boolean"==typeof pe},g.isNum=function(pe){return"number"==typeof pe},g.isSameOrigin=function(pe,Le){var de;try{if(!(de=new URL(pe)).origin||"null"===de.origin)return!1}catch(Qe){return!1}var Ae=new URL(Le,de);return de.origin===Ae.origin},g.isString=function(pe){return"string"==typeof pe},g.objectFromEntries=function(pe){return Object.assign(Object.create(null),Object.fromEntries(pe))},g.objectSize=function(pe){return Object.keys(pe).length},g.removeNullCharacters=function(pe){return"string"!=typeof pe?(re("The argument for removeNullCharacters must be a string."),pe):pe.replace(Oe,"")},g.setVerbosityLevel=function(pe){Number.isInteger(pe)&&(I=pe)},g.shadow=Se,g.string32=function(pe){return String.fromCharCode(pe>>24&255,pe>>16&255,pe>>8&255,255&pe)},g.stringToBytes=He,g.stringToPDFString=function(pe){var Le=pe.length,de=[];if("\xfe"===pe[0]&&"\xff"===pe[1])for(var Ae=2;Ae<Le;Ae+=2)de.push(String.fromCharCode(pe.charCodeAt(Ae)<<8|pe.charCodeAt(Ae+1)));else if("\xff"===pe[0]&&"\xfe"===pe[1])for(var Qe=2;Qe<Le;Qe+=2)de.push(String.fromCharCode(pe.charCodeAt(Qe+1)<<8|pe.charCodeAt(Qe)));else for(var U=0;U<Le;++U){var Pe=Ye[pe.charCodeAt(U)];de.push(Pe?String.fromCharCode(Pe):pe.charAt(U))}return de.join("")},g.stringToUTF16BEString=function(pe){for(var Le=["\xfe\xff"],de=0,Ae=pe.length;de<Ae;de++){var Qe=pe.charCodeAt(de);Le.push(String.fromCharCode(Qe>>8&255)),Le.push(String.fromCharCode(255&Qe))}return Le.join("")},g.stringToUTF8String=function(pe){return decodeURIComponent(escape(pe))},g.unreachable=te,g.utf8StringToString=function(pe){return unescape(encodeURIComponent(pe))},g.warn=re,g.VerbosityLevel=g.Util=g.UNSUPPORTED_FEATURES=g.UnknownErrorException=g.UnexpectedResponseException=g.TextRenderingMode=g.StreamType=g.PermissionFlag=g.PasswordResponses=g.PasswordException=g.PageActionEventType=g.OPS=g.MissingPDFException=g.IsLittleEndianCached=g.IsEvalSupportedCached=g.InvalidPDFException=g.ImageKind=g.IDENTITY_MATRIX=g.FormatError=g.FontType=g.FONT_IDENTITY_MATRIX=g.DocumentActionEventType=g.createObjectURL=g.CMapCompressionType=g.BaseException=g.AnnotationType=g.AnnotationStateModelType=g.AnnotationReviewState=g.AnnotationReplyType=g.AnnotationMarkedState=g.AnnotationFlag=g.AnnotationFieldFlag=g.AnnotationBorderStyleType=g.AnnotationActionEventType=g.AbortException=void 0,r(5),g.IDENTITY_MATRIX=[1,0,0,1,0,0],g.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],g.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},g.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},g.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},g.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},g.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},g.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},g.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},g.AnnotationReplyType={GROUP:"Group",REPLY:"R"},g.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},g.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},g.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},g.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},g.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},g.PageActionEventType={O:"PageOpen",C:"PageClose"},g.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},g.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var o={ERRORS:0,WARNINGS:1,INFOS:5};g.VerbosityLevel=o,g.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},g.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},g.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},g.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var I=o.WARNINGS;function re(pe){I>=o.WARNINGS&&console.log("Warning: ".concat(pe))}function te(pe){throw new Error(pe)}function ae(pe,Le){pe||te(Le)}function Se(pe,Le,de){return Object.defineProperty(pe,Le,{value:de,enumerable:!0,configurable:!0,writable:!1}),de}var se=function(){function Le(de){this.constructor===Le&&te("Cannot initialize BaseException."),this.message=de,this.name=this.constructor.name}return Le.prototype=new Error,Le.constructor=Le,Le}();g.BaseException=se;var fe=function(pe){H(de,pe);var Le=j(de);function de(Ae,Qe){var U;return Z(this,de),(U=Le.call(this,Ae)).code=Qe,U}return de}(se);g.PasswordException=fe;var K=function(pe){H(de,pe);var Le=j(de);function de(Ae,Qe){var U;return Z(this,de),(U=Le.call(this,Ae)).details=Qe,U}return de}(se);g.UnknownErrorException=K;var ie=function(pe){H(de,pe);var Le=j(de);function de(){return Z(this,de),Le.apply(this,arguments)}return de}(se);g.InvalidPDFException=ie;var oe=function(pe){H(de,pe);var Le=j(de);function de(){return Z(this,de),Le.apply(this,arguments)}return de}(se);g.MissingPDFException=oe;var Ee=function(pe){H(de,pe);var Le=j(de);function de(Ae,Qe){var U;return Z(this,de),(U=Le.call(this,Ae)).status=Qe,U}return de}(se);g.UnexpectedResponseException=Ee;var ye=function(pe){H(de,pe);var Le=j(de);function de(){return Z(this,de),Le.apply(this,arguments)}return de}(se);g.FormatError=ye;var we=function(pe){H(de,pe);var Le=j(de);function de(){return Z(this,de),Le.apply(this,arguments)}return de}(se);g.AbortException=we;var Oe=/\x00/g;function He(pe){ae("string"==typeof pe,"Invalid argument for stringToBytes");for(var Le=pe.length,de=new Uint8Array(Le),Ae=0;Ae<Le;++Ae)de[Ae]=255&pe.charCodeAt(Ae);return de}function Ce(pe){return void 0!==pe.length?pe.length:(ae(void 0!==pe.byteLength,"arrayByteLength - invalid argument."),pe.byteLength)}var _e={get value(){return Se(this,"value",((pe=new Uint8Array(4))[0]=1,1===new Uint32Array(pe.buffer,0,1)[0]));var pe}};g.IsLittleEndianCached=_e,g.IsEvalSupportedCached={get value(){return Se(this,"value",function(){try{return new Function(""),!0}catch(pe){return!1}}())}};var pe,Ge=(pe=Array(256).keys(),function(pe){if(Array.isArray(pe))return z(pe)}(pe)||function(pe){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(pe))return Array.from(pe)}(pe)||function(pe,Le){if(pe){if("string"==typeof pe)return z(pe,undefined);var de=Object.prototype.toString.call(pe).slice(8,-1);if("Object"===de&&pe.constructor&&(de=pe.constructor.name),"Map"===de||"Set"===de)return Array.from(pe);if("Arguments"===de||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return z(pe,undefined)}}(pe)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(pe){return pe.toString(16).padStart(2,"0")}),Ze=function(){function pe(){Z(this,pe)}return function(pe,Le,de){de&&a(pe,de)}(pe,0,[{key:"makeHexColor",value:function(de,Ae,Qe){return"#".concat(Ge[de]).concat(Ge[Ae]).concat(Ge[Qe])}},{key:"transform",value:function(de,Ae){return[de[0]*Ae[0]+de[2]*Ae[1],de[1]*Ae[0]+de[3]*Ae[1],de[0]*Ae[2]+de[2]*Ae[3],de[1]*Ae[2]+de[3]*Ae[3],de[0]*Ae[4]+de[2]*Ae[5]+de[4],de[1]*Ae[4]+de[3]*Ae[5]+de[5]]}},{key:"applyTransform",value:function(de,Ae){return[de[0]*Ae[0]+de[1]*Ae[2]+Ae[4],de[0]*Ae[1]+de[1]*Ae[3]+Ae[5]]}},{key:"applyInverseTransform",value:function(de,Ae){var Qe=Ae[0]*Ae[3]-Ae[1]*Ae[2];return[(de[0]*Ae[3]-de[1]*Ae[2]+Ae[2]*Ae[5]-Ae[4]*Ae[3])/Qe,(-de[0]*Ae[1]+de[1]*Ae[0]+Ae[4]*Ae[1]-Ae[5]*Ae[0])/Qe]}},{key:"getAxialAlignedBoundingBox",value:function(de,Ae){var Qe=pe.applyTransform(de,Ae),U=pe.applyTransform(de.slice(2,4),Ae),Pe=pe.applyTransform([de[0],de[3]],Ae),Re=pe.applyTransform([de[2],de[1]],Ae);return[Math.min(Qe[0],U[0],Pe[0],Re[0]),Math.min(Qe[1],U[1],Pe[1],Re[1]),Math.max(Qe[0],U[0],Pe[0],Re[0]),Math.max(Qe[1],U[1],Pe[1],Re[1])]}},{key:"inverseTransform",value:function(de){var Ae=de[0]*de[3]-de[1]*de[2];return[de[3]/Ae,-de[1]/Ae,-de[2]/Ae,de[0]/Ae,(de[2]*de[5]-de[4]*de[3])/Ae,(de[4]*de[1]-de[5]*de[0])/Ae]}},{key:"apply3dTransform",value:function(de,Ae){return[de[0]*Ae[0]+de[1]*Ae[1]+de[2]*Ae[2],de[3]*Ae[0]+de[4]*Ae[1]+de[5]*Ae[2],de[6]*Ae[0]+de[7]*Ae[1]+de[8]*Ae[2]]}},{key:"singularValueDecompose2dScale",value:function(de){var Ae=[de[0],de[2],de[1],de[3]],Qe=de[0]*Ae[0]+de[1]*Ae[2],Re=de[2]*Ae[1]+de[3]*Ae[3],Ie=(Qe+Re)/2,Fe=Math.sqrt((Qe+Re)*(Qe+Re)-4*(Qe*Re-(de[2]*Ae[0]+de[3]*Ae[2])*(de[0]*Ae[1]+de[1]*Ae[3])))/2,qe=Ie-Fe||1;return[Math.sqrt(Ie+Fe||1),Math.sqrt(qe)]}},{key:"normalizeRect",value:function(de){var Ae=de.slice(0);return de[0]>de[2]&&(Ae[0]=de[2],Ae[2]=de[0]),de[1]>de[3]&&(Ae[1]=de[3],Ae[3]=de[1]),Ae}},{key:"intersect",value:function(de,Ae){function Qe(Ie,Fe){return Ie-Fe}var U=[de[0],de[2],Ae[0],Ae[2]].sort(Qe),Pe=[de[1],de[3],Ae[1],Ae[3]].sort(Qe),Re=[];return de=pe.normalizeRect(de),Ae=pe.normalizeRect(Ae),U[0]===de[0]&&U[1]===Ae[0]||U[0]===Ae[0]&&U[1]===de[0]?(Re[0]=U[1],Re[2]=U[2],Pe[0]===de[1]&&Pe[1]===Ae[1]||Pe[0]===Ae[1]&&Pe[1]===de[1]?(Re[1]=Pe[1],Re[3]=Pe[2],Re):null):null}}]),pe}();g.Util=Ze;var Le,Ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],wt=(Le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(Ae,Qe){var U=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!U&&URL.createObjectURL){var Pe=new Blob([Ae],{type:Qe});return URL.createObjectURL(Pe)}for(var Re="data:".concat(Qe,";base64,"),Ie=0,Fe=Ae.length;Ie<Fe;Ie+=3){var Je=255&Ae[Ie],qe=255&Ae[Ie+1],Ke=255&Ae[Ie+2],rt=Je>>2,st=(3&Je)<<4|qe>>4,mt=Ie+1<Fe?(15&qe)<<2|Ke>>6:64,We=Ie+2<Fe?63&Ke:64;Re+=Le[rt]+Le[st]+Le[mt]+Le[We]}return Re});g.createObjectURL=wt;var xt={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(X,g,r)=>{"use strict";var a=r(6);("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked)&&(("undefined"==typeof globalThis||globalThis.Math!==Math)&&(globalThis=r(7)),globalThis._pdfjsCompatibilityChecked=!0,globalThis.btoa||!a.isNodeJS||(globalThis.btoa=function(M){return Buffer.from(M,"binary").toString("base64")}),globalThis.atob||!a.isNodeJS||(globalThis.atob=function(M){return Buffer.from(M,"base64").toString("binary")}),Object.fromEntries||r(52),globalThis.Promise.allSettled||(globalThis.Promise=r(82)),globalThis.URL=r(111),function(){var M=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(L){L.close()}}),M=!0}catch(G){}M||(globalThis.ReadableStream=r(121).ReadableStream)}(),String.prototype.padStart||r(122),String.prototype.padEnd||r(128),Object.values||(Object.values=r(130)),Object.entries||(Object.entries=r(133)))},(X,g)=>{"use strict";function r(T){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(T)}Object.defineProperty(g,"__esModule",{value:!0}),g.isNodeJS=void 0;var a=!("object"!==("undefined"==typeof process?"undefined":r(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);g.isNodeJS=a},(X,g,r)=>{r(8),X.exports=r(10)},(X,g,r)=>{r(9)({global:!0},{globalThis:r(10)})},(X,g,r)=>{var a=r(10),T=r(11).f,M=r(25),G=r(28),L=r(29),q=r(39),W=r(51);X.exports=function(z,$){var e,F,S,C,l,Z=z.target,H=z.global,x=z.stat;if(e=H?a:x?a[Z]||L(Z,{}):(a[Z]||{}).prototype)for(F in $){if(C=$[F],S=z.noTargetGet?(l=T(e,F))&&l.value:e[F],!W(H?F:Z+(x?".":"#")+F,z.forced)&&void 0!==S){if(typeof C==typeof S)continue;q(C,S)}(z.sham||S&&S.sham)&&M(C,"sham",!0),G(e,F,C,z)}}},X=>{var g=function(r){return r&&r.Math==Math&&r};X.exports=g("object"==typeof globalThis&&globalThis)||g("object"==typeof window&&window)||g("object"==typeof self&&self)||g("object"==typeof global&&global)||function(){return this}()||Function("return this")()},(X,g,r)=>{var a=r(12),T=r(14),M=r(15),G=r(16),L=r(20),q=r(22),W=r(23),z=Object.getOwnPropertyDescriptor;g.f=a?z:function(Z,H){if(Z=G(Z),H=L(H,!0),W)try{return z(Z,H)}catch(x){}if(q(Z,H))return M(!T.f.call(Z,H),Z[H])}},(X,g,r)=>{var a=r(13);X.exports=!a(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},X=>{X.exports=function(g){try{return!!g()}catch(r){return!0}}},(X,g)=>{"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,T=a&&!r.call({1:2},1);g.f=T?function(G){var L=a(this,G);return!!L&&L.enumerable}:r},X=>{X.exports=function(g,r){return{enumerable:!(1&g),configurable:!(2&g),writable:!(4&g),value:r}}},(X,g,r)=>{var a=r(17),T=r(19);X.exports=function(M){return a(T(M))}},(X,g,r)=>{var a=r(13),T=r(18),M="".split;X.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(G){return"String"==T(G)?M.call(G,""):Object(G)}:Object},X=>{var g={}.toString;X.exports=function(r){return g.call(r).slice(8,-1)}},X=>{X.exports=function(g){if(null==g)throw TypeError("Can't call method on "+g);return g}},(X,g,r)=>{var a=r(21);X.exports=function(T,M){if(!a(T))return T;var G,L;if(M&&"function"==typeof(G=T.toString)&&!a(L=G.call(T))||"function"==typeof(G=T.valueOf)&&!a(L=G.call(T))||!M&&"function"==typeof(G=T.toString)&&!a(L=G.call(T)))return L;throw TypeError("Can't convert object to primitive value")}},X=>{X.exports=function(g){return"object"==typeof g?null!==g:"function"==typeof g}},X=>{var g={}.hasOwnProperty;X.exports=function(r,a){return g.call(r,a)}},(X,g,r)=>{var a=r(12),T=r(13),M=r(24);X.exports=!a&&!T(function(){return 7!=Object.defineProperty(M("div"),"a",{get:function(){return 7}}).a})},(X,g,r)=>{var a=r(10),T=r(21),M=a.document,G=T(M)&&T(M.createElement);X.exports=function(L){return G?M.createElement(L):{}}},(X,g,r)=>{var a=r(12),T=r(26),M=r(15);X.exports=a?function(G,L,q){return T.f(G,L,M(1,q))}:function(G,L,q){return G[L]=q,G}},(X,g,r)=>{var a=r(12),T=r(23),M=r(27),G=r(20),L=Object.defineProperty;g.f=a?L:function(W,z,$){if(M(W),z=G(z,!0),M($),T)try{return L(W,z,$)}catch(Z){}if("get"in $||"set"in $)throw TypeError("Accessors not supported");return"value"in $&&(W[z]=$.value),W}},(X,g,r)=>{var a=r(21);X.exports=function(T){if(!a(T))throw TypeError(String(T)+" is not an object");return T}},(X,g,r)=>{var a=r(10),T=r(25),M=r(22),G=r(29),L=r(30),q=r(32),W=q.get,z=q.enforce,$=String(String).split("String");(X.exports=function(Z,H,x,j){var C,e=!!j&&!!j.unsafe,F=!!j&&!!j.enumerable,S=!!j&&!!j.noTargetGet;"function"==typeof x&&("string"==typeof H&&!M(x,"name")&&T(x,"name",H),(C=z(x)).source||(C.source=$.join("string"==typeof H?H:""))),Z!==a?(e?!S&&Z[H]&&(F=!0):delete Z[H],F?Z[H]=x:T(Z,H,x)):F?Z[H]=x:G(H,x)})(Function.prototype,"toString",function(){return"function"==typeof this&&W(this).source||L(this)})},(X,g,r)=>{var a=r(10),T=r(25);X.exports=function(M,G){try{T(a,M,G)}catch(L){a[M]=G}return G}},(X,g,r)=>{var a=r(31),T=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(M){return T.call(M)}),X.exports=a.inspectSource},(X,g,r)=>{var a=r(10),T=r(29),M="__core-js_shared__",G=a[M]||T(M,{});X.exports=G},(X,g,r)=>{var Z,H,x,a=r(33),T=r(10),M=r(21),G=r(25),L=r(22),q=r(31),W=r(34),z=r(38);if(a){var F=q.state||(q.state=new(0,T.WeakMap)),S=F.get,C=F.has,l=F.set;Z=function(i,u){return u.facade=i,l.call(F,i,u),u},H=function(i){return S.call(F,i)||{}},x=function(i){return C.call(F,i)}}else{var y=W("state");z[y]=!0,Z=function(i,u){return u.facade=i,G(i,y,u),u},H=function(i){return L(i,y)?i[y]:{}},x=function(i){return L(i,y)}}X.exports={set:Z,get:H,has:x,enforce:function(i){return x(i)?H(i):Z(i,{})},getterFor:function(i){return function(u){var s;if(!M(u)||(s=H(u)).type!==i)throw TypeError("Incompatible receiver, "+i+" required");return s}}}},(X,g,r)=>{var a=r(10),T=r(30),M=a.WeakMap;X.exports="function"==typeof M&&/native code/.test(T(M))},(X,g,r)=>{var a=r(35),T=r(37),M=a("keys");X.exports=function(G){return M[G]||(M[G]=T(G))}},(X,g,r)=>{var a=r(36),T=r(31);(X.exports=function(M,G){return T[M]||(T[M]=void 0!==G?G:{})})("versions",[]).push({version:"3.8.3",mode:a?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},X=>{X.exports=!1},X=>{var g=0,r=Math.random();X.exports=function(a){return"Symbol("+String(void 0===a?"":a)+")_"+(++g+r).toString(36)}},X=>{X.exports={}},(X,g,r)=>{var a=r(22),T=r(40),M=r(11),G=r(26);X.exports=function(L,q){for(var W=T(q),z=G.f,$=M.f,Z=0;Z<W.length;Z++){var H=W[Z];a(L,H)||z(L,H,$(q,H))}}},(X,g,r)=>{var a=r(41),T=r(43),M=r(50),G=r(27);X.exports=a("Reflect","ownKeys")||function(q){var W=T.f(G(q)),z=M.f;return z?W.concat(z(q)):W}},(X,g,r)=>{var a=r(42),T=r(10),M=function(G){return"function"==typeof G?G:void 0};X.exports=function(G,L){return arguments.length<2?M(a[G])||M(T[G]):a[G]&&a[G][L]||T[G]&&T[G][L]}},(X,g,r)=>{var a=r(10);X.exports=a},(X,g,r)=>{var a=r(44),M=r(49).concat("length","prototype");g.f=Object.getOwnPropertyNames||function(L){return a(L,M)}},(X,g,r)=>{var a=r(22),T=r(16),M=r(45).indexOf,G=r(38);X.exports=function(L,q){var Z,W=T(L),z=0,$=[];for(Z in W)!a(G,Z)&&a(W,Z)&&$.push(Z);for(;q.length>z;)a(W,Z=q[z++])&&(~M($,Z)||$.push(Z));return $}},(X,g,r)=>{var a=r(16),T=r(46),M=r(48),G=function(L){return function(q,W,z){var x,$=a(q),Z=T($.length),H=M(z,Z);if(L&&W!=W){for(;Z>H;)if((x=$[H++])!=x)return!0}else for(;Z>H;H++)if((L||H in $)&&$[H]===W)return L||H||0;return!L&&-1}};X.exports={includes:G(!0),indexOf:G(!1)}},(X,g,r)=>{var a=r(47),T=Math.min;X.exports=function(M){return M>0?T(a(M),9007199254740991):0}},X=>{var g=Math.ceil,r=Math.floor;X.exports=function(a){return isNaN(a=+a)?0:(a>0?r:g)(a)}},(X,g,r)=>{var a=r(47),T=Math.max,M=Math.min;X.exports=function(G,L){var q=a(G);return q<0?T(q+L,0):M(q,L)}},X=>{X.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(X,g)=>{g.f=Object.getOwnPropertySymbols},(X,g,r)=>{var a=r(13),T=/#|\.prototype\./,M=function(z,$){var Z=L[G(z)];return Z==W||Z!=q&&("function"==typeof $?a($):!!$)},G=M.normalize=function(z){return String(z).replace(T,".").toLowerCase()},L=M.data={},q=M.NATIVE="N",W=M.POLYFILL="P";X.exports=M},(X,g,r)=>{r(53),r(72);var a=r(42);X.exports=a.Object.fromEntries},(X,g,r)=>{"use strict";var a=r(16),T=r(54),M=r(62),G=r(32),L=r(63),q="Array Iterator",W=G.set,z=G.getterFor(q);X.exports=L(Array,"Array",function($,Z){W(this,{type:q,target:a($),index:0,kind:Z})},function(){var $=z(this),Z=$.target,H=$.kind,x=$.index++;return!Z||x>=Z.length?($.target=void 0,{value:void 0,done:!0}):"keys"==H?{value:x,done:!1}:"values"==H?{value:Z[x],done:!1}:{value:[x,Z[x]],done:!1}},"values"),M.Arguments=M.Array,T("keys"),T("values"),T("entries")},(X,g,r)=>{var a=r(55),T=r(58),M=r(26),G=a("unscopables"),L=Array.prototype;null==L[G]&&M.f(L,G,{configurable:!0,value:T(null)}),X.exports=function(q){L[G][q]=!0}},(X,g,r)=>{var a=r(10),T=r(35),M=r(22),G=r(37),L=r(56),q=r(57),W=T("wks"),z=a.Symbol,$=q?z:z&&z.withoutSetter||G;X.exports=function(Z){return M(W,Z)||(W[Z]=L&&M(z,Z)?z[Z]:$("Symbol."+Z)),W[Z]}},(X,g,r)=>{var a=r(13);X.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},(X,g,r)=>{var a=r(56);X.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(X,g,r)=>{var C,a=r(27),T=r(59),M=r(49),G=r(38),L=r(61),q=r(24),W=r(34),Z="prototype",H="script",x=W("IE_PROTO"),j=function(){},e=function(y){return"<"+H+">"+y+"</"+H+">"},l=function(){try{C=document.domain&&new ActiveXObject("htmlfile")}catch(i){}l=C?function(y){y.write(e("")),y.close();var i=y.parentWindow.Object;return y=null,i}(C):function(){var u,y=q("iframe");return y.style.display="none",L.appendChild(y),y.src=String("javascript:"),(u=y.contentWindow.document).open(),u.write(e("document.F=Object")),u.close(),u.F}();for(var y=M.length;y--;)delete l[Z][M[y]];return l()};G[x]=!0,X.exports=Object.create||function(i,u){var s;return null!==i?(j[Z]=a(i),s=new j,j[Z]=null,s[x]=i):s=l(),void 0===u?s:T(s,u)}},(X,g,r)=>{var a=r(12),T=r(26),M=r(27),G=r(60);X.exports=a?Object.defineProperties:function(q,W){M(q);for(var H,z=G(W),$=z.length,Z=0;$>Z;)T.f(q,H=z[Z++],W[H]);return q}},(X,g,r)=>{var a=r(44),T=r(49);X.exports=Object.keys||function(G){return a(G,T)}},(X,g,r)=>{var a=r(41);X.exports=a("document","documentElement")},X=>{X.exports={}},(X,g,r)=>{"use strict";var a=r(9),T=r(64),M=r(66),G=r(70),L=r(69),q=r(25),W=r(28),z=r(55),$=r(36),Z=r(62),H=r(65),x=H.IteratorPrototype,j=H.BUGGY_SAFARI_ITERATORS,e=z("iterator"),F="keys",S="values",C="entries",l=function(){return this};X.exports=function(y,i,u,s,P,E,O){T(u,i,s);var f,_,v,c=function(o){if(o===P&&D)return D;if(!j&&o in w)return w[o];switch(o){case F:case S:case C:return function(){return new u(this,o)}}return function(){return new u(this)}},p=i+" Iterator",B=!1,w=y.prototype,R=w[e]||w["@@iterator"]||P&&w[P],D=!j&&R||c(P),m="Array"==i&&w.entries||R;if(m&&(f=M(m.call(new y)),x!==Object.prototype&&f.next&&(!$&&M(f)!==x&&(G?G(f,x):"function"!=typeof f[e]&&q(f,e,l)),L(f,p,!0,!0),$&&(Z[p]=l))),P==S&&R&&R.name!==S&&(B=!0,D=function(){return R.call(this)}),(!$||O)&&w[e]!==D&&q(w,e,D),Z[i]=D,P)if(_={values:c(S),keys:E?D:c(F),entries:c(C)},O)for(v in _)(j||B||!(v in w))&&W(w,v,_[v]);else a({target:i,proto:!0,forced:j||B},_);return _}},(X,g,r)=>{"use strict";var a=r(65).IteratorPrototype,T=r(58),M=r(15),G=r(69),L=r(62),q=function(){return this};X.exports=function(W,z,$){var Z=z+" Iterator";return W.prototype=T(a,{next:M(1,$)}),G(W,Z,!1,!0),L[Z]=q,W}},(X,g,r)=>{"use strict";var Z,H,x,a=r(13),T=r(66),M=r(25),G=r(22),L=r(55),q=r(36),W=L("iterator"),z=!1;[].keys&&("next"in(x=[].keys())?(H=T(T(x)))!==Object.prototype&&(Z=H):z=!0);var j=null==Z||a(function(){var e={};return Z[W].call(e)!==e});j&&(Z={}),(!q||j)&&!G(Z,W)&&M(Z,W,function(){return this}),X.exports={IteratorPrototype:Z,BUGGY_SAFARI_ITERATORS:z}},(X,g,r)=>{var a=r(22),T=r(67),M=r(34),G=r(68),L=M("IE_PROTO"),q=Object.prototype;X.exports=G?Object.getPrototypeOf:function(W){return W=T(W),a(W,L)?W[L]:"function"==typeof W.constructor&&W instanceof W.constructor?W.constructor.prototype:W instanceof Object?q:null}},(X,g,r)=>{var a=r(19);X.exports=function(T){return Object(a(T))}},(X,g,r)=>{var a=r(13);X.exports=!a(function(){function T(){}return T.prototype.constructor=null,Object.getPrototypeOf(new T)!==T.prototype})},(X,g,r)=>{var a=r(26).f,T=r(22),G=r(55)("toStringTag");X.exports=function(L,q,W){L&&!T(L=W?L:L.prototype,G)&&a(L,G,{configurable:!0,value:q})}},(X,g,r)=>{var a=r(27),T=r(71);X.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var L,M=!1,G={};try{(L=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(G,[]),M=G instanceof Array}catch(q){}return function(W,z){return a(W),T(z),M?L.call(W,z):W.__proto__=z,W}}():void 0)},(X,g,r)=>{var a=r(21);X.exports=function(T){if(!a(T)&&null!==T)throw TypeError("Can't set "+String(T)+" as a prototype");return T}},(X,g,r)=>{var a=r(9),T=r(73),M=r(81);a({target:"Object",stat:!0},{fromEntries:function(L){var q={};return T(L,function(W,z){M(q,W,z)},{AS_ENTRIES:!0}),q}})},(X,g,r)=>{var a=r(27),T=r(74),M=r(46),G=r(75),L=r(77),q=r(80),W=function(z,$){this.stopped=z,this.result=$};X.exports=function(z,$,Z){var S,C,l,y,i,u,s,x=!(!Z||!Z.AS_ENTRIES),j=!(!Z||!Z.IS_ITERATOR),e=!(!Z||!Z.INTERRUPTED),F=G($,Z&&Z.that,1+x+e),P=function(O){return S&&q(S),new W(!0,O)},E=function(O){return x?(a(O),e?F(O[0],O[1],P):F(O[0],O[1])):e?F(O,P):F(O)};if(j)S=z;else{if("function"!=typeof(C=L(z)))throw TypeError("Target is not iterable");if(T(C)){for(l=0,y=M(z.length);y>l;l++)if((i=E(z[l]))&&i instanceof W)return i;return new W(!1)}S=C.call(z)}for(u=S.next;!(s=u.call(S)).done;){try{i=E(s.value)}catch(O){throw q(S),O}if("object"==typeof i&&i&&i instanceof W)return i}return new W(!1)}},(X,g,r)=>{var a=r(55),T=r(62),M=a("iterator"),G=Array.prototype;X.exports=function(L){return void 0!==L&&(T.Array===L||G[M]===L)}},(X,g,r)=>{var a=r(76);X.exports=function(T,M,G){if(a(T),void 0===M)return T;switch(G){case 0:return function(){return T.call(M)};case 1:return function(L){return T.call(M,L)};case 2:return function(L,q){return T.call(M,L,q)};case 3:return function(L,q,W){return T.call(M,L,q,W)}}return function(){return T.apply(M,arguments)}}},X=>{X.exports=function(g){if("function"!=typeof g)throw TypeError(String(g)+" is not a function");return g}},(X,g,r)=>{var a=r(78),T=r(62),G=r(55)("iterator");X.exports=function(L){if(null!=L)return L[G]||L["@@iterator"]||T[a(L)]}},(X,g,r)=>{var a=r(79),T=r(18),G=r(55)("toStringTag"),L="Arguments"==T(function(){return arguments}());X.exports=a?T:function(W){var z,$,Z;return void 0===W?"Undefined":null===W?"Null":"string"==typeof($=function(W,z){try{return W[z]}catch($){}}(z=Object(W),G))?$:L?T(z):"Object"==(Z=T(z))&&"function"==typeof z.callee?"Arguments":Z}},(X,g,r)=>{var M={};M[r(55)("toStringTag")]="z",X.exports="[object z]"===String(M)},(X,g,r)=>{var a=r(27);X.exports=function(T){var M=T.return;if(void 0!==M)return a(M.call(T)).value}},(X,g,r)=>{"use strict";var a=r(20),T=r(26),M=r(15);X.exports=function(G,L,q){var W=a(L);W in G?T.f(G,W,M(0,q)):G[W]=q}},(X,g,r)=>{r(83),r(84),r(86),r(104),r(105),r(106),r(107),r(109);var a=r(42);X.exports=a.Promise},(X,g,r)=>{"use strict";var a=r(9),T=r(66),M=r(70),G=r(58),L=r(25),q=r(15),W=r(73),z=function(Z,H){var x=this;if(!(x instanceof z))return new z(Z,H);M&&(x=M(new Error(void 0),T(x))),void 0!==H&&L(x,"message",String(H));var j=[];return W(Z,j.push,{that:j}),L(x,"errors",j),x};z.prototype=G(Error.prototype,{constructor:q(5,z),message:q(5,""),name:q(5,"AggregateError")}),a({global:!0},{AggregateError:z})},(X,g,r)=>{var a=r(79),T=r(28),M=r(85);a||T(Object.prototype,"toString",M,{unsafe:!0})},(X,g,r)=>{"use strict";var a=r(79),T=r(78);X.exports=a?{}.toString:function(){return"[object "+T(this)+"]"}},(X,g,r)=>{"use strict";var he,me,Se,se,a=r(9),T=r(36),M=r(10),G=r(41),L=r(87),q=r(28),W=r(88),z=r(69),$=r(89),Z=r(21),H=r(76),x=r(90),j=r(30),e=r(73),F=r(91),S=r(92),C=r(93).set,l=r(97),y=r(99),i=r(101),u=r(100),s=r(102),P=r(32),E=r(51),O=r(55),c=r(96),p=r(103),B=O("species"),w="Promise",R=P.get,D=P.set,m=P.getterFor(w),f=L,_=M.TypeError,v=M.document,o=M.process,b=G("fetch"),A=u.f,k=A,N=!!(v&&v.createEvent&&M.dispatchEvent),I="function"==typeof PromiseRejectionEvent,V="unhandledrejection",fe=E(w,function(){if(j(f)===String(f)&&(66===p||!c&&!I)||T&&!f.prototype.finally)return!0;if(p>=51&&/native code/.test(f))return!1;var Ne=f.resolve(1),Me=function(ue){ue(function(){},function(){})};return(Ne.constructor={})[B]=Me,!(Ne.then(function(){})instanceof Me)}),K=fe||!F(function(Ce){f.all(Ce).catch(function(){})}),ie=function(Ce){var Ne;return!(!Z(Ce)||"function"!=typeof(Ne=Ce.then))&&Ne},oe=function(Ce,Ne){if(!Ce.notified){Ce.notified=!0;var Me=Ce.reactions;l(function(){for(var Ve=Ce.value,ue=1==Ce.state,ge=0;Me.length>ge;){var Ye,$e,Ue,_e=Me[ge++],ke=ue?_e.ok:_e.fail,Te=_e.resolve,Ge=_e.reject,Ze=_e.domain;try{ke?(ue||(2===Ce.rejection&&Oe(Ce),Ce.rejection=1),!0===ke?Ye=Ve:(Ze&&Ze.enter(),Ye=ke(Ve),Ze&&(Ze.exit(),Ue=!0)),Ye===_e.promise?Ge(_("Promise-chain cycle")):($e=ie(Ye))?$e.call(Ye,Te,Ge):Te(Ye)):Ge(Ve)}catch(et){Ze&&!Ue&&Ze.exit(),Ge(et)}}Ce.reactions=[],Ce.notified=!1,Ne&&!Ce.rejection&&ye(Ce)})}},Ee=function(Ce,Ne,Me){var Ve,ue;N?((Ve=v.createEvent("Event")).promise=Ne,Ve.reason=Me,Ve.initEvent(Ce,!1,!0),M.dispatchEvent(Ve)):Ve={promise:Ne,reason:Me},!I&&(ue=M["on"+Ce])?ue(Ve):Ce===V&&i("Unhandled promise rejection",Me)},ye=function(Ce){C.call(M,function(){var ue,Ne=Ce.facade,Me=Ce.value;if(we(Ce)&&(ue=s(function(){c?o.emit("unhandledRejection",Me,Ne):Ee(V,Ne,Me)}),Ce.rejection=c||we(Ce)?2:1,ue.error))throw ue.value})},we=function(Ce){return 1!==Ce.rejection&&!Ce.parent},Oe=function(Ce){C.call(M,function(){var Ne=Ce.facade;c?o.emit("rejectionHandled",Ne):Ee("rejectionhandled",Ne,Ce.value)})},be=function(Ce,Ne,Me){return function(Ve){Ce(Ne,Ve,Me)}},ze=function(Ce,Ne,Me){Ce.done||(Ce.done=!0,Me&&(Ce=Me),Ce.value=Ne,Ce.state=2,oe(Ce,!0))},He=function(Ce,Ne,Me){if(!Ce.done){Ce.done=!0,Me&&(Ce=Me);try{if(Ce.facade===Ne)throw _("Promise can't be resolved itself");var Ve=ie(Ne);Ve?l(function(){var ue={done:!1};try{Ve.call(Ne,be(He,ue,Ce),be(ze,ue,Ce))}catch(ge){ze(ue,ge,Ce)}}):(Ce.value=Ne,Ce.state=1,oe(Ce,!1))}catch(ue){ze({done:!1},ue,Ce)}}};fe&&(f=function(Ne){x(this,f,w),H(Ne),he.call(this);var Me=R(this);try{Ne(be(He,Me),be(ze,Me))}catch(Ve){ze(Me,Ve)}},(he=function(Ne){D(this,{type:w,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=W(f.prototype,{then:function(Ne,Me){var Ve=m(this),ue=A(S(this,f));return ue.ok="function"!=typeof Ne||Ne,ue.fail="function"==typeof Me&&Me,ue.domain=c?o.domain:void 0,Ve.parent=!0,Ve.reactions.push(ue),0!=Ve.state&&oe(Ve,!1),ue.promise},catch:function(Ce){return this.then(void 0,Ce)}}),me=function(){var Ce=new he,Ne=R(Ce);this.promise=Ce,this.resolve=be(He,Ne),this.reject=be(ze,Ne)},u.f=A=function(Ce){return Ce===f||Ce===Se?new me(Ce):k(Ce)},!T&&"function"==typeof L&&(se=L.prototype.then,q(L.prototype,"then",function(Ne,Me){var Ve=this;return new f(function(ue,ge){se.call(Ve,ue,ge)}).then(Ne,Me)},{unsafe:!0}),"function"==typeof b&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(Ne){return y(f,b.apply(M,arguments))}}))),a({global:!0,wrap:!0,forced:fe},{Promise:f}),z(f,w,!1,!0),$(w),Se=G(w),a({target:w,stat:!0,forced:fe},{reject:function(Ne){var Me=A(this);return Me.reject.call(void 0,Ne),Me.promise}}),a({target:w,stat:!0,forced:T||fe},{resolve:function(Ne){return y(T&&this===Se?f:this,Ne)}}),a({target:w,stat:!0,forced:K},{all:function(Ne){var Me=this,Ve=A(Me),ue=Ve.resolve,ge=Ve.reject,_e=s(function(){var ke=H(Me.resolve),Te=[],Ge=0,Ze=1;e(Ne,function(Ye){var $e=Ge++,Ue=!1;Te.push(void 0),Ze++,ke.call(Me,Ye).then(function(et){Ue||(Ue=!0,Te[$e]=et,--Ze||ue(Te))},ge)}),--Ze||ue(Te)});return _e.error&&ge(_e.value),Ve.promise},race:function(Ne){var Me=this,Ve=A(Me),ue=Ve.reject,ge=s(function(){var _e=H(Me.resolve);e(Ne,function(ke){_e.call(Me,ke).then(Ve.resolve,ue)})});return ge.error&&ue(ge.value),Ve.promise}})},(X,g,r)=>{var a=r(10);X.exports=a.Promise},(X,g,r)=>{var a=r(28);X.exports=function(T,M,G){for(var L in M)a(T,L,M[L],G);return T}},(X,g,r)=>{"use strict";var a=r(41),T=r(26),M=r(55),G=r(12),L=M("species");X.exports=function(q){var W=a(q);G&&W&&!W[L]&&(0,T.f)(W,L,{configurable:!0,get:function(){return this}})}},X=>{X.exports=function(g,r,a){if(!(g instanceof r))throw TypeError("Incorrect "+(a?a+" ":"")+"invocation");return g}},(X,g,r)=>{var T=r(55)("iterator"),M=!1;try{var G=0,L={next:function(){return{done:!!G++}},return:function(){M=!0}};L[T]=function(){return this},Array.from(L,function(){throw 2})}catch(q){}X.exports=function(q,W){if(!W&&!M)return!1;var z=!1;try{var $={};$[T]=function(){return{next:function(){return{done:z=!0}}}},q($)}catch(Z){}return z}},(X,g,r)=>{var a=r(27),T=r(76),G=r(55)("species");X.exports=function(L,q){var z,W=a(L).constructor;return void 0===W||null==(z=a(W)[G])?q:T(z)}},(X,g,r)=>{var C,l,y,a=r(10),T=r(13),M=r(75),G=r(61),L=r(24),q=r(94),W=r(96),z=a.location,$=a.setImmediate,Z=a.clearImmediate,H=a.process,x=a.MessageChannel,j=a.Dispatch,e=0,F={},S="onreadystatechange",i=function(E){if(F.hasOwnProperty(E)){var O=F[E];delete F[E],O()}},u=function(E){return function(){i(E)}},s=function(E){i(E.data)},P=function(E){a.postMessage(E+"",z.protocol+"//"+z.host)};(!$||!Z)&&($=function(O){for(var c=[],p=1;arguments.length>p;)c.push(arguments[p++]);return F[++e]=function(){("function"==typeof O?O:Function(O)).apply(void 0,c)},C(e),e},Z=function(O){delete F[O]},W?C=function(E){H.nextTick(u(E))}:j&&j.now?C=function(E){j.now(u(E))}:x&&!q?(y=(l=new x).port2,l.port1.onmessage=s,C=M(y.postMessage,y,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&z&&"file:"!==z.protocol&&!T(P)?(C=P,a.addEventListener("message",s,!1)):C=S in L("script")?function(E){G.appendChild(L("script"))[S]=function(){G.removeChild(this),i(E)}}:function(E){setTimeout(u(E),0)}),X.exports={set:$,clear:Z}},(X,g,r)=>{var a=r(95);X.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},(X,g,r)=>{var a=r(41);X.exports=a("navigator","userAgent")||""},(X,g,r)=>{var a=r(18),T=r(10);X.exports="process"==a(T.process)},(X,g,r)=>{var j,e,F,S,C,l,y,i,a=r(10),T=r(11).f,M=r(93).set,G=r(94),L=r(98),q=r(96),W=a.MutationObserver||a.WebKitMutationObserver,z=a.document,$=a.process,Z=a.Promise,H=T(a,"queueMicrotask"),x=H&&H.value;x||(j=function(){var u,s;for(q&&(u=$.domain)&&u.exit();e;){s=e.fn,e=e.next;try{s()}catch(P){throw e?S():F=void 0,P}}F=void 0,u&&u.enter()},G||q||L||!W||!z?Z&&Z.resolve?(y=Z.resolve(void 0),i=y.then,S=function(){i.call(y,j)}):S=q?function(){$.nextTick(j)}:function(){M.call(a,j)}:(C=!0,l=z.createTextNode(""),new W(j).observe(l,{characterData:!0}),S=function(){l.data=C=!C})),X.exports=x||function(u){var s={fn:u,next:void 0};F&&(F.next=s),e||(e=s,S()),F=s}},(X,g,r)=>{var a=r(95);X.exports=/web0s(?!.*chrome)/i.test(a)},(X,g,r)=>{var a=r(27),T=r(21),M=r(100);X.exports=function(G,L){if(a(G),T(L)&&L.constructor===G)return L;var q=M.f(G);return(0,q.resolve)(L),q.promise}},(X,g,r)=>{"use strict";var a=r(76),T=function(M){var G,L;this.promise=new M(function(q,W){if(void 0!==G||void 0!==L)throw TypeError("Bad Promise constructor");G=q,L=W}),this.resolve=a(G),this.reject=a(L)};X.exports.f=function(M){return new T(M)}},(X,g,r)=>{var a=r(10);X.exports=function(T,M){var G=a.console;G&&G.error&&(1===arguments.length?G.error(T):G.error(T,M))}},X=>{X.exports=function(g){try{return{error:!1,value:g()}}catch(r){return{error:!0,value:r}}}},(X,g,r)=>{var q,W,a=r(10),T=r(95),M=a.process,G=M&&M.versions,L=G&&G.v8;L?W=(q=L.split("."))[0]+q[1]:T&&(!(q=T.match(/Edge\/(\d+)/))||q[1]>=74)&&(q=T.match(/Chrome\/(\d+)/))&&(W=q[1]),X.exports=W&&+W},(X,g,r)=>{"use strict";var a=r(9),T=r(76),M=r(100),G=r(102),L=r(73);a({target:"Promise",stat:!0},{allSettled:function(W){var z=this,$=M.f(z),Z=$.resolve,H=$.reject,x=G(function(){var j=T(z.resolve),e=[],F=0,S=1;L(W,function(C){var l=F++,y=!1;e.push(void 0),S++,j.call(z,C).then(function(i){y||(y=!0,e[l]={status:"fulfilled",value:i},--S||Z(e))},function(i){y||(y=!0,e[l]={status:"rejected",reason:i},--S||Z(e))})}),--S||Z(e)});return x.error&&H(x.value),$.promise}})},(X,g,r)=>{"use strict";var a=r(9),T=r(76),M=r(41),G=r(100),L=r(102),q=r(73),W="No one promise resolved";a({target:"Promise",stat:!0},{any:function($){var Z=this,H=G.f(Z),x=H.resolve,j=H.reject,e=L(function(){var F=T(Z.resolve),S=[],C=0,l=1,y=!1;q($,function(i){var u=C++,s=!1;S.push(void 0),l++,F.call(Z,i).then(function(P){s||y||(y=!0,x(P))},function(P){s||y||(s=!0,S[u]=P,--l||j(new(M("AggregateError"))(S,W)))})}),--l||j(new(M("AggregateError"))(S,W))});return e.error&&j(e.value),H.promise}})},(X,g,r)=>{"use strict";var a=r(9),T=r(36),M=r(87),G=r(13),L=r(41),q=r(92),W=r(99),z=r(28);a({target:"Promise",proto:!0,real:!0,forced:!!M&&G(function(){M.prototype.finally.call({then:function(){}},function(){})})},{finally:function(Z){var H=q(this,L("Promise")),x="function"==typeof Z;return this.then(x?function(j){return W(H,Z()).then(function(){return j})}:Z,x?function(j){return W(H,Z()).then(function(){throw j})}:Z)}}),!T&&"function"==typeof M&&!M.prototype.finally&&z(M.prototype,"finally",L("Promise").prototype.finally)},(X,g,r)=>{"use strict";var a=r(108).charAt,T=r(32),M=r(63),G="String Iterator",L=T.set,q=T.getterFor(G);M(String,"String",function(W){L(this,{type:G,string:String(W),index:0})},function(){var H,z=q(this),$=z.string,Z=z.index;return Z>=$.length?{value:void 0,done:!0}:(H=a($,Z),z.index+=H.length,{value:H,done:!1})})},(X,g,r)=>{var a=r(47),T=r(19),M=function(G){return function(L,q){var Z,H,W=String(T(L)),z=a(q),$=W.length;return z<0||z>=$?G?"":void 0:(Z=W.charCodeAt(z))<55296||Z>56319||z+1===$||(H=W.charCodeAt(z+1))<56320||H>57343?G?W.charAt(z):Z:G?W.slice(z,z+2):H-56320+(Z-55296<<10)+65536}};X.exports={codeAt:M(!1),charAt:M(!0)}},(X,g,r)=>{var a=r(10),T=r(110),M=r(53),G=r(25),L=r(55),q=L("iterator"),W=L("toStringTag"),z=M.values;for(var $ in T){var Z=a[$],H=Z&&Z.prototype;if(H){if(H[q]!==z)try{G(H,q,z)}catch(j){H[q]=z}if(H[W]||G(H,W,$),T[$])for(var x in M)if(H[x]!==M[x])try{G(H,x,M[x])}catch(j){H[x]=M[x]}}}},X=>{X.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},(X,g,r)=>{r(112),r(120),r(118);var a=r(42);X.exports=a.URL},(X,g,r)=>{"use strict";r(107);var A,a=r(9),T=r(12),M=r(113),G=r(10),L=r(59),q=r(28),W=r(90),z=r(22),$=r(114),Z=r(115),H=r(108).codeAt,x=r(117),j=r(69),e=r(118),F=r(32),S=G.URL,C=e.URLSearchParams,l=e.getState,y=F.set,i=F.getterFor("URL"),u=Math.floor,s=Math.pow,E="Invalid scheme",O="Invalid host",c="Invalid port",p=/[A-Za-z]/,B=/[\d+-.A-Za-z]/,w=/\d/,R=/^(0x|0X)/,D=/^[0-7]+$/,m=/^\d+$/,f=/^[\dA-Fa-f]+$/,_=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,v=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,o=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,b=/[\u0009\u000A\u000D]/g,k=function(U,Pe){var Re,Ie,Fe;if("["==Pe.charAt(0)){if("]"!=Pe.charAt(Pe.length-1)||!(Re=I(Pe.slice(1,-1))))return O;U.host=Re}else if(me(U)){if(Pe=x(Pe),_.test(Pe)||null===(Re=N(Pe)))return O;U.host=Re}else{if(v.test(Pe))return O;for(Re="",Ie=Z(Pe),Fe=0;Fe<Ie.length;Fe++)Re+=ne(Ie[Fe],J);U.host=Re}},N=function(U){var Re,Ie,Fe,Je,qe,Ke,rt,Pe=U.split(".");if(Pe.length&&""==Pe[Pe.length-1]&&Pe.pop(),(Re=Pe.length)>4)return U;for(Ie=[],Fe=0;Fe<Re;Fe++){if(""==(Je=Pe[Fe]))return U;if(qe=10,Je.length>1&&"0"==Je.charAt(0)&&(qe=R.test(Je)?16:8,Je=Je.slice(8==qe?1:2)),""===Je)Ke=0;else{if(!(10==qe?m:8==qe?D:f).test(Je))return U;Ke=parseInt(Je,qe)}Ie.push(Ke)}for(Fe=0;Fe<Re;Fe++)if(Ke=Ie[Fe],Fe==Re-1){if(Ke>=s(256,5-Re))return null}else if(Ke>255)return null;for(rt=Ie.pop(),Fe=0;Fe<Ie.length;Fe++)rt+=Ie[Fe]*s(256,3-Fe);return rt},I=function(U){var Je,qe,Ke,rt,st,mt,We,Pe=[0,0,0,0,0,0,0,0],Re=0,Ie=null,Fe=0,ut=function(){return U.charAt(Fe)};if(":"==ut()){if(":"!=U.charAt(1))return;Fe+=2,Ie=++Re}for(;ut();){if(8==Re)return;if(":"!=ut()){for(Je=qe=0;qe<4&&f.test(ut());)Je=16*Je+parseInt(ut(),16),Fe++,qe++;if("."==ut()){if(0==qe||(Fe-=qe,Re>6))return;for(Ke=0;ut();){if(rt=null,Ke>0){if(!("."==ut()&&Ke<4))return;Fe++}if(!w.test(ut()))return;for(;w.test(ut());){if(st=parseInt(ut(),10),null===rt)rt=st;else{if(0==rt)return;rt=10*rt+st}if(rt>255)return;Fe++}Pe[Re]=256*Pe[Re]+rt,(2==++Ke||4==Ke)&&Re++}if(4!=Ke)return;break}if(":"==ut()){if(Fe++,!ut())return}else if(ut())return;Pe[Re++]=Je}else{if(null!==Ie)return;Fe++,Ie=++Re}}if(null!==Ie)for(mt=Re-Ie,Re=7;0!=Re&&mt>0;)We=Pe[Re],Pe[Re--]=Pe[Ie+mt-1],Pe[Ie+--mt]=We;else if(8!=Re)return;return Pe},Y=function(U){var Pe,Re,Ie,Fe;if("number"==typeof U){for(Pe=[],Re=0;Re<4;Re++)Pe.unshift(U%256),U=u(U/256);return Pe.join(".")}if("object"==typeof U){for(Pe="",Ie=function(U){for(var Pe=null,Re=1,Ie=null,Fe=0,Je=0;Je<8;Je++)0!==U[Je]?(Fe>Re&&(Pe=Ie,Re=Fe),Ie=null,Fe=0):(null===Ie&&(Ie=Je),++Fe);return Fe>Re&&(Pe=Ie,Re=Fe),Pe}(U),Re=0;Re<8;Re++)Fe&&0===U[Re]||(Fe&&(Fe=!1),Ie===Re?(Pe+=Re?":":"::",Fe=!0):(Pe+=U[Re].toString(16),Re<7&&(Pe+=":")));return"["+Pe+"]"}return U},J={},re=$({},J,{" ":1,'"':1,"<":1,">":1,"`":1}),te=$({},re,{"#":1,"?":1,"{":1,"}":1}),ae=$({},te,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ne=function(U,Pe){var Re=H(U,0);return Re>32&&Re<127&&!z(Pe,U)?U:encodeURIComponent(U)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},me=function(U){return z(he,U.scheme)},Se=function(U){return""!=U.username||""!=U.password},se=function(U){return!U.host||U.cannotBeABaseURL||"file"==U.scheme},fe=function(U,Pe){var Re;return 2==U.length&&p.test(U.charAt(0))&&(":"==(Re=U.charAt(1))||!Pe&&"|"==Re)},K=function(U){var Pe;return U.length>1&&fe(U.slice(0,2))&&(2==U.length||"/"===(Pe=U.charAt(2))||"\\"===Pe||"?"===Pe||"#"===Pe)},ie=function(U){var Pe=U.path,Re=Pe.length;Re&&("file"!=U.scheme||1!=Re||!fe(Pe[0],!0))&&Pe.pop()},oe=function(U){return"."===U||"%2e"===U.toLowerCase()},Ee=function(U){return".."===(U=U.toLowerCase())||"%2e."===U||".%2e"===U||"%2e%2e"===U},ye={},we={},Oe={},be={},ze={},He={},Ce={},Ne={},Me={},Ve={},ue={},ge={},_e={},ke={},Te={},Ge={},Ze={},Ye={},$e={},Ue={},et={},ot=function(U,Pe,Re,Ie){var mt,We,ut,at,Fe=Re||ye,Je=0,qe="",Ke=!1,rt=!1,st=!1;for(Re||(U.scheme="",U.username="",U.password="",U.host=null,U.port=null,U.path=[],U.query=null,U.fragment=null,U.cannotBeABaseURL=!1,Pe=Pe.replace(o,"")),Pe=Pe.replace(b,""),mt=Z(Pe);Je<=mt.length;){switch(We=mt[Je],Fe){case ye:if(!We||!p.test(We)){if(Re)return E;Fe=Oe;continue}qe+=We.toLowerCase(),Fe=we;break;case we:if(We&&(B.test(We)||"+"==We||"-"==We||"."==We))qe+=We.toLowerCase();else{if(":"!=We){if(Re)return E;qe="",Fe=Oe,Je=0;continue}if(Re&&(me(U)!=z(he,qe)||"file"==qe&&(Se(U)||null!==U.port)||"file"==U.scheme&&!U.host))return;if(U.scheme=qe,Re)return void(me(U)&&he[U.scheme]==U.port&&(U.port=null));qe="","file"==U.scheme?Fe=ke:me(U)&&Ie&&Ie.scheme==U.scheme?Fe=be:me(U)?Fe=Ne:"/"==mt[Je+1]?(Fe=ze,Je++):(U.cannotBeABaseURL=!0,U.path.push(""),Fe=$e)}break;case Oe:if(!Ie||Ie.cannotBeABaseURL&&"#"!=We)return E;if(Ie.cannotBeABaseURL&&"#"==We){U.scheme=Ie.scheme,U.path=Ie.path.slice(),U.query=Ie.query,U.fragment="",U.cannotBeABaseURL=!0,Fe=et;break}Fe="file"==Ie.scheme?ke:He;continue;case be:if("/"!=We||"/"!=mt[Je+1]){Fe=He;continue}Fe=Me,Je++;break;case ze:if("/"==We){Fe=Ve;break}Fe=Ye;continue;case He:if(U.scheme=Ie.scheme,We==A)U.username=Ie.username,U.password=Ie.password,U.host=Ie.host,U.port=Ie.port,U.path=Ie.path.slice(),U.query=Ie.query;else if("/"==We||"\\"==We&&me(U))Fe=Ce;else if("?"==We)U.username=Ie.username,U.password=Ie.password,U.host=Ie.host,U.port=Ie.port,U.path=Ie.path.slice(),U.query="",Fe=Ue;else{if("#"!=We){U.username=Ie.username,U.password=Ie.password,U.host=Ie.host,U.port=Ie.port,U.path=Ie.path.slice(),U.path.pop(),Fe=Ye;continue}U.username=Ie.username,U.password=Ie.password,U.host=Ie.host,U.port=Ie.port,U.path=Ie.path.slice(),U.query=Ie.query,U.fragment="",Fe=et}break;case Ce:if(!me(U)||"/"!=We&&"\\"!=We){if("/"!=We){U.username=Ie.username,U.password=Ie.password,U.host=Ie.host,U.port=Ie.port,Fe=Ye;continue}Fe=Ve}else Fe=Me;break;case Ne:if(Fe=Me,"/"!=We||"/"!=qe.charAt(Je+1))continue;Je++;break;case Me:if("/"!=We&&"\\"!=We){Fe=Ve;continue}break;case Ve:if("@"==We){Ke&&(qe="%40"+qe),Ke=!0,ut=Z(qe);for(var vt=0;vt<ut.length;vt++){var Kt=ut[vt];if(":"!=Kt||st){var jt=ne(Kt,ae);st?U.password+=jt:U.username+=jt}else st=!0}qe=""}else if(We==A||"/"==We||"?"==We||"#"==We||"\\"==We&&me(U)){if(Ke&&""==qe)return"Invalid authority";Je-=Z(qe).length+1,qe="",Fe=ue}else qe+=We;break;case ue:case ge:if(Re&&"file"==U.scheme){Fe=Ge;continue}if(":"!=We||rt){if(We==A||"/"==We||"?"==We||"#"==We||"\\"==We&&me(U)){if(me(U)&&""==qe)return O;if(Re&&""==qe&&(Se(U)||null!==U.port))return;if(at=k(U,qe))return at;if(qe="",Fe=Ze,Re)return;continue}"["==We?rt=!0:"]"==We&&(rt=!1),qe+=We}else{if(""==qe)return O;if(at=k(U,qe))return at;if(qe="",Fe=_e,Re==ge)return}break;case _e:if(!w.test(We)){if(We==A||"/"==We||"?"==We||"#"==We||"\\"==We&&me(U)||Re){if(""!=qe){var ht=parseInt(qe,10);if(ht>65535)return c;U.port=me(U)&&ht===he[U.scheme]?null:ht,qe=""}if(Re)return;Fe=Ze;continue}return c}qe+=We;break;case ke:if(U.scheme="file","/"==We||"\\"==We)Fe=Te;else{if(!Ie||"file"!=Ie.scheme){Fe=Ye;continue}if(We==A)U.host=Ie.host,U.path=Ie.path.slice(),U.query=Ie.query;else if("?"==We)U.host=Ie.host,U.path=Ie.path.slice(),U.query="",Fe=Ue;else{if("#"!=We){K(mt.slice(Je).join(""))||(U.host=Ie.host,U.path=Ie.path.slice(),ie(U)),Fe=Ye;continue}U.host=Ie.host,U.path=Ie.path.slice(),U.query=Ie.query,U.fragment="",Fe=et}}break;case Te:if("/"==We||"\\"==We){Fe=Ge;break}Ie&&"file"==Ie.scheme&&!K(mt.slice(Je).join(""))&&(fe(Ie.path[0],!0)?U.path.push(Ie.path[0]):U.host=Ie.host),Fe=Ye;continue;case Ge:if(We==A||"/"==We||"\\"==We||"?"==We||"#"==We){if(!Re&&fe(qe))Fe=Ye;else if(""==qe){if(U.host="",Re)return;Fe=Ze}else{if(at=k(U,qe))return at;if("localhost"==U.host&&(U.host=""),Re)return;qe="",Fe=Ze}continue}qe+=We;break;case Ze:if(me(U)){if(Fe=Ye,"/"!=We&&"\\"!=We)continue}else if(Re||"?"!=We)if(Re||"#"!=We){if(We!=A&&(Fe=Ye,"/"!=We))continue}else U.fragment="",Fe=et;else U.query="",Fe=Ue;break;case Ye:if(We==A||"/"==We||"\\"==We&&me(U)||!Re&&("?"==We||"#"==We)){if(Ee(qe)?(ie(U),"/"!=We&&!("\\"==We&&me(U))&&U.path.push("")):oe(qe)?"/"!=We&&!("\\"==We&&me(U))&&U.path.push(""):("file"==U.scheme&&!U.path.length&&fe(qe)&&(U.host&&(U.host=""),qe=qe.charAt(0)+":"),U.path.push(qe)),qe="","file"==U.scheme&&(We==A||"?"==We||"#"==We))for(;U.path.length>1&&""===U.path[0];)U.path.shift();"?"==We?(U.query="",Fe=Ue):"#"==We&&(U.fragment="",Fe=et)}else qe+=ne(We,te);break;case $e:"?"==We?(U.query="",Fe=Ue):"#"==We?(U.fragment="",Fe=et):We!=A&&(U.path[0]+=ne(We,J));break;case Ue:Re||"#"!=We?We!=A&&("'"==We&&me(U)?U.query+="%27":U.query+="#"==We?"%23":ne(We,J)):(U.fragment="",Fe=et);break;case et:We!=A&&(U.fragment+=ne(We,re))}Je++}},dt=function(Pe){var qe,Ke,Re=W(this,dt,"URL"),Ie=arguments.length>1?arguments[1]:void 0,Fe=String(Pe),Je=y(Re,{type:"URL"});if(void 0!==Ie)if(Ie instanceof dt)qe=i(Ie);else if(Ke=ot(qe={},String(Ie)))throw TypeError(Ke);if(Ke=ot(Je,Fe,null,qe))throw TypeError(Ke);var rt=Je.searchParams=new C,st=l(rt);st.updateSearchParams(Je.query),st.updateURL=function(){Je.query=String(rt)||null},T||(Re.href=yt.call(Re),Re.origin=_t.call(Re),Re.protocol=At.call(Re),Re.username=Et.call(Re),Re.password=Ct.call(Re),Re.host=Lt.call(Re),Re.hostname=kt.call(Re),Re.port=wt.call(Re),Re.pathname=xt.call(Re),Re.search=Pt.call(Re),Re.searchParams=pe.call(Re),Re.hash=Le.call(Re))},Rt=dt.prototype,yt=function(){var U=i(this),Pe=U.scheme,Re=U.username,Ie=U.password,Fe=U.host,Je=U.port,qe=U.path,Ke=U.query,rt=U.fragment,st=Pe+":";return null!==Fe?(st+="//",Se(U)&&(st+=Re+(Ie?":"+Ie:"")+"@"),st+=Y(Fe),null!==Je&&(st+=":"+Je)):"file"==Pe&&(st+="//"),st+=U.cannotBeABaseURL?qe[0]:qe.length?"/"+qe.join("/"):"",null!==Ke&&(st+="?"+Ke),null!==rt&&(st+="#"+rt),st},_t=function(){var U=i(this),Pe=U.scheme,Re=U.port;if("blob"==Pe)try{return new URL(Pe.path[0]).origin}catch(Ie){return"null"}return"file"!=Pe&&me(U)?Pe+"://"+Y(U.host)+(null!==Re?":"+Re:""):"null"},At=function(){return i(this).scheme+":"},Et=function(){return i(this).username},Ct=function(){return i(this).password},Lt=function(){var U=i(this),Pe=U.host,Re=U.port;return null===Pe?"":null===Re?Y(Pe):Y(Pe)+":"+Re},kt=function(){var U=i(this).host;return null===U?"":Y(U)},wt=function(){var U=i(this).port;return null===U?"":String(U)},xt=function(){var U=i(this),Pe=U.path;return U.cannotBeABaseURL?Pe[0]:Pe.length?"/"+Pe.join("/"):""},Pt=function(){var U=i(this).query;return U?"?"+U:""},pe=function(){return i(this).searchParams},Le=function(){var U=i(this).fragment;return U?"#"+U:""},de=function(U,Pe){return{get:U,set:Pe,configurable:!0,enumerable:!0}};if(T&&L(Rt,{href:de(yt,function(U){var Pe=i(this),Re=String(U),Ie=ot(Pe,Re);if(Ie)throw TypeError(Ie);l(Pe.searchParams).updateSearchParams(Pe.query)}),origin:de(_t),protocol:de(At,function(U){var Pe=i(this);ot(Pe,String(U)+":",ye)}),username:de(Et,function(U){var Pe=i(this),Re=Z(String(U));if(!se(Pe)){Pe.username="";for(var Ie=0;Ie<Re.length;Ie++)Pe.username+=ne(Re[Ie],ae)}}),password:de(Ct,function(U){var Pe=i(this),Re=Z(String(U));if(!se(Pe)){Pe.password="";for(var Ie=0;Ie<Re.length;Ie++)Pe.password+=ne(Re[Ie],ae)}}),host:de(Lt,function(U){var Pe=i(this);Pe.cannotBeABaseURL||ot(Pe,String(U),ue)}),hostname:de(kt,function(U){var Pe=i(this);Pe.cannotBeABaseURL||ot(Pe,String(U),ge)}),port:de(wt,function(U){var Pe=i(this);se(Pe)||(""==(U=String(U))?Pe.port=null:ot(Pe,U,_e))}),pathname:de(xt,function(U){var Pe=i(this);Pe.cannotBeABaseURL||(Pe.path=[],ot(Pe,U+"",Ze))}),search:de(Pt,function(U){var Pe=i(this);""==(U=String(U))?Pe.query=null:("?"==U.charAt(0)&&(U=U.slice(1)),Pe.query="",ot(Pe,U,Ue)),l(Pe.searchParams).updateSearchParams(Pe.query)}),searchParams:de(pe),hash:de(Le,function(U){var Pe=i(this);""!=(U=String(U))?("#"==U.charAt(0)&&(U=U.slice(1)),Pe.fragment="",ot(Pe,U,et)):Pe.fragment=null})}),q(Rt,"toJSON",function(){return yt.call(this)},{enumerable:!0}),q(Rt,"toString",function(){return yt.call(this)},{enumerable:!0}),S){var Ae=S.createObjectURL,Qe=S.revokeObjectURL;Ae&&q(dt,"createObjectURL",function(Pe){return Ae.apply(S,arguments)}),Qe&&q(dt,"revokeObjectURL",function(Pe){return Qe.apply(S,arguments)})}j(dt,"URL"),a({global:!0,forced:!M,sham:!T},{URL:dt})},(X,g,r)=>{var a=r(13),T=r(55),M=r(36),G=T("iterator");X.exports=!a(function(){var L=new URL("b?a=1&b=2&c=3","http://a"),q=L.searchParams,W="";return L.pathname="c%20d",q.forEach(function(z,$){q.delete("b"),W+=$+z}),M&&!L.toJSON||!q.sort||"http://a/c%20d?a=1&c=3"!==L.href||"3"!==q.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!q[G]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==W||"x"!==new URL("http://x",void 0).host})},(X,g,r)=>{"use strict";var a=r(12),T=r(13),M=r(60),G=r(50),L=r(14),q=r(67),W=r(17),z=Object.assign,$=Object.defineProperty;X.exports=!z||T(function(){if(a&&1!==z({b:1},z($({},"a",{enumerable:!0,get:function(){$(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var Z={},H={},x=Symbol(),j="abcdefghijklmnopqrst";return Z[x]=7,j.split("").forEach(function(e){H[e]=e}),7!=z({},Z)[x]||M(z({},H)).join("")!=j})?function(H,x){for(var j=q(H),e=arguments.length,F=1,S=G.f,C=L.f;e>F;)for(var s,l=W(arguments[F++]),y=S?M(l).concat(S(l)):M(l),i=y.length,u=0;i>u;)s=y[u++],(!a||C.call(l,s))&&(j[s]=l[s]);return j}:z},(X,g,r)=>{"use strict";var a=r(75),T=r(67),M=r(116),G=r(74),L=r(46),q=r(81),W=r(77);X.exports=function($){var C,l,y,i,u,s,Z=T($),H="function"==typeof this?this:Array,x=arguments.length,j=x>1?arguments[1]:void 0,e=void 0!==j,F=W(Z),S=0;if(e&&(j=a(j,x>2?arguments[2]:void 0,2)),null==F||H==Array&&G(F))for(l=new H(C=L(Z.length));C>S;S++)s=e?j(Z[S],S):Z[S],q(l,S,s);else for(u=(i=F.call(Z)).next,l=new H;!(y=u.call(i)).done;S++)s=e?M(i,j,[y.value,S],!0):y.value,q(l,S,s);return l.length=S,l}},(X,g,r)=>{var a=r(27),T=r(80);X.exports=function(M,G,L,q){try{return q?G(a(L)[0],L[1]):G(L)}catch(W){throw T(M),W}}},X=>{"use strict";var g=2147483647,z=/[^\0-\u007E]/,$=/[.\u3002\uFF0E\uFF61]/g,Z="Overflow: input needs wider integers to process",x=Math.floor,j=String.fromCharCode,F=function(l){return l+22+75*(l<26)},S=function(l,y,i){var u=0;for(l=i?x(l/700):l>>1,l+=x(l/y);l>455;u+=36)l=x(l/35);return x(u+36*l/(l+38))},C=function(l){var y=[];l=function(l){for(var y=[],i=0,u=l.length;i<u;){var s=l.charCodeAt(i++);if(s>=55296&&s<=56319&&i<u){var P=l.charCodeAt(i++);56320==(64512&P)?y.push(((1023&s)<<10)+(1023&P)+65536):(y.push(s),i--)}else y.push(s)}return y}(l);var E,O,i=l.length,u=128,s=0,P=72;for(E=0;E<l.length;E++)(O=l[E])<128&&y.push(j(O));var c=y.length,p=c;for(c&&y.push("-");p<i;){var B=g;for(E=0;E<l.length;E++)(O=l[E])>=u&&O<B&&(B=O);var w=p+1;if(B-u>x((g-s)/w))throw RangeError(Z);for(s+=(B-u)*w,u=B,E=0;E<l.length;E++){if((O=l[E])<u&&++s>g)throw RangeError(Z);if(O==u){for(var R=s,D=36;;D+=36){var m=D<=P?1:D>=P+26?26:D-P;if(R<m)break;var f=R-m,_=36-m;y.push(j(F(m+f%_))),R=x(f/_)}y.push(j(F(R))),P=S(s,w,p==c),s=0,++p}}++s,++u}return y.join("")};X.exports=function(l){var u,s,y=[],i=l.toLowerCase().replace($,".").split(".");for(u=0;u<i.length;u++)y.push(z.test(s=i[u])?"xn--"+C(s):s);return y.join(".")}},(X,g,r)=>{"use strict";r(53);var a=r(9),T=r(41),M=r(113),G=r(28),L=r(88),q=r(69),W=r(64),z=r(32),$=r(90),Z=r(22),H=r(75),x=r(78),j=r(27),e=r(21),F=r(58),S=r(15),C=r(119),l=r(77),y=r(55),i=T("fetch"),u=T("Headers"),s=y("iterator"),P="URLSearchParams",E=P+"Iterator",O=z.set,c=z.getterFor(P),p=z.getterFor(E),B=/\+/g,w=Array(4),R=function(Y){return w[Y-1]||(w[Y-1]=RegExp("((?:%[\\da-f]{2}){"+Y+"})","gi"))},D=function(Y){try{return decodeURIComponent(Y)}catch(J){return Y}},m=function(Y){var J=Y.replace(B," "),re=4;try{return decodeURIComponent(J)}catch(te){for(;re;)J=J.replace(R(re--),D);return J}},f=/[!'()~]|%20/g,_={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},v=function(Y){return _[Y]},o=function(Y){return encodeURIComponent(Y).replace(f,v)},b=function(Y,J){if(J)for(var ae,ne,re=J.split("&"),te=0;te<re.length;)(ae=re[te++]).length&&(ne=ae.split("="),Y.push({key:m(ne.shift()),value:m(ne.join("="))}))},A=function(Y){this.entries.length=0,b(this.entries,Y)},k=function(Y,J){if(Y<J)throw TypeError("Not enough arguments")},N=W(function(J,re){O(this,{type:E,iterator:C(c(J).entries),kind:re})},"Iterator",function(){var J=p(this),re=J.kind,te=J.iterator.next(),ae=te.value;return te.done||(te.value="keys"===re?ae.key:"values"===re?ae.value:[ae.key,ae.value]),te}),I=function(){$(this,I,P);var ae,ne,he,me,Se,se,fe,K,ie,J=arguments.length>0?arguments[0]:void 0,re=this,te=[];if(O(re,{type:P,entries:te,updateURL:function(){},updateSearchParams:A}),void 0!==J)if(e(J))if("function"==typeof(ae=l(J)))for(he=(ne=ae.call(J)).next;!(me=he.call(ne)).done;){if((fe=(se=(Se=C(j(me.value))).next).call(Se)).done||(K=se.call(Se)).done||!se.call(Se).done)throw TypeError("Expected sequence with length 2");te.push({key:fe.value+"",value:K.value+""})}else for(ie in J)Z(J,ie)&&te.push({key:ie,value:J[ie]+""});else b(te,"string"==typeof J?"?"===J.charAt(0)?J.slice(1):J:J+"")},V=I.prototype;L(V,{append:function(J,re){k(arguments.length,2);var te=c(this);te.entries.push({key:J+"",value:re+""}),te.updateURL()},delete:function(Y){k(arguments.length,1);for(var J=c(this),re=J.entries,te=Y+"",ae=0;ae<re.length;)re[ae].key===te?re.splice(ae,1):ae++;J.updateURL()},get:function(J){k(arguments.length,1);for(var re=c(this).entries,te=J+"",ae=0;ae<re.length;ae++)if(re[ae].key===te)return re[ae].value;return null},getAll:function(J){k(arguments.length,1);for(var re=c(this).entries,te=J+"",ae=[],ne=0;ne<re.length;ne++)re[ne].key===te&&ae.push(re[ne].value);return ae},has:function(J){k(arguments.length,1);for(var re=c(this).entries,te=J+"",ae=0;ae<re.length;)if(re[ae++].key===te)return!0;return!1},set:function(J,re){k(arguments.length,1);for(var se,te=c(this),ae=te.entries,ne=!1,he=J+"",me=re+"",Se=0;Se<ae.length;Se++)(se=ae[Se]).key===he&&(ne?ae.splice(Se--,1):(ne=!0,se.value=me));ne||ae.push({key:he,value:me}),te.updateURL()},sort:function(){var ae,ne,he,J=c(this),re=J.entries,te=re.slice();for(re.length=0,he=0;he<te.length;he++){for(ae=te[he],ne=0;ne<he;ne++)if(re[ne].key>ae.key){re.splice(ne,0,ae);break}ne===he&&re.push(ae)}J.updateURL()},forEach:function(J){for(var ne,re=c(this).entries,te=H(J,arguments.length>1?arguments[1]:void 0,3),ae=0;ae<re.length;)te((ne=re[ae++]).value,ne.key,this)},keys:function(){return new N(this,"keys")},values:function(){return new N(this,"values")},entries:function(){return new N(this,"entries")}},{enumerable:!0}),G(V,s,V.entries),G(V,"toString",function(){for(var ae,J=c(this).entries,re=[],te=0;te<J.length;)ae=J[te++],re.push(o(ae.key)+"="+o(ae.value));return re.join("&")},{enumerable:!0}),q(I,P),a({global:!0,forced:!M},{URLSearchParams:I}),!M&&"function"==typeof i&&"function"==typeof u&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(J){var te,ae,ne,re=[J];return arguments.length>1&&(e(te=arguments[1])&&x(ae=te.body)===P&&((ne=te.headers?new u(te.headers):new u).has("content-type")||ne.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),te=F(te,{body:S(0,String(ae)),headers:S(0,ne)})),re.push(te)),i.apply(this,re)}}),X.exports={URLSearchParams:I,getState:c}},(X,g,r)=>{var a=r(27),T=r(77);X.exports=function(M){var G=T(M);if("function"!=typeof G)throw TypeError(String(M)+" is not iterable");return a(G.call(M))}},(X,g,r)=>{"use strict";r(9)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(X,g){!function(r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(n){return"Symbol("+n+")"};function T(){}var G="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function L(n){return"object"==typeof n&&null!==n||"function"==typeof n}var q=T,W=Promise,z=Promise.prototype.then,$=Promise.resolve.bind(W),Z=Promise.reject.bind(W);function H(n){return new W(n)}function x(n){return $(n)}function j(n){return Z(n)}function e(n,d,Q){return z.call(n,d,Q)}function F(n,d,Q){e(e(n,d,Q),void 0,q)}function S(n,d){F(n,d)}function C(n,d){F(n,void 0,d)}function l(n,d,Q){return e(n,d,Q)}function y(n){e(n,void 0,q)}var i=function(){var n=G&&G.queueMicrotask;if("function"==typeof n)return n;var d=x(void 0);return function(Q){return e(d,Q)}}();function u(n,d,Q){if("function"!=typeof n)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(n,d,Q)}function s(n,d,Q){try{return x(u(n,d,Q))}catch(ce){return j(ce)}}var E=function(){function n(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(n.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),n.prototype.push=function(d){var Q=this._back,ce=Q;16383===Q._elements.length&&(ce={_elements:[],_next:void 0}),Q._elements.push(d),ce!==Q&&(this._back=ce,Q._next=ce),++this._size},n.prototype.shift=function(){var d=this._front,Q=d,ce=this._cursor,xe=ce+1,Be=d._elements,je=Be[ce];return 16384===xe&&(Q=d._next,xe=0),--this._size,this._cursor=xe,d!==Q&&(this._front=Q),Be[ce]=void 0,je},n.prototype.forEach=function(d){for(var Q=this._cursor,ce=this._front,xe=ce._elements;!(Q===xe.length&&void 0===ce._next||Q===xe.length&&(ce=ce._next,xe=ce._elements,Q=0,0===xe.length));)d(xe[Q]),++Q},n.prototype.peek=function(){return this._front._elements[this._cursor]},n}();function O(n,d){n._ownerReadableStream=d,d._reader=n,"readable"===d._state?w(n):"closed"===d._state?function(n){w(n),_(n)}(n):R(n,d._storedError)}function c(n,d){return Qt(n._ownerReadableStream,d)}function p(n){"readable"===n._ownerReadableStream._state?m(n,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(n,d){R(n,d)}(n,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),n._ownerReadableStream._reader=void 0,n._ownerReadableStream=void 0}function B(n){return new TypeError("Cannot "+n+" a stream using a released reader")}function w(n){n._closedPromise=H(function(d,Q){n._closedPromise_resolve=d,n._closedPromise_reject=Q})}function R(n,d){w(n),m(n,d)}function m(n,d){void 0!==n._closedPromise_reject&&(y(n._closedPromise),n._closedPromise_reject(d),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0)}function _(n){void 0!==n._closedPromise_resolve&&(n._closedPromise_resolve(void 0),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0)}var v=a("[[AbortSteps]]"),o=a("[[ErrorSteps]]"),b=a("[[CancelSteps]]"),A=a("[[PullSteps]]"),k=Number.isFinite||function(n){return"number"==typeof n&&isFinite(n)},N=Math.trunc||function(n){return n<0?Math.ceil(n):Math.floor(n)};function V(n,d){if(void 0!==n&&!function(n){return"object"==typeof n||"function"==typeof n}(n))throw new TypeError(d+" is not an object.")}function Y(n,d){if("function"!=typeof n)throw new TypeError(d+" is not a function.")}function re(n,d){if(!function(n){return"object"==typeof n&&null!==n||"function"==typeof n}(n))throw new TypeError(d+" is not an object.")}function te(n,d,Q){if(void 0===n)throw new TypeError("Parameter "+d+" is required in '"+Q+"'.")}function ae(n,d,Q){if(void 0===n)throw new TypeError(d+" is required in '"+Q+"'.")}function ne(n){return Number(n)}function he(n){return 0===n?0:n}function Se(n,d){var ce=Number.MAX_SAFE_INTEGER,xe=Number(n);if(xe=he(xe),!k(xe))throw new TypeError(d+" is not a finite number");if((xe=function(n){return he(N(n))}(xe))<0||xe>ce)throw new TypeError(d+" is outside the accepted range of 0 to "+ce+", inclusive");return k(xe)&&0!==xe?xe:0}function se(n,d){if(!Wt(n))throw new TypeError(d+" is not a ReadableStream.")}function fe(n){return new ye(n)}function K(n,d){n._reader._readRequests.push(d)}function ie(n,d,Q){var xe=n._reader._readRequests.shift();Q?xe._closeSteps():xe._chunkSteps(d)}function oe(n){return n._reader._readRequests.length}function Ee(n){var d=n._reader;return!(void 0===d||!we(d))}var ze,He,ye=function(){function n(d){if(te(d,1,"ReadableStreamDefaultReader"),se(d,"First parameter"),Ht(d))throw new TypeError("This stream has already been locked for exclusive reading by another reader");O(this,d),this._readRequests=new E}return Object.defineProperty(n.prototype,"closed",{get:function(){return we(this)?this._closedPromise:j(be("closed"))},enumerable:!1,configurable:!0}),n.prototype.cancel=function(d){return void 0===d&&(d=void 0),we(this)?void 0===this._ownerReadableStream?j(B("cancel")):c(this,d):j(be("cancel"))},n.prototype.read=function(){if(!we(this))return j(be("read"));if(void 0===this._ownerReadableStream)return j(B("read from"));var d,Q,ce=H(function(Be,je){d=Be,Q=je});return Oe(this,{_chunkSteps:function(Be){return d({value:Be,done:!1})},_closeSteps:function(){return d({value:void 0,done:!0})},_errorSteps:function(Be){return Q(Be)}}),ce},n.prototype.releaseLock=function(){if(!we(this))throw be("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");p(this)}},n}();function we(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_readRequests"))}function Oe(n,d){var Q=n._ownerReadableStream;Q._disturbed=!0,"closed"===Q._state?d._closeSteps():"errored"===Q._state?d._errorSteps(Q._storedError):Q._readableStreamController[A](d)}function be(n){return new TypeError("ReadableStreamDefaultReader.prototype."+n+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(ye.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(ye.prototype,a.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof a.asyncIterator&&((ze={})[a.asyncIterator]=function(){return this},He=ze,Object.defineProperty(He,a.asyncIterator,{enumerable:!1}));var Ce=function(){function n(d,Q){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=d,this._preventCancel=Q}return n.prototype.next=function(){var d=this,Q=function(){return d._nextSteps()};return this._ongoingPromise=this._ongoingPromise?l(this._ongoingPromise,Q,Q):Q(),this._ongoingPromise},n.prototype.return=function(d){var Q=this,ce=function(){return Q._returnSteps(d)};return this._ongoingPromise?l(this._ongoingPromise,ce,ce):ce()},n.prototype._nextSteps=function(){var d=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var Q=this._reader;if(void 0===Q._ownerReadableStream)return j(B("iterate"));var ce,xe,Be=H(function(Xe,nt){ce=Xe,xe=nt});return Oe(Q,{_chunkSteps:function(Xe){d._ongoingPromise=void 0,i(function(){return ce({value:Xe,done:!1})})},_closeSteps:function(){d._ongoingPromise=void 0,d._isFinished=!0,p(Q),ce({value:void 0,done:!0})},_errorSteps:function(Xe){d._ongoingPromise=void 0,d._isFinished=!0,p(Q),xe(Xe)}}),Be},n.prototype._returnSteps=function(d){if(this._isFinished)return Promise.resolve({value:d,done:!0});this._isFinished=!0;var Q=this._reader;if(void 0===Q._ownerReadableStream)return j(B("finish iterating"));if(!this._preventCancel){var ce=c(Q,d);return p(Q),l(ce,function(){return{value:d,done:!0}})}return p(Q),x({value:d,done:!0})},n}(),Ne={next:function(){return Ve(this)?this._asyncIteratorImpl.next():j(ue("next"))},return:function(n){return Ve(this)?this._asyncIteratorImpl.return(n):j(ue("return"))}};function Ve(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_asyncIteratorImpl"))}function ue(n){return new TypeError("ReadableStreamAsyncIterator."+n+" can only be used on a ReadableSteamAsyncIterator")}void 0!==He&&Object.setPrototypeOf(Ne,He);var ge=Number.isNaN||function(n){return n!=n};function _e(n){return!(!function(n){return!("number"!=typeof n||ge(n)||n<0)}(n)||n===1/0)}function Te(n){var d=n._queue.shift();return n._queueTotalSize-=d.size,n._queueTotalSize<0&&(n._queueTotalSize=0),d.value}function Ge(n,d,Q){if(!_e(Q=Number(Q)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");n._queue.push({value:d,size:Q}),n._queueTotalSize+=Q}function Ye(n){n._queue=new E,n._queueTotalSize=0}function $e(n){return n.slice()}function Ue(n,d,Q,ce,xe){new Uint8Array(n).set(new Uint8Array(Q,ce,xe),d)}var dt=function(){function n(){throw new TypeError("Illegal constructor")}return Object.defineProperty(n.prototype,"view",{get:function(){if(!_t(this))throw at("view");return this._view},enumerable:!1,configurable:!0}),n.prototype.respond=function(d){if(!_t(this))throw at("respond");if(te(d,1,"respond"),d=Se(d,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(n,d){if(!_e(d=Number(d)))throw new RangeError("bytesWritten must be a finite");U(n,d)}(this._associatedReadableByteStreamController,d)},n.prototype.respondWithNewView=function(d){if(!_t(this))throw at("respondWithNewView");if(te(d,1,"respondWithNewView"),!ArrayBuffer.isView(d))throw new TypeError("You can only respond with array buffer views");if(0===d.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===d.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(n,d){var Q=n._pendingPullIntos.peek();if(Q.byteOffset+Q.bytesFilled!==d.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Q.byteLength!==d.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");Q.buffer=d.buffer,U(n,d.byteLength)}(this._associatedReadableByteStreamController,d)},n}();Object.defineProperties(dt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(dt.prototype,a.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Rt=function(){function n(){throw new TypeError("Illegal constructor")}return Object.defineProperty(n.prototype,"byobRequest",{get:function(){if(!yt(this))throw vt("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){var d=this._pendingPullIntos.peek(),Q=new Uint8Array(d.buffer,d.byteOffset+d.bytesFilled,d.byteLength-d.bytesFilled),ce=Object.create(dt.prototype);(function(n,d,Q){n._associatedReadableByteStreamController=d,n._view=Q})(ce,this,Q),this._byobRequest=ce}return this._byobRequest},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"desiredSize",{get:function(){if(!yt(this))throw vt("desiredSize");return Ke(this)},enumerable:!1,configurable:!0}),n.prototype.close=function(){if(!yt(this))throw vt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var d=this._controlledReadableByteStream._state;if("readable"!==d)throw new TypeError("The stream (in "+d+" state) is not in the readable state and cannot be closed");!function(n){var d=n._controlledReadableByteStream;if(!n._closeRequested&&"readable"===d._state){if(n._queueTotalSize>0)return void(n._closeRequested=!0);if(n._pendingPullIntos.length>0&&n._pendingPullIntos.peek().bytesFilled>0){var ce=new TypeError("Insufficient bytes to fill elements in the given buffer");throw qe(n,ce),ce}Ie(n),mn(d)}}(this)},n.prototype.enqueue=function(d){if(!yt(this))throw vt("enqueue");if(te(d,1,"enqueue"),!ArrayBuffer.isView(d))throw new TypeError("chunk must be an array buffer view");if(0===d.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===d.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var Q=this._controlledReadableByteStream._state;if("readable"!==Q)throw new TypeError("The stream (in "+Q+" state) is not in the readable state and cannot be enqueued to");!function(n,d){var Q=n._controlledReadableByteStream;if(!n._closeRequested&&"readable"===Q._state){var xe=d.byteOffset,Be=d.byteLength,je=d.buffer;Ee(Q)?0===oe(Q)?kt(n,je,xe,Be):ie(Q,new Uint8Array(je,xe,Be),!1):Ut(Q)?(kt(n,je,xe,Be),Le(n)):kt(n,je,xe,Be),At(n)}}(this,d)},n.prototype.error=function(d){if(void 0===d&&(d=void 0),!yt(this))throw vt("error");qe(this,d)},n.prototype[b]=function(d){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),Ye(this);var ce=this._cancelAlgorithm(d);return Ie(this),ce},n.prototype[A]=function(d){var Q=this._controlledReadableByteStream;if(this._queueTotalSize>0){var ce=this._queue.shift();this._queueTotalSize-=ce.byteLength,Pt(this);var xe=new Uint8Array(ce.buffer,ce.byteOffset,ce.byteLength);d._chunkSteps(xe)}else{var Be=this._autoAllocateChunkSize;if(void 0!==Be){var je=void 0;try{je=new ArrayBuffer(Be)}catch(nt){return void d._errorSteps(nt)}var Xe={buffer:je,byteOffset:0,byteLength:Be,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Xe)}K(Q,d),At(this)}},n}();function yt(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledReadableByteStream"))}function _t(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_associatedReadableByteStreamController"))}function At(n){if(function(n){var d=n._controlledReadableByteStream;return!("readable"!==d._state||n._closeRequested||!n._started)&&(!!(Ee(d)&&oe(d)>0||Ut(d)&&Dt(d)>0)||Ke(n)>0)}(n)){if(n._pulling)return void(n._pullAgain=!0);n._pulling=!0,F(n._pullAlgorithm(),function(){n._pulling=!1,n._pullAgain&&(n._pullAgain=!1,At(n))},function(ce){qe(n,ce)})}}function Ct(n,d){var Q=!1;"closed"===n._state&&(Q=!0);var ce=Lt(d);"default"===d.readerType?ie(n,ce,Q):function(n,d,Q){var xe=n._reader._readIntoRequests.shift();Q?xe._closeSteps(d):xe._chunkSteps(d)}(n,ce,Q)}function Lt(n){return new n.viewConstructor(n.buffer,n.byteOffset,n.bytesFilled/n.elementSize)}function kt(n,d,Q,ce){n._queue.push({buffer:d,byteOffset:Q,byteLength:ce}),n._queueTotalSize+=ce}function wt(n,d){var Q=d.elementSize,ce=d.bytesFilled-d.bytesFilled%Q,xe=Math.min(n._queueTotalSize,d.byteLength-d.bytesFilled),Be=d.bytesFilled+xe,je=Be-Be%Q,Xe=xe,nt=!1;je>ce&&(Xe=je-d.bytesFilled,nt=!0);for(var ct=n._queue;Xe>0;){var ft=ct.peek(),pt=Math.min(Xe,ft.byteLength);Ue(d.buffer,d.byteOffset+d.bytesFilled,ft.buffer,ft.byteOffset,pt),ft.byteLength===pt?ct.shift():(ft.byteOffset+=pt,ft.byteLength-=pt),n._queueTotalSize-=pt,xt(n,pt,d),Xe-=pt}return nt}function xt(n,d,Q){pe(n),Q.bytesFilled+=d}function Pt(n){0===n._queueTotalSize&&n._closeRequested?(Ie(n),mn(n._controlledReadableByteStream)):At(n)}function pe(n){null!==n._byobRequest&&(n._byobRequest._associatedReadableByteStreamController=void 0,n._byobRequest._view=null,n._byobRequest=null)}function Le(n){for(;n._pendingPullIntos.length>0;){if(0===n._queueTotalSize)return;var d=n._pendingPullIntos.peek();wt(n,d)&&(Pe(n),Ct(n._controlledReadableByteStream,d))}}function U(n,d){var Q=n._pendingPullIntos.peek();if("closed"===n._controlledReadableByteStream._state){if(0!==d)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(n,d){d.buffer=d.buffer;var Q=n._controlledReadableByteStream;if(Ut(Q))for(;Dt(Q)>0;)Ct(Q,Pe(n))}(n,Q)}else!function(n,d,Q){if(Q.bytesFilled+d>Q.byteLength)throw new RangeError("bytesWritten out of range");if(xt(n,d,Q),!(Q.bytesFilled<Q.elementSize)){Pe(n);var ce=Q.bytesFilled%Q.elementSize;if(ce>0){var xe=Q.byteOffset+Q.bytesFilled,Be=Q.buffer.slice(xe-ce,xe);kt(n,Be,0,Be.byteLength)}Q.buffer=Q.buffer,Q.bytesFilled-=ce,Ct(n._controlledReadableByteStream,Q),Le(n)}}(n,d,Q);At(n)}function Pe(n){var d=n._pendingPullIntos.shift();return pe(n),d}function Ie(n){n._pullAlgorithm=void 0,n._cancelAlgorithm=void 0}function qe(n,d){var Q=n._controlledReadableByteStream;"readable"===Q._state&&(function(n){pe(n),n._pendingPullIntos=new E}(n),Ye(n),Ie(n),Pr(Q,d))}function Ke(n){var d=n._controlledReadableByteStream._state;return"errored"===d?null:"closed"===d?0:n._strategyHWM-n._queueTotalSize}function We(n,d,Q){var ce=Object.create(Rt.prototype),xe=function(){},Be=function(){return x(void 0)},je=function(){return x(void 0)};void 0!==d.start&&(xe=function(){return d.start(ce)}),void 0!==d.pull&&(Be=function(){return d.pull(ce)}),void 0!==d.cancel&&(je=function(nt){return d.cancel(nt)}),function(n,d,Q,ce,xe,Be,je){d._controlledReadableByteStream=n,d._pullAgain=!1,d._pulling=!1,d._byobRequest=null,d._queue=d._queueTotalSize=void 0,Ye(d),d._closeRequested=!1,d._started=!1,d._strategyHWM=Be,d._pullAlgorithm=ce,d._cancelAlgorithm=xe,d._autoAllocateChunkSize=je,d._pendingPullIntos=new E,n._readableStreamController=d,F(x(Q()),function(){d._started=!0,At(d)},function(nt){qe(d,nt)})}(n,ce,xe,Be,je,Q,d.autoAllocateChunkSize)}function at(n){return new TypeError("ReadableStreamBYOBRequest.prototype."+n+" can only be used on a ReadableStreamBYOBRequest")}function vt(n){return new TypeError("ReadableByteStreamController.prototype."+n+" can only be used on a ReadableByteStreamController")}function jt(n,d){n._reader._readIntoRequests.push(d)}function Dt(n){return n._reader._readIntoRequests.length}function Ut(n){var d=n._reader;return!(void 0===d||!It(d))}Object.defineProperties(Rt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Rt.prototype,a.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Zt=function(){function n(d){if(te(d,1,"ReadableStreamBYOBReader"),se(d,"First parameter"),Ht(d))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!yt(d._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");O(this,d),this._readIntoRequests=new E}return Object.defineProperty(n.prototype,"closed",{get:function(){return It(this)?this._closedPromise:j(Bt("closed"))},enumerable:!1,configurable:!0}),n.prototype.cancel=function(d){return void 0===d&&(d=void 0),It(this)?void 0===this._ownerReadableStream?j(B("cancel")):c(this,d):j(Bt("cancel"))},n.prototype.read=function(d){if(!It(this))return j(Bt("read"));if(!ArrayBuffer.isView(d))return j(new TypeError("view must be an array buffer view"));if(0===d.byteLength)return j(new TypeError("view must have non-zero byteLength"));if(0===d.buffer.byteLength)return j(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return j(B("read from"));var Q,ce,xe=H(function(je,Xe){Q=je,ce=Xe});return function(n,d,Q){var ce=n._ownerReadableStream;ce._disturbed=!0,"errored"===ce._state?Q._errorSteps(ce._storedError):function(n,d,Q){var ce=n._controlledReadableByteStream,xe=1;d.constructor!==DataView&&(xe=d.constructor.BYTES_PER_ELEMENT);var Be=d.constructor,Xe={buffer:d.buffer,byteOffset:d.byteOffset,byteLength:d.byteLength,bytesFilled:0,elementSize:xe,viewConstructor:Be,readerType:"byob"};if(n._pendingPullIntos.length>0)return n._pendingPullIntos.push(Xe),void jt(ce,Q);if("closed"!==ce._state){if(n._queueTotalSize>0){if(wt(n,Xe)){var ct=Lt(Xe);return Pt(n),void Q._chunkSteps(ct)}if(n._closeRequested){var ft=new TypeError("Insufficient bytes to fill elements in the given buffer");return qe(n,ft),void Q._errorSteps(ft)}}n._pendingPullIntos.push(Xe),jt(ce,Q),At(n)}else{var nt=new Be(Xe.buffer,Xe.byteOffset,0);Q._closeSteps(nt)}}(ce._readableStreamController,d,Q)}(this,d,{_chunkSteps:function(je){return Q({value:je,done:!1})},_closeSteps:function(je){return Q({value:je,done:!0})},_errorSteps:function(je){return ce(je)}}),xe},n.prototype.releaseLock=function(){if(!It(this))throw Bt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");p(this)}},n}();function It(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_readIntoRequests"))}function Bt(n){return new TypeError("ReadableStreamBYOBReader.prototype."+n+" can only be used on a ReadableStreamBYOBReader")}function Vt(n,d){var Q=n.highWaterMark;if(void 0===Q)return d;if(ge(Q)||Q<0)throw new RangeError("Invalid highWaterMark");return Q}function en(n){return n.size||function(){return 1}}function tn(n,d){V(n,d);var Q=null==n?void 0:n.highWaterMark,ce=null==n?void 0:n.size;return{highWaterMark:void 0===Q?void 0:ne(Q),size:void 0===ce?void 0:or(ce,d+" has member 'size' that")}}function or(n,d){return Y(n,d),function(Q){return ne(n(Q))}}function yn(n,d,Q){return Y(n,Q),function(ce){return s(n,d,[ce])}}function sr(n,d,Q){return Y(n,Q),function(){return s(n,d,[])}}function Gn(n,d,Q){return Y(n,Q),function(ce){return u(n,d,[ce])}}function ur(n,d,Q){return Y(n,Q),function(ce,xe){return s(n,d,[ce,xe])}}function _n(n,d){if(!Tt(n))throw new TypeError(d+" is not a WritableStream.")}Object.defineProperties(Zt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Zt.prototype,a.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var nn=function(){function n(d,Q){void 0===d&&(d={}),void 0===Q&&(Q={}),void 0===d?d=null:re(d,"First parameter");var ce=tn(Q,"Second parameter"),xe=function(n,d){V(n,d);var Q=null==n?void 0:n.abort,ce=null==n?void 0:n.close,xe=null==n?void 0:n.start,Be=null==n?void 0:n.type,je=null==n?void 0:n.write;return{abort:void 0===Q?void 0:yn(Q,n,d+" has member 'abort' that"),close:void 0===ce?void 0:sr(ce,n,d+" has member 'close' that"),start:void 0===xe?void 0:Gn(xe,n,d+" has member 'start' that"),write:void 0===je?void 0:ur(je,n,d+" has member 'write' that"),type:Be}}(d,"First parameter");if(Hn(this),void 0!==xe.type)throw new RangeError("Invalid type is specified");var je=en(ce);!function(n,d,Q,ce){var xe=Object.create(dn.prototype),Be=function(){},je=function(){return x(void 0)},Xe=function(){return x(void 0)},nt=function(){return x(void 0)};void 0!==d.start&&(Be=function(){return d.start(xe)}),void 0!==d.write&&(je=function(ct){return d.write(ct,xe)}),void 0!==d.close&&(Xe=function(){return d.close()}),void 0!==d.abort&&(nt=function(ct){return d.abort(ct)}),pr(n,xe,Be,je,Xe,nt,Q,ce)}(this,xe,Vt(ce,1),je)}return Object.defineProperty(n.prototype,"locked",{get:function(){if(!Tt(this))throw kn("locked");return qt(this)},enumerable:!1,configurable:!0}),n.prototype.abort=function(d){return void 0===d&&(d=void 0),Tt(this)?qt(this)?j(new TypeError("Cannot abort a stream that already has a writer")):cn(this,d):j(kn("abort"))},n.prototype.close=function(){return Tt(this)?qt(this)?j(new TypeError("Cannot close a stream that already has a writer")):le(this)?j(new TypeError("Cannot close an already-closing stream")):jn(this):j(kn("close"))},n.prototype.getWriter=function(){if(!Tt(this))throw kn("getWriter");return Wn(this)},n}();function Wn(n){return new lt(n)}function Hn(n){n._state="writable",n._storedError=void 0,n._writer=void 0,n._writableStreamController=void 0,n._writeRequests=new E,n._inFlightWriteRequest=void 0,n._closeRequest=void 0,n._inFlightCloseRequest=void 0,n._pendingAbortRequest=void 0,n._backpressure=!1}function Tt(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_writableStreamController"))}function qt(n){return void 0!==n._writer}function cn(n,d){var Q=n._state;if("closed"===Q||"errored"===Q)return x(void 0);if(void 0!==n._pendingAbortRequest)return n._pendingAbortRequest._promise;var ce=!1;"erroring"===Q&&(ce=!0,d=void 0);var xe=H(function(Be,je){n._pendingAbortRequest={_promise:void 0,_resolve:Be,_reject:je,_reason:d,_wasAlreadyErroring:ce}});return n._pendingAbortRequest._promise=xe,ce||Sn(n,d),xe}function jn(n){var d=n._state;if("closed"===d||"errored"===d)return j(new TypeError("The stream (in "+d+" state) is not in the writable state and cannot be closed"));var Q=H(function(xe,Be){n._closeRequest={_resolve:xe,_reject:Be}}),ce=n._writer;return void 0!==ce&&n._backpressure&&"writable"===d&&Un(ce),function(n){Ge(n,hr,0),wn(n)}(n._writableStreamController),Q}function An(n,d){"writable"!==n._state?fn(n):Sn(n,d)}function Sn(n,d){var Q=n._writableStreamController;n._state="erroring",n._storedError=d;var ce=n._writer;void 0!==ce&&cr(ce,d),!function(n){return!(void 0===n._inFlightWriteRequest&&void 0===n._inFlightCloseRequest)}(n)&&Q._started&&fn(n)}function fn(n){n._state="errored",n._writableStreamController[o]();var d=n._storedError;if(n._writeRequests.forEach(function(xe){xe._reject(d)}),n._writeRequests=new E,void 0!==n._pendingAbortRequest){var Q=n._pendingAbortRequest;if(n._pendingAbortRequest=void 0,Q._wasAlreadyErroring)return Q._reject(d),void De(n);F(n._writableStreamController[v](Q._reason),function(){Q._resolve(),De(n)},function(xe){Q._reject(xe),De(n)})}else De(n)}function le(n){return!(void 0===n._closeRequest&&void 0===n._inFlightCloseRequest)}function De(n){void 0!==n._closeRequest&&(n._closeRequest._reject(n._storedError),n._closeRequest=void 0);var d=n._writer;void 0!==d&&$n(d,n._storedError)}function tt(n,d){var Q=n._writer;void 0!==Q&&d!==n._backpressure&&(d?function(n){Pn(n)}(Q):Un(Q)),n._backpressure=d}Object.defineProperties(nn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(nn.prototype,a.toStringTag,{value:"WritableStream",configurable:!0});var lt=function(){function n(d){if(te(d,1,"WritableStreamDefaultWriter"),_n(d,"First parameter"),qt(d))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=d,d._writer=this;var Q=d._state;if("writable"===Q)!le(d)&&d._backpressure?Pn(this):yr(this),xn(this);else if("erroring"===Q)Kn(this,d._storedError),xn(this);else if("closed"===Q)yr(this),function(n){xn(n),br(n)}(this);else{var ce=d._storedError;Kn(this,ce),mr(this,ce)}}return Object.defineProperty(n.prototype,"closed",{get:function(){return gt(this)?this._closedPromise:j(Yt("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"desiredSize",{get:function(){if(!gt(this))throw Yt("desiredSize");if(void 0===this._ownerWritableStream)throw hn("desiredSize");return function(n){var d=n._ownerWritableStream,Q=d._state;return"errored"===Q||"erroring"===Q?null:"closed"===Q?0:vr(d._writableStreamController)}(this)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ready",{get:function(){return gt(this)?this._readyPromise:j(Yt("ready"))},enumerable:!1,configurable:!0}),n.prototype.abort=function(d){return void 0===d&&(d=void 0),gt(this)?void 0===this._ownerWritableStream?j(hn("abort")):function(n,d){return cn(n._ownerWritableStream,d)}(this,d):j(Yt("abort"))},n.prototype.close=function(){if(!gt(this))return j(Yt("close"));var d=this._ownerWritableStream;return void 0===d?j(hn("close")):le(d)?j(new TypeError("Cannot close an already-closing stream")):zt(this)},n.prototype.releaseLock=function(){if(!gt(this))throw Yt("releaseLock");void 0!==this._ownerWritableStream&&fr(this)},n.prototype.write=function(d){return void 0===d&&(d=void 0),gt(this)?void 0===this._ownerWritableStream?j(hn("write to")):dr(this,d):j(Yt("write"))},n}();function gt(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_ownerWritableStream"))}function zt(n){return jn(n._ownerWritableStream)}function Br(n,d){"pending"===n._closedPromiseState?$n(n,d):function(n,d){mr(n,d)}(n,d)}function cr(n,d){"pending"===n._readyPromiseState?_r(n,d):function(n,d){Kn(n,d)}(n,d)}function fr(n){var d=n._ownerWritableStream,Q=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");cr(n,Q),Br(n,Q),d._writer=void 0,n._ownerWritableStream=void 0}function dr(n,d){var Q=n._ownerWritableStream,ce=Q._writableStreamController,xe=function(n,d){try{return n._strategySizeAlgorithm(d)}catch(Q){return Xn(n,Q),1}}(ce,d);if(Q!==n._ownerWritableStream)return j(hn("write to"));var Be=Q._state;if("errored"===Be)return j(Q._storedError);if(le(Q)||"closed"===Be)return j(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===Be)return j(Q._storedError);var je=function(n){return H(function(Q,ce){n._writeRequests.push({_resolve:Q,_reject:ce})})}(Q);return function(n,d,Q){try{Ge(n,d,Q)}catch(Be){return void Xn(n,Be)}var ce=n._controlledWritableStream;le(ce)||"writable"!==ce._state||tt(ce,Jn(n)),wn(n)}(ce,d,xe),je}Object.defineProperties(lt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(lt.prototype,a.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var hr={},dn=function(){function n(){throw new TypeError("Illegal constructor")}return n.prototype.error=function(d){if(void 0===d&&(d=void 0),!function(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledWritableStream"))}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&gr(this,d)},n.prototype[v]=function(d){var Q=this._abortAlgorithm(d);return Cn(this),Q},n.prototype[o]=function(){Ye(this)},n}();function pr(n,d,Q,ce,xe,Be,je,Xe){d._controlledWritableStream=n,n._writableStreamController=d,d._queue=void 0,d._queueTotalSize=void 0,Ye(d),d._started=!1,d._strategySizeAlgorithm=Xe,d._strategyHWM=je,d._writeAlgorithm=ce,d._closeAlgorithm=xe,d._abortAlgorithm=Be;var nt=Jn(d);tt(n,nt),F(x(Q()),function(){d._started=!0,wn(d)},function(pt){d._started=!0,An(n,pt)})}function Cn(n){n._writeAlgorithm=void 0,n._closeAlgorithm=void 0,n._abortAlgorithm=void 0,n._strategySizeAlgorithm=void 0}function vr(n){return n._strategyHWM-n._queueTotalSize}function wn(n){var d=n._controlledWritableStream;if(n._started&&void 0===d._inFlightWriteRequest){if("erroring"===d._state)return void fn(d);if(0!==n._queue.length){var ce=function(n){return n._queue.peek().value}(n);ce===hr?function(n){var d=n._controlledWritableStream;(function(n){n._inFlightCloseRequest=n._closeRequest,n._closeRequest=void 0})(d),Te(n);var Q=n._closeAlgorithm();Cn(n),F(Q,function(){!function(n){n._inFlightCloseRequest._resolve(void 0),n._inFlightCloseRequest=void 0,"erroring"===n._state&&(n._storedError=void 0,void 0!==n._pendingAbortRequest&&(n._pendingAbortRequest._resolve(),n._pendingAbortRequest=void 0)),n._state="closed";var Q=n._writer;void 0!==Q&&br(Q)}(d)},function(ce){!function(n,d){n._inFlightCloseRequest._reject(d),n._inFlightCloseRequest=void 0,void 0!==n._pendingAbortRequest&&(n._pendingAbortRequest._reject(d),n._pendingAbortRequest=void 0),An(n,d)}(d,ce)})}(n):function(n,d){var Q=n._controlledWritableStream;(function(n){n._inFlightWriteRequest=n._writeRequests.shift()})(Q),F(n._writeAlgorithm(d),function(){!function(n){n._inFlightWriteRequest._resolve(void 0),n._inFlightWriteRequest=void 0}(Q);var xe=Q._state;if(Te(n),!le(Q)&&"writable"===xe){var Be=Jn(n);tt(Q,Be)}wn(n)},function(xe){"writable"===Q._state&&Cn(n),function(n,d){n._inFlightWriteRequest._reject(d),n._inFlightWriteRequest=void 0,An(n,d)}(Q,xe)})}(n,ce)}}}function Xn(n,d){"writable"===n._controlledWritableStream._state&&gr(n,d)}function Jn(n){return vr(n)<=0}function gr(n,d){var Q=n._controlledWritableStream;Cn(n),Sn(Q,d)}function kn(n){return new TypeError("WritableStream.prototype."+n+" can only be used on a WritableStream")}function Yt(n){return new TypeError("WritableStreamDefaultWriter.prototype."+n+" can only be used on a WritableStreamDefaultWriter")}function hn(n){return new TypeError("Cannot "+n+" a stream using a released writer")}function xn(n){n._closedPromise=H(function(d,Q){n._closedPromise_resolve=d,n._closedPromise_reject=Q,n._closedPromiseState="pending"})}function mr(n,d){xn(n),$n(n,d)}function $n(n,d){void 0!==n._closedPromise_reject&&(y(n._closedPromise),n._closedPromise_reject(d),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0,n._closedPromiseState="rejected")}function br(n){void 0!==n._closedPromise_resolve&&(n._closedPromise_resolve(void 0),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0,n._closedPromiseState="resolved")}function Pn(n){n._readyPromise=H(function(d,Q){n._readyPromise_resolve=d,n._readyPromise_reject=Q}),n._readyPromiseState="pending"}function Kn(n,d){Pn(n),_r(n,d)}function yr(n){Pn(n),Un(n)}function _r(n,d){void 0!==n._readyPromise_reject&&(y(n._readyPromise),n._readyPromise_reject(d),n._readyPromise_resolve=void 0,n._readyPromise_reject=void 0,n._readyPromiseState="rejected")}function Un(n){void 0!==n._readyPromise_resolve&&(n._readyPromise_resolve(void 0),n._readyPromise_resolve=void 0,n._readyPromise_reject=void 0,n._readyPromiseState="fulfilled")}Object.defineProperties(dn.prototype,{error:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(dn.prototype,a.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Ar="undefined"!=typeof DOMException?DOMException:void 0;var n,ea=function(n){if("function"!=typeof n&&"object"!=typeof n)return!1;try{return new n,!0}catch(d){return!1}}(Ar)?Ar:((n=function(Q,ce){this.message=Q||"",this.name=ce||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,configurable:!0}),n);function Sr(n,d,Q,ce,xe,Be){var je=fe(n),Xe=Wn(d);n._disturbed=!0;var nt=!1,ct=x(void 0);return H(function(ft,pt){var St,bt,Mt;if(void 0!==Be){if(St=function(){var it=new ea("Aborted","AbortError"),bt=[];ce||bt.push(function(){return"writable"===d._state?cn(d,it):x(void 0)}),xe||bt.push(function(){return"readable"===n._state?Qt(n,it):x(void 0)}),$t(function(){return Promise.all(bt.map(function(Mt){return Mt()}))},!0,it)},Be.aborted)return void St();Be.addEventListener("abort",St)}if(Ft(n,je._closedPromise,function(it){ce?Bn(!0,it):$t(function(){return cn(d,it)},!0,it)}),Ft(d,Xe._closedPromise,function(it){xe?Bn(!0,it):$t(function(){return Qt(n,it)},!0,it)}),bt=je._closedPromise,Mt=function(){Q?Bn():$t(function(){return function(n){var d=n._ownerWritableStream,Q=d._state;return le(d)||"closed"===Q?x(void 0):"errored"===Q?j(d._storedError):zt(n)}(Xe)})},"closed"===n._state?Mt():S(bt,Mt),le(d)||"closed"===d._state){var sn=new TypeError("the destination writable stream closed before all data could be piped to it");xe?Bn(!0,sn):$t(function(){return Qt(n,sn)},!0,sn)}function Ot(){var it=ct;return e(ct,function(){return it!==ct?Ot():void 0})}function Ft(it,bt,Mt){"errored"===it._state?Mt(it._storedError):C(bt,Mt)}function $t(it,bt,Mt){function zn(){F(it(),function(){return Vn(bt,Mt)},function(Ea){return Vn(!0,Ea)})}nt||(nt=!0,"writable"!==d._state||le(d)?zn():S(Ot(),zn))}function Bn(it,bt){nt||(nt=!0,"writable"!==d._state||le(d)?Vn(it,bt):S(Ot(),function(){return Vn(it,bt)}))}function Vn(it,bt){fr(Xe),p(je),void 0!==Be&&Be.removeEventListener("abort",St),it?pt(bt):ft(void 0)}y(H(function(it,bt){!function Mt(zn){zn?it():e(nt?x(!0):e(Xe._readyPromise,function(){return H(function(it,bt){Oe(je,{_chunkSteps:function(Mt){ct=e(dr(Xe,Mt),void 0,T),it(!1)},_closeSteps:function(){return it(!0)},_errorSteps:bt})})}),Mt,bt)}(!1)}))})}var pn=function(){function n(){throw new TypeError("Illegal constructor")}return Object.defineProperty(n.prototype,"desiredSize",{get:function(){if(!Rn(this))throw Mn("desiredSize");return er(this)},enumerable:!1,configurable:!0}),n.prototype.close=function(){if(!Rn(this))throw Mn("close");if(!an(this))throw new TypeError("The stream is not in a state that permits close");gn(this)},n.prototype.enqueue=function(d){if(void 0===d&&(d=void 0),!Rn(this))throw Mn("enqueue");if(!an(this))throw new TypeError("The stream is not in a state that permits enqueue");return On(this,d)},n.prototype.error=function(d){if(void 0===d&&(d=void 0),!Rn(this))throw Mn("error");Gt(this,d)},n.prototype[b]=function(d){Ye(this);var Q=this._cancelAlgorithm(d);return En(this),Q},n.prototype[A]=function(d){var Q=this._controlledReadableStream;if(this._queue.length>0){var ce=Te(this);this._closeRequested&&0===this._queue.length?(En(this),mn(Q)):vn(this),d._chunkSteps(ce)}else K(Q,d),vn(this)},n}();function Rn(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledReadableStream"))}function vn(n){if(Cr(n)){if(n._pulling)return void(n._pullAgain=!0);n._pulling=!0,F(n._pullAlgorithm(),function(){n._pulling=!1,n._pullAgain&&(n._pullAgain=!1,vn(n))},function(ce){Gt(n,ce)})}}function Cr(n){var d=n._controlledReadableStream;return!(!an(n)||!n._started)&&(!!(Ht(d)&&oe(d)>0)||er(n)>0)}function En(n){n._pullAlgorithm=void 0,n._cancelAlgorithm=void 0,n._strategySizeAlgorithm=void 0}function gn(n){if(an(n)){var d=n._controlledReadableStream;n._closeRequested=!0,0===n._queue.length&&(En(n),mn(d))}}function On(n,d){if(an(n)){var Q=n._controlledReadableStream;if(Ht(Q)&&oe(Q)>0)ie(Q,d,!1);else{var ce=void 0;try{ce=n._strategySizeAlgorithm(d)}catch(xe){throw Gt(n,xe),xe}try{Ge(n,d,ce)}catch(xe){throw Gt(n,xe),xe}}vn(n)}}function Gt(n,d){var Q=n._controlledReadableStream;"readable"===Q._state&&(Ye(n),En(n),Pr(Q,d))}function er(n){var d=n._controlledReadableStream._state;return"errored"===d?null:"closed"===d?0:n._strategyHWM-n._queueTotalSize}function an(n){return!n._closeRequested&&"readable"===n._controlledReadableStream._state}function wr(n,d,Q,ce,xe,Be,je){d._controlledReadableStream=n,d._queue=void 0,d._queueTotalSize=void 0,Ye(d),d._started=!1,d._closeRequested=!1,d._pullAgain=!1,d._pulling=!1,d._strategySizeAlgorithm=je,d._strategyHWM=Be,d._pullAlgorithm=ce,d._cancelAlgorithm=xe,n._readableStreamController=d,F(x(Q()),function(){d._started=!0,vn(d)},function(nt){Gt(d,nt)})}function Mn(n){return new TypeError("ReadableStreamDefaultController.prototype."+n+" can only be used on a ReadableStreamDefaultController")}function ia(n,d,Q){return Y(n,Q),function(ce){return s(n,d,[ce])}}function oa(n,d,Q){return Y(n,Q),function(ce){return s(n,d,[ce])}}function sa(n,d,Q){return Y(n,Q),function(ce){return u(n,d,[ce])}}function ua(n,d){if("bytes"!=(n=""+n))throw new TypeError(d+" '"+n+"' is not a valid enumeration value for ReadableStreamType");return n}function ca(n,d){if("byob"!=(n=""+n))throw new TypeError(d+" '"+n+"' is not a valid enumeration value for ReadableStreamReaderMode");return n}function kr(n,d){V(n,d);var Q=null==n?void 0:n.preventAbort,ce=null==n?void 0:n.preventCancel,xe=null==n?void 0:n.preventClose,Be=null==n?void 0:n.signal;return void 0!==Be&&function(n,d){if(!function(n){if("object"!=typeof n||null===n)return!1;try{return"boolean"==typeof n.aborted}catch(d){return!1}}(n))throw new TypeError(d+" is not an AbortSignal.")}(Be,d+" has member 'signal' that"),{preventAbort:Boolean(Q),preventCancel:Boolean(ce),preventClose:Boolean(xe),signal:Be}}Object.defineProperties(pn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(pn.prototype,a.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var on=function(){function n(d,Q){void 0===d&&(d={}),void 0===Q&&(Q={}),void 0===d?d=null:re(d,"First parameter");var ce=tn(Q,"Second parameter"),xe=function(n,d){V(n,d);var Q=n,ce=null==Q?void 0:Q.autoAllocateChunkSize,xe=null==Q?void 0:Q.cancel,Be=null==Q?void 0:Q.pull,je=null==Q?void 0:Q.start,Xe=null==Q?void 0:Q.type;return{autoAllocateChunkSize:void 0===ce?void 0:Se(ce,d+" has member 'autoAllocateChunkSize' that"),cancel:void 0===xe?void 0:ia(xe,Q,d+" has member 'cancel' that"),pull:void 0===Be?void 0:oa(Be,Q,d+" has member 'pull' that"),start:void 0===je?void 0:sa(je,Q,d+" has member 'start' that"),type:void 0===Xe?void 0:ua(Xe,d+" has member 'type' that")}}(d,"First parameter");if(xr(this),"bytes"===xe.type){if(void 0!==ce.size)throw new RangeError("The strategy for a byte stream cannot have a size function");We(this,xe,Vt(ce,0))}else{var je=en(ce);!function(n,d,Q,ce){var xe=Object.create(pn.prototype),Be=function(){},je=function(){return x(void 0)},Xe=function(){return x(void 0)};void 0!==d.start&&(Be=function(){return d.start(xe)}),void 0!==d.pull&&(je=function(){return d.pull(xe)}),void 0!==d.cancel&&(Xe=function(nt){return d.cancel(nt)}),wr(n,xe,Be,je,Xe,Q,ce)}(this,xe,Vt(ce,1),je)}}return Object.defineProperty(n.prototype,"locked",{get:function(){if(!Wt(this))throw Xt("locked");return Ht(this)},enumerable:!1,configurable:!0}),n.prototype.cancel=function(d){return void 0===d&&(d=void 0),Wt(this)?Ht(this)?j(new TypeError("Cannot cancel a stream that already has a reader")):Qt(this,d):j(Xt("cancel"))},n.prototype.getReader=function(d){if(void 0===d&&(d=void 0),!Wt(this))throw Xt("getReader");return void 0===function(n,d){V(n,d);var Q=null==n?void 0:n.mode;return{mode:void 0===Q?void 0:ca(Q,d+" has member 'mode' that")}}(d,"First parameter").mode?fe(this):function(n){return new Zt(n)}(this)},n.prototype.pipeThrough=function(d,Q){if(void 0===Q&&(Q={}),!Wt(this))throw Xt("pipeThrough");te(d,1,"pipeThrough");var ce=function(n,d){V(n,d);var Q=null==n?void 0:n.readable;ae(Q,"readable","ReadableWritablePair"),se(Q,d+" has member 'readable' that");var ce=null==n?void 0:n.writable;return ae(ce,"writable","ReadableWritablePair"),_n(ce,d+" has member 'writable' that"),{readable:Q,writable:ce}}(d,"First parameter"),xe=kr(Q,"Second parameter");if(Ht(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(qt(ce.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return y(Sr(this,ce.writable,xe.preventClose,xe.preventAbort,xe.preventCancel,xe.signal)),ce.readable},n.prototype.pipeTo=function(d,Q){if(void 0===Q&&(Q={}),!Wt(this))return j(Xt("pipeTo"));if(void 0===d)return j("Parameter 1 is required in 'pipeTo'.");if(!Tt(d))return j(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var ce;try{ce=kr(Q,"Second parameter")}catch(xe){return j(xe)}return Ht(this)?j(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):qt(d)?j(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Sr(this,d,ce.preventClose,ce.preventAbort,ce.preventCancel,ce.signal)},n.prototype.tee=function(){if(!Wt(this))throw Xt("tee");return $e(function(n,d){var je,Xe,nt,ct,ft,Q=fe(n),ce=!1,xe=!1,Be=!1,pt=H(function(Ot){ft=Ot});function St(){return ce||(ce=!0,Oe(Q,{_chunkSteps:function(Ft){i(function(){ce=!1;var $t=Ft;xe||On(nt._readableStreamController,Ft),Be||On(ct._readableStreamController,$t),ft(void 0)})},_closeSteps:function(){ce=!1,xe||gn(nt._readableStreamController),Be||gn(ct._readableStreamController)},_errorSteps:function(){ce=!1}})),x(void 0)}function sn(){}return nt=tr(sn,St,function(Ot){if(xe=!0,je=Ot,Be){var Ft=$e([je,Xe]),Jt=Qt(n,Ft);ft(Jt)}return pt}),ct=tr(sn,St,function(Ot){if(Be=!0,Xe=Ot,xe){var Ft=$e([je,Xe]),Jt=Qt(n,Ft);ft(Jt)}return pt}),C(Q._closedPromise,function(Ot){Gt(nt._readableStreamController,Ot),Gt(ct._readableStreamController,Ot),ft(void 0)}),[nt,ct]}(this))},n.prototype.values=function(d){if(void 0===d&&(d=void 0),!Wt(this))throw Xt("values");return function(n,d){var Q=fe(n),ce=new Ce(Q,d),xe=Object.create(Ne);return xe._asyncIteratorImpl=ce,xe}(this,function(n,d){return V(n,d),{preventCancel:Boolean(null==n?void 0:n.preventCancel)}}(d,"First parameter").preventCancel)},n}();function tr(n,d,Q,ce,xe){void 0===ce&&(ce=1),void 0===xe&&(xe=function(){return 1});var Be=Object.create(on.prototype);return xr(Be),wr(Be,Object.create(pn.prototype),n,d,Q,ce,xe),Be}function xr(n){n._state="readable",n._reader=void 0,n._storedError=void 0,n._disturbed=!1}function Wt(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_readableStreamController"))}function Ht(n){return void 0!==n._reader}function Qt(n,d){return n._disturbed=!0,"closed"===n._state?x(void 0):"errored"===n._state?j(n._storedError):(mn(n),l(n._readableStreamController[b](d),T))}function mn(n){n._state="closed";var d=n._reader;void 0!==d&&(we(d)&&(d._readRequests.forEach(function(Q){Q._closeSteps()}),d._readRequests=new E),_(d))}function Pr(n,d){n._state="errored",n._storedError=d;var Q=n._reader;void 0!==Q&&(we(Q)?(Q._readRequests.forEach(function(ce){ce._errorSteps(d)}),Q._readRequests=new E):(Q._readIntoRequests.forEach(function(ce){ce._errorSteps(d)}),Q._readIntoRequests=new E),m(Q,d))}function Xt(n){return new TypeError("ReadableStream.prototype."+n+" can only be used on a ReadableStream")}function Rr(n,d){V(n,d);var Q=null==n?void 0:n.highWaterMark;return ae(Q,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ne(Q)}}Object.defineProperties(on.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(on.prototype,a.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof a.asyncIterator&&Object.defineProperty(on.prototype,a.asyncIterator,{value:on.prototype.values,writable:!0,configurable:!0});var pa=function(d){return d.byteLength},nr=function(){function n(d){te(d,1,"ByteLengthQueuingStrategy"),d=Rr(d,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=d.highWaterMark}return Object.defineProperty(n.prototype,"highWaterMark",{get:function(){if(!Or(this))throw Er("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){if(!Or(this))throw Er("size");return pa},enumerable:!1,configurable:!0}),n}();function Er(n){return new TypeError("ByteLengthQueuingStrategy.prototype."+n+" can only be used on a ByteLengthQueuingStrategy")}function Or(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_byteLengthQueuingStrategyHighWaterMark"))}Object.defineProperties(nr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(nr.prototype,a.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var va=function(){return 1},rr=function(){function n(d){te(d,1,"CountQueuingStrategy"),d=Rr(d,"First parameter"),this._countQueuingStrategyHighWaterMark=d.highWaterMark}return Object.defineProperty(n.prototype,"highWaterMark",{get:function(){if(!Lr(this))throw Mr("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){if(!Lr(this))throw Mr("size");return va},enumerable:!1,configurable:!0}),n}();function Mr(n){return new TypeError("CountQueuingStrategy.prototype."+n+" can only be used on a CountQueuingStrategy")}function Lr(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_countQueuingStrategyHighWaterMark"))}function ma(n,d,Q){return Y(n,Q),function(ce){return s(n,d,[ce])}}function ba(n,d,Q){return Y(n,Q),function(ce){return u(n,d,[ce])}}function ya(n,d,Q){return Y(n,Q),function(ce,xe){return s(n,d,[ce,xe])}}Object.defineProperties(rr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(rr.prototype,a.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var ar=function(){function n(d,Q,ce){void 0===d&&(d={}),void 0===Q&&(Q={}),void 0===ce&&(ce={}),void 0===d&&(d=null);var xe=tn(Q,"Second parameter"),Be=tn(ce,"Third parameter"),je=function(n,d){V(n,d);var Q=null==n?void 0:n.flush,ce=null==n?void 0:n.readableType,xe=null==n?void 0:n.start,Be=null==n?void 0:n.transform,je=null==n?void 0:n.writableType;return{flush:void 0===Q?void 0:ma(Q,n,d+" has member 'flush' that"),readableType:ce,start:void 0===xe?void 0:ba(xe,n,d+" has member 'start' that"),transform:void 0===Be?void 0:ya(Be,n,d+" has member 'transform' that"),writableType:je}}(d,"First parameter");if(void 0!==je.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==je.writableType)throw new RangeError("Invalid writableType specified");var pt,Xe=Vt(Be,0),nt=en(Be),ct=Vt(xe,1),ft=en(xe);(function(n,d,Q,ce,xe,Be){function je(){return d}function Xe(St){return function(n,d){var Q=n._transformStreamController;return n._backpressure?l(n._backpressureChangePromise,function(){var xe=n._writable;if("erroring"===xe._state)throw xe._storedError;return Nr(Q,d)}):Nr(Q,d)}(n,St)}function nt(St){return function(n,d){return Ln(n,d),x(void 0)}(n,St)}function ct(){return function(n){var d=n._readable,Q=n._transformStreamController,ce=Q._flushAlgorithm();return Tr(Q),l(ce,function(){if("errored"===d._state)throw d._storedError;gn(d._readableStreamController)},function(xe){throw Ln(n,xe),d._storedError})}(n)}function ft(){return function(n){return Tn(n,!1),n._backpressureChangePromise}(n)}function pt(St){return In(n,St),x(void 0)}n._writable=function(n,d,Q,ce,xe,Be){void 0===xe&&(xe=1),void 0===Be&&(Be=function(){return 1});var je=Object.create(nn.prototype);return Hn(je),pr(je,Object.create(dn.prototype),n,d,Q,ce,xe,Be),je}(je,Xe,ct,nt,Q,ce),n._readable=tr(je,ft,pt,xe,Be),n._backpressure=void 0,n._backpressureChangePromise=void 0,n._backpressureChangePromise_resolve=void 0,Tn(n,!0),n._transformStreamController=void 0})(this,H(function(bn){pt=bn}),ct,ft,Xe,nt),function(n,d){var Q=Object.create(Dn.prototype),ce=function(Be){try{return Dr(Q,Be),x(void 0)}catch(je){return j(je)}},xe=function(){return x(void 0)};void 0!==d.transform&&(ce=function(Be){return d.transform(Be,Q)}),void 0!==d.flush&&(xe=function(){return d.flush(Q)}),function(n,d,Q,ce){d._controlledTransformStream=n,n._transformStreamController=d,d._transformAlgorithm=Q,d._flushAlgorithm=ce}(n,Q,ce,xe)}(this,je),pt(void 0!==je.start?je.start(this._transformStreamController):void 0)}return Object.defineProperty(n.prototype,"readable",{get:function(){if(!Ir(this))throw Fr("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"writable",{get:function(){if(!Ir(this))throw Fr("writable");return this._writable},enumerable:!1,configurable:!0}),n}();function Ir(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_transformStreamController"))}function Ln(n,d){Gt(n._readable._readableStreamController,d),In(n,d)}function In(n,d){Tr(n._transformStreamController),Xn(n._writable._writableStreamController,d),n._backpressure&&Tn(n,!1)}function Tn(n,d){void 0!==n._backpressureChangePromise&&n._backpressureChangePromise_resolve(),n._backpressureChangePromise=H(function(Q){n._backpressureChangePromise_resolve=Q}),n._backpressure=d}Object.defineProperties(ar.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(ar.prototype,a.toStringTag,{value:"TransformStream",configurable:!0});var Dn=function(){function n(){throw new TypeError("Illegal constructor")}return Object.defineProperty(n.prototype,"desiredSize",{get:function(){if(!Nn(this))throw Fn("desiredSize");return er(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),n.prototype.enqueue=function(d){if(void 0===d&&(d=void 0),!Nn(this))throw Fn("enqueue");Dr(this,d)},n.prototype.error=function(d){if(void 0===d&&(d=void 0),!Nn(this))throw Fn("error");!function(n,d){Ln(n._controlledTransformStream,d)}(this,d)},n.prototype.terminate=function(){if(!Nn(this))throw Fn("terminate");!function(n){var d=n._controlledTransformStream;gn(d._readable._readableStreamController),In(d,new TypeError("TransformStream terminated"))}(this)},n}();function Nn(n){return!(!L(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledTransformStream"))}function Tr(n){n._transformAlgorithm=void 0,n._flushAlgorithm=void 0}function Dr(n,d){var Q=n._controlledTransformStream,ce=Q._readable._readableStreamController;if(!an(ce))throw new TypeError("Readable side is not in a state that permits enqueue");try{On(ce,d)}catch(Be){throw In(Q,Be),Q._readable._storedError}(function(n){return!Cr(n)})(ce)!==Q._backpressure&&Tn(Q,!0)}function Nr(n,d){return l(n._transformAlgorithm(d),void 0,function(ce){throw Ln(n._controlledTransformStream,ce),ce})}function Fn(n){return new TypeError("TransformStreamDefaultController.prototype."+n+" can only be used on a TransformStreamDefaultController")}function Fr(n){return new TypeError("TransformStream.prototype."+n+" can only be used on a TransformStream")}Object.defineProperties(Dn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Dn.prototype,a.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),r.ByteLengthQueuingStrategy=nr,r.CountQueuingStrategy=rr,r.ReadableByteStreamController=Rt,r.ReadableStream=on,r.ReadableStreamBYOBReader=Zt,r.ReadableStreamBYOBRequest=dt,r.ReadableStreamDefaultController=pn,r.ReadableStreamDefaultReader=ye,r.TransformStream=ar,r.TransformStreamDefaultController=Dn,r.WritableStream=nn,r.WritableStreamDefaultController=dn,r.WritableStreamDefaultWriter=lt,Object.defineProperty(r,"__esModule",{value:!0})}(g)},(X,g,r)=>{r(123);var a=r(127);X.exports=a("String","padStart")},(X,g,r)=>{"use strict";var a=r(9),T=r(124).start;a({target:"String",proto:!0,forced:r(126)},{padStart:function(L){return T(this,L,arguments.length>1?arguments[1]:void 0)}})},(X,g,r)=>{var a=r(46),T=r(125),M=r(19),G=Math.ceil,L=function(q){return function(W,z,$){var e,F,Z=String(M(W)),H=Z.length,x=void 0===$?" ":String($),j=a(z);return j<=H||""==x?Z:((F=T.call(x,G((e=j-H)/x.length))).length>e&&(F=F.slice(0,e)),q?Z+F:F+Z)}};X.exports={start:L(!1),end:L(!0)}},(X,g,r)=>{"use strict";var a=r(47),T=r(19);X.exports="".repeat||function(G){var L=String(T(this)),q="",W=a(G);if(W<0||W==1/0)throw RangeError("Wrong number of repetitions");for(;W>0;(W>>>=1)&&(L+=L))1&W&&(q+=L);return q}},(X,g,r)=>{var a=r(95);X.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},(X,g,r)=>{var a=r(10),T=r(75),M=Function.call;X.exports=function(G,L,q){return T(M,a[G].prototype[L],q)}},(X,g,r)=>{r(129);var a=r(127);X.exports=a("String","padEnd")},(X,g,r)=>{"use strict";var a=r(9),T=r(124).end;a({target:"String",proto:!0,forced:r(126)},{padEnd:function(L){return T(this,L,arguments.length>1?arguments[1]:void 0)}})},(X,g,r)=>{r(131);var a=r(42);X.exports=a.Object.values},(X,g,r)=>{var a=r(9),T=r(132).values;a({target:"Object",stat:!0},{values:function(G){return T(G)}})},(X,g,r)=>{var a=r(12),T=r(60),M=r(16),G=r(14).f,L=function(q){return function(W){for(var j,z=M(W),$=T(z),Z=$.length,H=0,x=[];Z>H;)j=$[H++],(!a||G.call(z,j))&&x.push(q?[j,z[j]]:z[j]);return x}};X.exports={entries:L(!0),values:L(!1)}},(X,g,r)=>{r(134);var a=r(42);X.exports=a.Object.entries},(X,g,r)=>{var a=r(9),T=r(132).entries;a({target:"Object",stat:!0},{entries:function(G){return T(G)}})},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(136),_node_utils=__w_pdfjs_require__(137),_annotation_storage=__w_pdfjs_require__(138),_api_compatibility=__w_pdfjs_require__(139),_canvas=__w_pdfjs_require__(140),_worker_options=__w_pdfjs_require__(142),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(143),_metadata=__w_pdfjs_require__(144),_optional_content_config=__w_pdfjs_require__(146),_transport_stream=__w_pdfjs_require__(147),_webgl=__w_pdfjs_require__(148);function _interopRequireDefault(X){return X&&X.__esModule?X:{default:X}}function asyncGeneratorStep(X,g,r,a,T,M,G){try{var L=X[M](G),q=L.value}catch(W){return void r(W)}L.done?g(q):Promise.resolve(q).then(a,T)}function _asyncToGenerator(X){return function(){var g=this,r=arguments;return new Promise(function(a,T){var M=X.apply(g,r);function G(q){asyncGeneratorStep(M,a,T,G,L,"next",q)}function L(q){asyncGeneratorStep(M,a,T,G,L,"throw",q)}G(void 0)})}}function _toConsumableArray(X){return _arrayWithoutHoles(X)||_iterableToArray(X)||_unsupportedIterableToArray(X)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(X){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(X))return Array.from(X)}function _arrayWithoutHoles(X){if(Array.isArray(X))return _arrayLikeToArray(X)}function _createForOfIteratorHelper(X,g){var r;if("undefined"==typeof Symbol||null==X[Symbol.iterator]){if(Array.isArray(X)||(r=_unsupportedIterableToArray(X))||g&&X&&"number"==typeof X.length){r&&(X=r);var a=0,T=function(){};return{s:T,n:function(){return a>=X.length?{done:!0}:{done:!1,value:X[a++]}},e:function(W){throw W},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var L,M=!0,G=!1;return{s:function(){r=X[Symbol.iterator]()},n:function(){var W=r.next();return M=W.done,W},e:function(W){G=!0,L=W},f:function(){try{!M&&null!=r.return&&r.return()}finally{if(G)throw L}}}}function _classCallCheck(X,g){if(!(X instanceof g))throw new TypeError("Cannot call a class as a function")}function _defineProperties(X,g){for(var r=0;r<g.length;r++){var a=g[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(X,a.key,a)}}function _createClass(X,g,r){return g&&_defineProperties(X.prototype,g),r&&_defineProperties(X,r),X}function _slicedToArray(X,g){return _arrayWithHoles(X)||_iterableToArrayLimit(X,g)||_unsupportedIterableToArray(X,g)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(X,g){if(X){if("string"==typeof X)return _arrayLikeToArray(X,g);var r=Object.prototype.toString.call(X).slice(8,-1);if("Object"===r&&X.constructor&&(r=X.constructor.name),"Map"===r||"Set"===r)return Array.from(X);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(X,g)}}function _arrayLikeToArray(X,g){(null==g||g>X.length)&&(g=X.length);for(var r=0,a=new Array(g);r<g;r++)a[r]=X[r];return a}function _iterableToArrayLimit(X,g){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(X)){var r=[],a=!0,T=!1,M=void 0;try{for(var L,G=X[Symbol.iterator]();!(a=(L=G.next()).done)&&(r.push(L.value),!g||r.length!==g);a=!0);}catch(q){T=!0,M=q}finally{try{!a&&null!=G.return&&G.return()}finally{if(T)throw M}}return r}}function _arrayWithHoles(X){if(Array.isArray(X))return X}function _typeof(X){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(X)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(X){createPDFNetworkStream=X}function getDocument(X){var r,g=new PDFDocumentLoadingTask;if("string"==typeof X)r={url:X};else if((0,_util.isArrayBuffer)(X))r={data:X};else if(X instanceof PDFDataRangeTransport)r={range:X};else{if("object"!==_typeof(X))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!X.url&&!X.data&&!X.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=X}var a=Object.create(null),T=null,M=null;for(var G in r)if("url"!==G||"undefined"==typeof window)if("range"!==G)if("worker"!==G)if("data"!==G||r[G]instanceof Uint8Array)a[G]=r[G];else{var L=r[G];if("string"==typeof L)a[G]=(0,_util.stringToBytes)(L);else if("object"!==_typeof(L)||null===L||isNaN(L.length)){if(!(0,_util.isArrayBuffer)(L))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");a[G]=new Uint8Array(L)}else a[G]=new Uint8Array(L)}else M=r[G];else T=r[G];else a[G]=new URL(r[G],window.location).href;if(a.rangeChunkSize=a.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,a.CMapReaderFactory=a.CMapReaderFactory||DefaultCMapReaderFactory,a.ignoreErrors=!0!==a.stopAtErrors,a.fontExtraProperties=!0===a.fontExtraProperties,a.pdfBug=!0===a.pdfBug,Number.isInteger(a.maxImageSize)||(a.maxImageSize=-1),"boolean"!=typeof a.isEvalSupported&&(a.isEvalSupported=!0),"boolean"!=typeof a.disableFontFace&&(a.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),void 0===a.ownerDocument&&(a.ownerDocument=globalThis.document),"boolean"!=typeof a.disableRange&&(a.disableRange=!1),"boolean"!=typeof a.disableStream&&(a.disableStream=!1),"boolean"!=typeof a.disableAutoFetch&&(a.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(a.verbosity),!M){var q={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};M=q.port?PDFWorker.fromPort(q):new PDFWorker(q),g._worker=M}var W=g.docId;return M.promise.then(function(){if(g.destroyed)throw new Error("Loading aborted");var z=_fetchDocument(M,a,T,W),$=new Promise(function(Z){var H;T?H=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,disableRange:a.disableRange,disableStream:a.disableStream},T):a.data||(H=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream})),Z(H)});return Promise.all([z,$]).then(function(Z){var H=_slicedToArray(Z,2),x=H[0],j=H[1];if(g.destroyed)throw new Error("Loading aborted");var e=new _message_handler.MessageHandler(W,x,M.port);e.postMessageTransfers=M.postMessageTransfers;var F=new WorkerTransport(e,g,j,a);g._transport=F,e.send("Ready",null)})}).catch(g._capability.reject),g}function _fetchDocument(X,g,r,a){return X.destroyed?Promise.reject(new Error("Worker was destroyed")):(r&&(g.length=r.length,g.initialData=r.initialData,g.progressiveDone=r.progressiveDone),X.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.7.570",source:{data:g.data,url:g.url,password:g.password,disableAutoFetch:g.disableAutoFetch,rangeChunkSize:g.rangeChunkSize,length:g.length},maxImageSize:g.maxImageSize,disableFontFace:g.disableFontFace,postMessageTransfers:X.postMessageTransfers,docBaseUrl:g.docBaseUrl,ignoreErrors:g.ignoreErrors,isEvalSupported:g.isEvalSupported,fontExtraProperties:g.fontExtraProperties}).then(function(T){if(X.destroyed)throw new Error("Worker was destroyed");return T}))}exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var PDFDocumentLoadingTask=(g=0,function(){function a(){_classCallCheck(this,a),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+g++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(a,[{key:"destroy",value:function(){var M=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){M._transport=null,M._worker&&(M._worker.destroy(),M._worker=null)})}},{key:"promise",get:function(){return this._capability.promise}}]),a}()),PDFDataRangeTransport=function(){function X(g,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,X),this.length=g,this.initialData=r,this.progressiveDone=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(X,[{key:"addRangeListener",value:function(r){this._rangeListeners.push(r)}},{key:"addProgressListener",value:function(r){this._progressListeners.push(r)}},{key:"addProgressiveReadListener",value:function(r){this._progressiveReadListeners.push(r)}},{key:"addProgressiveDoneListener",value:function(r){this._progressiveDoneListeners.push(r)}},{key:"onDataRange",value:function(r,a){var M,T=_createForOfIteratorHelper(this._rangeListeners);try{for(T.s();!(M=T.n()).done;)(0,M.value)(r,a)}catch(L){T.e(L)}finally{T.f()}}},{key:"onDataProgress",value:function(r,a){var T=this;this._readyCapability.promise.then(function(){var G,M=_createForOfIteratorHelper(T._progressListeners);try{for(M.s();!(G=M.n()).done;)(0,G.value)(r,a)}catch(q){M.e(q)}finally{M.f()}})}},{key:"onDataProgressiveRead",value:function(r){var a=this;this._readyCapability.promise.then(function(){var M,T=_createForOfIteratorHelper(a._progressiveReadListeners);try{for(T.s();!(M=T.n()).done;)(0,M.value)(r)}catch(L){T.e(L)}finally{T.f()}})}},{key:"onDataProgressiveDone",value:function(){var r=this;this._readyCapability.promise.then(function(){var T,a=_createForOfIteratorHelper(r._progressiveDoneListeners);try{for(a.s();!(T=a.n()).done;)(0,T.value)()}catch(G){a.e(G)}finally{a.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(r,a){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),X}(),g;exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function X(g,r){_classCallCheck(this,X),this._pdfInfo=g,this._transport=r}return _createClass(X,[{key:"getPage",value:function(r){return this._transport.getPage(r)}},{key:"getPageIndex",value:function(r){return this._transport.getPageIndex(r)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(r){return this._transport.getDestination(r)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"saveDocument",value:function(r){return this._transport.saveDocument(r)}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}},{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),X}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function X(g,r,a,T){var M=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,X),this._pageIndex=g,this._pageInfo=r,this._ownerDocument=T,this._transport=a,this._stats=M?new _display_utils.StatTimer:null,this._pdfBug=M,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}return _createClass(X,[{key:"getViewport",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.scale,T=r.rotation,M=void 0===T?this.rotate:T,G=r.offsetX,L=void 0===G?0:G,q=r.offsetY,W=void 0===q?0:q,z=r.dontFlip,$=void 0!==z&&z;return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:M,offsetX:L,offsetY:W,dontFlip:$})}},{key:"getAnnotations",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.intent,T=void 0===a?null:a;return(!this.annotationsPromise||this.annotationsIntent!==T)&&(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,T),this.annotationsIntent=T),this.annotationsPromise}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"render",value:function(r){var a=this,T=r.canvasContext,M=r.viewport,G=r.intent,L=void 0===G?"display":G,q=r.enableWebGL,W=void 0!==q&&q,z=r.renderInteractiveForms,$=void 0!==z&&z,Z=r.transform,H=void 0===Z?null:Z,x=r.imageLayer,j=void 0===x?null:x,e=r.canvasFactory,F=void 0===e?null:e,S=r.background,C=void 0===S?null:S,l=r.annotationStorage,y=void 0===l?null:l,i=r.optionalContentConfigPromise,u=void 0===i?null:i;this._stats&&this._stats.time("Overall");var s="print"===L?"print":"display";this.pendingCleanup=!1,u||(u=this._transport.getOptionalContentConfig());var P=this._intentStates.get(s);P||(P=Object.create(null),this._intentStates.set(s,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);var E=F||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),O=new _webgl.WebGLContext({enable:W});P.displayReadyCapability||(P.displayReadyCapability=(0,_util.createPromiseCapability)(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:s,renderInteractiveForms:!0===$,annotationStorage:(null==y?void 0:y.getAll())||null}));var c=function(R){var D=P.renderTasks.indexOf(p);D>=0&&P.renderTasks.splice(D,1),(a.cleanupAfterRender||"print"===s)&&(a.pendingCleanup=!0),a._tryCleanup(),R?(p.capability.reject(R),a._abortOperatorList({intentState:P,reason:R})):p.capability.resolve(),a._stats&&(a._stats.timeEnd("Rendering"),a._stats.timeEnd("Overall"))},p=new InternalRenderTask({callback:c,params:{canvasContext:T,viewport:M,transform:H,imageLayer:j,background:C},objs:this.objs,commonObjs:this.commonObjs,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:E,webGLContext:O,useRequestAnimationFrame:"print"!==s,pdfBug:this._pdfBug});P.renderTasks||(P.renderTasks=[]),P.renderTasks.push(p);var B=p.task;return Promise.all([P.displayReadyCapability.promise,u]).then(function(w){var R=_slicedToArray(w,2),D=R[0],m=R[1];a.pendingCleanup?c():(a._stats&&a._stats.time("Rendering"),p.initializeGraphics({transparency:D,optionalContentConfig:m}),p.operatorListChanged())}).catch(c),B}},{key:"getOperatorList",value:function(){var M,a="oplist",T=this._intentStates.get(a);return T||(T=Object.create(null),this._intentStates.set(a,T)),T.opListReadCapability||((M=Object.create(null)).operatorListChanged=function(){if(T.operatorList.lastChunk){T.opListReadCapability.resolve(T.operatorList);var G=T.renderTasks.indexOf(M);G>=0&&T.renderTasks.splice(G,1)}},T.opListReadCapability=(0,_util.createPromiseCapability)(),T.renderTasks=[],T.renderTasks.push(M),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:a})),T.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.normalizeWhitespace,T=void 0!==a&&a,M=r.disableCombineTextItems,G=void 0!==M&&M,L=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===T,combineTextItems:!0!==G},{highWaterMark:L,size:function(W){return W.items.length}})}},{key:"getTextContent",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.streamTextContent(r);return new Promise(function(T,M){var L=a.getReader(),q={items:[],styles:Object.create(null)};!function G(){L.read().then(function(W){var z,$=W.value;W.done?T(q):(Object.assign(q.styles,$.styles),(z=q.items).push.apply(z,_toConsumableArray($.items)),G())},M)}()})}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var T,r=[],a=_createForOfIteratorHelper(this._intentStates);try{for(a.s();!(T=a.n()).done;){var M=_slicedToArray(T.value,2),G=M[0],L=M[1];if(this._abortOperatorList({intentState:L,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==G){var W,q=_createForOfIteratorHelper(L.renderTasks);try{for(q.s();!(W=q.n()).done;){var z=W.value;r.push(z.completed),z.cancel()}}catch($){q.e($)}finally{q.f()}}}}catch($){a.e($)}finally{a.f()}return this.objs.clear(),this.annotationsPromise=null,this._jsActionsPromise=null,this.pendingCleanup=!1,Promise.all(r)}},{key:"cleanup",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(r)}},{key:"_tryCleanup",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var T,a=_createForOfIteratorHelper(this._intentStates.values());try{for(a.s();!(T=a.n()).done;){var M=T.value,G=M.renderTasks,L=M.operatorList;if(0!==G.length||!L.lastChunk)return!1}}catch(q){a.e(q)}finally{a.f()}return this._intentStates.clear(),this.objs.clear(),this.annotationsPromise=null,this._jsActionsPromise=null,r&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(r,a){var T=this._intentStates.get(a);!T||(this._stats&&this._stats.timeEnd("Page Request"),T.displayReadyCapability&&T.displayReadyCapability.resolve(r))}},{key:"_renderPageChunk",value:function(r,a){for(var T=0,M=r.length;T<M;T++)a.operatorList.fnArray.push(r.fnArray[T]),a.operatorList.argsArray.push(r.argsArray[T]);a.operatorList.lastChunk=r.lastChunk;for(var G=0;G<a.renderTasks.length;G++)a.renderTasks[G].operatorListChanged();r.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(r){var a=this;(0,_util.assert)(r.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var M=this._transport.messageHandler.sendWithStream("GetOperatorList",r).getReader(),G=this._intentStates.get(r.intent);G.streamReader=M,function q(){M.read().then(function(W){var z=W.value;W.done?G.streamReader=null:a._transport.destroyed||(a._renderPageChunk(z,G),q())},function(W){if(G.streamReader=null,!a._transport.destroyed){if(G.operatorList){G.operatorList.lastChunk=!0;for(var z=0;z<G.renderTasks.length;z++)G.renderTasks[z].operatorListChanged();a._tryCleanup()}if(G.displayReadyCapability)G.displayReadyCapability.reject(W);else{if(!G.opListReadCapability)throw W;G.opListReadCapability.reject(W)}}})}()}},{key:"_abortOperatorList",value:function(r){var a=this,T=r.intentState,M=r.reason,G=r.force,L=void 0!==G&&G;if((0,_util.assert)(M instanceof Error||"object"===_typeof(M)&&null!==M,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),T.streamReader){if(!L){if(0!==T.renderTasks.length)return;if(M instanceof _display_utils.RenderingCancelledException)return void(T.streamReaderCancelTimeout=setTimeout(function(){a._abortOperatorList({intentState:T,reason:M,force:!0}),T.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(T.streamReader.cancel(new _util.AbortException(null==M?void 0:M.message)),T.streamReader=null,!this._transport.destroyed){var W,q=_createForOfIteratorHelper(this._intentStates);try{for(q.s();!(W=q.n()).done;){var z=_slicedToArray(W.value,2);if(z[1]===T){this._intentStates.delete(z[0]);break}}}catch(H){q.e(H)}finally{q.f()}this.cleanup()}}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),X}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function X(){var g=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,X),this._listeners=[],this._defer=g,this._deferred=Promise.resolve(void 0)}return _createClass(X,[{key:"postMessage",value:function(r,a){var T=this;if(this._defer){var G=new WeakMap,L={data:function M(q){if("object"!==_typeof(q)||null===q)return q;if(G.has(q))return G.get(q);var W,z;if((W=q.buffer)&&(0,_util.isArrayBuffer)(W))return z=null!=a&&a.includes(W)?new q.constructor(W,q.byteOffset,q.byteLength):new q.constructor(q),G.set(q,z),z;for(var $ in z=Array.isArray(q)?[]:{},G.set(q,z),q){for(var Z=void 0,H=q;!(Z=Object.getOwnPropertyDescriptor(H,$));)H=Object.getPrototypeOf(H);if(void 0!==Z.value){if("function"==typeof Z.value){if(q.hasOwnProperty&&q.hasOwnProperty($))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(q[$]));continue}z[$]=M(Z.value)}}return z}(r)};this._deferred.then(function(){T._listeners.forEach(function(q){q.call(T,L)})})}else this._listeners.forEach(function(q){q.call(T,{data:r})})}},{key:"addEventListener",value:function(r,a){this._listeners.push(a)}},{key:"removeEventListener",value:function(r,a){var T=this._listeners.indexOf(a);this._listeners.splice(T,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),X}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var _document$currentScri,pdfjsFilePath=null===(_document$currentScri=document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var X;try{var g;X=null===(g=globalThis.pdfjsWorker)||void 0===g?void 0:g.WorkerMessageHandler}catch(r){}return X||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref12=_asyncToGenerator(_regenerator.default.mark(function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}},_callee)}));return function(){return _ref12.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(X){return URL.createObjectURL(new Blob(["importScripts('"+X+"');"]))}var PDFWorker=function(){function X(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=g.name,a=void 0===r?null:r,T=g.port,M=void 0===T?null:T,G=g.verbosity,L=void 0===G?(0,_util.getVerbosityLevel)():G;if(_classCallCheck(this,X),M&&pdfWorkerPorts.has(M))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=a,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=L,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,M)return pdfWorkerPorts.set(M,this),void this._initializeFromPort(M);this._initialize()}return _createClass(X,[{key:"_initializeFromPort",value:function(r){this._port=r,this._messageHandler=new _message_handler.MessageHandler("main","worker",r),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var r=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var a=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,a)||(a=createCDNWrapper(new URL(a,window.location).href));var T=new Worker(a),M=new _message_handler.MessageHandler("main","worker",T),G=function(){T.removeEventListener("error",L),M.destroy(),T.terminate(),r.destroyed?r._readyCapability.reject(new Error("Worker was destroyed")):r._setupFakeWorker()},L=function(){r._webWorker||G()};T.addEventListener("error",L),M.on("test",function(W){T.removeEventListener("error",L),r.destroyed?G():W?(r._messageHandler=M,r._port=T,r._webWorker=T,W.supportTransfers||(r.postMessageTransfers=!1),r._readyCapability.resolve(),M.send("configure",{verbosity:r.verbosity})):(r._setupFakeWorker(),M.destroy(),T.terminate())}),M.on("ready",function(W){if(T.removeEventListener("error",L),r.destroyed)G();else try{q()}catch(z){r._setupFakeWorker()}});var q=function(){var z=new Uint8Array([r.postMessageTransfers?255:0]);try{M.send("test",z,[z.buffer])}catch($){(0,_util.warn)("Cannot use postMessage transfers."),z[0]=0,M.send("test",z)}};return void q()}catch(W){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var r=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(a){if(r.destroyed)r._readyCapability.reject(new Error("Worker was destroyed"));else{var T=new LoopbackPort;r._port=T;var M="fake"+nextFakeWorkerId++,G=new _message_handler.MessageHandler(M+"_worker",M,T);a.setup(G,T);var L=new _message_handler.MessageHandler(M,M+"_worker",T);r._messageHandler=L,r._readyCapability.resolve(),L.send("configure",{verbosity:r.verbosity})}}).catch(function(a){r._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(a.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(r){if(!r||!r.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(r.port)?pdfWorkerPorts.get(r.port):new X(r)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),X}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function X(g,r,a,T){_classCallCheck(this,X),this.messageHandler=g,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:T.ownerDocument}),this._params=T,this.CMapReaderFactory=new T.CMapReaderFactory({baseUrl:T.cMapUrl,isCompressed:T.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(X,[{key:"destroy",value:function(){var r=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var a=[];this.pageCache.forEach(function(G){G&&a.push(G._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;var T=this.messageHandler.sendWithPromise("Terminate",null);if(a.push(T),this.loadingTaskSettled){var M=this.loadingTask.promise.then(function(G){G.hasOwnProperty("annotationStorage")&&G.annotationStorage.resetModified()}).catch(function(){});a.push(M)}return Promise.all(a).then(function(){r.commonObjs.clear(),r.fontLoader.clear(),r._hasJSActionsPromise=null,r._networkStream&&r._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),r.messageHandler&&(r.messageHandler.destroy(),r.messageHandler=null),r.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var r=this,a=this.messageHandler,T=this.loadingTask;a.on("GetReader",function(M,G){(0,_util.assert)(r._networkStream,"GetReader - no `IPDFStream` instance available."),r._fullReader=r._networkStream.getFullReader(),r._fullReader.onProgress=function(L){r._lastProgress={loaded:L.loaded,total:L.total}},G.onPull=function(){r._fullReader.read().then(function(L){var q=L.value;L.done?G.close():((0,_util.assert)((0,_util.isArrayBuffer)(q),"GetReader - expected an ArrayBuffer."),G.enqueue(new Uint8Array(q),1,[q]))}).catch(function(L){G.error(L)})},G.onCancel=function(L){r._fullReader.cancel(L),G.ready.catch(function(q){if(!r.destroyed)throw q})}}),a.on("ReaderHeadersReady",function(M){var G=(0,_util.createPromiseCapability)(),L=r._fullReader;return L.headersReady.then(function(){(!L.isStreamingSupported||!L.isRangeSupported)&&(r._lastProgress&&T.onProgress&&T.onProgress(r._lastProgress),L.onProgress=function(q){T.onProgress&&T.onProgress({loaded:q.loaded,total:q.total})}),G.resolve({isStreamingSupported:L.isStreamingSupported,isRangeSupported:L.isRangeSupported,contentLength:L.contentLength})},G.reject),G.promise}),a.on("GetRangeReader",function(M,G){(0,_util.assert)(r._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var L=r._networkStream.getRangeReader(M.begin,M.end);L?(G.onPull=function(){L.read().then(function(q){var W=q.value;q.done?G.close():((0,_util.assert)((0,_util.isArrayBuffer)(W),"GetRangeReader - expected an ArrayBuffer."),G.enqueue(new Uint8Array(W),1,[W]))}).catch(function(q){G.error(q)})},G.onCancel=function(q){L.cancel(q),G.ready.catch(function(W){if(!r.destroyed)throw W})}):G.close()}),a.on("GetDoc",function(M){var G=M.pdfInfo;r._numPages=G.numPages,T._capability.resolve(new PDFDocumentProxy(G,r))}),a.on("DocException",function(M){var G;switch(M.name){case"PasswordException":G=new _util.PasswordException(M.message,M.code);break;case"InvalidPDFException":G=new _util.InvalidPDFException(M.message);break;case"MissingPDFException":G=new _util.MissingPDFException(M.message);break;case"UnexpectedResponseException":G=new _util.UnexpectedResponseException(M.message,M.status);break;case"UnknownErrorException":G=new _util.UnknownErrorException(M.message,M.details)}G instanceof Error||(0,_util.warn)("DocException - expected a valid Error."),T._capability.reject(G)}),a.on("PasswordRequest",function(M){if(r._passwordCapability=(0,_util.createPromiseCapability)(),T.onPassword)try{T.onPassword(function(q){r._passwordCapability.resolve({password:q})},M.code)}catch(L){r._passwordCapability.reject(L)}else r._passwordCapability.reject(new _util.PasswordException(M.message,M.code));return r._passwordCapability.promise}),a.on("DataLoaded",function(M){T.onProgress&&T.onProgress({loaded:M.length,total:M.length}),r.downloadInfoCapability.resolve(M)}),a.on("StartRenderPage",function(M){r.destroyed||r.pageCache[M.pageIndex]._startRenderPage(M.transparency,M.intent)}),a.on("commonobj",function(M){var G;if(!r.destroyed){var L=_slicedToArray(M,3),q=L[0],W=L[1],z=L[2];if(!r.commonObjs.has(q))switch(W){case"Font":var $=r._params;if("error"in z){var Z=z.error;(0,_util.warn)("Error during font loading: ".concat(Z)),r.commonObjs.resolve(q,Z);break}var H=null;$.pdfBug&&null!==(G=globalThis.FontInspector)&&void 0!==G&&G.enabled&&(H={registerFont:function(e,F){globalThis.FontInspector.fontAdded(e,F)}});var x=new _font_loader.FontFaceObject(z,{isEvalSupported:$.isEvalSupported,disableFontFace:$.disableFontFace,ignoreErrors:$.ignoreErrors,onUnsupportedFeature:r._onUnsupportedFeature.bind(r),fontRegistry:H});r.fontLoader.bind(x).catch(function(j){return a.sendWithPromise("FontFallback",{id:q})}).finally(function(){!$.fontExtraProperties&&x.data&&(x.data=null),r.commonObjs.resolve(q,x)});break;case"FontPath":case"Image":r.commonObjs.resolve(q,z);break;default:throw new Error("Got unknown common object type ".concat(W))}}}),a.on("obj",function(M){var G;if(!r.destroyed){var L=_slicedToArray(M,4),q=L[0],z=L[2],$=L[3],Z=r.pageCache[L[1]];if(!Z.objs.has(q)){if("Image"!==z)throw new Error("Got unknown object type ".concat(z));Z.objs.resolve(q,$),(null==$||null===(G=$.data)||void 0===G?void 0:G.length)>8e6&&(Z.cleanupAfterRender=!0)}}}),a.on("DocProgress",function(M){r.destroyed||T.onProgress&&T.onProgress({loaded:M.loaded,total:M.total})}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",function(M,G){if(r.destroyed)G.error(new Error("Worker was destroyed"));else{var L=!1;G.onPull=function(){L?G.close():(L=!0,r.CMapReaderFactory.fetch(M).then(function(q){G.enqueue(q,1,[q.cMapData.buffer])}).catch(function(q){G.error(q)}))}}})}},{key:"_onUnsupportedFeature",value:function(r){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(r.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(r){var a=this;if(!Number.isInteger(r)||r<=0||r>this._numPages)return Promise.reject(new Error("Invalid page request"));var T=r-1;if(T in this.pagePromises)return this.pagePromises[T];var M=this.messageHandler.sendWithPromise("GetPage",{pageIndex:T}).then(function(G){if(a.destroyed)throw new Error("Transport destroyed");var L=new PDFPageProxy(T,G,a,a._params.ownerDocument,a._params.pdfBug);return a.pageCache[T]=L,L});return this.pagePromises[T]=M,M}},{key:"getPageIndex",value:function(r){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:r}).catch(function(a){return Promise.reject(new Error(a))})}},{key:"getAnnotations",value:function(r,a){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:r,intent:a})}},{key:"saveDocument",value:function(r){var a,T;return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:(null==r?void 0:r.getAll())||null,filename:null!==(a=null===(T=this._fullReader)||void 0===T?void 0:T.filename)&&void 0!==a?a:null}).finally(function(){r&&r.resetModified()})}},{key:"getFieldObjects",value:function(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(r){return"string"!=typeof r?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:r})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(r){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:r})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(r){return new _optional_content_config.OptionalContentConfig(r)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var r=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){var T,M,G,L;return{info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:null!==(T=null===(M=r._fullReader)||void 0===M?void 0:M.filename)&&void 0!==T?T:null,contentLength:null!==(G=null===(L=r._fullReader)||void 0===L?void 0:L.contentLength)&&void 0!==G?G:null}})}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var r=this;return this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var a=0,T=r.pageCache.length;a<T;a++){var M=r.pageCache[a];if(M&&!M.cleanup())throw new Error("startCleanup: Page ".concat(a+1," is currently rendering."))}r.commonObjs.clear(),r.fontLoader.clear(),r._hasJSActionsPromise=null})}},{key:"loadingTaskSettled",get:function(){return this.loadingTask._capability.settled}},{key:"loadingParams",get:function(){var r=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:r.disableAutoFetch,disableFontFace:r.disableFontFace})}}]),X}(),PDFObjects=function(){function X(){_classCallCheck(this,X),this._objs=Object.create(null)}return _createClass(X,[{key:"_ensureObj",value:function(r){return this._objs[r]?this._objs[r]:this._objs[r]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(a)return this._ensureObj(r).capability.promise.then(a),null;var T=this._objs[r];if(!T||!T.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(r,"."));return T.data}},{key:"has",value:function(r){var a=this._objs[r];return(null==a?void 0:a.resolved)||!1}},{key:"resolve",value:function(r,a){var T=this._ensureObj(r);T.resolved=!0,T.data=a,T.capability.resolve(a)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),X}(),RenderTask=function(){function X(g){_classCallCheck(this,X),this._internalRenderTask=g,this.onContinue=null}return _createClass(X,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),X}(),InternalRenderTask=function(){var g=new WeakSet,r=function(){function a(T){var M=T.callback,G=T.params,L=T.objs,q=T.commonObjs,W=T.operatorList,z=T.pageIndex,$=T.canvasFactory,Z=T.webGLContext,H=T.useRequestAnimationFrame,x=void 0!==H&&H,j=T.pdfBug,e=void 0!==j&&j;_classCallCheck(this,a),this.callback=M,this.params=G,this.objs=L,this.commonObjs=q,this.operatorListIdx=null,this.operatorList=W,this._pageIndex=z,this.canvasFactory=$,this.webGLContext=Z,this._pdfBug=e,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===x&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=G.canvasContext.canvas}return _createClass(a,[{key:"initializeGraphics",value:function(M){var G,L=M.transparency,q=void 0!==L&&L,W=M.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(g.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g.add(this._canvas)}this._pdfBug&&null!==(G=globalThis.StepperManager)&&void 0!==G&&G.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var z=this.params,Z=z.viewport,H=z.transform,j=z.background;this.gfx=new _canvas.CanvasGraphics(z.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,z.imageLayer,W),this.gfx.beginDrawing({transform:H,viewport:Z,transparency:q,background:j}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&g.delete(this._canvas),this.callback(M||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var M=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){M._nextBound().catch(M.cancel.bind(M))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(T=_asyncToGenerator(_regenerator.default.mark(function G(){return _regenerator.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!this.cancelled){q.next=2;break}return q.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&g.delete(this._canvas),this.callback()));case 4:case"end":return q.stop()}},G,this)})),function(){return T.apply(this,arguments)})},{key:"completed",get:function(){return this.capability.promise.catch(function(){})}}]),a;var T}();return r}(),version="2.7.570";exports.version=version;var build="f2c7338b0";exports.build=build},(X,g,r)=>{"use strict";function a(i){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}Object.defineProperty(g,"__esModule",{value:!0}),g.FontLoader=g.FontFaceObject=void 0;var i,T=(i=r(2))&&i.__esModule?i:{default:i},M=r(4);function q(i,u){return(q=Object.setPrototypeOf||function(P,E){return P.__proto__=E,P})(i,u)}function z(i,u){return!u||"object"!==a(u)&&"function"!=typeof u?function(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(i):u}function H(i){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)})(i)}function x(i,u,s,P,E,O,c){try{var p=i[O](c),B=p.value}catch(w){return void s(w)}p.done?u(B):Promise.resolve(B).then(P,E)}function e(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")}function F(i,u){for(var s=0;s<u.length;s++){var P=u[s];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(i,P.key,P)}}function S(i,u,s){return u&&F(i.prototype,u),s&&F(i,s),i}var l,C=function(){function i(u){var s=u.docId,P=u.onUnsupportedFeature,E=u.ownerDocument,O=void 0===E?globalThis.document:E;e(this,i),this.constructor===i&&(0,M.unreachable)("Cannot initialize BaseFontLoader."),this.docId=s,this._onUnsupportedFeature=P,this._document=O,this.nativeFontFaces=[],this.styleElement=null}return S(i,[{key:"addNativeFontFace",value:function(s){this.nativeFontFaces.push(s),this._document.fonts.add(s)}},{key:"insertRule",value:function(s){var P=this.styleElement;P||((P=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(P));var E=P.sheet;E.insertRule(s,E.cssRules.length)}},{key:"clear",value:function(){var s=this;this.nativeFontFaces.forEach(function(P){s._document.fonts.delete(P)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(u=function(i){return function(){var u=this,s=arguments;return new Promise(function(P,E){var O=i.apply(u,s);function c(B){x(O,P,E,c,p,"next",B)}function p(B){x(O,P,E,c,p,"throw",B)}c(void 0)})}}(T.default.mark(function P(E){var c,p,O=this;return T.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(!E.attached&&!E.missingFile){w.next=2;break}return w.abrupt("return");case 2:if(E.attached=!0,!this.isFontLoadingAPISupported){w.next=19;break}if(!(c=E.createNativeFontFace())){w.next=18;break}return this.addNativeFontFace(c),w.prev=7,w.next=10,c.loaded;case 10:w.next=18;break;case 12:throw w.prev=12,w.t0=w.catch(7),this._onUnsupportedFeature({featureId:M.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,M.warn)("Failed to load font '".concat(c.family,"': '").concat(w.t0,"'.")),E.disableFontFace=!0,w.t0;case 18:return w.abrupt("return");case 19:if(!(p=E.createFontFaceRule())){w.next=26;break}if(this.insertRule(p),!this.isSyncFontLoadingSupported){w.next=24;break}return w.abrupt("return");case 24:return w.next=26,new Promise(function(R){var D=O._queueLoadingCallback(R);O._prepareFontLoadEvent([p],[E],D)});case 26:case"end":return w.stop()}},P,this,[[7,12]])})),function(P){return u.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(s){(0,M.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(s,P,E){(0,M.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var s;return(0,M.shadow)(this,"isFontLoadingAPISupported",!(null===(s=this._document)||void 0===s||!s.fonts))}},{key:"isSyncFontLoadingSupported",get:function(){(0,M.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,M.unreachable)("Abstract method `_loadTestFont`.")}}]),i;var u}();g.FontLoader=l,g.FontLoader=l=function(i){!function(i,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&q(i,u)}(s,i);var u=function(i){var u=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}();return function(){var E,P=H(i);if(u){var O=H(this).constructor;E=Reflect.construct(P,arguments,O)}else E=P.apply(this,arguments);return z(this,E)}}(s);function s(P){var E;return e(this,s),(E=u.call(this,P)).loadingContext={requests:[],nextRequestId:0},E.loadTestFontId=0,E}return S(s,[{key:"_queueLoadingCallback",value:function(E){var c=this.loadingContext,p={id:"pdfjs-font-loading-".concat(c.nextRequestId++),done:!1,complete:function(){for((0,M.assert)(!p.done,"completeRequest() cannot be called twice."),p.done=!0;c.requests.length>0&&c.requests[0].done;){var B=c.requests.shift();setTimeout(B.callback,0)}},callback:E};return c.requests.push(p),p}},{key:"_prepareFontLoadEvent",value:function(E,O,c){var p=this;function B(ae,ne){return ae.charCodeAt(ne)<<24|ae.charCodeAt(ne+1)<<16|ae.charCodeAt(ne+2)<<8|255&ae.charCodeAt(ne+3)}function w(ae,ne,he,me){return ae.substring(0,ne)+me+ae.substring(ne+he)}var R,D,m=this._document.createElement("canvas");m.width=1,m.height=1;var f=m.getContext("2d"),_=0,o="lt".concat(Date.now()).concat(this.loadTestFontId++),b=this._loadTestFont,N=1482184792,I=B(b=w(b,976,o.length,o),16);for(R=0,D=o.length-3;R<D;R+=4)I=I-N+B(o,R)|0;R<o.length&&(I=I-N+B(o+"XXX",R)|0),b=w(b,16,4,(0,M.string32)(I));var V="url(data:font/opentype;base64,".concat(btoa(b),");"),Y='@font-face {font-family:"'.concat(o,'";src:').concat(V,"}");this.insertRule(Y);var J=[];for(R=0,D=O.length;R<D;R++)J.push(O[R].loadedName);J.push(o);var re=this._document.createElement("div");for(re.style.visibility="hidden",re.style.width=re.style.height="10px",re.style.position="absolute",re.style.top=re.style.left="0px",R=0,D=J.length;R<D;++R){var te=this._document.createElement("span");te.textContent="Hi",te.style.fontFamily=J[R],re.appendChild(te)}this._document.body.appendChild(re),function v(ae,ne){if(++_>30)return(0,M.warn)("Load test font never loaded."),void ne();f.font="30px "+ae,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0?ne():setTimeout(v.bind(null,ae,ne))}(o,function(){p._document.body.removeChild(re),c.complete()})}},{key:"isSyncFontLoadingSupported",get:function(){var E=!1;if("undefined"==typeof navigator)E=!0;else{var O=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==O?void 0:O[1])>=14&&(E=!0)}return(0,M.shadow)(this,"isSyncFontLoadingSupported",E)}},{key:"_loadTestFont",get:function(){return(0,M.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),s}(C);var y=function(){function i(u,s){var P=s.isEvalSupported,E=void 0===P||P,O=s.disableFontFace,c=void 0!==O&&O,p=s.ignoreErrors,B=void 0!==p&&p,w=s.onUnsupportedFeature,R=void 0===w?null:w,D=s.fontRegistry,m=void 0===D?null:D;for(var f in e(this,i),this.compiledGlyphs=Object.create(null),u)this[f]=u[f];this.isEvalSupported=!1!==E,this.disableFontFace=!0===c,this.ignoreErrors=!0===B,this._onUnsupportedFeature=R,this.fontRegistry=m}return S(i,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var s=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),s}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var s=(0,M.bytesToString)(new Uint8Array(this.data)),P="url(data:".concat(this.mimetype,";base64,").concat(btoa(s),");"),E='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(P,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,P),E}},{key:"getPathGenerator",value:function(s,P){if(void 0!==this.compiledGlyphs[P])return this.compiledGlyphs[P];var E,O;try{E=s.get(this.loadedName+"_path_"+P)}catch(R){if(!this.ignoreErrors)throw R;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:M.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,M.warn)('getPathGenerator - ignoring character: "'.concat(R,'".')),this.compiledGlyphs[P]=function(D,m){}}if(this.isEvalSupported&&M.IsEvalSupportedCached.value){for(var c,p="",B=0,w=E.length;B<w;B++)c=void 0!==(O=E[B]).args?O.args.join(","):"",p+="c."+O.cmd+"("+c+");\n";return this.compiledGlyphs[P]=new Function("c","size",p)}return this.compiledGlyphs[P]=function(R,D){for(var m=0,f=E.length;m<f;m++)"scale"===(O=E[m]).cmd&&(O.args=[D,-D]),R[O.cmd].apply(R,O.args)}}}]),i}();g.FontFaceObject=y},(X,g,r)=>{"use strict";function a(C){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(C)}Object.defineProperty(g,"__esModule",{value:!0}),g.NodeCMapReaderFactory=g.NodeCanvasFactory=void 0;var T=r(1),M=r(6),G=r(4);function L(C,l){for(var y=0;y<l.length;y++){var i=l[y];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(C,i.key,i)}}function q(C,l,y){return l&&L(C.prototype,l),y&&L(C,y),C}function W(C,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(l&&l.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),l&&z(C,l)}function z(C,l){return(z=Object.setPrototypeOf||function(i,u){return i.__proto__=u,i})(C,l)}function $(C){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(C){return!1}}();return function(){var u,i=j(C);if(l){var s=j(this).constructor;u=Reflect.construct(i,arguments,s)}else u=i.apply(this,arguments);return Z(this,u)}}function Z(C,l){return!l||"object"!==a(l)&&"function"!=typeof l?function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(C):l}function j(C){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(C)}function e(C,l){if(!(C instanceof l))throw new TypeError("Cannot call a class as a function")}var F=function C(){e(this,C),(0,G.unreachable)("Not implemented: NodeCanvasFactory")};g.NodeCanvasFactory=F;var S=function C(){e(this,C),(0,G.unreachable)("Not implemented: NodeCMapReaderFactory")};g.NodeCMapReaderFactory=S,M.isNodeJS&&(g.NodeCanvasFactory=F=function(C){W(y,C);var l=$(y);function y(){return e(this,y),l.apply(this,arguments)}return q(y,[{key:"create",value:function(u,s){if(u<=0||s<=0)throw new Error("Invalid canvas size");var E=__webpack_require__(2069).createCanvas(u,s);return{canvas:E,context:E.getContext("2d")}}}]),y}(T.BaseCanvasFactory),g.NodeCMapReaderFactory=S=function(C){W(y,C);var l=$(y);function y(){return e(this,y),l.apply(this,arguments)}return q(y,[{key:"_fetchData",value:function(u,s){return new Promise(function(P,E){__webpack_require__(6599).readFile(u,function(c,p){!c&&p?P({cMapData:new Uint8Array(p),compressionType:s}):E(new Error(c))})})}}]),y}(T.BaseCMapReaderFactory))},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationStorage=void 0;var a=r(4);function T(x,j){return function(x){if(Array.isArray(x))return x}(x)||function(x,j){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(x)){var e=[],F=!0,S=!1,C=void 0;try{for(var y,l=x[Symbol.iterator]();!(F=(y=l.next()).done)&&(e.push(y.value),!j||e.length!==j);F=!0);}catch(i){S=!0,C=i}finally{try{!F&&null!=l.return&&l.return()}finally{if(S)throw C}}return e}}(x,j)||function(x,j){if(x){if("string"==typeof x)return L(x,j);var e=Object.prototype.toString.call(x).slice(8,-1);if("Object"===e&&x.constructor&&(e=x.constructor.name),"Map"===e||"Set"===e)return Array.from(x);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return L(x,j)}}(x,j)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(x,j){(null==j||j>x.length)&&(j=x.length);for(var e=0,F=new Array(j);e<j;e++)F[e]=x[e];return F}function $(x,j){for(var e=0;e<j.length;e++){var F=j[e];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(x,F.key,F)}}g.AnnotationStorage=function(){function x(){(function(x,j){if(!(x instanceof j))throw new TypeError("Cannot call a class as a function")})(this,x),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return function(x,j,e){j&&$(x.prototype,j)}(x,[{key:"getOrCreateValue",value:function(e,F){return this._storage.has(e)?this._storage.get(e):(this._storage.set(e,F),F)}},{key:"setValue",value:function(e,F){var S=this._storage.get(e),C=!1;if(void 0!==S)for(var l=0,y=Object.entries(F);l<y.length;l++){var i=T(y[l],2),u=i[0],s=i[1];S[u]!==s&&(C=!0,S[u]=s)}else this._storage.set(e,F),C=!0;C&&this._setModified()}},{key:"getAll",value:function(){return 0===this._storage.size?null:(0,a.objectFromEntries)(this._storage)}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"size",get:function(){return this._storage.size}}]),x}()},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.apiCompatibilityParams=void 0;var a=r(6),T=Object.create(null);a.isNodeJS&&(T.disableFontFace=!0);var M=Object.freeze(T);g.apiCompatibilityParams=M},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.CanvasGraphics=void 0;var a=r(4),T=r(141);function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}function G(l,y){var i;if("undefined"==typeof Symbol||null==l[Symbol.iterator]){if(Array.isArray(l)||(i=function(l,y){if(l){if("string"==typeof l)return q(l,y);var i=Object.prototype.toString.call(l).slice(8,-1);if("Object"===i&&l.constructor&&(i=l.constructor.name),"Map"===i||"Set"===i)return Array.from(l);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return q(l,y)}}(l))||y&&l&&"number"==typeof l.length){i&&(l=i);var u=0,s=function(){};return{s,n:function(){return u>=l.length?{done:!0}:{done:!1,value:l[u++]}},e:function(p){throw p},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,P=!0,E=!1;return{s:function(){i=l[Symbol.iterator]()},n:function(){var p=i.next();return P=p.done,p},e:function(p){E=!0,O=p},f:function(){try{!P&&null!=i.return&&i.return()}finally{if(E)throw O}}}}function q(l,y){(null==y||y>l.length)&&(y=l.length);for(var i=0,u=new Array(y);i<y;i++)u[i]=l[i];return u}var $=4096,x=16;function j(l){l.mozCurrentTransform||(l._originalSave=l.save,l._originalRestore=l.restore,l._originalRotate=l.rotate,l._originalScale=l.scale,l._originalTranslate=l.translate,l._originalTransform=l.transform,l._originalSetTransform=l.setTransform,l._transformMatrix=l._transformMatrix||[1,0,0,1,0,0],l._transformStack=[],Object.defineProperty(l,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(l,"mozCurrentTransformInverse",{get:function(){var i=this._transformMatrix,u=i[0],s=i[1],P=i[2],E=i[3],O=i[4],c=i[5],p=u*E-s*P,B=s*P-u*E;return[E/p,s/B,P/B,u/p,(E*O-P*c)/B,(s*O-u*c)/p]}}),l.save=function(){var i=this._transformMatrix;this._transformStack.push(i),this._transformMatrix=i.slice(0,6),this._originalSave()},l.restore=function(){var i=this._transformStack.pop();i&&(this._transformMatrix=i,this._originalRestore())},l.translate=function(i,u){var s=this._transformMatrix;s[4]=s[0]*i+s[2]*u+s[4],s[5]=s[1]*i+s[3]*u+s[5],this._originalTranslate(i,u)},l.scale=function(i,u){var s=this._transformMatrix;s[0]=s[0]*i,s[1]=s[1]*i,s[2]=s[2]*u,s[3]=s[3]*u,this._originalScale(i,u)},l.transform=function(i,u,s,P,E,O){var c=this._transformMatrix;this._transformMatrix=[c[0]*i+c[2]*u,c[1]*i+c[3]*u,c[0]*s+c[2]*P,c[1]*s+c[3]*P,c[0]*E+c[2]*O+c[4],c[1]*E+c[3]*O+c[5]],l._originalTransform(i,u,s,P,E,O)},l.setTransform=function(i,u,s,P,E,O){this._transformMatrix=[i,u,s,P,E,O],l._originalSetTransform(i,u,s,P,E,O)},l.rotate=function(i){var u=Math.cos(i),s=Math.sin(i),P=this._transformMatrix;this._transformMatrix=[P[0]*u+P[2]*s,P[1]*u+P[3]*s,P[0]*-s+P[2]*u,P[1]*-s+P[3]*u,P[4],P[5]],this._originalRotate(i)})}var e=function(){function y(i){this.canvasFactory=i,this.cache=Object.create(null)}return y.prototype={getCanvas:function(u,s,P,E){var O;return void 0!==this.cache[u]?(this.canvasFactory.reset(O=this.cache[u],s,P),O.context.setTransform(1,0,0,1,0,0)):(O=this.canvasFactory.create(s,P),this.cache[u]=O),E&&j(O.context),O},clear:function(){for(var u in this.cache)this.canvasFactory.destroy(this.cache[u]),delete this.cache[u]}},y}(),S=function(){function y(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return y.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(u,s){this.x=u,this.y=s}},y}(),C=function(){function u(o,b,A,k,N,I,V){this.ctx=o,this.current=new S,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=A,this.canvasFactory=k,this.webGLContext=N,this.imageLayer=I,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=V,this.cachedCanvases=new e(this.canvasFactory),o&&j(o),this._cachedGetSinglePixelWidth=null}function s(o,b){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&b instanceof ImageData)o.putImageData(b,0,0);else{var te,he,me,Se,se,fe,K,ie,oe,k=b.height,N=b.width,I=k%x,V=(k-I)/x,Y=0===I?V:V+1,J=o.createImageData(N,x),re=0,ae=b.data,ne=J.data;if(A)switch(A.length){case 1:fe=A[0],K=A[0],ie=A[0],oe=A[0];break;case 4:fe=A[0],K=A[1],ie=A[2],oe=A[3]}if(b.kind===a.ImageKind.GRAYSCALE_1BPP){var Ee=ae.byteLength,ye=new Uint32Array(ne.buffer,0,ne.byteLength>>2),we=ye.length,Oe=N+7>>3,be=4294967295,ze=a.IsLittleEndianCached.value?4278190080:255;if(oe&&255===oe[0]&&0===oe[255]){var He=[ze,be];be=He[0],ze=He[1]}for(he=0;he<Y;he++){for(Se=he<V?x:I,te=0,me=0;me<Se;me++){for(var Ce=Ee-re,Ne=0,Me=Ce>Oe?N:8*Ce-7,Ve=-8&Me,ue=0,ge=0;Ne<Ve;Ne+=8)ge=ae[re++],ye[te++]=128&ge?be:ze,ye[te++]=64&ge?be:ze,ye[te++]=32&ge?be:ze,ye[te++]=16&ge?be:ze,ye[te++]=8&ge?be:ze,ye[te++]=4&ge?be:ze,ye[te++]=2&ge?be:ze,ye[te++]=1&ge?be:ze;for(;Ne<Me;Ne++)0===ue&&(ge=ae[re++],ue=128),ye[te++]=ge&ue?be:ze,ue>>=1}for(;te<we;)ye[te++]=0;o.putImageData(J,0,he*x)}}else if(b.kind===a.ImageKind.RGBA_32BPP){var _e=!!(fe||K||ie);for(me=0,se=N*x*4,he=0;he<V;he++){if(ne.set(ae.subarray(re,re+se)),re+=se,_e)for(var ke=0;ke<se;ke+=4)fe&&(ne[ke+0]=fe[ne[ke+0]]),K&&(ne[ke+1]=K[ne[ke+1]]),ie&&(ne[ke+2]=ie[ne[ke+2]]);o.putImageData(J,0,me),me+=x}if(he<Y){if(ne.set(ae.subarray(re,re+(se=N*I*4))),_e)for(var Te=0;Te<se;Te+=4)fe&&(ne[Te+0]=fe[ne[Te+0]]),K&&(ne[Te+1]=K[ne[Te+1]]),ie&&(ne[Te+2]=ie[ne[Te+2]]);o.putImageData(J,0,me)}}else{if(b.kind!==a.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(b.kind));var Ge=!!(fe||K||ie);for(se=N*(Se=x),he=0;he<Y;he++){for(he>=V&&(se=N*(Se=I)),te=0,me=se;me--;)ne[te++]=ae[re++],ne[te++]=ae[re++],ne[te++]=ae[re++],ne[te++]=255;if(Ge)for(var Ze=0;Ze<te;Ze+=4)fe&&(ne[Ze+0]=fe[ne[Ze+0]]),K&&(ne[Ze+1]=K[ne[Ze+1]]),ie&&(ne[Ze+2]=ie[ne[Ze+2]]);o.putImageData(J,0,he*x)}}}}function P(o,b){for(var A=b.height,k=b.width,N=A%x,I=(A-N)/x,V=0===N?I:I+1,Y=o.createImageData(k,x),J=0,re=b.data,te=Y.data,ae=0;ae<V;ae++){for(var ne=ae<I?x:N,he=3,me=0;me<ne;me++)for(var Se=void 0,se=0,fe=0;fe<k;fe++)se||(Se=re[J++],se=128),te[he]=Se&se?0:255,he+=4,se>>=1;o.putImageData(Y,0,ae*x)}}function E(o,b){for(var A=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],k=0,N=A.length;k<N;k++){var I=A[k];void 0!==o[I]&&(b[I]=o[I])}void 0!==o.setLineDash&&(b.setLineDash(o.getLineDash()),b.lineDashOffset=o.lineDashOffset)}function O(o){o.strokeStyle="#000000",o.fillStyle="#000000",o.fillRule="nonzero",o.globalAlpha=1,o.lineWidth=1,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=10,o.globalCompositeOperation="source-over",o.font="10px sans-serif",void 0!==o.setLineDash&&(o.setLineDash([]),o.lineDashOffset=0)}function c(o,b,A,k){for(var N=o.length,I=3;I<N;I+=4){var V=o[I];if(0===V)o[I-3]=b,o[I-2]=A,o[I-1]=k;else if(V<255){var Y=255-V;o[I-3]=o[I-3]*V+b*Y>>8,o[I-2]=o[I-2]*V+A*Y>>8,o[I-1]=o[I-1]*V+k*Y>>8}}}function p(o,b,A){for(var k=o.length,I=3;I<k;I+=4)b[I]=b[I]*(A?A[o[I]]:o[I])*.00392156862745098|0}function B(o,b,A){for(var k=o.length,N=3;N<k;N+=4){var I=77*o[N-3]+152*o[N-2]+28*o[N-1];b[N]=A?b[N]*A[I>>8]>>8:b[N]*I>>16}}function R(o,b,A,k){var N=b.canvas,I=b.context;o.setTransform(b.scaleX,0,0,b.scaleY,b.offsetX,b.offsetY);var V=b.backdrop||null;if(!b.transferMap&&k.isEnabled){var Y=k.composeSMask({layer:A.canvas,mask:N,properties:{subtype:b.subtype,backdrop:V}});return o.setTransform(1,0,0,1,0,0),void o.drawImage(Y,b.offsetX,b.offsetY)}(function(o,b,A,k,N,I,V){var ae,Y=!!I,J=Y?I[0]:0,re=Y?I[1]:0,te=Y?I[2]:0;ae="Luminosity"===N?B:p;for(var he=Math.min(k,Math.ceil(1048576/A)),me=0;me<k;me+=he){var Se=Math.min(he,k-me),se=o.getImageData(0,me,A,Se),fe=b.getImageData(0,me,A,Se);Y&&c(se.data,J,re,te),ae(se.data,fe.data,V),o.putImageData(fe,0,me)}})(I,A,N.width,N.height,b.subtype,V,b.transferMap),o.drawImage(N,0,0)}var D=["butt","round","square"],m=["miter","round","bevel"],f={},_={};for(var v in u.prototype={beginDrawing:function(b){var A=b.transform,k=b.viewport,N=b.transparency,I=void 0!==N&&N,V=b.background,Y=void 0===V?null:V,J=this.ctx.canvas.width,re=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=Y||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,J,re),this.ctx.restore(),I){var te=this.cachedCanvases.getCanvas("transparent",J,re,!0);this.compositeCtx=this.ctx,this.transparentCanvas=te.canvas,this.ctx=te.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),O(this.ctx),A&&this.ctx.transform.apply(this.ctx,A),this.ctx.transform.apply(this.ctx,k.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(b,A,k,N){var I=b.argsArray,V=b.fnArray,Y=A||0,J=I.length;if(J===Y)return Y;for(var me,re=J-Y>10&&"function"==typeof k,te=re?Date.now()+15:0,ae=0,ne=this.commonObjs,he=this.objs;;){if(void 0!==N&&Y===N.nextBreakPoint)return N.breakIt(Y,k),Y;if((me=V[Y])!==a.OPS.dependency)this[me].apply(this,I[Y]);else{var se,Se=G(I[Y]);try{for(Se.s();!(se=Se.n()).done;){var fe=se.value,K=fe.startsWith("g_")?ne:he;if(!K.has(fe))return K.get(fe,k),Y}}catch(ie){Se.e(ie)}finally{Se.f()}}if(++Y===J)return Y;if(re&&++ae>10){if(Date.now()>te)return k(),Y;ae=0}}},endDrawing:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(b){this.current.lineWidth=b,this.ctx.lineWidth=b},setLineCap:function(b){this.ctx.lineCap=D[b]},setLineJoin:function(b){this.ctx.lineJoin=m[b]},setMiterLimit:function(b){this.ctx.miterLimit=b},setDash:function(b,A){var k=this.ctx;void 0!==k.setLineDash&&(k.setLineDash(b),k.lineDashOffset=A)},setRenderingIntent:function(b){},setFlatness:function(b){},setGState:function(b){for(var A=0,k=b.length;A<k;A++){var N=b[A],V=N[1];switch(N[0]){case"LW":this.setLineWidth(V);break;case"LC":this.setLineCap(V);break;case"LJ":this.setLineJoin(V);break;case"ML":this.setMiterLimit(V);break;case"D":this.setDash(V[0],V[1]);break;case"RI":this.setRenderingIntent(V);break;case"FL":this.setFlatness(V);break;case"Font":this.setFont(V[0],V[1]);break;case"CA":this.current.strokeAlpha=N[1];break;case"ca":this.current.fillAlpha=N[1],this.ctx.globalAlpha=N[1];break;case"BM":this.ctx.globalCompositeOperation=V;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=V?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=V}}},beginSMaskGroup:function(){var b=this.current.activeSMask,I=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,b.canvas.width,b.canvas.height,!0),V=this.ctx,Y=V.mozCurrentTransform;this.ctx.save();var J=I.context;J.scale(1/b.scaleX,1/b.scaleY),J.translate(-b.offsetX,-b.offsetY),J.transform.apply(J,Y),b.startTransformInverse=J.mozCurrentTransformInverse,E(V,J),this.ctx=J,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(V),this.groupLevel++},suspendSMaskGroup:function(){var b=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),R(this.ctx,this.current.activeSMask,b,this.webGLContext),this.ctx.restore(),this.ctx.save(),E(b,this.ctx),this.current.resumeSMaskCtx=b;var A=a.Util.transform(this.current.activeSMask.startTransformInverse,b.mozCurrentTransform);this.ctx.transform.apply(this.ctx,A),b.save(),b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,b.canvas.width,b.canvas.height),b.restore()},resumeSMaskGroup:function(){var A=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(A),this.groupLevel++},endSMaskGroup:function(){var b=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),R(this.ctx,this.current.activeSMask,b,this.webGLContext),this.ctx.restore(),E(b,this.ctx);var A=a.Util.transform(this.current.activeSMask.startTransformInverse,b.mozCurrentTransform);this.ctx.transform.apply(this.ctx,A)},save:function(){this.ctx.save();var b=this.current;this.stateStack.push(b),this.current=b.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null},transform:function(b,A,k,N,I,V){this.ctx.transform(b,A,k,N,I,V),this._cachedGetSinglePixelWidth=null},constructPath:function(b,A){for(var k=this.ctx,N=this.current,I=N.x,V=N.y,Y=0,J=0,re=b.length;Y<re;Y++)switch(0|b[Y]){case a.OPS.rectangle:I=A[J++],V=A[J++];var te=A[J++],ae=A[J++],ne=I+te,he=V+ae;k.moveTo(I,V),0===te||0===ae?k.lineTo(ne,he):(k.lineTo(ne,V),k.lineTo(ne,he),k.lineTo(I,he)),k.closePath();break;case a.OPS.moveTo:I=A[J++],V=A[J++],k.moveTo(I,V);break;case a.OPS.lineTo:I=A[J++],V=A[J++],k.lineTo(I,V);break;case a.OPS.curveTo:k.bezierCurveTo(A[J],A[J+1],A[J+2],A[J+3],I=A[J+4],V=A[J+5]),J+=6;break;case a.OPS.curveTo2:k.bezierCurveTo(I,V,A[J],A[J+1],A[J+2],A[J+3]),I=A[J+2],V=A[J+3],J+=4;break;case a.OPS.curveTo3:k.bezierCurveTo(A[J],A[J+1],I=A[J+2],V=A[J+3],I,V),J+=4;break;case a.OPS.closePath:k.closePath()}N.setCurrentPoint(I,V)},closePath:function(){this.ctx.closePath()},stroke:function(b){b=void 0===b||b;var A=this.ctx,k=this.current.strokeColor;if(A.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===M(k)&&null!=k&&k.getPattern){A.save();var I=a.Util.singularValueDecompose2dScale(A.mozCurrentTransform)[0];A.strokeStyle=k.getPattern(A,this);var V=this.getSinglePixelWidth(),Y=this.current.lineWidth*I;V<0&&-V>=Y?(A.resetTransform(),A.lineWidth=Math.round(this._combinedScaleFactor)):A.lineWidth=Math.max(V,Y),A.stroke(),A.restore()}else{var J=this.getSinglePixelWidth();J<0&&-J>=this.current.lineWidth?(A.save(),A.resetTransform(),A.lineWidth=Math.round(this._combinedScaleFactor),A.stroke(),A.restore()):(A.lineWidth=Math.max(J,this.current.lineWidth),A.stroke())}b&&this.consumePath(),A.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(b){b=void 0===b||b;var A=this.ctx,k=this.current.fillColor,I=!1;this.current.patternFill&&(A.save(),this.baseTransform&&A.setTransform.apply(A,this.baseTransform),A.fillStyle=k.getPattern(A,this),I=!0),this.contentVisible&&(this.pendingEOFill?(A.fill("evenodd"),this.pendingEOFill=!1):A.fill()),I&&A.restore(),b&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=f},eoClip:function(){this.pendingClip=_},beginText:function(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var b=this.pendingTextPaths,A=this.ctx;if(void 0!==b){A.save(),A.beginPath();for(var k=0;k<b.length;k++){var N=b[k];A.setTransform.apply(A,N.transform),A.translate(N.x,N.y),N.addToPath(A,N.fontSize)}A.restore(),A.clip(),A.beginPath(),delete this.pendingTextPaths}else A.beginPath()},setCharSpacing:function(b){this.current.charSpacing=b},setWordSpacing:function(b){this.current.wordSpacing=b},setHScale:function(b){this.current.textHScale=b/100},setLeading:function(b){this.current.leading=-b},setFont:function(b,A){var k=this.commonObjs.get(b),N=this.current;if(!k)throw new Error("Can't find font for ".concat(b));if(N.fontMatrix=k.fontMatrix||a.FONT_IDENTITY_MATRIX,(0===N.fontMatrix[0]||0===N.fontMatrix[3])&&(0,a.warn)("Invalid font matrix for font "+b),A<0?(A=-A,N.fontDirection=-1):N.fontDirection=1,this.current.font=k,this.current.fontSize=A,!k.isType3Font){var V="normal";k.black?V="900":k.bold&&(V="bold");var Y=k.italic?"italic":"normal",J='"'.concat(k.loadedName||"sans-serif",'", ').concat(k.fallbackName),re=A;A<16?re=16:A>100&&(re=100),this.current.fontSizeScale=A/re,this.ctx.font="".concat(Y," ").concat(V," ").concat(re,"px ").concat(J)}},setTextRenderingMode:function(b){this.current.textRenderingMode=b},setTextRise:function(b){this.current.textRise=b},moveText:function(b,A){this.current.x=this.current.lineX+=b,this.current.y=this.current.lineY+=A},setLeadingMoveText:function(b,A){this.setLeading(-A),this.moveText(b,A)},setTextMatrix:function(b,A,k,N,I,V){this.current.textMatrix=[b,A,k,N,I,V],this.current.textMatrixScale=Math.sqrt(b*b+A*A),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(b,A,k,N,I){var me,V=this.ctx,Y=this.current,J=Y.font,re=Y.textRenderingMode,te=Y.fontSize/Y.fontSizeScale,ae=re&a.TextRenderingMode.FILL_STROKE_MASK,ne=!!(re&a.TextRenderingMode.ADD_TO_PATH_FLAG),he=Y.patternFill&&!J.missingFile;(J.disableFontFace||ne||he)&&(me=J.getPathGenerator(this.commonObjs,b)),J.disableFontFace||he?(V.save(),V.translate(A,k),V.beginPath(),me(V,te),N&&V.setTransform.apply(V,N),(ae===a.TextRenderingMode.FILL||ae===a.TextRenderingMode.FILL_STROKE)&&V.fill(),(ae===a.TextRenderingMode.STROKE||ae===a.TextRenderingMode.FILL_STROKE)&&(I&&(V.resetTransform(),V.lineWidth=Math.round(this._combinedScaleFactor)),V.stroke()),V.restore()):((ae===a.TextRenderingMode.FILL||ae===a.TextRenderingMode.FILL_STROKE)&&V.fillText(b,A,k),(ae===a.TextRenderingMode.STROKE||ae===a.TextRenderingMode.FILL_STROKE)&&(I?(V.save(),V.moveTo(A,k),V.resetTransform(),V.lineWidth=Math.round(this._combinedScaleFactor),V.strokeText(b,0,0),V.restore()):V.strokeText(b,A,k))),ne&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:V.mozCurrentTransform,x:A,y:k,fontSize:te,addToPath:me})},get isFontSubpixelAAEnabled(){var b=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;b.scale(1.5,1),b.fillText("I",0,10);for(var A=b.getImageData(0,0,10,10).data,k=!1,N=3;N<A.length;N+=4)if(A[N]>0&&A[N]<255){k=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",k)},showText:function(b){var A=this.current,k=A.font;if(k.isType3Font)return this.showType3Text(b);var N=A.fontSize;if(0!==N){var fe,I=this.ctx,V=A.fontSizeScale,Y=A.charSpacing,J=A.wordSpacing,re=A.fontDirection,te=A.textHScale*re,ae=b.length,ne=k.vertical,he=ne?1:-1,me=k.defaultVMetrics,Se=N*A.fontMatrix[0],se=A.textRenderingMode===a.TextRenderingMode.FILL&&!k.disableFontFace&&!A.patternFill;if(I.save(),A.patternFill){I.save();var K=A.fillColor.getPattern(I,this);fe=I.mozCurrentTransform,I.restore(),I.fillStyle=K}I.transform.apply(I,A.textMatrix),I.translate(A.x,A.y+A.textRise),I.scale(te,re>0?-1:1);var ie=A.lineWidth,oe=!1,Ee=A.textMatrixScale;if(0===Ee||0===ie){var ye=A.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(ye===a.TextRenderingMode.STROKE||ye===a.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,oe=(ie=this.getSinglePixelWidth())<0)}else ie/=Ee;1!==V&&(I.scale(V,V),ie/=V),I.lineWidth=ie;var Oe,we=0;for(Oe=0;Oe<ae;++Oe){var be=b[Oe];if((0,a.isNum)(be))we+=he*be*N/1e3;else{var ze=!1,He=(be.isSpace?J:0)+Y,Ce=be.fontChar,Ne=be.accent,Me=void 0,Ve=void 0,ue=be.width;if(ne){var ge=be.vmetric||me,_e=-(be.vmetric?ge[1]:.5*ue)*Se;ue=ge?-ge[0]:ue,Me=_e/V,Ve=(we+ge[2]*Se)/V}else Me=we/V,Ve=0;if(k.remeasure&&ue>0){var Te=1e3*I.measureText(Ce).width/N*V;if(ue<Te&&this.isFontSubpixelAAEnabled){var Ge=ue/Te;ze=!0,I.save(),I.scale(Ge,1),Me/=Ge}else ue!==Te&&(Me+=(ue-Te)/2e3*N/V)}this.contentVisible&&(be.isInFont||k.missingFile)&&(se&&!Ne?I.fillText(Ce,Me,Ve):(this.paintChar(Ce,Me,Ve,fe,oe),Ne&&this.paintChar(Ne.fontChar,Me+N*Ne.offset.x/V,Ve-N*Ne.offset.y/V,fe,oe))),we+=ne?ue*Se-He*re:ue*Se+He*re,ze&&I.restore()}}ne?A.y-=we:A.x+=we*te,I.restore()}},showType3Text:function(b){var me,Se,se,fe,A=this.ctx,k=this.current,N=k.font,I=k.fontSize,V=k.fontDirection,Y=N.vertical?1:-1,J=k.charSpacing,re=k.wordSpacing,te=k.textHScale*V,ae=k.fontMatrix||a.FONT_IDENTITY_MATRIX,ne=b.length;if(k.textRenderingMode!==a.TextRenderingMode.INVISIBLE&&0!==I){for(this._cachedGetSinglePixelWidth=null,A.save(),A.transform.apply(A,k.textMatrix),A.translate(k.x,k.y),A.scale(te,V),me=0;me<ne;++me)if((0,a.isNum)(Se=b[me]))this.ctx.translate(fe=Y*Se*I/1e3,0),k.x+=fe*te;else{var K=(Se.isSpace?re:0)+J,ie=N.charProcOperatorList[Se.operatorListId];if(ie){this.contentVisible&&(this.processingType3=Se,this.save(),A.scale(I,I),A.transform.apply(A,ae),this.executeOperatorList(ie),this.restore());var oe=a.Util.applyTransform([Se.width,0],ae);A.translate(se=oe[0]*I+K,0),k.x+=se*te}else(0,a.warn)('Type3 character "'.concat(Se.operatorListId,'" is not available.'))}A.restore(),this.processingType3=null}},setCharWidth:function(b,A){},setCharWidthAndBounds:function(b,A,k,N,I,V){this.ctx.rect(k,N,I-k,V-N),this.clip(),this.endPath()},getColorN_Pattern:function(b){var k,A=this;if("TilingPattern"===b[0]){var N=b[1],I=this.baseTransform||this.ctx.mozCurrentTransform.slice();k=new T.TilingPattern(b,N,this.ctx,{createCanvasGraphics:function(J){return new u(J,A.commonObjs,A.objs,A.canvasFactory,A.webGLContext)}},I)}else k=(0,T.getShadingPatternFromIR)(b);return k},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(b,A,k){var N=a.Util.makeHexColor(b,A,k);this.ctx.strokeStyle=N,this.current.strokeColor=N},setFillRGBColor:function(b,A,k){var N=a.Util.makeHexColor(b,A,k);this.ctx.fillStyle=N,this.current.fillColor=N,this.current.patternFill=!1},shadingFill:function(b){if(this.contentVisible){var A=this.ctx;this.save();var k=(0,T.getShadingPatternFromIR)(b);A.fillStyle=k.getPattern(A,this,!0);var N=A.mozCurrentTransformInverse;if(N){var I=A.canvas,V=I.width,Y=I.height,J=a.Util.applyTransform([0,0],N),re=a.Util.applyTransform([0,Y],N),te=a.Util.applyTransform([V,0],N),ae=a.Util.applyTransform([V,Y],N),ne=Math.min(J[0],re[0],te[0],ae[0]),he=Math.min(J[1],re[1],te[1],ae[1]),me=Math.max(J[0],re[0],te[0],ae[0]),Se=Math.max(J[1],re[1],te[1],ae[1]);this.ctx.fillRect(ne,he,me-ne,Se-he)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}},beginInlineImage:function(){(0,a.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,a.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(b,A){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(b)&&6===b.length&&this.transform.apply(this,b),this.baseTransform=this.ctx.mozCurrentTransform,A)&&(this.ctx.rect(A[0],A[1],A[2]-A[0],A[3]-A[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())},beginGroup:function(b){if(this.contentVisible){this.save();var A=this.ctx;b.isolated||(0,a.info)("TODO: Support non-isolated groups."),b.knockout&&(0,a.warn)("Knockout groups not supported.");var k=A.mozCurrentTransform;if(b.matrix&&A.transform.apply(A,b.matrix),!b.bbox)throw new Error("Bounding box is required.");var N=a.Util.getAxialAlignedBoundingBox(b.bbox,A.mozCurrentTransform);N=a.Util.intersect(N,[0,0,A.canvas.width,A.canvas.height])||[0,0,0,0];var V=Math.floor(N[0]),Y=Math.floor(N[1]),J=Math.max(Math.ceil(N[2])-V,1),re=Math.max(Math.ceil(N[3])-Y,1),te=1,ae=1;J>$&&(te=J/$,J=$),re>$&&(ae=re/$,re=$);var ne="groupAt"+this.groupLevel;b.smask&&(ne+="_smask_"+this.smaskCounter++%2);var he=this.cachedCanvases.getCanvas(ne,J,re,!0),me=he.context;me.scale(1/te,1/ae),me.translate(-V,-Y),me.transform.apply(me,k),b.smask?this.smaskStack.push({canvas:he.canvas,context:me,offsetX:V,offsetY:Y,scaleX:te,scaleY:ae,subtype:b.smask.subtype,backdrop:b.smask.backdrop,transferMap:b.smask.transferMap||null,startTransformInverse:null}):(A.setTransform(1,0,0,1,0,0),A.translate(V,Y),A.scale(te,ae)),E(A,me),this.ctx=me,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(A),this.groupLevel++,this.current.activeSMask=null}},endGroup:function(b){if(this.contentVisible){this.groupLevel--;var A=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,b.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(A.canvas,0,0),this.restore()}},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(b,A,k){this.save(),O(this.ctx),this.current=new S,Array.isArray(b)&&4===b.length&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.clip(),this.endPath()),this.transform.apply(this,A),this.transform.apply(this,k)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(b){if(this.contentVisible){var A=this.ctx,k=b.width,N=b.height,I=this.current.fillColor,V=this.current.patternFill,Y=this.processingType3;if(Y&&void 0===Y.compiled&&(Y.compiled=k<=1e3&&N<=1e3?function(l){var P,E,O,c,i=l.width,u=l.height,s=i+1,p=new Uint8Array(s*(u+1)),B=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),w=i+7&-8,R=l.data,D=new Uint8Array(w*u),m=0;for(P=0,E=R.length;P<E;P++)for(var f=R[P],_=128;_>0;)D[m++]=f&_?0:255,_>>=1;var v=0;for(0!==D[m=0]&&(p[0]=1,++v),O=1;O<i;O++)D[m]!==D[m+1]&&(p[O]=D[m]?2:1,++v),m++;for(0!==D[m]&&(p[O]=2,++v),P=1;P<u;P++){c=P*s,D[(m=P*w)-w]!==D[m]&&(p[c]=D[m]?1:8,++v);var o=(D[m]?4:0)+(D[m-w]?8:0);for(O=1;O<i;O++)B[o=(o>>2)+(D[m+1]?4:0)+(D[m-w+1]?8:0)]&&(p[c+O]=B[o],++v),m++;if(D[m-w]!==D[m]&&(p[c+O]=D[m]?2:4,++v),v>1e3)return null}for(c=P*s,0!==D[m=w*(u-1)]&&(p[c]=8,++v),O=1;O<i;O++)D[m]!==D[m+1]&&(p[c+O]=D[m]?4:8,++v),m++;if(0!==D[m]&&(p[c+O]=4,++v),v>1e3)return null;var b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),A=[];for(P=0;v&&P<=u;P++){for(var k=P*s,N=k+i;k<N&&!p[k];)k++;if(k!==N){var I=[k%s,P],V=k,Y=p[k];do{var J=b[Y];do{k+=J}while(!p[k]);var re=p[k];5!==re&&10!==re?(Y=re,p[k]=0):p[k]&=(Y=re&51*Y>>4)>>2|Y<<2,I.push(k%s),I.push(k/s|0),p[k]||--v}while(V!==k);A.push(I),--P}}return function(ne){ne.save(),ne.scale(1/i,-1/u),ne.translate(0,-u),ne.beginPath();for(var he=0,me=A.length;he<me;he++){var Se=A[he];ne.moveTo(Se[0],Se[1]);for(var se=2,fe=Se.length;se<fe;se+=2)ne.lineTo(Se[se],Se[se+1])}ne.fill(),ne.beginPath(),ne.restore()}}({data:b.data,width:k,height:N}):null),null!=Y&&Y.compiled)return void Y.compiled(A);var J=this.cachedCanvases.getCanvas("maskCanvas",k,N),re=J.context;re.save(),P(re,b),re.globalCompositeOperation="source-in",re.fillStyle=V?I.getPattern(re,this):I,re.fillRect(0,0,k,N),re.restore(),this.paintInlineImageXObject(J.canvas)}},paintImageMaskXObjectRepeat:function(b,A){var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,N=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,I=arguments.length>4?arguments[4]:void 0,V=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var Y=b.width,J=b.height,re=this.current.fillColor,te=this.current.patternFill,ae=this.cachedCanvases.getCanvas("maskCanvas",Y,J),ne=ae.context;ne.save(),P(ne,b),ne.globalCompositeOperation="source-in",ne.fillStyle=te?re.getPattern(ne,this):re,ne.fillRect(0,0,Y,J),ne.restore();for(var he=this.ctx,me=0,Se=V.length;me<Se;me+=2)he.save(),he.transform(A,k,N,I,V[me],V[me+1]),he.scale(1,-1),he.drawImage(ae.canvas,0,0,Y,J,0,-1,1,1),he.restore()}},paintImageMaskXObjectGroup:function(b){if(this.contentVisible)for(var A=this.ctx,k=this.current.fillColor,N=this.current.patternFill,I=0,V=b.length;I<V;I++){var Y=b[I],J=Y.width,re=Y.height,te=this.cachedCanvases.getCanvas("maskCanvas",J,re),ae=te.context;ae.save(),P(ae,Y),ae.globalCompositeOperation="source-in",ae.fillStyle=N?k.getPattern(ae,this):k,ae.fillRect(0,0,J,re),ae.restore(),A.save(),A.transform.apply(A,Y.transform),A.scale(1,-1),A.drawImage(te.canvas,0,0,J,re,0,-1,1,1),A.restore()}},paintImageXObject:function(b){if(this.contentVisible){var A=b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b);if(!A)return void(0,a.warn)("Dependent image isn't ready yet");this.paintInlineImageXObject(A)}},paintImageXObjectRepeat:function(b,A,k,N){if(this.contentVisible){var I=b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b);if(!I)return void(0,a.warn)("Dependent image isn't ready yet");for(var V=I.width,Y=I.height,J=[],re=0,te=N.length;re<te;re+=2)J.push({transform:[A,0,0,k,N[re],N[re+1]],x:0,y:0,w:V,h:Y});this.paintInlineImageXObjectGroup(I,J)}},paintInlineImageXObject:function(b){if(this.contentVisible){var A=b.width,k=b.height,N=this.ctx;this.save(),N.scale(1/A,-1/k);var ne,he,me,I=N.mozCurrentTransformInverse,V=I[0],Y=I[1],J=Math.max(Math.sqrt(V*V+Y*Y),1),re=I[2],te=I[3],ae=Math.max(Math.sqrt(re*re+te*te),1);"function"==typeof HTMLElement&&b instanceof HTMLElement||!b.data?ne=b:(s(me=(he=this.cachedCanvases.getCanvas("inlineImage",A,k)).context,b,this.current.transferMaps),ne=he.canvas);for(var Se=A,se=k,fe="prescale1";J>2&&Se>1||ae>2&&se>1;){var K=Se,ie=se;J>2&&Se>1&&(J/=Se/(K=Math.ceil(Se/2))),ae>2&&se>1&&(ae/=se/(ie=Math.ceil(se/2))),(me=(he=this.cachedCanvases.getCanvas(fe,K,ie)).context).clearRect(0,0,K,ie),me.drawImage(ne,0,0,Se,se,0,0,K,ie),ne=he.canvas,Se=K,se=ie,fe="prescale1"===fe?"prescale2":"prescale1"}if(N.drawImage(ne,0,0,Se,se,0,-k,A,k),this.imageLayer){var oe=this.getCanvasPosition(0,-k);this.imageLayer.appendImage({imgData:b,left:oe[0],top:oe[1],width:A/I[0],height:k/I[3]})}this.restore()}},paintInlineImageXObjectGroup:function(b,A){if(this.contentVisible){var k=this.ctx,N=b.width,I=b.height,V=this.cachedCanvases.getCanvas("inlineImage",N,I);s(V.context,b,this.current.transferMaps);for(var J=0,re=A.length;J<re;J++){var te=A[J];if(k.save(),k.transform.apply(k,te.transform),k.scale(1,-1),k.drawImage(V.canvas,te.x,te.y,te.w,te.h,0,-1,1,1),this.imageLayer){var ae=this.getCanvasPosition(te.x,te.y);this.imageLayer.appendImage({imgData:b,left:ae[0],top:ae[1],width:N,height:I})}k.restore()}}},paintSolidColorImageMask:function(){!this.contentVisible||this.ctx.fillRect(0,0,1,1)},markPoint:function(b){},markPointProps:function(b,A){},beginMarkedContent:function(b){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function(b,A){this.markedContentStack.push("OC"===b?{visible:this.optionalContentConfig.isVisible(A)}:{visible:!0}),this.contentVisible=this.isContentVisible()},endMarkedContent:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()},beginCompat:function(){},endCompat:function(){},consumePath:function(){var b=this.ctx;this.pendingClip&&(this.pendingClip===_?b.clip("evenodd"):b.clip(),this.pendingClip=null),b.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var b=this.ctx.mozCurrentTransform,A=Math.abs(b[0]*b[3]-b[2]*b[1]),k=Math.pow(b[0],2)+Math.pow(b[2],2),N=Math.pow(b[1],2)+Math.pow(b[3],2),I=Math.sqrt(Math.max(k,N))/A;this._cachedGetSinglePixelWidth=k!==N&&this._combinedScaleFactor*I>1?-this._combinedScaleFactor*I:A>Number.EPSILON?1.0000001*I:1}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(b,A){var k=this.ctx.mozCurrentTransform;return[k[0]*b+k[2]*A+k[4],k[1]*b+k[3]*A+k[5]]},isContentVisible:function(){for(var b=this.markedContentStack.length-1;b>=0;b--)if(!this.markedContentStack[b].visible)return!1;return!0}},a.OPS)u.prototype[a.OPS[v]]=u.prototype[v];return u}();g.CanvasGraphics=C},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.getShadingPatternFromIR=function(W){var z=T[W[0]];if(!z)throw new Error("Unknown IR type: ".concat(W[0]));return z.fromIR(W)},g.TilingPattern=void 0;var a=r(4),T={};function M(W,z){if(z&&"undefined"!=typeof Path2D){var $=z[2]-z[0],Z=z[3]-z[1],H=new Path2D;H.rect(z[0],z[1],$,Z),W.clip(H)}}T.RadialAxial={fromIR:function(z){var $=z[1],Z=z[2],H=z[3],x=z[4],j=z[5],e=z[6],F=z[7];return{getPattern:function(C){var l;M(C,Z),"axial"===$?l=C.createLinearGradient(x[0],x[1],j[0],j[1]):"radial"===$&&(l=C.createRadialGradient(x[0],x[1],e,j[0],j[1],F));for(var y=0,i=H.length;y<i;++y){var u=H[y];l.addColorStop(u[0],u[1])}return l}}}};var G=function(){function z(H,x,j,e,F,S,C,l){var P,y=x.coords,i=x.colors,u=H.data,s=4*H.width;y[j+1]>y[e+1]&&(P=j,j=e,e=P,P=S,S=C,C=P),y[e+1]>y[F+1]&&(P=e,e=F,F=P,P=C,C=l,l=P),y[j+1]>y[e+1]&&(P=j,j=e,e=P,P=S,S=C,C=P);var E=(y[j]+x.offsetX)*x.scaleX,O=(y[j+1]+x.offsetY)*x.scaleY,c=(y[e]+x.offsetX)*x.scaleX,p=(y[e+1]+x.offsetY)*x.scaleY,B=(y[F]+x.offsetX)*x.scaleX,w=(y[F+1]+x.offsetY)*x.scaleY;if(!(O>=w))for(var I,V,Y,J,re,te,ae,ne,R=i[S],D=i[S+1],m=i[S+2],f=i[C],_=i[C+1],v=i[C+2],o=i[l],b=i[l+1],A=i[l+2],k=Math.round(O),N=Math.round(w),he=k;he<=N;he++){if(he<p){var me;I=E-(E-c)*(me=he<O?0:O===p?1:(O-he)/(O-p)),V=R-(R-f)*me,Y=D-(D-_)*me,J=m-(m-v)*me}else{var Se;I=c-(c-B)*(Se=he>w?1:p===w?0:(p-he)/(p-w)),V=f-(f-o)*Se,Y=_-(_-b)*Se,J=v-(v-A)*Se}var se=void 0;re=E-(E-B)*(se=he<O?0:he>w?1:(O-he)/(O-w)),te=R-(R-o)*se,ae=D-(D-b)*se,ne=m-(m-A)*se;for(var fe=Math.round(Math.min(I,re)),K=Math.round(Math.max(I,re)),ie=s*he+4*fe,oe=fe;oe<=K;oe++)(se=(I-oe)/(I-re))<0?se=0:se>1&&(se=1),u[ie++]=V-(V-te)*se|0,u[ie++]=Y-(Y-ae)*se|0,u[ie++]=J-(J-ne)*se|0,u[ie++]=255}}function $(H,x,j){var S,C,e=x.coords,F=x.colors;switch(x.type){case"lattice":var l=x.verticesPerRow,y=Math.floor(e.length/l)-1,i=l-1;for(S=0;S<y;S++)for(var u=S*l,s=0;s<i;s++,u++)z(H,j,e[u],e[u+1],e[u+l],F[u],F[u+1],F[u+l]),z(H,j,e[u+l+1],e[u+1],e[u+l],F[u+l+1],F[u+1],F[u+l]);break;case"triangles":for(S=0,C=e.length;S<C;S+=3)z(H,j,e[S],e[S+1],e[S+2],F[S],F[S+1],F[S+2]);break;default:throw new Error("illegal figure")}}return function(H,x,j,e,F,S,C,l){var f,_,v,o,s=Math.floor(H[0]),P=Math.floor(H[1]),E=Math.ceil(H[2])-s,O=Math.ceil(H[3])-P,c=Math.min(Math.ceil(Math.abs(E*x[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(O*x[1]*1.1)),3e3),B=E/c,w=O/p,R={coords:j,colors:e,offsetX:-s,offsetY:-P,scaleX:1/B,scaleY:1/w},D=c+4,m=p+4;if(l.isEnabled)f=l.drawFigures({width:c,height:p,backgroundColor:S,figures:F,context:R}),(_=C.getCanvas("mesh",D,m,!1)).context.drawImage(f,2,2),f=_.canvas;else{var b=(_=C.getCanvas("mesh",D,m,!1)).context,A=b.createImageData(c,p);if(S){var k=A.data;for(v=0,o=k.length;v<o;v+=4)k[v]=S[0],k[v+1]=S[1],k[v+2]=S[2],k[v+3]=255}for(v=0;v<F.length;v++)$(A,F[v],R);b.putImageData(A,2,2),f=_.canvas}return{canvas:f,offsetX:s-2*B,offsetY:P-2*w,scaleX:B,scaleY:w}}}();T.Mesh={fromIR:function(z){var $=z[2],Z=z[3],H=z[4],x=z[5],j=z[6],e=z[7],F=z[8];return{getPattern:function(C,l,y){var i;if(M(C,e),y)i=a.Util.singularValueDecompose2dScale(C.mozCurrentTransform);else if(i=a.Util.singularValueDecompose2dScale(l.baseTransform),j){var u=a.Util.singularValueDecompose2dScale(j);i=[i[0]*u[0],i[1]*u[1]]}var s=G(x,i,$,Z,H,y?null:F,l.cachedCanvases,l.webGLContext);return y||(C.setTransform.apply(C,l.baseTransform),j&&C.transform.apply(C,j)),C.translate(s.offsetX,s.offsetY),C.scale(s.scaleX,s.scaleY),C.createPattern(s.canvas,"no-repeat")}}}},T.Dummy={fromIR:function(){return{getPattern:function(){return"hotpink"}}}};var q=function(){function Z(H,x,j,e,F){this.operatorList=H[2],this.matrix=H[3]||[1,0,0,1,0,0],this.bbox=H[4],this.xstep=H[5],this.ystep=H[6],this.paintType=H[7],this.tilingType=H[8],this.color=x,this.canvasGraphicsFactory=e,this.baseTransform=F,this.ctx=j}return Z.prototype={createPatternCanvas:function(x){var j=this.operatorList,e=this.bbox,F=this.xstep,S=this.ystep,C=this.paintType,y=this.color,i=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+this.tilingType);var u=e[0],s=e[1],P=e[2],E=e[3],O=a.Util.singularValueDecompose2dScale(this.matrix),c=a.Util.singularValueDecompose2dScale(this.baseTransform),p=[O[0]*c[0],O[1]*c[1]],B=this.getSizeAndScale(F,this.ctx.canvas.width,p[0]),w=this.getSizeAndScale(S,this.ctx.canvas.height,p[1]),R=x.cachedCanvases.getCanvas("pattern",B.size,w.size,!0),m=i.createCanvasGraphics(R.context);return m.groupLevel=x.groupLevel,this.setFillAndStrokeStyleToContext(m,C,y),m.transform(B.scale,0,0,w.scale,0,0),m.transform(1,0,0,1,-u,-s),this.clipBbox(m,e,u,s,P,E),m.executeOperatorList(j),this.ctx.transform(1,0,0,1,u,s),this.ctx.scale(1/B.scale,1/w.scale),R.canvas},getSizeAndScale:function(x,j,e){x=Math.abs(x);var F=Math.max(3e3,j),S=Math.ceil(x*e);return S>=F?S=F:e=S/x,{scale:e,size:S}},clipBbox:function(x,j,e,F,S,C){Array.isArray(j)&&4===j.length&&(x.ctx.rect(e,F,S-e,C-F),x.clip(),x.endPath())},setFillAndStrokeStyleToContext:function(x,j,e){var F=x.ctx,S=x.current;switch(j){case 1:var C=this.ctx;F.fillStyle=C.fillStyle,F.strokeStyle=C.strokeStyle,S.fillColor=C.fillStyle,S.strokeColor=C.strokeStyle;break;case 2:var l=a.Util.makeHexColor(e[0],e[1],e[2]);F.fillStyle=l,F.strokeStyle=l,S.fillColor=l,S.strokeColor=l;break;default:throw new a.FormatError("Unsupported paint type: ".concat(j))}},getPattern:function(x,j){(x=this.ctx).setTransform.apply(x,this.baseTransform),x.transform.apply(x,this.matrix);var e=this.createPatternCanvas(j);return x.createPattern(e,"repeat")}},Z}();g.TilingPattern=q},(X,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.GlobalWorkerOptions=void 0;var r=Object.create(null);g.GlobalWorkerOptions=r,r.workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.MessageHandler=void 0;var e,a=(e=r(2))&&e.__esModule?e:{default:e},T=r(4);function G(e,F,S,C,l,y,i){try{var u=e[y](i),s=u.value}catch(P){return void S(P)}u.done?F(s):Promise.resolve(s).then(C,l)}function W(e,F){for(var S=0;S<F.length;S++){var C=F[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(e,C.key,C)}}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(e)}function x(e){if("object"!==$(e)||null===e)return e;switch(e.name){case"AbortException":return new T.AbortException(e.message);case"MissingPDFException":return new T.MissingPDFException(e.message);case"UnexpectedResponseException":return new T.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new T.UnknownErrorException(e.message,e.details);default:return new T.UnknownErrorException(e.message,e.toString())}}var j=function(){function e(F,S,C){var l=this;(function(e,F){if(!(e instanceof F))throw new TypeError("Cannot call a class as a function")})(this,e),this.sourceName=F,this.targetName=S,this.comObj=C,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(y){var i=y.data;if(i.targetName===l.sourceName){if(i.stream)return void l._processStreamMessage(i);if(i.callback){var u=i.callbackId,s=l.callbackCapabilities[u];if(!s)throw new Error("Cannot resolve callback ".concat(u));if(delete l.callbackCapabilities[u],1===i.callback)s.resolve(i.data);else{if(2!==i.callback)throw new Error("Unexpected callback case");s.reject(x(i.reason))}return}var P=l.actionHandler[i.action];if(!P)throw new Error("Unknown action from worker: ".concat(i.action));if(i.callbackId){var E=l.sourceName,O=i.sourceName;return void new Promise(function(c){c(P(i.data))}).then(function(c){C.postMessage({sourceName:E,targetName:O,callback:1,callbackId:i.callbackId,data:c})},function(c){C.postMessage({sourceName:E,targetName:O,callback:2,callbackId:i.callbackId,reason:x(c)})})}if(i.streamId)return void l._createStreamSink(i);P(i.data)}},C.addEventListener("message",this._onComObjOnMessage)}return function(e,F,S){F&&W(e.prototype,F)}(e,[{key:"on",value:function(S,C){var l=this.actionHandler;if(l[S])throw new Error('There is already an actionName called "'.concat(S,'"'));l[S]=C}},{key:"send",value:function(S,C,l){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:S,data:C},l)}},{key:"sendWithPromise",value:function(S,C,l){var y=this.callbackId++,i=(0,T.createPromiseCapability)();this.callbackCapabilities[y]=i;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:S,callbackId:y,data:C},l)}catch(u){i.reject(u)}return i.promise}},{key:"sendWithStream",value:function(S,C,l,y){var i=this,u=this.streamId++,s=this.sourceName,P=this.targetName,E=this.comObj;return new ReadableStream({start:function(c){var p=(0,T.createPromiseCapability)();return i.streamControllers[u]={controller:c,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},i._postMessage({sourceName:s,targetName:P,action:S,streamId:u,data:C,desiredSize:c.desiredSize},y),p.promise},pull:function(c){var p=(0,T.createPromiseCapability)();return i.streamControllers[u].pullCall=p,E.postMessage({sourceName:s,targetName:P,stream:6,streamId:u,desiredSize:c.desiredSize}),p.promise},cancel:function(c){(0,T.assert)(c instanceof Error,"cancel must have a valid reason");var p=(0,T.createPromiseCapability)();return i.streamControllers[u].cancelCall=p,i.streamControllers[u].isClosed=!0,E.postMessage({sourceName:s,targetName:P,stream:1,streamId:u,reason:x(c)}),p.promise}},l)}},{key:"_createStreamSink",value:function(S){var C=this,l=this.actionHandler[S.action],y=S.streamId,i=this.sourceName,u=S.sourceName,s=this.comObj,P={enqueue:function(O){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,p=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var B=this.desiredSize;this.desiredSize-=c,B>0&&this.desiredSize<=0&&(this.sinkCapability=(0,T.createPromiseCapability)(),this.ready=this.sinkCapability.promise),C._postMessage({sourceName:i,targetName:u,stream:4,streamId:y,chunk:O},p)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:u,stream:3,streamId:y}),delete C.streamSinks[y])},error:function(O){(0,T.assert)(O instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:u,stream:5,streamId:y,reason:x(O)}))},sinkCapability:(0,T.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:S.desiredSize,ready:null};P.sinkCapability.resolve(),P.ready=P.sinkCapability.promise,this.streamSinks[y]=P,new Promise(function(E){E(l(S.data,P))}).then(function(){s.postMessage({sourceName:i,targetName:u,stream:8,streamId:y,success:!0})},function(E){s.postMessage({sourceName:i,targetName:u,stream:8,streamId:y,reason:x(E)})})}},{key:"_processStreamMessage",value:function(S){var C=S.streamId,l=this.sourceName,y=S.sourceName,i=this.comObj;switch(S.stream){case 8:S.success?this.streamControllers[C].startCall.resolve():this.streamControllers[C].startCall.reject(x(S.reason));break;case 7:S.success?this.streamControllers[C].pullCall.resolve():this.streamControllers[C].pullCall.reject(x(S.reason));break;case 6:if(!this.streamSinks[C]){i.postMessage({sourceName:l,targetName:y,stream:7,streamId:C,success:!0});break}this.streamSinks[C].desiredSize<=0&&S.desiredSize>0&&this.streamSinks[C].sinkCapability.resolve(),this.streamSinks[C].desiredSize=S.desiredSize;var u=this.streamSinks[S.streamId].onPull;new Promise(function(P){P(u&&u())}).then(function(){i.postMessage({sourceName:l,targetName:y,stream:7,streamId:C,success:!0})},function(P){i.postMessage({sourceName:l,targetName:y,stream:7,streamId:C,reason:x(P)})});break;case 4:if((0,T.assert)(this.streamControllers[C],"enqueue should have stream controller"),this.streamControllers[C].isClosed)break;this.streamControllers[C].controller.enqueue(S.chunk);break;case 3:if((0,T.assert)(this.streamControllers[C],"close should have stream controller"),this.streamControllers[C].isClosed)break;this.streamControllers[C].isClosed=!0,this.streamControllers[C].controller.close(),this._deleteStreamController(C);break;case 5:(0,T.assert)(this.streamControllers[C],"error should have stream controller"),this.streamControllers[C].controller.error(x(S.reason)),this._deleteStreamController(C);break;case 2:S.success?this.streamControllers[C].cancelCall.resolve():this.streamControllers[C].cancelCall.reject(x(S.reason)),this._deleteStreamController(C);break;case 1:if(!this.streamSinks[C])break;var s=this.streamSinks[S.streamId].onCancel;new Promise(function(P){P(s&&s(x(S.reason)))}).then(function(){i.postMessage({sourceName:l,targetName:y,stream:2,streamId:C,success:!0})},function(P){i.postMessage({sourceName:l,targetName:y,stream:2,streamId:C,reason:x(P)})}),this.streamSinks[C].sinkCapability.reject(x(S.reason)),this.streamSinks[C].isCancelled=!0,delete this.streamSinks[C];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(F=function(e){return function(){var F=this,S=arguments;return new Promise(function(C,l){var y=e.apply(F,S);function i(s){G(y,C,l,i,u,"next",s)}function u(s){G(y,C,l,i,u,"throw",s)}i(void 0)})}}(a.default.mark(function C(l){return a.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Promise.allSettled([this.streamControllers[l].startCall,this.streamControllers[l].pullCall,this.streamControllers[l].cancelCall].map(function(u){return u&&u.promise}));case 2:delete this.streamControllers[l];case 3:case"end":return i.stop()}},C,this)})),function(C){return F.apply(this,arguments)})},{key:"_postMessage",value:function(S,C){C&&this.postMessageTransfers?this.comObj.postMessage(S,C):this.comObj.postMessage(S)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e;var F}();g.MessageHandler=j},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.Metadata=void 0;var a=r(4),T=r(145);function M(Z,H){var x;if("undefined"==typeof Symbol||null==Z[Symbol.iterator]){if(Array.isArray(Z)||(x=function(Z,H){if(Z){if("string"==typeof Z)return L(Z,H);var x=Object.prototype.toString.call(Z).slice(8,-1);if("Object"===x&&Z.constructor&&(x=Z.constructor.name),"Map"===x||"Set"===x)return Array.from(Z);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return L(Z,H)}}(Z))||H&&Z&&"number"==typeof Z.length){x&&(Z=x);var j=0,e=function(){};return{s:e,n:function(){return j>=Z.length?{done:!0}:{done:!1,value:Z[j++]}},e:function(y){throw y},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,F=!0,S=!1;return{s:function(){x=Z[Symbol.iterator]()},n:function(){var y=x.next();return F=y.done,y},e:function(y){S=!0,C=y},f:function(){try{!F&&null!=x.return&&x.return()}finally{if(S)throw C}}}}function L(Z,H){(null==H||H>Z.length)&&(H=Z.length);for(var x=0,j=new Array(H);x<H;x++)j[x]=Z[x];return j}function W(Z,H){for(var x=0;x<H.length;x++){var j=H[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(Z,j.key,j)}}g.Metadata=function(){function Z(H){(function(Z,H){if(!(Z instanceof H))throw new TypeError("Cannot call a class as a function")})(this,Z),(0,a.assert)("string"==typeof H,"Metadata: input is not a string"),H=this._repair(H);var j=new T.SimpleXMLParser({lowerCaseName:!0}).parseFromString(H);this._metadataMap=new Map,j&&this._parse(j),this._data=H}return function(Z,H,x){H&&W(Z.prototype,H)}(Z,[{key:"_repair",value:function(x){return x.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(j,e){for(var F=e.replace(/\\([0-3])([0-7])([0-7])/g,function(i,u,s,P){return String.fromCharCode(64*u+8*s+1*P)}).replace(/&(amp|apos|gt|lt|quot);/g,function(i,u){switch(u){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(u," isn't defined."))}),S="",C=0,l=F.length;C<l;C+=2){var y=256*F.charCodeAt(C)+F.charCodeAt(C+1);S+=y>=32&&y<127&&60!==y&&62!==y&&38!==y?String.fromCharCode(y):"&#x"+(65536+y).toString(16).substring(1)+";"}return">"+S})}},{key:"_getSequence",value:function(x){var j=x.nodeName;return"rdf:bag"!==j&&"rdf:seq"!==j&&"rdf:alt"!==j?null:x.childNodes.filter(function(e){return"rdf:li"===e.nodeName})}},{key:"_getCreators",value:function(x){if("dc:creator"!==x.nodeName)return!1;if(!x.hasChildNodes())return!0;var e=this._getSequence(x.childNodes[0])||[];return this._metadataMap.set(x.nodeName,e.map(function(F){return F.textContent.trim()})),!0}},{key:"_parse",value:function(x){var j=x.documentElement;if("rdf:rdf"!==j.nodeName)for(j=j.firstChild;j&&"rdf:rdf"!==j.nodeName;)j=j.nextSibling;if(j&&"rdf:rdf"===j.nodeName&&j.hasChildNodes()){var F,e=M(j.childNodes);try{for(e.s();!(F=e.n()).done;){var S=F.value;if("rdf:description"===S.nodeName){var l,C=M(S.childNodes);try{for(C.s();!(l=C.n()).done;){var y=l.value,i=y.nodeName;"#text"!==i&&(this._getCreators(y)||this._metadataMap.set(i,y.textContent.trim()))}}catch(u){C.e(u)}finally{C.f()}}}}catch(u){e.e(u)}finally{e.f()}}}},{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(x){var j;return null!==(j=this._metadataMap.get(x))&&void 0!==j?j:null}},{key:"getAll",value:function(){return(0,a.objectFromEntries)(this._metadataMap)}},{key:"has",value:function(x){return this._metadataMap.has(x)}}]),Z}()},(X,g,r)=>{"use strict";function a(B){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(B)}Object.defineProperty(g,"__esModule",{value:!0}),g.SimpleXMLParser=g.SimpleDOMNode=void 0;var T=r(4);function M(B,w,R){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(m,f,_){var v=function(B,w){for(;!Object.prototype.hasOwnProperty.call(B,w)&&null!==(B=H(B)););return B}(m,f);if(v){var o=Object.getOwnPropertyDescriptor(v,f);return o.get?o.get.call(_):o.value}},M(B,w,R||B)}function q(B,w){return(q=Object.setPrototypeOf||function(D,m){return D.__proto__=m,D})(B,w)}function z(B,w){return!w||"object"!==a(w)&&"function"!=typeof w?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(B):w}function H(B){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)})(B)}function x(B,w){var R;if("undefined"==typeof Symbol||null==B[Symbol.iterator]){if(Array.isArray(B)||(R=F(B))||w&&B&&"number"==typeof B.length){R&&(B=R);var D=0,m=function(){};return{s:m,n:function(){return D>=B.length?{done:!0}:{done:!1,value:B[D++]}},e:function(b){throw b},f:m}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var v,f=!0,_=!1;return{s:function(){R=B[Symbol.iterator]()},n:function(){var b=R.next();return f=b.done,b},e:function(b){_=!0,v=b},f:function(){try{!f&&null!=R.return&&R.return()}finally{if(_)throw v}}}}function j(B,w){return function(B){if(Array.isArray(B))return B}(B)||function(B,w){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(B)){var R=[],D=!0,m=!1,f=void 0;try{for(var v,_=B[Symbol.iterator]();!(D=(v=_.next()).done)&&(R.push(v.value),!w||R.length!==w);D=!0);}catch(o){m=!0,f=o}finally{try{!D&&null!=_.return&&_.return()}finally{if(m)throw f}}return R}}(B,w)||F(B,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(B,w){if(B){if("string"==typeof B)return S(B,w);var R=Object.prototype.toString.call(B).slice(8,-1);if("Object"===R&&B.constructor&&(R=B.constructor.name),"Map"===R||"Set"===R)return Array.from(B);if("Arguments"===R||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return S(B,w)}}function S(B,w){(null==w||w>B.length)&&(w=B.length);for(var R=0,D=new Array(w);R<w;R++)D[R]=B[R];return D}function y(B,w){if(!(B instanceof w))throw new TypeError("Cannot call a class as a function")}function i(B,w){for(var R=0;R<w.length;R++){var D=w[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(B,D.key,D)}}function u(B,w,R){return w&&i(B.prototype,w),R&&i(B,R),B}function P(B,w){var R=B[w];return" "===R||"\n"===R||"\r"===R||"\t"===R}var O=function(){function B(){y(this,B)}return u(B,[{key:"_resolveEntities",value:function(R){var D=this;return R.replace(/&([^;]+);/g,function(m,f){if("#x"===f.substring(0,2))return String.fromCodePoint(parseInt(f.substring(2),16));if("#"===f.substring(0,1))return String.fromCodePoint(parseInt(f.substring(1),10));switch(f){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return D.onResolveEntity(f)})}},{key:"_parseContent",value:function(R,D){var m=[],f=D;function _(){for(;f<R.length&&P(R,f);)++f}for(;f<R.length&&!P(R,f)&&">"!==R[f]&&"/"!==R[f];)++f;var v=R.substring(D,f);for(_();f<R.length&&">"!==R[f]&&"/"!==R[f]&&"?"!==R[f];){_();for(var b,o="";f<R.length&&!P(R,f)&&"="!==R[f];)o+=R[f],++f;if(_(),"="!==R[f])return null;++f,_();var A=R[f];if('"'!==A&&"'"!==A)return null;var k=R.indexOf(A,++f);if(k<0)return null;b=R.substring(f,k),m.push({name:o,value:this._resolveEntities(b)}),f=k+1,_()}return{name:v,attributes:m,parsed:f-D}}},{key:"_parseProcessingInstruction",value:function(R,D){for(var m=D;m<R.length&&!P(R,m)&&">"!==R[m]&&"/"!==R[m];)++m;var _=R.substring(D,m);!function(){for(;m<R.length&&P(R,m);)++m}();for(var v=m;m<R.length&&("?"!==R[m]||">"!==R[m+1]);)++m;return{name:_,value:R.substring(v,m),parsed:m-D}}},{key:"parseXml",value:function(R){for(var D=0;D<R.length;){var f=D;if("<"===R[D]){var v=void 0;switch(R[++f]){case"/":if(++f,(v=R.indexOf(">",f))<0)return void this.onError(-9);this.onEndElement(R.substring(f,v)),f=v+1;break;case"?":++f;var o=this._parseProcessingInstruction(R,f);if("?>"!==R.substring(f+o.parsed,f+o.parsed+2))return void this.onError(-3);this.onPi(o.name,o.value),f+=o.parsed+2;break;case"!":if("--"===R.substring(f+1,f+3)){if((v=R.indexOf("--\x3e",f+3))<0)return void this.onError(-5);this.onComment(R.substring(f+3,v)),f=v+3}else if("[CDATA["===R.substring(f+1,f+8)){if((v=R.indexOf("]]>",f+8))<0)return void this.onError(-2);this.onCdata(R.substring(f+8,v)),f=v+3}else{if("DOCTYPE"!==R.substring(f+1,f+8))return void this.onError(-6);var b=R.indexOf("[",f+8),A=!1;if((v=R.indexOf(">",f+8))<0)return void this.onError(-4);if(b>0&&v>b){if((v=R.indexOf("]>",f+8))<0)return void this.onError(-4);A=!0}var k=R.substring(f+8,v+(A?1:0));this.onDoctype(k),f=v+(A?2:1)}break;default:var N=this._parseContent(R,f);if(null===N)return void this.onError(-6);var I=!1;if("/>"===R.substring(f+N.parsed,f+N.parsed+2))I=!0;else if(">"!==R.substring(f+N.parsed,f+N.parsed+1))return void this.onError(-9);this.onBeginElement(N.name,N.attributes,I),f+=N.parsed+(I?2:1)}}else{for(;f<R.length&&"<"!==R[f];)f++;var V=R.substring(D,f);this.onText(this._resolveEntities(V))}D=f}}},{key:"onResolveEntity",value:function(R){return"&".concat(R,";")}},{key:"onPi",value:function(R,D){}},{key:"onComment",value:function(R){}},{key:"onCdata",value:function(R){}},{key:"onDoctype",value:function(R){}},{key:"onText",value:function(R){}},{key:"onBeginElement",value:function(R,D,m){}},{key:"onEndElement",value:function(R){}},{key:"onError",value:function(R){}}]),B}(),c=function(){function B(w,R){y(this,B),this.nodeName=w,this.nodeValue=R,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return u(B,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"searchNode",value:function(R,D){if(D>=R.length)return this;for(var m=R[D],f=[],_=this;;){if(m.name===_.nodeName){if(0!==m.pos){if(0===f.length)return null;var I,k=0,N=x(j(f.pop(),1)[0].childNodes);try{for(N.s();!(I=N.n()).done;){var V=I.value;if(m.name===V.nodeName){if(k===m.pos)return V.searchNode(R,D+1);k++}}}catch(ne){N.e(ne)}finally{N.f()}return _.searchNode(R,D+1)}var v=_.searchNode(R,D+1);if(null!==v)return v}if(_.childNodes&&0!==_.childNodes.length)f.push([_,0]),_=_.childNodes[0];else{if(0===f.length)return null;for(;0!==f.length;){var J=j(f.pop(),2),re=J[0],ae=J[1]+1;if(ae<re.childNodes.length){f.push([re,ae]),_=re.childNodes[ae];break}}if(0===f.length)return null}}}},{key:"dump",value:function(R){if("#text"!==this.nodeName){if(R.push("<".concat(this.nodeName)),this.attributes){var m,D=x(this.attributes);try{for(D.s();!(m=D.n()).done;){var f=m.value;R.push(" ".concat(f.name,'="').concat((0,T.encodeToXmlString)(f.value),'"'))}}catch(b){D.e(b)}finally{D.f()}}if(this.hasChildNodes()){R.push(">");var v,_=x(this.childNodes);try{for(_.s();!(v=_.n()).done;)v.value.dump(R)}catch(b){_.e(b)}finally{_.f()}R.push("</".concat(this.nodeName,">"))}else R.push(this.nodeValue?">".concat((0,T.encodeToXmlString)(this.nodeValue),"</").concat(this.nodeName,">"):"/>")}else R.push((0,T.encodeToXmlString)(this.nodeValue))}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var R=this.parentNode.childNodes;if(R){var D=R.indexOf(this);if(-1!==D)return R[D+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(R){return R.textContent}).join(""):this.nodeValue||""}}]),B}();g.SimpleDOMNode=c,g.SimpleXMLParser=function(B){!function(B,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(w&&w.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),w&&q(B,w)}(R,B);var w=function(B){var w=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(B){return!1}}();return function(){var m,D=H(B);if(w){var f=H(this).constructor;m=Reflect.construct(D,arguments,f)}else m=D.apply(this,arguments);return z(this,m)}}(R);function R(D){var m,f=D.hasAttributes,_=void 0!==f&&f,v=D.lowerCaseName,o=void 0!==v&&v;return y(this,R),(m=w.call(this))._currentFragment=null,m._stack=null,m._errorCode=0,m._hasAttributes=_,m._lowerCaseName=o,m}return u(R,[{key:"parseFromString",value:function(m){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(m),0===this._errorCode){var _=j(this._currentFragment,1)[0];if(_)return{documentElement:_}}}},{key:"onResolveEntity",value:function(m){return"apos"===m?"'":M(H(R.prototype),"onResolveEntity",this).call(this,m)}},{key:"onText",value:function(m){if(!function(B){for(var w=0,R=B.length;w<R;w++)if(!P(B,w))return!1;return!0}(m)){var f=new c("#text",m);this._currentFragment.push(f)}}},{key:"onCdata",value:function(m){var f=new c("#text",m);this._currentFragment.push(f)}},{key:"onBeginElement",value:function(m,f,_){this._lowerCaseName&&(m=m.toLowerCase());var v=new c(m);v.childNodes=[],this._hasAttributes&&(v.attributes=f),this._currentFragment.push(v),!_&&(this._stack.push(this._currentFragment),this._currentFragment=v.childNodes)}},{key:"onEndElement",value:function(m){this._currentFragment=this._stack.pop()||[];var f=this._currentFragment[this._currentFragment.length-1];if(f)for(var _=0,v=f.childNodes.length;_<v;_++)f.childNodes[_].parentNode=f}},{key:"onError",value:function(m){this._errorCode=m}}]),R}(O)},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.OptionalContentConfig=void 0;var a=r(4);function T(Z,H){var x;if("undefined"==typeof Symbol||null==Z[Symbol.iterator]){if(Array.isArray(Z)||(x=function(Z,H){if(Z){if("string"==typeof Z)return G(Z,H);var x=Object.prototype.toString.call(Z).slice(8,-1);if("Object"===x&&Z.constructor&&(x=Z.constructor.name),"Map"===x||"Set"===x)return Array.from(Z);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return G(Z,H)}}(Z))||H&&Z&&"number"==typeof Z.length){x&&(Z=x);var j=0,e=function(){};return{s:e,n:function(){return j>=Z.length?{done:!0}:{done:!1,value:Z[j++]}},e:function(y){throw y},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,F=!0,S=!1;return{s:function(){x=Z[Symbol.iterator]()},n:function(){var y=x.next();return F=y.done,y},e:function(y){S=!0,C=y},f:function(){try{!F&&null!=x.return&&x.return()}finally{if(S)throw C}}}}function G(Z,H){(null==H||H>Z.length)&&(H=Z.length);for(var x=0,j=new Array(H);x<H;x++)j[x]=Z[x];return j}function L(Z,H){for(var x=0;x<H.length;x++){var j=H[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(Z,j.key,j)}}function W(Z,H){if(!(Z instanceof H))throw new TypeError("Cannot call a class as a function")}var z=function Z(H,x){W(this,Z),this.visible=!0,this.name=H,this.intent=x},$=function(){function Z(H){if(W(this,Z),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==H){this.name=H.name,this.creator=H.creator,this._order=H.order;var j,x=T(H.groups);try{for(x.s();!(j=x.n()).done;){var e=j.value;this._groups.set(e.id,new z(e.name,e.intent))}}catch(E){x.e(E)}finally{x.f()}if("OFF"===H.baseState){var S,F=T(this._groups);try{for(F.s();!(S=F.n()).done;)S.value.visible=!1}catch(E){F.e(E)}finally{F.f()}}var y,l=T(H.on);try{for(l.s();!(y=l.n()).done;)this._groups.get(y.value).visible=!0}catch(E){l.e(E)}finally{l.f()}var s,u=T(H.off);try{for(u.s();!(s=u.n()).done;)this._groups.get(s.value).visible=!1}catch(E){u.e(E)}finally{u.f()}}}return function(Z,H,x){H&&L(Z.prototype,H)}(Z,[{key:"isVisible",value:function(x){if("OCG"===x.type)return this._groups.has(x.id)?this._groups.get(x.id).visible:((0,a.warn)("Optional content group not found: ".concat(x.id)),!0);if("OCMD"===x.type){if(x.expression&&(0,a.warn)("Visibility expression not supported yet."),!x.policy||"AnyOn"===x.policy){var e,j=T(x.ids);try{for(j.s();!(e=j.n()).done;){var F=e.value;if(!this._groups.has(F))return(0,a.warn)("Optional content group not found: ".concat(F)),!0;if(this._groups.get(F).visible)return!0}}catch(O){j.e(O)}finally{j.f()}return!1}if("AllOn"===x.policy){var C,S=T(x.ids);try{for(S.s();!(C=S.n()).done;){var l=C.value;if(!this._groups.has(l))return(0,a.warn)("Optional content group not found: ".concat(l)),!0;if(!this._groups.get(l).visible)return!1}}catch(O){S.e(O)}finally{S.f()}return!0}if("AnyOff"===x.policy){var i,y=T(x.ids);try{for(y.s();!(i=y.n()).done;){var u=i.value;if(!this._groups.has(u))return(0,a.warn)("Optional content group not found: ".concat(u)),!0;if(!this._groups.get(u).visible)return!0}}catch(O){y.e(O)}finally{y.f()}return!1}if("AllOff"===x.policy){var P,s=T(x.ids);try{for(s.s();!(P=s.n()).done;){var E=P.value;if(!this._groups.has(E))return(0,a.warn)("Optional content group not found: ".concat(E)),!0;if(this._groups.get(E).visible)return!1}}catch(O){s.e(O)}finally{s.f()}return!0}return(0,a.warn)("Unknown optional content policy ".concat(x.policy,".")),!0}return(0,a.warn)("Unknown group type ".concat(x.type,".")),!0}},{key:"setVisibility",value:function(x){var j=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(x)?this._groups.get(x).visible=!!j:(0,a.warn)("Optional content group not found: ".concat(x))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size?(0,a.objectFromEntries)(this._groups):null}},{key:"getGroup",value:function(x){return this._groups.get(x)||null}}]),Z}();g.OptionalContentConfig=$},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.PDFDataTransportStream=void 0;var F,a=(F=r(2))&&F.__esModule?F:{default:F},T=r(4);function G(F,S,C,l,y,i,u){try{var s=F[i](u),P=s.value}catch(E){return void C(E)}s.done?S(P):Promise.resolve(P).then(l,y)}function L(F){return function(){var S=this,C=arguments;return new Promise(function(l,y){var i=F.apply(S,C);function u(P){G(i,l,y,u,s,"next",P)}function s(P){G(i,l,y,u,s,"throw",P)}u(void 0)})}}function q(F,S){var C;if("undefined"==typeof Symbol||null==F[Symbol.iterator]){if(Array.isArray(F)||(C=function(F,S){if(F){if("string"==typeof F)return z(F,S);var C=Object.prototype.toString.call(F).slice(8,-1);if("Object"===C&&F.constructor&&(C=F.constructor.name),"Map"===C||"Set"===C)return Array.from(F);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return z(F,S)}}(F))||S&&F&&"number"==typeof F.length){C&&(F=C);var l=0,y=function(){};return{s:y,n:function(){return l>=F.length?{done:!0}:{done:!1,value:F[l++]}},e:function(E){throw E},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,u=!1;return{s:function(){C=F[Symbol.iterator]()},n:function(){var E=C.next();return i=E.done,E},e:function(E){u=!0,s=E},f:function(){try{!i&&null!=C.return&&C.return()}finally{if(u)throw s}}}}function z(F,S){(null==S||S>F.length)&&(S=F.length);for(var C=0,l=new Array(S);C<S;C++)l[C]=F[C];return l}function $(F,S){if(!(F instanceof S))throw new TypeError("Cannot call a class as a function")}function Z(F,S){for(var C=0;C<S.length;C++){var l=S[C];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(F,l.key,l)}}function H(F,S,C){return S&&Z(F.prototype,S),C&&Z(F,C),F}var x=function(){function F(S,C){var l=this;$(this,F),(0,T.assert)(C,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=S.progressiveDone||!1;var y=S.initialData;if((null==y?void 0:y.length)>0){var i=new Uint8Array(y).buffer;this._queuedChunks.push(i)}this._pdfDataRangeTransport=C,this._isStreamingSupported=!S.disableStream,this._isRangeSupported=!S.disableRange,this._contentLength=S.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(u,s){l._onReceiveData({begin:u,chunk:s})}),this._pdfDataRangeTransport.addProgressListener(function(u,s){l._onProgress({loaded:u,total:s})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(u){l._onReceiveData({chunk:u})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){l._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return H(F,[{key:"_onReceiveData",value:function(C){var l=new Uint8Array(C.chunk).buffer;if(void 0===C.begin)this._fullRequestReader?this._fullRequestReader._enqueue(l):this._queuedChunks.push(l);else{var y=this._rangeReaders.some(function(i){return i._begin===C.begin&&(i._enqueue(l),!0)});(0,T.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function(C){if(void 0===C.total){var l=this._rangeReaders[0];null!=l&&l.onProgress&&l.onProgress({loaded:C.loaded})}else{var y=this._fullRequestReader;null!=y&&y.onProgress&&y.onProgress({loaded:C.loaded,total:C.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(C){var l=this._rangeReaders.indexOf(C);l>=0&&this._rangeReaders.splice(l,1)}},{key:"getFullReader",value:function(){(0,T.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var C=this._queuedChunks;return this._queuedChunks=null,new j(this,C,this._progressiveDone)}},{key:"getRangeReader",value:function(C,l){if(l<=this._progressiveDataLength)return null;var y=new e(this,C,l);return this._pdfDataRangeTransport.requestDataRange(C,l),this._rangeReaders.push(y),y}},{key:"cancelAllRequests",value:function(C){this._fullRequestReader&&this._fullRequestReader.cancel(C),this._rangeReaders.slice(0).forEach(function(y){y.cancel(C)}),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){var C,l;return null!==(C=null===(l=this._fullRequestReader)||void 0===l?void 0:l._loaded)&&void 0!==C?C:0}}]),F}();g.PDFDataTransportStream=x;var j=function(){function F(S,C){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];$(this,F),this._stream=S,this._done=l||!1,this._filename=null,this._queuedChunks=C||[],this._loaded=0;var i,y=q(this._queuedChunks);try{for(y.s();!(i=y.n()).done;){var u=i.value;this._loaded+=u.byteLength}}catch(s){y.e(s)}finally{y.f()}this._requests=[],this._headersReady=Promise.resolve(),S._fullRequestReader=this,this.onProgress=null}return H(F,[{key:"_enqueue",value:function(C){this._done||(this._requests.length>0?this._requests.shift().resolve({value:C,done:!1}):this._queuedChunks.push(C),this._loaded+=C.byteLength)}},{key:"read",value:(S=L(a.default.mark(function l(){var y,i;return a.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(this._queuedChunks.length>0)){s.next=3;break}return y=this._queuedChunks.shift(),s.abrupt("return",{value:y,done:!1});case 3:if(!this._done){s.next=5;break}return s.abrupt("return",{value:void 0,done:!0});case 5:return i=(0,T.createPromiseCapability)(),this._requests.push(i),s.abrupt("return",i.promise);case 8:case"end":return s.stop()}},l,this)})),function(){return S.apply(this,arguments)})},{key:"cancel",value:function(C){this._done=!0,this._requests.forEach(function(l){l.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),F;var S}(),e=function(){function F(S,C,l){$(this,F),this._stream=S,this._begin=C,this._end=l,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return H(F,[{key:"_enqueue",value:function(C){this._done||(0===this._requests.length?this._queuedChunk=C:(this._requests.shift().resolve({value:C,done:!1}),this._requests.forEach(function(y){y.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:(S=L(a.default.mark(function l(){var y,i;return a.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this._queuedChunk){s.next=4;break}return y=this._queuedChunk,this._queuedChunk=null,s.abrupt("return",{value:y,done:!1});case 4:if(!this._done){s.next=6;break}return s.abrupt("return",{value:void 0,done:!0});case 6:return i=(0,T.createPromiseCapability)(),this._requests.push(i),s.abrupt("return",i.promise);case 9:case"end":return s.stop()}},l,this)})),function(){return S.apply(this,arguments)})},{key:"cancel",value:function(C){this._done=!0,this._requests.forEach(function(l){l.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),F;var S}()},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.WebGLContext=void 0;var a=r(4);function M(W,z){for(var $=0;$<z.length;$++){var Z=z[$];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(W,Z.key,Z)}}g.WebGLContext=function(){function W(z){var $=z.enable,Z=void 0!==$&&$;(function(W,z){if(!(W instanceof z))throw new TypeError("Cannot call a class as a function")})(this,W),this._enabled=!0===Z}return function(W,z,$){z&&M(W.prototype,z)}(W,[{key:"composeSMask",value:function($){return q.composeSMask($.layer,$.mask,$.properties)}},{key:"drawFigures",value:function($){return q.drawFigures($.width,$.height,$.backgroundColor,$.figures,$.context)}},{key:"clear",value:function(){q.cleanup()}},{key:"isEnabled",get:function(){var $=this._enabled;return $&&($=q.tryInitGL()),(0,a.shadow)(this,"isEnabled",$)}}]),W}();var q=function(){function z(c,p,B){var w=c.createShader(B);if(c.shaderSource(w,p),c.compileShader(w),!c.getShaderParameter(w,c.COMPILE_STATUS)){var D=c.getShaderInfoLog(w);throw new Error("Error during shader compilation: "+D)}return w}function $(c,p){return z(c,p,c.VERTEX_SHADER)}function Z(c,p){return z(c,p,c.FRAGMENT_SHADER)}function H(c,p){for(var B=c.createProgram(),w=0,R=p.length;w<R;++w)c.attachShader(B,p[w]);if(c.linkProgram(B),!c.getProgramParameter(B,c.LINK_STATUS)){var m=c.getProgramInfoLog(B);throw new Error("Error during program linking: "+m)}return B}function x(c,p,B){c.activeTexture(B);var w=c.createTexture();return c.bindTexture(c.TEXTURE_2D,w),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,p),w}var j,e;function F(){j||(e=document.createElement("canvas"),j=e.getContext("webgl",{premultipliedalpha:!1}))}var l=null,P=null;return{tryInitGL:function(){try{return F(),!!j}catch(p){}return!1},composeSMask:function(c,p,B){var w=c.width,R=c.height;l||function(){F();var c=e;e=null;var p=j;j=null;var R=H(p,[$(p,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),Z(p,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);p.useProgram(R);var D={};D.gl=p,D.canvas=c,D.resolutionLocation=p.getUniformLocation(R,"u_resolution"),D.positionLocation=p.getAttribLocation(R,"a_position"),D.backdropLocation=p.getUniformLocation(R,"u_backdrop"),D.subtypeLocation=p.getUniformLocation(R,"u_subtype");var m=p.getAttribLocation(R,"a_texCoord"),f=p.getUniformLocation(R,"u_image"),_=p.getUniformLocation(R,"u_mask"),v=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,v),p.bufferData(p.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),p.STATIC_DRAW),p.enableVertexAttribArray(m),p.vertexAttribPointer(m,2,p.FLOAT,!1,0,0),p.uniform1i(f,0),p.uniform1i(_,1),l=D}();var D=l,m=D.canvas,f=D.gl;m.width=w,m.height=R,f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight),f.uniform2f(D.resolutionLocation,w,R),B.backdrop?f.uniform4f(D.resolutionLocation,B.backdrop[0],B.backdrop[1],B.backdrop[2],1):f.uniform4f(D.resolutionLocation,0,0,0,0),f.uniform1i(D.subtypeLocation,"Luminosity"===B.subtype?1:0);var _=x(f,c,f.TEXTURE0),v=x(f,p,f.TEXTURE1),o=f.createBuffer();return f.bindBuffer(f.ARRAY_BUFFER,o),f.bufferData(f.ARRAY_BUFFER,new Float32Array([0,0,w,0,0,R,0,R,w,0,w,R]),f.STATIC_DRAW),f.enableVertexAttribArray(D.positionLocation),f.vertexAttribPointer(D.positionLocation,2,f.FLOAT,!1,0,0),f.clearColor(0,0,0,0),f.enable(f.BLEND),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA),f.clear(f.COLOR_BUFFER_BIT),f.drawArrays(f.TRIANGLES,0,6),f.flush(),f.deleteTexture(_),f.deleteTexture(v),f.deleteBuffer(o),m},drawFigures:function(c,p,B,w,R){P||function(){F();var c=e;e=null;var p=j;j=null;var R=H(p,[$(p,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),Z(p,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);p.useProgram(R);var D={};D.gl=p,D.canvas=c,D.resolutionLocation=p.getUniformLocation(R,"u_resolution"),D.scaleLocation=p.getUniformLocation(R,"u_scale"),D.offsetLocation=p.getUniformLocation(R,"u_offset"),D.positionLocation=p.getAttribLocation(R,"a_position"),D.colorLocation=p.getAttribLocation(R,"a_color"),P=D}();var D=P,m=D.canvas,f=D.gl;m.width=c,m.height=p,f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight),f.uniform2f(D.resolutionLocation,c,p);for(var _=0,v=0,o=w.length;v<o;v++)switch(w[v].type){case"lattice":_+=((w[v].coords.length/w[v].verticesPerRow|0)-1)*(w[v].verticesPerRow-1)*6;break;case"triangles":_+=w[v].coords.length}for(var A=new Float32Array(2*_),k=new Uint8Array(3*_),N=R.coords,I=R.colors,V=0,Y=0,J=0,re=w.length;J<re;J++){var te=w[J],ae=te.coords,ne=te.colors;switch(te.type){case"lattice":for(var he=te.verticesPerRow,me=ae.length/he|0,Se=1;Se<me;Se++)for(var se=Se*he+1,fe=1;fe<he;fe++,se++)A[V]=N[ae[se-he-1]],A[V+1]=N[ae[se-he-1]+1],A[V+2]=N[ae[se-he]],A[V+3]=N[ae[se-he]+1],A[V+4]=N[ae[se-1]],A[V+5]=N[ae[se-1]+1],k[Y]=I[ne[se-he-1]],k[Y+1]=I[ne[se-he-1]+1],k[Y+2]=I[ne[se-he-1]+2],k[Y+3]=I[ne[se-he]],k[Y+4]=I[ne[se-he]+1],k[Y+5]=I[ne[se-he]+2],k[Y+6]=I[ne[se-1]],k[Y+7]=I[ne[se-1]+1],k[Y+8]=I[ne[se-1]+2],A[V+6]=A[V+2],A[V+7]=A[V+3],A[V+8]=A[V+4],A[V+9]=A[V+5],A[V+10]=N[ae[se]],A[V+11]=N[ae[se]+1],k[Y+9]=k[Y+3],k[Y+10]=k[Y+4],k[Y+11]=k[Y+5],k[Y+12]=k[Y+6],k[Y+13]=k[Y+7],k[Y+14]=k[Y+8],k[Y+15]=I[ne[se]],k[Y+16]=I[ne[se]+1],k[Y+17]=I[ne[se]+2],V+=12,Y+=18;break;case"triangles":for(var K=0,ie=ae.length;K<ie;K++)A[V]=N[ae[K]],A[V+1]=N[ae[K]+1],k[Y]=I[ne[K]],k[Y+1]=I[ne[K]+1],k[Y+2]=I[ne[K]+2],V+=2,Y+=3}}B?f.clearColor(B[0]/255,B[1]/255,B[2]/255,1):f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT);var oe=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,oe),f.bufferData(f.ARRAY_BUFFER,A,f.STATIC_DRAW),f.enableVertexAttribArray(D.positionLocation),f.vertexAttribPointer(D.positionLocation,2,f.FLOAT,!1,0,0);var Ee=f.createBuffer();return f.bindBuffer(f.ARRAY_BUFFER,Ee),f.bufferData(f.ARRAY_BUFFER,k,f.STATIC_DRAW),f.enableVertexAttribArray(D.colorLocation),f.vertexAttribPointer(D.colorLocation,3,f.UNSIGNED_BYTE,!1,0,0),f.uniform2f(D.scaleLocation,R.scaleX,R.scaleY),f.uniform2f(D.offsetLocation,R.offsetX,R.offsetY),f.drawArrays(f.TRIANGLES,0,_),f.flush(),f.deleteBuffer(oe),f.deleteBuffer(Ee),m},cleanup:function(){var p,B;null!==(p=l)&&void 0!==p&&p.canvas&&(l.canvas.width=0,l.canvas.height=0),null!==(B=P)&&void 0!==B&&B.canvas&&(P.canvas.width=0,P.canvas.height=0),l=null,P=null}}}()},(X,g,r)=>{"use strict";function a(se){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(se)}Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayer=void 0;var T=r(1),M=r(4),G=r(138),L=r(150);function q(se,fe,K){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(oe,Ee,ye){var we=function(se,fe){for(;!Object.prototype.hasOwnProperty.call(se,fe)&&null!==(se=l(se)););return se}(oe,Ee);if(we){var Oe=Object.getOwnPropertyDescriptor(we,Ee);return Oe.get?Oe.get.call(ye):Oe.value}},q(se,fe,K||se)}function z(se,fe){return function(se){if(Array.isArray(se))return se}(se)||function(se,fe){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(se)){var K=[],ie=!0,oe=!1,Ee=void 0;try{for(var we,ye=se[Symbol.iterator]();!(ie=(we=ye.next()).done)&&(K.push(we.value),!fe||K.length!==fe);ie=!0);}catch(Oe){oe=!0,Ee=Oe}finally{try{!ie&&null!=ye.return&&ye.return()}finally{if(oe)throw Ee}}return K}}(se,fe)||i(se,fe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(se,fe){if("function"!=typeof fe&&null!==fe)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(fe&&fe.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),fe&&j(se,fe)}function j(se,fe){return(j=Object.setPrototypeOf||function(ie,oe){return ie.__proto__=oe,ie})(se,fe)}function e(se){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(se){return!1}}();return function(){var oe,ie=l(se);if(fe){var Ee=l(this).constructor;oe=Reflect.construct(ie,arguments,Ee)}else oe=ie.apply(this,arguments);return F(this,oe)}}function F(se,fe){return!fe||"object"!==a(fe)&&"function"!=typeof fe?S(se):fe}function S(se){if(void 0===se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function l(se){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)})(se)}function y(se,fe){var K;if("undefined"==typeof Symbol||null==se[Symbol.iterator]){if(Array.isArray(se)||(K=i(se))||fe&&se&&"number"==typeof se.length){K&&(se=K);var ie=0,oe=function(){};return{s:oe,n:function(){return ie>=se.length?{done:!0}:{done:!1,value:se[ie++]}},e:function(be){throw be},f:oe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var we,Ee=!0,ye=!1;return{s:function(){K=se[Symbol.iterator]()},n:function(){var be=K.next();return Ee=be.done,be},e:function(be){ye=!0,we=be},f:function(){try{!Ee&&null!=K.return&&K.return()}finally{if(ye)throw we}}}}function i(se,fe){if(se){if("string"==typeof se)return u(se,fe);var K=Object.prototype.toString.call(se).slice(8,-1);if("Object"===K&&se.constructor&&(K=se.constructor.name),"Map"===K||"Set"===K)return Array.from(se);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return u(se,fe)}}function u(se,fe){(null==fe||fe>se.length)&&(fe=se.length);for(var K=0,ie=new Array(fe);K<fe;K++)ie[K]=se[K];return ie}function s(se,fe){if(!(se instanceof fe))throw new TypeError("Cannot call a class as a function")}function P(se,fe){for(var K=0;K<fe.length;K++){var ie=fe[K];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(se,ie.key,ie)}}function E(se,fe,K){return fe&&P(se.prototype,fe),K&&P(se,K),se}var O=function(){function se(){s(this,se)}return E(se,null,[{key:"create",value:function(K){switch(K.data.annotationType){case M.AnnotationType.LINK:return new p(K);case M.AnnotationType.TEXT:return new B(K);case M.AnnotationType.WIDGET:switch(K.data.fieldType){case"Tx":return new R(K);case"Btn":return K.data.radioButton?new m(K):K.data.checkBox?new D(K):new f(K);case"Ch":return new _(K)}return new w(K);case M.AnnotationType.POPUP:return new v(K);case M.AnnotationType.FREETEXT:return new b(K);case M.AnnotationType.LINE:return new A(K);case M.AnnotationType.SQUARE:return new k(K);case M.AnnotationType.CIRCLE:return new N(K);case M.AnnotationType.POLYLINE:return new I(K);case M.AnnotationType.CARET:return new Y(K);case M.AnnotationType.INK:return new J(K);case M.AnnotationType.POLYGON:return new V(K);case M.AnnotationType.HIGHLIGHT:return new re(K);case M.AnnotationType.UNDERLINE:return new te(K);case M.AnnotationType.SQUIGGLY:return new ae(K);case M.AnnotationType.STRIKEOUT:return new ne(K);case M.AnnotationType.STAMP:return new he(K);case M.AnnotationType.FILEATTACHMENT:return new me(K);default:return new c(K)}}}]),se}(),c=function(){function se(fe){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ie=K.isRenderable,oe=void 0!==ie&&ie,Ee=K.ignoreBorder,ye=void 0!==Ee&&Ee,we=K.createQuadrilaterals,Oe=void 0!==we&&we;s(this,se),this.isRenderable=oe,this.data=fe.data,this.layer=fe.layer,this.page=fe.page,this.viewport=fe.viewport,this.linkService=fe.linkService,this.downloadManager=fe.downloadManager,this.imageResourcesPath=fe.imageResourcesPath,this.renderInteractiveForms=fe.renderInteractiveForms,this.svgFactory=fe.svgFactory,this.annotationStorage=fe.annotationStorage,this.enableScripting=fe.enableScripting,this.hasJSActions=fe.hasJSActions,this._mouseState=fe.mouseState,oe&&(this.container=this._createContainer(ye)),Oe&&(this.quadrilaterals=this._createQuadrilaterals(ye))}return E(se,[{key:"_createContainer",value:function(){var K=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ie=this.data,oe=this.page,Ee=this.viewport,ye=document.createElement("section"),we=ie.rect[2]-ie.rect[0],Oe=ie.rect[3]-ie.rect[1];ye.setAttribute("data-annotation-id",ie.id);var be=M.Util.normalizeRect([ie.rect[0],oe.view[3]-ie.rect[1]+oe.view[1],ie.rect[2],oe.view[3]-ie.rect[3]+oe.view[1]]);if(ye.style.transform="matrix(".concat(Ee.transform.join(","),")"),ye.style.transformOrigin="".concat(-be[0],"px ").concat(-be[1],"px"),!K&&ie.borderStyle.width>0){ye.style.borderWidth="".concat(ie.borderStyle.width,"px"),ie.borderStyle.style!==M.AnnotationBorderStyleType.UNDERLINE&&(we-=2*ie.borderStyle.width,Oe-=2*ie.borderStyle.width);var ze=ie.borderStyle.horizontalCornerRadius,He=ie.borderStyle.verticalCornerRadius;if(ze>0||He>0){var Ce="".concat(ze,"px / ").concat(He,"px");ye.style.borderRadius=Ce}switch(ie.borderStyle.style){case M.AnnotationBorderStyleType.SOLID:ye.style.borderStyle="solid";break;case M.AnnotationBorderStyleType.DASHED:ye.style.borderStyle="dashed";break;case M.AnnotationBorderStyleType.BEVELED:(0,M.warn)("Unimplemented border style: beveled");break;case M.AnnotationBorderStyleType.INSET:(0,M.warn)("Unimplemented border style: inset");break;case M.AnnotationBorderStyleType.UNDERLINE:ye.style.borderBottomStyle="solid"}ie.color?ye.style.borderColor=M.Util.makeHexColor(0|ie.color[0],0|ie.color[1],0|ie.color[2]):ye.style.borderWidth=0}return ye.style.left="".concat(be[0],"px"),ye.style.top="".concat(be[1],"px"),ye.style.width="".concat(we,"px"),ye.style.height="".concat(Oe,"px"),ye}},{key:"_createQuadrilaterals",value:function(){var K=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var ye,ie=[],oe=this.data.rect,Ee=y(this.data.quadPoints);try{for(Ee.s();!(ye=Ee.n()).done;){var we=ye.value;this.data.rect=[we[2].x,we[2].y,we[1].x,we[1].y],ie.push(this._createContainer(K))}}catch(Oe){Ee.e(Oe)}finally{Ee.f()}return this.data.rect=oe,ie}},{key:"_createPopup",value:function(K,ie){var oe=this.container;this.quadrilaterals&&(K=K||this.quadrilaterals,oe=this.quadrilaterals[0]),K||((K=document.createElement("div")).style.height=oe.style.height,K.style.width=oe.style.width,oe.appendChild(K));var ye=new o({container:oe,trigger:K,color:ie.color,title:ie.title,modificationDate:ie.modificationDate,contents:ie.contents,hideWrapper:!0}).render();ye.style.left=oe.style.width,oe.appendChild(ye)}},{key:"_renderQuadrilaterals",value:function(K){return this.quadrilaterals.forEach(function(ie){ie.className=K}),this.quadrilaterals}},{key:"render",value:function(){(0,M.unreachable)("Abstract method `AnnotationElement.render` called")}}]),se}(),p=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.url||ie.data.dest||ie.data.action||ie.data.isTooltipOnly||ie.data.actions&&(ie.data.actions.Action||ie.data.actions["Mouse Up"]||ie.data.actions["Mouse Down"])),createQuadrilaterals:!0})}return E(K,[{key:"render",value:function(){var oe=this.data,Ee=this.linkService,ye=document.createElement("a");return oe.url?(0,T.addLinkAttributes)(ye,{url:oe.url,target:oe.newWindow?T.LinkTarget.BLANK:Ee.externalLinkTarget,rel:Ee.externalLinkRel,enabled:Ee.externalLinkEnabled}):oe.action?this._bindNamedAction(ye,oe.action):oe.dest?this._bindLink(ye,oe.dest):oe.actions&&(oe.actions.Action||oe.actions["Mouse Up"]||oe.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(ye,oe):this._bindLink(ye,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(we,Oe){var be=0===Oe?ye:ye.cloneNode();return we.appendChild(be),we}):(this.container.className="linkAnnotation",this.container.appendChild(ye),this.container)}},{key:"_bindLink",value:function(oe,Ee){var ye=this;oe.href=this.linkService.getDestinationHash(Ee),oe.onclick=function(){return Ee&&ye.linkService.goToDestination(Ee),!1},(Ee||""===Ee)&&(oe.className="internalLink")}},{key:"_bindNamedAction",value:function(oe,Ee){var ye=this;oe.href=this.linkService.getAnchorUrl(""),oe.onclick=function(){return ye.linkService.executeNamedAction(Ee),!1},oe.className="internalLink"}},{key:"_bindJSAction",value:function(oe,Ee){var ye=this;oe.href=this.linkService.getAnchorUrl("");for(var we=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),Oe=function(){var Ne=ze[be],Me=we.get(Ne);if(!Me)return"continue";oe[Me]=function(){var Ve;return null===(Ve=ye.linkService.eventBus)||void 0===Ve||Ve.dispatch("dispatcheventinsandbox",{source:ye,detail:{id:Ee.id,name:Ne}}),!1}},be=0,ze=Object.keys(Ee.actions);be<ze.length;be++)Oe();oe.className="internalLink"}}]),K}(c),B=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents)})}return E(K,[{key:"render",value:function(){this.container.className="textAnnotation";var oe=document.createElement("img");return oe.style.height=this.container.style.height,oe.style.width=this.container.style.width,oe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",oe.alt="[{{type}} Annotation]",oe.dataset.l10nId="text_annotation_type",oe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(oe,this.data),this.container.appendChild(oe),this.container}}]),K}(c),w=function(se){x(K,se);var fe=e(K);function K(){return s(this,K),fe.apply(this,arguments)}return E(K,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(oe){return navigator.platform.includes("Win")&&oe.ctrlKey||navigator.platform.includes("Mac")&&oe.metaKey}},{key:"_setEventListener",value:function(oe,Ee,ye,we){var Oe=this;Ee.includes("mouse")?oe.addEventListener(Ee,function(be){var ze;null===(ze=Oe.linkService.eventBus)||void 0===ze||ze.dispatch("dispatcheventinsandbox",{source:Oe,detail:{id:Oe.data.id,name:ye,value:we(be),shift:be.shiftKey,modifier:Oe._getKeyModifier(be)}})}):oe.addEventListener(Ee,function(be){var ze;null===(ze=Oe.linkService.eventBus)||void 0===ze||ze.dispatch("dispatcheventinsandbox",{source:Oe,detail:{id:Oe.data.id,name:ye,value:be.target.checked}})})}},{key:"_setEventListeners",value:function(oe,Ee,ye){var Oe,we=y(Ee);try{for(we.s();!(Oe=we.n()).done;){var be,ze=z(Oe.value,2),Ce=ze[1];("Action"===Ce||null!==(be=this.data.actions)&&void 0!==be&&be[Ce])&&this._setEventListener(oe,ze[0],Ce,ye)}}catch(Ne){we.e(Ne)}finally{we.f()}}}]),K}(c),R=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:ie.renderInteractiveForms||!ie.data.hasAppearance&&!!ie.data.fieldValue})}return E(K,[{key:"render",value:function(){var oe=this,Ee=this.annotationStorage,ye=this.data.id;this.container.className="textWidgetAnnotation";var we=null;if(this.renderInteractiveForms){var Oe=Ee.getOrCreateValue(ye,{value:this.data.fieldValue}).value,be={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(we=document.createElement("textarea")).textContent=Oe:((we=document.createElement("input")).type="text",we.setAttribute("value",Oe)),be.userValue=Oe,we.setAttribute("id",ye),we.addEventListener("input",function(Me){Ee.setValue(ye,{value:Me.target.value})});var ze=function(Ve){be.formattedValue&&(Ve.target.value=be.formattedValue),Ve.target.setSelectionRange(0,0),be.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions&&(we.addEventListener("focus",function(Me){be.userValue&&(Me.target.value=be.userValue)}),we.addEventListener("updatefromsandbox",function(Me){var Ve=Me.detail,ue={value:function(){be.userValue=Ve.value||"",Ee.setValue(ye,{value:be.userValue.toString()}),be.formattedValue||(Me.target.value=be.userValue)},valueAsString:function(){be.formattedValue=Ve.valueAsString||"",Me.target!==document.activeElement&&(Me.target.value=be.formattedValue),Ee.setValue(ye,{formattedValue:be.formattedValue})},focus:function(){setTimeout(function(){return Me.target.focus({preventScroll:!1})},0)},userName:function(){Me.target.title=Ve.userName},hidden:function(){Me.target.style.visibility=Ve.hidden?"hidden":"visible",Ee.setValue(ye,{hidden:Ve.hidden})},editable:function(){Me.target.disabled=!Ve.editable},selRange:function(){var _e=z(Ve.selRange,2),ke=_e[0],Te=_e[1];ke>=0&&Te<Me.target.value.length&&Me.target.setSelectionRange(ke,Te)},strokeColor:function(){var _e=Ve.strokeColor;Me.target.style.color=L.ColorConverters["".concat(_e[0],"_HTML")](_e.slice(1))}};Object.keys(Ve).filter(function(ge){return ge in ue}).forEach(function(ge){return ue[ge]()})}),this.data.actions)){we.addEventListener("keydown",function(Me){var Ve;be.beforeInputValue=Me.target.value;var ue=-1;"Escape"===Me.key?ue=0:"Enter"===Me.key?ue=2:"Tab"===Me.key&&(ue=3),-1!==ue&&(be.userValue=Me.target.value,null===(Ve=oe.linkService.eventBus)||void 0===Ve||Ve.dispatch("dispatcheventinsandbox",{source:oe,detail:{id:ye,name:"Keystroke",value:Me.target.value,willCommit:!0,commitKey:ue,selStart:Me.target.selectionStart,selEnd:Me.target.selectionEnd}}))});var He=ze;ze=null,we.addEventListener("blur",function(Me){var Ve;oe._mouseState.isDown&&(be.userValue=Me.target.value,null===(Ve=oe.linkService.eventBus)||void 0===Ve||Ve.dispatch("dispatcheventinsandbox",{source:oe,detail:{id:ye,name:"Keystroke",value:Me.target.value,willCommit:!0,commitKey:1,selStart:Me.target.selectionStart,selEnd:Me.target.selectionEnd}})),He(Me)}),we.addEventListener("mousedown",function(Me){be.beforeInputValue=Me.target.value,be.beforeInputSelectionRange=null}),we.addEventListener("keyup",function(Me){Me.target.selectionStart===Me.target.selectionEnd&&(be.beforeInputSelectionRange=null)}),we.addEventListener("select",function(Me){be.beforeInputSelectionRange=[Me.target.selectionStart,Me.target.selectionEnd]}),"Keystroke"in this.data.actions&&we.addEventListener("input",function(Me){var Ve,ue=-1,ge=-1;if(be.beforeInputSelectionRange){var _e=z(be.beforeInputSelectionRange,2);ue=_e[0],ge=_e[1]}null===(Ve=oe.linkService.eventBus)||void 0===Ve||Ve.dispatch("dispatcheventinsandbox",{source:oe,detail:{id:ye,name:"Keystroke",value:be.beforeInputValue,change:Me.data,willCommit:!1,selStart:ue,selEnd:ge}})}),this._setEventListeners(we,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Me){return Me.target.value})}if(ze&&we.addEventListener("blur",ze),we.disabled=this.data.readOnly,we.name=this.data.fieldName,null!==this.data.maxLen&&(we.maxLength=this.data.maxLen),this.data.comb){var Ne=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;we.classList.add("comb"),we.style.letterSpacing="calc(".concat(Ne,"px - 1ch)")}}else(we=document.createElement("div")).textContent=this.data.fieldValue,we.style.verticalAlign="middle",we.style.display="table-cell";return this._setTextStyle(we),this.container.appendChild(we),this.container}},{key:"_setTextStyle",value:function(oe){var ye=this.data.defaultAppearanceData,we=ye.fontSize,Oe=ye.fontColor,be=oe.style;we&&(be.fontSize="".concat(we,"px")),be.color=M.Util.makeHexColor(Oe[0],Oe[1],Oe[2]),null!==this.data.textAlignment&&(be.textAlign=["left","center","right"][this.data.textAlignment])}}]),K}(w),D=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:ie.renderInteractiveForms})}return E(K,[{key:"render",value:function(){var oe=this.annotationStorage,Ee=this.data,ye=Ee.id,we=oe.getOrCreateValue(ye,{value:Ee.fieldValue&&"Off"!==Ee.fieldValue}).value;this.container.className="buttonWidgetAnnotation checkBox";var Oe=document.createElement("input");return Oe.disabled=Ee.readOnly,Oe.type="checkbox",Oe.name=this.data.fieldName,we&&Oe.setAttribute("checked",!0),Oe.setAttribute("id",ye),Oe.addEventListener("change",function(be){var Ce,He=y(document.getElementsByName(be.target.name));try{for(He.s();!(Ce=He.n()).done;){var Ne=Ce.value;Ne!==be.target&&(Ne.checked=!1,oe.setValue(Ne.parentNode.getAttribute("data-annotation-id"),{value:!1}))}}catch(Me){He.e(Me)}finally{He.f()}oe.setValue(ye,{value:be.target.checked})}),this.enableScripting&&this.hasJSActions&&(Oe.addEventListener("updatefromsandbox",function(be){var ze=be.detail,He={value:function(){be.target.checked="Off"!==ze.value,oe.setValue(ye,{value:be.target.checked})},focus:function(){setTimeout(function(){return be.target.focus({preventScroll:!1})},0)},hidden:function(){be.target.style.visibility=ze.hidden?"hidden":"visible",oe.setValue(ye,{hidden:ze.hidden})},editable:function(){be.target.disabled=!ze.editable}};Object.keys(ze).filter(function(Ce){return Ce in He}).forEach(function(Ce){return He[Ce]()})}),this._setEventListeners(Oe,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(be){return be.target.checked})),this.container.appendChild(Oe),this.container}}]),K}(w),m=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:ie.renderInteractiveForms})}return E(K,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var oe=this.annotationStorage,Ee=this.data,ye=Ee.id,we=oe.getOrCreateValue(ye,{value:Ee.fieldValue===Ee.buttonValue}).value,Oe=document.createElement("input");return Oe.disabled=Ee.readOnly,Oe.type="radio",Oe.name=Ee.fieldName,we&&Oe.setAttribute("checked",!0),Oe.setAttribute("pdfButtonValue",Ee.buttonValue),Oe.setAttribute("id",ye),Oe.addEventListener("change",function(be){var Ce,ze=be.target,He=y(document.getElementsByName(ze.name));try{for(He.s();!(Ce=He.n()).done;){var Ne=Ce.value;Ne!==ze&&oe.setValue(Ne.getAttribute("id"),{value:!1})}}catch(Me){He.e(Me)}finally{He.f()}oe.setValue(ye,{value:ze.checked})}),this.enableScripting&&this.hasJSActions&&(Oe.addEventListener("updatefromsandbox",function(be){var ze=be.detail,He={value:function(){var Ve,Ne=ze.value,Me=y(document.getElementsByName(be.target.name));try{for(Me.s();!(Ve=Me.n()).done;){var ue=Ve.value,ge=ue.getAttribute("id");Ne===ue.getAttribute("pdfButtonValue")?(ue.setAttribute("checked",!0),oe.setValue(ge,{value:!0})):oe.setValue(ge,{value:!1})}}catch(_e){Me.e(_e)}finally{Me.f()}},focus:function(){setTimeout(function(){return be.target.focus({preventScroll:!1})},0)},hidden:function(){be.target.style.visibility=ze.hidden?"hidden":"visible",oe.setValue(ye,{hidden:ze.hidden})},editable:function(){be.target.disabled=!ze.editable}};Object.keys(ze).filter(function(Ce){return Ce in He}).forEach(function(Ce){return He[Ce]()})}),this._setEventListeners(Oe,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(be){return be.target.checked})),this.container.appendChild(Oe),this.container}}]),K}(w),f=function(se){x(K,se);var fe=e(K);function K(){return s(this,K),fe.apply(this,arguments)}return E(K,[{key:"render",value:function(){var oe=q(l(K.prototype),"render",this).call(this);return oe.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(oe.title=this.data.alternativeText),oe}}]),K}(p),_=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:ie.renderInteractiveForms})}return E(K,[{key:"render",value:function(){var oe=this;this.container.className="choiceWidgetAnnotation";var Ee=this.annotationStorage,ye=this.data.id;Ee.getOrCreateValue(ye,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var we=document.createElement("select");we.disabled=this.data.readOnly,we.name=this.data.fieldName,we.setAttribute("id",ye),this.data.combo||(we.size=this.data.options.length,this.data.multiSelect&&(we.multiple=!0));var be,Oe=y(this.data.options);try{for(Oe.s();!(be=Oe.n()).done;){var ze=be.value,He=document.createElement("option");He.textContent=ze.displayValue,He.value=ze.exportValue,this.data.fieldValue.includes(ze.exportValue)&&He.setAttribute("selected",!0),we.appendChild(He)}}catch(Ne){Oe.e(Ne)}finally{Oe.f()}function Ce(Ne){var Me=Ne.target.options;return Me[Me.selectedIndex].value}return this.enableScripting&&this.hasJSActions?(we.addEventListener("updatefromsandbox",function(Ne){var Me=Ne.detail,Ve={value:function(){var ge=Ne.target.options,_e=Me.value,ke=ge.indexOf(_e);-1!==ke&&(ge.selectedIndex=ke,Ee.setValue(ye,{value:_e}))},focus:function(){setTimeout(function(){return Ne.target.focus({preventScroll:!1})},0)},hidden:function(){Ne.target.style.visibility=Me.hidden?"hidden":"visible",Ee.setValue(ye,{hidden:Me.hidden})},editable:function(){Ne.target.disabled=!Me.editable}};Object.keys(Me).filter(function(ue){return ue in Ve}).forEach(function(ue){return Ve[ue]()})}),we.addEventListener("input",function(Ne){var Me,Ve=Ce(Ne);Ee.setValue(ye,{value:Ve}),null===(Me=oe.linkService.eventBus)||void 0===Me||Me.dispatch("dispatcheventinsandbox",{source:oe,detail:{id:ye,name:"Keystroke",changeEx:Ve,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(we,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Ne){return Ne.target.checked})):we.addEventListener("input",function(Ne){Ee.setValue(ye,{value:Ce(Ne)})}),this.container.appendChild(we),this.container}}]),K}(w),v=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!(!ie.data.title&&!ie.data.contents)})}return E(K,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var Ee='[data-annotation-id="'.concat(this.data.parentId,'"]'),ye=this.layer.querySelectorAll(Ee);if(0===ye.length)return this.container;var we=new o({container:this.container,trigger:Array.from(ye),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),Oe=this.page,be=M.Util.normalizeRect([this.data.parentRect[0],Oe.view[3]-this.data.parentRect[1]+Oe.view[1],this.data.parentRect[2],Oe.view[3]-this.data.parentRect[3]+Oe.view[1]]),ze=be[0]+this.data.parentRect[2]-this.data.parentRect[0],He=be[1];return this.container.style.transformOrigin="".concat(-ze,"px ").concat(-He,"px"),this.container.style.left="".concat(ze,"px"),this.container.style.top="".concat(He,"px"),this.container.appendChild(we.render()),this.container}}]),K}(c),o=function(){function se(fe){s(this,se),this.container=fe.container,this.trigger=fe.trigger,this.color=fe.color,this.title=fe.title,this.modificationDate=fe.modificationDate,this.contents=fe.contents,this.hideWrapper=fe.hideWrapper||!1,this.pinned=!1}return E(se,[{key:"render",value:function(){var K=this,oe=document.createElement("div");oe.className="popupWrapper",this.hideElement=this.hideWrapper?oe:this.container,this.hideElement.setAttribute("hidden",!0);var Ee=document.createElement("div");Ee.className="popup";var ye=this.color;ye&&(Ee.style.backgroundColor=M.Util.makeHexColor(0|.7*(255-ye[0])+ye[0],0|.7*(255-ye[1])+ye[1],0|.7*(255-ye[2])+ye[2]));var ze=document.createElement("h1");ze.textContent=this.title,Ee.appendChild(ze);var He=T.PDFDateString.toDateObject(this.modificationDate);if(He){var Ce=document.createElement("span");Ce.textContent="{{date}}, {{time}}",Ce.dataset.l10nId="annotation_date_string",Ce.dataset.l10nArgs=JSON.stringify({date:He.toLocaleDateString(),time:He.toLocaleTimeString()}),Ee.appendChild(Ce)}var Ne=this._formatContents(this.contents);return Ee.appendChild(Ne),Array.isArray(this.trigger)||(this.trigger=[this.trigger]),this.trigger.forEach(function(Me){Me.addEventListener("click",K._toggle.bind(K)),Me.addEventListener("mouseover",K._show.bind(K,!1)),Me.addEventListener("mouseout",K._hide.bind(K,!1))}),Ee.addEventListener("click",this._hide.bind(this,!0)),oe.appendChild(Ee),oe}},{key:"_formatContents",value:function(K){for(var ie=document.createElement("p"),oe=K.split(/(?:\r\n?|\n)/),Ee=0,ye=oe.length;Ee<ye;++Ee)ie.appendChild(document.createTextNode(oe[Ee])),Ee<ye-1&&ie.appendChild(document.createElement("br"));return ie}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var K=arguments.length>0&&void 0!==arguments[0]&&arguments[0];K&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var K=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];K&&(this.pinned=!1),!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),se}(),b=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0})}return E(K,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),K}(c),A=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0})}return E(K,[{key:"render",value:function(){this.container.className="lineAnnotation";var oe=this.data,we=this.svgFactory.create(oe.rect[2]-oe.rect[0],oe.rect[3]-oe.rect[1]),Oe=this.svgFactory.createElement("svg:line");return Oe.setAttribute("x1",oe.rect[2]-oe.lineCoordinates[0]),Oe.setAttribute("y1",oe.rect[3]-oe.lineCoordinates[1]),Oe.setAttribute("x2",oe.rect[2]-oe.lineCoordinates[2]),Oe.setAttribute("y2",oe.rect[3]-oe.lineCoordinates[3]),Oe.setAttribute("stroke-width",oe.borderStyle.width||1),Oe.setAttribute("stroke","transparent"),we.appendChild(Oe),this.container.append(we),this._createPopup(Oe,oe),this.container}}]),K}(c),k=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0})}return E(K,[{key:"render",value:function(){this.container.className="squareAnnotation";var oe=this.data,Ee=oe.rect[2]-oe.rect[0],ye=oe.rect[3]-oe.rect[1],we=this.svgFactory.create(Ee,ye),Oe=oe.borderStyle.width,be=this.svgFactory.createElement("svg:rect");return be.setAttribute("x",Oe/2),be.setAttribute("y",Oe/2),be.setAttribute("width",Ee-Oe),be.setAttribute("height",ye-Oe),be.setAttribute("stroke-width",Oe||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","none"),we.appendChild(be),this.container.append(we),this._createPopup(be,oe),this.container}}]),K}(c),N=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0})}return E(K,[{key:"render",value:function(){this.container.className="circleAnnotation";var oe=this.data,Ee=oe.rect[2]-oe.rect[0],ye=oe.rect[3]-oe.rect[1],we=this.svgFactory.create(Ee,ye),Oe=oe.borderStyle.width,be=this.svgFactory.createElement("svg:ellipse");return be.setAttribute("cx",Ee/2),be.setAttribute("cy",ye/2),be.setAttribute("rx",Ee/2-Oe/2),be.setAttribute("ry",ye/2-Oe/2),be.setAttribute("stroke-width",Oe||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","none"),we.appendChild(be),this.container.append(we),this._createPopup(be,oe),this.container}}]),K}(c),I=function(se){x(K,se);var fe=e(K);function K(ie){var oe;return s(this,K),(oe=fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0})).containerClassName="polylineAnnotation",oe.svgElementName="svg:polyline",oe}return E(K,[{key:"render",value:function(){this.container.className=this.containerClassName;var ze,oe=this.data,we=this.svgFactory.create(oe.rect[2]-oe.rect[0],oe.rect[3]-oe.rect[1]),Oe=[],be=y(oe.vertices);try{for(be.s();!(ze=be.n()).done;){var He=ze.value;Oe.push(He.x-oe.rect[0]+","+(oe.rect[3]-He.y))}}catch(Ve){be.e(Ve)}finally{be.f()}Oe=Oe.join(" ");var Me=this.svgFactory.createElement(this.svgElementName);return Me.setAttribute("points",Oe),Me.setAttribute("stroke-width",oe.borderStyle.width||1),Me.setAttribute("stroke","transparent"),Me.setAttribute("fill","none"),we.appendChild(Me),this.container.append(we),this._createPopup(Me,oe),this.container}}]),K}(c),V=function(se){x(K,se);var fe=e(K);function K(ie){var oe;return s(this,K),(oe=fe.call(this,ie)).containerClassName="polygonAnnotation",oe.svgElementName="svg:polygon",oe}return K}(I),Y=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0})}return E(K,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),K}(c),J=function(se){x(K,se);var fe=e(K);function K(ie){var oe;return s(this,K),(oe=fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0})).containerClassName="inkAnnotation",oe.svgElementName="svg:polyline",oe}return E(K,[{key:"render",value:function(){this.container.className=this.containerClassName;var be,oe=this.data,we=this.svgFactory.create(oe.rect[2]-oe.rect[0],oe.rect[3]-oe.rect[1]),Oe=y(oe.inkLists);try{for(Oe.s();!(be=Oe.n()).done;){var Ne,He=[],Ce=y(be.value);try{for(Ce.s();!(Ne=Ce.n()).done;){var Me=Ne.value,ue=oe.rect[3]-Me.y;He.push("".concat(Me.x-oe.rect[0],",").concat(ue))}}catch(_e){Ce.e(_e)}finally{Ce.f()}He=He.join(" ");var ge=this.svgFactory.createElement(this.svgElementName);ge.setAttribute("points",He),ge.setAttribute("stroke-width",oe.borderStyle.width||1),ge.setAttribute("stroke","transparent"),ge.setAttribute("fill","none"),this._createPopup(ge,oe),we.appendChild(ge)}}catch(_e){Oe.e(_e)}finally{Oe.f()}return this.container.append(we),this.container}}]),K}(c),re=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return E(K,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),K}(c),te=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return E(K,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),K}(c),ae=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return E(K,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),K}(c),ne=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return E(K,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),K}(c),he=function(se){x(K,se);var fe=e(K);function K(ie){return s(this,K),fe.call(this,ie,{isRenderable:!!(ie.data.hasPopup||ie.data.title||ie.data.contents),ignoreBorder:!0})}return E(K,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),K}(c),me=function(se){x(K,se);var fe=e(K);function K(ie){var oe,Ee;s(this,K);var ye=(Ee=fe.call(this,ie,{isRenderable:!0})).data.file,we=ye.filename,Oe=ye.content;return Ee.filename=(0,T.getFilenameFromUrl)(we),Ee.content=Oe,null===(oe=Ee.linkService.eventBus)||void 0===oe||oe.dispatch("fileattachmentannotation",{source:S(Ee),id:(0,M.stringToPDFString)(we),filename:we,content:Oe}),Ee}return E(K,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var oe=document.createElement("div");return oe.style.height=this.container.style.height,oe.style.width=this.container.style.width,oe.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(oe,this.data),this.container.appendChild(oe),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,M.warn)("Download cannot be started due to unavailable download manager")}}]),K}(c);g.AnnotationLayer=function(){function se(){s(this,se)}return E(se,null,[{key:"render",value:function(K){var ye,ie=[],oe=[],Ee=y(K.annotations);try{for(Ee.s();!(ye=Ee.n()).done;){var we=ye.value;if(we){if(we.annotationType===M.AnnotationType.POPUP){oe.push(we);continue}ie.push(we)}}}catch(ue){Ee.e(ue)}finally{Ee.f()}oe.length&&ie.push.apply(ie,oe);for(var Oe=0,be=ie;Oe<be.length;Oe++){var ze=be[Oe],He=O.create({data:ze,layer:K.div,page:K.page,viewport:K.viewport,linkService:K.linkService,downloadManager:K.downloadManager,imageResourcesPath:K.imageResourcesPath||"",renderInteractiveForms:"boolean"!=typeof K.renderInteractiveForms||K.renderInteractiveForms,svgFactory:new T.DOMSVGFactory,annotationStorage:K.annotationStorage||new G.AnnotationStorage,enableScripting:K.enableScripting,hasJSActions:K.hasJSActions,mouseState:K.mouseState||{isDown:!1}});if(He.isRenderable){var Ce=He.render();if(ze.hidden&&(Ce.style.visibility="hidden"),Array.isArray(Ce)){var Me,Ne=y(Ce);try{for(Ne.s();!(Me=Ne.n()).done;)K.div.appendChild(Me.value)}catch(ue){Ne.e(ue)}finally{Ne.f()}}else He instanceof v?K.div.prepend(Ce):K.div.appendChild(Ce)}}}},{key:"update",value:function(K){var Ee,ie="matrix(".concat(K.viewport.transform.join(","),")"),oe=y(K.annotations);try{for(oe.s();!(Ee=oe.n()).done;){var we=K.div.querySelectorAll('[data-annotation-id="'.concat(Ee.value.id,'"]'));we&&we.forEach(function(Oe){Oe.style.transform=ie})}}catch(Oe){oe.e(Oe)}finally{oe.f()}K.div.removeAttribute("hidden")}}]),se}()},(X,g)=>{"use strict";function r(H,x){return function(H){if(Array.isArray(H))return H}(H)||function(H,x){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(H)){var j=[],e=!0,F=!1,S=void 0;try{for(var l,C=H[Symbol.iterator]();!(e=(l=C.next()).done)&&(j.push(l.value),!x||j.length!==x);e=!0);}catch(y){F=!0,S=y}finally{try{!e&&null!=C.return&&C.return()}finally{if(F)throw S}}return j}}(H,x)||function(H,x){if(H){if("string"==typeof H)return M(H,x);var j=Object.prototype.toString.call(H).slice(8,-1);if("Object"===j&&H.constructor&&(j=H.constructor.name),"Map"===j||"Set"===j)return Array.from(H);if("Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return M(H,x)}}(H,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(H,x){(null==x||x>H.length)&&(x=H.length);for(var j=0,e=new Array(x);j<x;j++)e[j]=H[j];return e}function W(H,x){for(var j=0;j<x.length;j++){var e=x[j];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(H,e.key,e)}}function $(H){return Math.floor(255*Math.max(0,Math.min(1,H))).toString(16).padStart(2,"0")}Object.defineProperty(g,"__esModule",{value:!0}),g.ColorConverters=void 0,g.ColorConverters=function(){function H(){!function(H,x){if(!(H instanceof x))throw new TypeError("Cannot call a class as a function")}(this,H)}return function(H,x,j){j&&W(H,j)}(H,0,[{key:"CMYK_G",value:function(j){var e=r(j,4);return["G",1-Math.min(1,.3*e[0]+.59*e[2]+.11*e[1]+e[3])]}},{key:"G_CMYK",value:function(j){return["CMYK",0,0,0,1-r(j,1)[0]]}},{key:"G_RGB",value:function(j){var F=r(j,1)[0];return["RGB",F,F,F]}},{key:"G_HTML",value:function(j){var S=$(r(j,1)[0]);return"#".concat(S).concat(S).concat(S)}},{key:"RGB_G",value:function(j){var e=r(j,3);return["G",.3*e[0]+.59*e[1]+.11*e[2]]}},{key:"RGB_HTML",value:function(j){var e=r(j,3),S=e[1],C=e[2],l=$(e[0]),y=$(S),i=$(C);return"#".concat(l).concat(y).concat(i)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(j){var e=r(j,4),S=e[1],C=e[2],l=e[3];return["RGB",1-Math.min(1,e[0]+l),1-Math.min(1,C+l),1-Math.min(1,S+l)]}},{key:"CMYK_HTML",value:function(j){return this.RGB_HTML(this.CMYK_RGB(j))}},{key:"RGB_CMYK",value:function(j){var e=r(j,3),l=1-e[0],y=1-e[1],i=1-e[2];return["CMYK",l,y,i,Math.min(l,y,i)]}}]),H}()},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.renderTextLayer=void 0;var a=r(4),T=function(){var L=/\S/;function W(F,S,C){var l=document.createElement("span"),y={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(F._textDivs.push(l),function(F){return!L.test(F)}(S.str))return y.isWhitespace=!0,void F._textDivProperties.set(l,y);var i=a.Util.transform(F._viewport.transform,S.transform),u=Math.atan2(i[1],i[0]),s=C[S.fontName];s.vertical&&(u+=Math.PI/2);var O,c,P=Math.sqrt(i[2]*i[2]+i[3]*i[3]),E=P;s.ascent?E*=s.ascent:s.descent&&(E*=1+s.descent),0===u?(O=i[4],c=i[5]-E):(O=i[4]+E*Math.sin(u),c=i[5]-E*Math.cos(u)),l.style.left="".concat(O,"px"),l.style.top="".concat(c,"px"),l.style.fontSize="".concat(P,"px"),l.style.fontFamily=s.fontFamily,l.textContent=S.str,F._fontInspectorEnabled&&(l.dataset.fontName=S.fontName),0!==u&&(y.angle=u*(180/Math.PI));var p=!1;if(S.str.length>1)p=!0;else if(S.transform[0]!==S.transform[3]){var B=Math.abs(S.transform[0]),w=Math.abs(S.transform[3]);B!==w&&Math.max(B,w)/Math.min(B,w)>1.5&&(p=!0)}if(p&&(y.canvasWidth=s.vertical?S.height*F._viewport.scale:S.width*F._viewport.scale),F._textDivProperties.set(l,y),F._textContentStream&&F._layoutText(l),F._enhanceTextSelection){var R=1,D=0;0!==u&&(R=Math.cos(u),D=Math.sin(u));var _,v,m=(s.vertical?S.height:S.width)*F._viewport.scale,f=P;v=0!==u?a.Util.getAxialAlignedBoundingBox([0,0,m,f],_=[R,D,-D,R,O,c]):[O,c,O+m,c+f],F._bounds.push({left:v[0],top:v[1],right:v[2],bottom:v[3],div:l,size:[m,f],m:_})}}function z(F){if(!F._canceled){var S=F._textDivs,C=F._capability,l=S.length;if(l>1e5)return F._renderingDone=!0,void C.resolve();if(!F._textContentStream)for(var y=0;y<l;y++)F._layoutText(S[y]);F._renderingDone=!0,C.resolve()}}function $(F,S,C){for(var l=0,y=0;y<C;y++){var i=F[S++];i>0&&(l=l?Math.min(i,l):i)}return l}function x(F,S){S.sort(function(y,i){return y.x1-i.x1||y.index-i.index});var l=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];S.forEach(function(y){for(var i=0;i<l.length&&l[i].end<=y.y1;)i++;for(var u=l.length-1;u>=0&&l[u].start>=y.y2;)u--;var s,P,E,O,c=-1/0;for(E=i;E<=u;E++){var p;(p=(P=(s=l[E]).boundary).x2>y.x1?P.index>y.index?P.x1New:y.x1:void 0===P.x2New?(P.x2+y.x1)/2:P.x2New)>c&&(c=p)}for(y.x1New=c,E=i;E<=u;E++)void 0===(P=(s=l[E]).boundary).x2New?P.x2>y.x1?P.index>y.index&&(P.x2New=P.x2):P.x2New=c:P.x2New>c&&(P.x2New=Math.max(c,P.x2));var B=[],w=null;for(E=i;E<=u;E++){var R=(P=(s=l[E]).boundary).x2>y.x2?P:y;w===R?B[B.length-1].end=s.end:(B.push({start:s.start,end:s.end,boundary:R}),w=R)}for(l[i].start<y.y1&&(B[0].start=y.y1,B.unshift({start:l[i].start,end:y.y1,boundary:l[i].boundary})),y.y2<l[u].end&&(B[B.length-1].end=y.y2,B.push({start:y.y2,end:l[u].end,boundary:l[u].boundary})),E=i;E<=u;E++)if(void 0===(P=(s=l[E]).boundary).x2New){var D=!1;for(O=i-1;!D&&O>=0&&l[O].start>=P.y1;O--)D=l[O].boundary===P;for(O=u+1;!D&&O<l.length&&l[O].end<=P.y2;O++)D=l[O].boundary===P;for(O=0;!D&&O<B.length;O++)D=B[O].boundary===P;D||(P.x2New=c)}Array.prototype.splice.apply(l,[i,u-i+1].concat(B))}),l.forEach(function(y){var i=y.boundary;void 0===i.x2New&&(i.x2New=Math.max(F,i.x2))})}function j(F){var S,C=this,y=F.textContentStream,i=F.container,u=F.viewport,s=F.textDivs,P=F.textContentItemsStr,E=F.enhanceTextSelection;this._textContent=F.textContent,this._textContentStream=y,this._container=i,this._document=i.ownerDocument,this._viewport=u,this._textDivs=s||[],this._textContentItemsStr=P||[],this._enhanceTextSelection=!!E,this._fontInspectorEnabled=!(null===(S=globalThis.FontInspector)||void 0===S||!S.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){C._layoutTextCtx&&(C._layoutTextCtx.canvas.width=0,C._layoutTextCtx.canvas.height=0,C._layoutTextCtx=null)}).catch(function(){})}return j.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(S,C){for(var l=0,y=S.length;l<y;l++)this._textContentItemsStr.push(S[l].str),W(this,S[l],C)},_layoutText:function(S){var C=this._textDivProperties.get(S);if(!C.isWhitespace){var l="";if(0!==C.canvasWidth){var y=S.style,i=y.fontSize,u=y.fontFamily;(i!==this._layoutTextLastFontSize||u!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(i," ").concat(u),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=u);var P=this._layoutTextCtx.measureText(S.textContent).width;P>0&&(C.scale=C.canvasWidth/P,l="scaleX(".concat(C.scale,")"))}0!==C.angle&&(l="rotate(".concat(C.angle,"deg) ").concat(l)),l.length>0&&(this._enhanceTextSelection&&(C.originalTransform=l),S.style.transform=l),this._textDivProperties.set(S,C),this._container.appendChild(S)}},_render:function(S){var C=this,l=(0,a.createPromiseCapability)(),y=Object.create(null),i=this._document.createElement("canvas");if(i.mozOpaque=!0,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),l.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function E(){C._reader.read().then(function(O){var c=O.value;O.done?l.resolve():(Object.assign(y,c.styles),C._processItems(c.items,y),E())},l.reject)}()}l.promise.then(function(){y=null,S?C._renderTimer=setTimeout(function(){z(C),C._renderTimer=null},S):z(C)},this._capability.reject)},expandTextDivs:function(S){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(function(F){for(var S=F._bounds,C=F._viewport,l=function(F,S,C){var l=C.map(function(i,u){return{x1:i.left,y1:i.top,x2:i.right,y2:i.bottom,index:u,x1New:void 0,x2New:void 0}});x(F,l);var y=new Array(C.length);return l.forEach(function(i){y[i.index]={left:i.x1New,top:0,right:i.x2New,bottom:0}}),C.map(function(i,u){var s=y[u],P=l[u];P.x1=i.top,P.y1=F-s.right,P.x2=i.bottom,P.y2=F-s.left,P.index=u,P.x1New=void 0,P.x2New=void 0}),x(S,l),l.forEach(function(i){var u=i.index;y[u].top=i.x1New,y[u].bottom=i.x2New}),y}(C.width,C.height,S),y=function(P){var E=S[P].div,O=F._textDivProperties.get(E);if(0===O.angle)return O.paddingLeft=S[P].left-l[P].left,O.paddingTop=S[P].top-l[P].top,O.paddingRight=l[P].right-S[P].right,O.paddingBottom=l[P].bottom-S[P].bottom,F._textDivProperties.set(E,O),"continue";var c=l[P],p=S[P],B=p.m,w=B[0],R=B[1],D=[[0,0],[0,p.size[1]],[p.size[0],0],p.size],m=new Float64Array(64);D.forEach(function(_,v){var o=a.Util.applyTransform(_,B);m[v+0]=w&&(c.left-o[0])/w,m[v+4]=R&&(c.top-o[1])/R,m[v+8]=w&&(c.right-o[0])/w,m[v+12]=R&&(c.bottom-o[1])/R,m[v+16]=R&&(c.left-o[0])/-R,m[v+20]=w&&(c.top-o[1])/w,m[v+24]=R&&(c.right-o[0])/-R,m[v+28]=w&&(c.bottom-o[1])/w,m[v+32]=w&&(c.left-o[0])/-w,m[v+36]=R&&(c.top-o[1])/-R,m[v+40]=w&&(c.right-o[0])/-w,m[v+44]=R&&(c.bottom-o[1])/-R,m[v+48]=R&&(c.left-o[0])/R,m[v+52]=w&&(c.top-o[1])/-w,m[v+56]=R&&(c.right-o[0])/R,m[v+60]=w&&(c.bottom-o[1])/-w});var f=1+Math.min(Math.abs(w),Math.abs(R));O.paddingLeft=$(m,32,16)/f,O.paddingTop=$(m,48,16)/f,O.paddingRight=$(m,0,16)/f,O.paddingBottom=$(m,16,16)/f,F._textDivProperties.set(E,O)},i=0;i<l.length;i++)y(i)}(this),this._bounds=null);for(var C=[],l=[],y=0,i=this._textDivs.length;y<i;y++){var u=this._textDivs[y],s=this._textDivProperties.get(u);s.isWhitespace||(S?(C.length=0,l.length=0,s.originalTransform&&C.push(s.originalTransform),s.paddingTop>0?(l.push("".concat(s.paddingTop,"px")),C.push("translateY(".concat(-s.paddingTop,"px)"))):l.push(0),l.push(s.paddingRight>0?"".concat(s.paddingRight/s.scale,"px"):0),l.push(s.paddingBottom>0?"".concat(s.paddingBottom,"px"):0),s.paddingLeft>0?(l.push("".concat(s.paddingLeft/s.scale,"px")),C.push("translateX(".concat(-s.paddingLeft/s.scale,"px)"))):l.push(0),u.style.padding=l.join(" "),C.length&&(u.style.transform=C.join(" "))):(u.style.padding=null,u.style.transform=s.originalTransform))}}}},function(F){var S=new j({textContent:F.textContent,textContentStream:F.textContentStream,container:F.container,viewport:F.viewport,textDivs:F.textDivs,textContentItemsStr:F.textContentItemsStr,enhanceTextSelection:F.enhanceTextSelection});return S._render(F.timeout),S}}();g.renderTextLayer=T},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.SVGGraphics=void 0;var a=r(4),T=r(1),M=r(6);function z(m,f){return function(m){if(Array.isArray(m))return m}(m)||function(m,f){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(m)){var _=[],v=!0,o=!1,b=void 0;try{for(var k,A=m[Symbol.iterator]();!(v=(k=A.next()).done)&&(_.push(k.value),!f||_.length!==f);v=!0);}catch(N){o=!0,b=N}finally{try{!v&&null!=A.return&&A.return()}finally{if(o)throw b}}return _}}(m,f)||j(m,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(m,f){var _;if("undefined"==typeof Symbol||null==m[Symbol.iterator]){if(Array.isArray(m)||(_=j(m))||f&&m&&"number"==typeof m.length){_&&(m=_);var v=0,o=function(){};return{s:o,n:function(){return v>=m.length?{done:!0}:{done:!1,value:m[v++]}},e:function(I){throw I},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var k,b=!0,A=!1;return{s:function(){_=m[Symbol.iterator]()},n:function(){var I=_.next();return b=I.done,I},e:function(I){A=!0,k=I},f:function(){try{!b&&null!=_.return&&_.return()}finally{if(A)throw k}}}}function j(m,f){if(m){if("string"==typeof m)return e(m,f);var _=Object.prototype.toString.call(m).slice(8,-1);if("Object"===_&&m.constructor&&(_=m.constructor.name),"Map"===_||"Set"===_)return Array.from(m);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return e(m,f)}}function e(m,f){(null==f||f>m.length)&&(f=m.length);for(var _=0,v=new Array(f);_<f;_++)v[_]=m[_];return v}function F(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function S(m,f){for(var _=0;_<f.length;_++){var v=f[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}function C(m,f,_){return f&&S(m.prototype,f),_&&S(m,_),m}var l=function(){throw new Error("Not implemented: SVGGraphics")};g.SVGGraphics=l;var i=function(f){if(Number.isInteger(f))return f.toString();var _=f.toFixed(10),v=_.length-1;if("0"!==_[v])return _;do{v--}while("0"===_[v]);return _.substring(0,"."===_[v]?v:v+1)},u=function(f){if(0===f[4]&&0===f[5]){if(0===f[1]&&0===f[2])return 1===f[0]&&1===f[3]?"":"scale(".concat(i(f[0])," ").concat(i(f[3]),")");if(f[0]===f[3]&&f[1]===-f[2]){var _=180*Math.acos(f[0])/Math.PI;return"rotate(".concat(i(_),")")}}else if(1===f[0]&&0===f[1]&&0===f[2]&&1===f[3])return"translate(".concat(i(f[4])," ").concat(i(f[5]),")");return"matrix(".concat(i(f[0])," ").concat(i(f[1])," ").concat(i(f[2])," ").concat(i(f[3])," ").concat(i(f[4])," ")+"".concat(i(f[5]),")")},s_fontStyle="normal",s_fontWeight="normal",s_fillColor="#000000",O=["butt","round","square"],c=["miter","round","bevel"],p=function(){for(var m=new Uint8Array([137,80,78,71,13,10,26,10]),_=new Int32Array(256),v=0;v<256;v++){for(var o=v,b=0;b<8;b++)o=1&o?3988292384^o>>1&2147483647:o>>1&2147483647;_[v]=o}function k(J,re,te,ae){var ne=ae,he=re.length;te[ne]=he>>24&255,te[ne+1]=he>>16&255,te[ne+2]=he>>8&255,te[ne+3]=255&he,te[ne+=4]=255&J.charCodeAt(0),te[ne+1]=255&J.charCodeAt(1),te[ne+2]=255&J.charCodeAt(2),te[ne+3]=255&J.charCodeAt(3),te.set(re,ne+=4);var me=function(J,re,te){for(var ae=-1,ne=re;ne<te;ne++)ae=ae>>>8^_[255&(ae^J[ne])];return-1^ae}(te,ae+4,ne+=re.length);te[ne]=me>>24&255,te[ne+1]=me>>16&255,te[ne+2]=me>>8&255,te[ne+3]=255&me}function V(J){var re=J.length,te=65535,ae=Math.ceil(re/te),ne=new Uint8Array(2+re+5*ae+4),he=0;ne[he++]=120,ne[he++]=156;for(var me=0;re>te;)ne[he++]=0,ne[he++]=255,ne[he++]=255,ne[he++]=0,ne[he++]=0,ne.set(J.subarray(me,me+te),he),he+=te,me+=te,re-=te;ne[he++]=1,ne[he++]=255&re,ne[he++]=re>>8&255,ne[he++]=255&~re,ne[he++]=(65535&~re)>>8&255,ne.set(J.subarray(me),he),he+=J.length-me;var Se=function(J,re,te){for(var ae=1,ne=0,he=0;he<te;++he)ne=(ne+(ae=(ae+(255&J[he]))%65521))%65521;return ne<<16|ae}(J,0,J.length);return ne[he++]=Se>>24&255,ne[he++]=Se>>16&255,ne[he++]=Se>>8&255,ne[he++]=255&Se,ne}return function(re,te,ae){return function(J,re,te,ae){var me,Se,se,ne=J.width,he=J.height,fe=J.data;switch(re){case a.ImageKind.GRAYSCALE_1BPP:Se=0,me=1,se=ne+7>>3;break;case a.ImageKind.RGB_24BPP:Se=2,me=8,se=3*ne;break;case a.ImageKind.RGBA_32BPP:Se=6,me=8,se=4*ne;break;default:throw new Error("invalid format")}for(var K=new Uint8Array((1+se)*he),ie=0,oe=0,Ee=0;Ee<he;++Ee)K[ie++]=0,K.set(fe.subarray(oe,oe+se),ie),oe+=se,ie+=se;if(re===a.ImageKind.GRAYSCALE_1BPP&&ae){ie=0;for(var ye=0;ye<he;ye++){ie++;for(var we=0;we<se;we++)K[ie++]^=255}}var Oe=new Uint8Array([ne>>24&255,ne>>16&255,ne>>8&255,255&ne,he>>24&255,he>>16&255,he>>8&255,255&he,me,Se,0,0,0]),be=function(J){if(!M.isNodeJS)return V(J);try{var re;re=parseInt(process.versions.node)>=8?J:Buffer.from(J);var te=__webpack_require__(3074).deflateSync(re,{level:9});return te instanceof Uint8Array?te:new Uint8Array(te)}catch(ae){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ae)}return V(J)}(K),He=new Uint8Array(m.length+36+Oe.length+be.length),Ce=0;return He.set(m,Ce),k("IHDR",Oe,He,Ce+=m.length),k("IDATA",be,He,Ce+=12+Oe.length),Ce+=12+be.length,k("IEND",new Uint8Array(0),He,Ce),(0,a.createObjectURL)(He,"image/png",te)}(re,void 0===re.kind?a.ImageKind.GRAYSCALE_1BPP:re.kind,te,ae)}}(),B=function(){function m(){F(this,m),this.fontSizeScale=1,this.fontWeight=s_fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s_fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return C(m,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(_,v){this.x=_,this.y=v}}]),m}(),w=0,R=0,D=0;g.SVGGraphics=l=function(){function m(f,_){var v=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in F(this,m),this.svgFactory=new T.DOMSVGFactory,this.current=new B,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=f,this.objs=_,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!v,this._operatorIdMapping=[],a.OPS)this._operatorIdMapping[a.OPS[o]]=o}return C(m,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var _=this.current;this.extraStack.push(_),this.current=_.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(_){this.save(),this.executeOpTree(_),this.restore()}},{key:"loadDependencies",value:function(_){for(var v=this,o=_.fnArray,b=_.argsArray,A=0,k=o.length;A<k;A++)if(o[A]===a.OPS.dependency){var I,N=x(b[A]);try{var V=function(){var J=I.value,re=J.startsWith("g_")?v.commonObjs:v.objs,te=new Promise(function(ae){re.get(J,ae)});v.current.dependencies.push(te)};for(N.s();!(I=N.n()).done;)V()}catch(Y){N.e(Y)}finally{N.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(_,v,o,b,A,k){this.transformMatrix=a.Util.transform(this.transformMatrix,[_,v,o,b,A,k]),this.tgrp=null}},{key:"getSVG",value:function(_,v){var o=this;this.viewport=v;var b=this._initialize(v);return this.loadDependencies(_).then(function(){return o.transformMatrix=a.IDENTITY_MATRIX,o.executeOpTree(o.convertOpList(_)),b})}},{key:"convertOpList",value:function(_){for(var v=this._operatorIdMapping,o=_.argsArray,b=_.fnArray,A=[],k=0,N=b.length;k<N;k++){var I=b[k];A.push({fnId:I,fn:v[I],args:o[k]})}return function(f){var b,_=[],v=[],o=x(f);try{for(o.s();!(b=o.n()).done;){var A=b.value;"save"!==A.fn?"restore"===A.fn?_=v.pop():_.push(A):(_.push({fnId:92,fn:"group",items:[]}),v.push(_),_=_[_.length-1].items)}}catch(k){o.e(k)}finally{o.f()}return _}(A)}},{key:"executeOpTree",value:function(_){var o,v=x(_);try{for(v.s();!(o=v.n()).done;){var b=o.value,A=b.fn,N=b.args;switch(0|b.fnId){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(N);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(N[0],N[1]);break;case a.OPS.setFont:this.setFont(N);break;case a.OPS.showText:case a.OPS.showSpacedText:this.showText(N[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(N[0],N[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(N[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(N[0]);break;case a.OPS.setHScale:this.setHScale(N[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(N[0],N[1],N[2],N[3],N[4],N[5]);break;case a.OPS.setTextRise:this.setTextRise(N[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(N[0]);break;case a.OPS.setLineWidth:this.setLineWidth(N[0]);break;case a.OPS.setLineJoin:this.setLineJoin(N[0]);break;case a.OPS.setLineCap:this.setLineCap(N[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(N[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(N[0],N[1],N[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(N[0],N[1],N[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(N);break;case a.OPS.setFillColorN:this.setFillColorN(N);break;case a.OPS.shadingFill:this.shadingFill(N[0]);break;case a.OPS.setDash:this.setDash(N[0],N[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(N[0]);break;case a.OPS.setFlatness:this.setFlatness(N[0]);break;case a.OPS.setGState:this.setGState(N[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(N[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(N[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(N[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(N[0],N[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(N[0],N[1],N[2],N[3],N[4],N[5]);break;case a.OPS.constructPath:this.constructPath(N[0],N[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(b.items);break;default:(0,a.warn)("Unimplemented operator ".concat(A))}}}catch(I){v.e(I)}finally{v.f()}}},{key:"setWordSpacing",value:function(_){this.current.wordSpacing=_}},{key:"setCharSpacing",value:function(_){this.current.charSpacing=_}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(_,v,o,b,A,k){var N=this.current;N.textMatrix=N.lineMatrix=[_,v,o,b,A,k],N.textMatrixScale=Math.sqrt(_*_+v*v),N.x=N.lineX=0,N.y=N.lineY=0,N.xcoords=[],N.ycoords=[],N.tspan=this.svgFactory.createElement("svg:tspan"),N.tspan.setAttributeNS(null,"font-family",N.fontFamily),N.tspan.setAttributeNS(null,"font-size","".concat(i(N.fontSize),"px")),N.tspan.setAttributeNS(null,"y",i(-N.y)),N.txtElement=this.svgFactory.createElement("svg:text"),N.txtElement.appendChild(N.tspan)}},{key:"beginText",value:function(){var _=this.current;_.x=_.lineX=0,_.y=_.lineY=0,_.textMatrix=a.IDENTITY_MATRIX,_.lineMatrix=a.IDENTITY_MATRIX,_.textMatrixScale=1,_.tspan=this.svgFactory.createElement("svg:tspan"),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtgrp=this.svgFactory.createElement("svg:g"),_.xcoords=[],_.ycoords=[]}},{key:"moveText",value:function(_,v){var o=this.current;o.x=o.lineX+=_,o.y=o.lineY+=v,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(i(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",i(-o.y))}},{key:"showText",value:function(_){var v=this.current,o=v.font,b=v.fontSize;if(0!==b){var he,A=v.fontSizeScale,k=v.charSpacing,N=v.wordSpacing,I=v.fontDirection,V=v.textHScale*I,Y=o.vertical,J=Y?1:-1,re=o.defaultVMetrics,te=b*v.fontMatrix[0],ae=0,ne=x(_);try{for(ne.s();!(he=ne.n()).done;){var me=he.value;if(null!==me)if((0,a.isNum)(me))ae+=J*me*b/1e3;else{var Se=(me.isSpace?N:0)+k,se=me.fontChar,fe=void 0,K=void 0,ie=me.width;if(Y){var oe=void 0,Ee=me.vmetric||re;oe=me.vmetric?Ee[1]:.5*ie,ie=Ee?-Ee[0]:ie,fe=(oe=-oe*te)/A,K=(ae+Ee[2]*te)/A}else fe=ae/A,K=0;(me.isInFont||o.missingFile)&&(v.xcoords.push(v.x+fe),Y&&v.ycoords.push(-v.y+K),v.tspan.textContent+=se),ae+=Y?ie*te-Se*I:ie*te+Se*I}else ae+=I*N}}catch(He){ne.e(He)}finally{ne.f()}v.tspan.setAttributeNS(null,"x",v.xcoords.map(i).join(" ")),v.tspan.setAttributeNS(null,"y",Y?v.ycoords.map(i).join(" "):i(-v.y)),Y?v.y-=ae:v.x+=ae*V,v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size","".concat(i(v.fontSize),"px")),v.fontStyle!==s_fontStyle&&v.tspan.setAttributeNS(null,"font-style",v.fontStyle),v.fontWeight!==s_fontWeight&&v.tspan.setAttributeNS(null,"font-weight",v.fontWeight);var Oe=v.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;Oe===a.TextRenderingMode.FILL||Oe===a.TextRenderingMode.FILL_STROKE?(v.fillColor!==s_fillColor&&v.tspan.setAttributeNS(null,"fill",v.fillColor),v.fillAlpha<1&&v.tspan.setAttributeNS(null,"fill-opacity",v.fillAlpha)):v.tspan.setAttributeNS(null,"fill",v.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Oe===a.TextRenderingMode.STROKE||Oe===a.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(v.tspan,1/(v.textMatrixScale||1));var ze=v.textMatrix;0!==v.textRise&&((ze=ze.slice())[5]+=v.textRise),v.txtElement.setAttributeNS(null,"transform","".concat(u(ze)," scale(").concat(i(V),", -1)")),v.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),v.txtElement.appendChild(v.tspan),v.txtgrp.appendChild(v.txtElement),this._ensureTransformGroup().appendChild(v.txtElement)}}},{key:"setLeadingMoveText",value:function(_,v){this.setLeading(-v),this.moveText(_,v)}},{key:"addFontStyle",value:function(_){if(!_.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var v=(0,a.createObjectURL)(_.data,_.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(_.loadedName,'";')+" src: url(".concat(v,"); }\n")}},{key:"setFont",value:function(_){var v=this.current,o=this.commonObjs.get(_[0]),b=_[1];v.font=o,this.embedFonts&&!o.missingFile&&!this.embeddedFonts[o.loadedName]&&(this.addFontStyle(o),this.embeddedFonts[o.loadedName]=o),v.fontMatrix=o.fontMatrix||a.FONT_IDENTITY_MATRIX;var A="normal";o.black?A="900":o.bold&&(A="bold");var k=o.italic?"italic":"normal";b<0?(b=-b,v.fontDirection=-1):v.fontDirection=1,v.fontSize=b,v.fontFamily=o.loadedName,v.fontWeight=A,v.fontStyle=k,v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"y",i(-v.y)),v.xcoords=[],v.ycoords=[]}},{key:"endText",value:function(){var _,v=this.current;v.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(_=v.txtElement)&&void 0!==_&&_.hasChildNodes()&&(v.element=v.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(_){_>0&&(this.current.lineWidth=_)}},{key:"setLineCap",value:function(_){this.current.lineCap=O[_]}},{key:"setLineJoin",value:function(_){this.current.lineJoin=c[_]}},{key:"setMiterLimit",value:function(_){this.current.miterLimit=_}},{key:"setStrokeAlpha",value:function(_){this.current.strokeAlpha=_}},{key:"setStrokeRGBColor",value:function(_,v,o){this.current.strokeColor=a.Util.makeHexColor(_,v,o)}},{key:"setFillAlpha",value:function(_){this.current.fillAlpha=_}},{key:"setFillRGBColor",value:function(_,v,o){this.current.fillColor=a.Util.makeHexColor(_,v,o),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(_){this.current.strokeColor=this._makeColorN_Pattern(_)}},{key:"setFillColorN",value:function(_){this.current.fillColor=this._makeColorN_Pattern(_)}},{key:"shadingFill",value:function(_){var v=this.viewport.width,o=this.viewport.height,b=a.Util.inverseTransform(this.transformMatrix),A=a.Util.applyTransform([0,0],b),k=a.Util.applyTransform([0,o],b),N=a.Util.applyTransform([v,0],b),I=a.Util.applyTransform([v,o],b),V=Math.min(A[0],k[0],N[0],I[0]),Y=Math.min(A[1],k[1],N[1],I[1]),J=Math.max(A[0],k[0],N[0],I[0]),re=Math.max(A[1],k[1],N[1],I[1]),te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x",V),te.setAttributeNS(null,"y",Y),te.setAttributeNS(null,"width",J-V),te.setAttributeNS(null,"height",re-Y),te.setAttributeNS(null,"fill",this._makeShadingPattern(_)),this.current.fillAlpha<1&&te.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(te)}},{key:"_makeColorN_Pattern",value:function(_){return"TilingPattern"===_[0]?this._makeTilingPattern(_):this._makeShadingPattern(_)}},{key:"_makeTilingPattern",value:function(_){var v=_[1],o=_[2],b=_[3]||a.IDENTITY_MATRIX,A=z(_[4],4),k=A[0],N=A[1],I=A[2],V=A[3],Y=_[5],J=_[6],re=_[7],te="shading".concat(D++),ne=z(a.Util.applyTransform([k,N],b),2),he=ne[0],me=ne[1],se=z(a.Util.applyTransform([I,V],b),2),fe=se[0],K=se[1],oe=z(a.Util.singularValueDecompose2dScale(b),2),we=Y*oe[0],Oe=J*oe[1],be=this.svgFactory.createElement("svg:pattern");be.setAttributeNS(null,"id",te),be.setAttributeNS(null,"patternUnits","userSpaceOnUse"),be.setAttributeNS(null,"width",we),be.setAttributeNS(null,"height",Oe),be.setAttributeNS(null,"x","".concat(he)),be.setAttributeNS(null,"y","".concat(me));var ze=this.svg,He=this.transformMatrix,Ce=this.current.fillColor,Ne=this.current.strokeColor,Me=this.svgFactory.create(fe-he,K-me);if(this.svg=Me,this.transformMatrix=b,2===re){var Ve=a.Util.makeHexColor.apply(a.Util,function(m){return function(m){if(Array.isArray(m))return e(m)}(m)||function(m){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(m))return Array.from(m)}(m)||j(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(v));this.current.fillColor=Ve,this.current.strokeColor=Ve}return this.executeOpTree(this.convertOpList(o)),this.svg=ze,this.transformMatrix=He,this.current.fillColor=Ce,this.current.strokeColor=Ne,be.appendChild(Me.childNodes[0]),this.defs.appendChild(be),"url(#".concat(te,")")}},{key:"_makeShadingPattern",value:function(_){switch(_[0]){case"RadialAxial":var b,v="shading".concat(D++),o=_[3];switch(_[1]){case"axial":var A=_[4],k=_[5];(b=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",v),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"x1",A[0]),b.setAttributeNS(null,"y1",A[1]),b.setAttributeNS(null,"x2",k[0]),b.setAttributeNS(null,"y2",k[1]);break;case"radial":var N=_[4],I=_[5],V=_[6],Y=_[7];(b=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",v),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"cx",I[0]),b.setAttributeNS(null,"cy",I[1]),b.setAttributeNS(null,"r",Y),b.setAttributeNS(null,"fx",N[0]),b.setAttributeNS(null,"fy",N[1]),b.setAttributeNS(null,"fr",V);break;default:throw new Error("Unknown RadialAxial type: ".concat(_[1]))}var re,J=x(o);try{for(J.s();!(re=J.n()).done;){var te=re.value,ae=this.svgFactory.createElement("svg:stop");ae.setAttributeNS(null,"offset",te[0]),ae.setAttributeNS(null,"stop-color",te[1]),b.appendChild(ae)}}catch(ne){J.e(ne)}finally{J.f()}return this.defs.appendChild(b),"url(#".concat(v,")");case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(_[0]))}}},{key:"setDash",value:function(_,v){this.current.dashArray=_,this.current.dashPhase=v}},{key:"constructPath",value:function(_,v){var V,o=this.current,b=o.x,A=o.y,k=[],N=0,I=x(_);try{for(I.s();!(V=I.n()).done;)switch(0|V.value){case a.OPS.rectangle:b=v[N++],A=v[N++];var te=b+v[N++],ae=A+v[N++];k.push("M",i(b),i(A),"L",i(te),i(A),"L",i(te),i(ae),"L",i(b),i(ae),"Z");break;case a.OPS.moveTo:b=v[N++],A=v[N++],k.push("M",i(b),i(A));break;case a.OPS.lineTo:b=v[N++],A=v[N++],k.push("L",i(b),i(A));break;case a.OPS.curveTo:b=v[N+4],A=v[N+5],k.push("C",i(v[N]),i(v[N+1]),i(v[N+2]),i(v[N+3]),i(b),i(A)),N+=6;break;case a.OPS.curveTo2:k.push("C",i(b),i(A),i(v[N]),i(v[N+1]),i(v[N+2]),i(v[N+3])),b=v[N+2],A=v[N+3],N+=4;break;case a.OPS.curveTo3:b=v[N+2],A=v[N+3],k.push("C",i(v[N]),i(v[N+1]),i(b),i(A),i(b),i(A)),N+=4;break;case a.OPS.closePath:k.push("Z")}}catch(ne){I.e(ne)}finally{I.f()}k=k.join(" "),o.path&&_.length>0&&_[0]!==a.OPS.rectangle&&_[0]!==a.OPS.moveTo?k=o.path.getAttributeNS(null,"d")+k:(o.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(o.path)),o.path.setAttributeNS(null,"d",k),o.path.setAttributeNS(null,"fill","none"),o.element=o.path,o.setCurrentPoint(b,A)}},{key:"endPath",value:function(){var _=this.current;if(_.path=null,this.pendingClip){if(!_.element)return void(this.pendingClip=null);var v="clippath".concat(w++),o=this.svgFactory.createElement("svg:clipPath");o.setAttributeNS(null,"id",v),o.setAttributeNS(null,"transform",u(this.transformMatrix));var b=_.element.cloneNode(!0);b.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,o.appendChild(b),this.defs.appendChild(o),_.activeClipUrl&&(_.clipGroup=null,this.extraStack.forEach(function(A){A.clipGroup=null}),o.setAttributeNS(null,"clip-path",_.activeClipUrl)),_.activeClipUrl="url(#".concat(v,")"),this.tgrp=null}}},{key:"clip",value:function(_){this.pendingClip=_}},{key:"closePath",value:function(){var _=this.current;if(_.path){var v="".concat(_.path.getAttributeNS(null,"d"),"Z");_.path.setAttributeNS(null,"d",v)}}},{key:"setLeading",value:function(_){this.current.leading=-_}},{key:"setTextRise",value:function(_){this.current.textRise=_}},{key:"setTextRenderingMode",value:function(_){this.current.textRenderingMode=_}},{key:"setHScale",value:function(_){this.current.textHScale=_/100}},{key:"setRenderingIntent",value:function(_){}},{key:"setFlatness",value:function(_){}},{key:"setGState",value:function(_){var o,v=x(_);try{for(v.s();!(o=v.n()).done;){var b=z(o.value,2),A=b[0],k=b[1];switch(A){case"LW":this.setLineWidth(k);break;case"LC":this.setLineCap(k);break;case"LJ":this.setLineJoin(k);break;case"ML":this.setMiterLimit(k);break;case"D":this.setDash(k[0],k[1]);break;case"RI":this.setRenderingIntent(k);break;case"FL":this.setFlatness(k);break;case"Font":this.setFont(k);break;case"CA":this.setStrokeAlpha(k);break;case"ca":this.setFillAlpha(k);break;default:(0,a.warn)("Unimplemented graphic state operator ".concat(A))}}}catch(N){v.e(N)}finally{v.f()}}},{key:"fill",value:function(){var _=this.current;_.element&&(_.element.setAttributeNS(null,"fill",_.fillColor),_.element.setAttributeNS(null,"fill-opacity",_.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var _=this.current;_.element&&(this._setStrokeAttributes(_.element),_.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(_){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=this.current,b=o.dashArray;1!==v&&b.length>0&&(b=b.map(function(A){return v*A})),_.setAttributeNS(null,"stroke",o.strokeColor),_.setAttributeNS(null,"stroke-opacity",o.strokeAlpha),_.setAttributeNS(null,"stroke-miterlimit",i(o.miterLimit)),_.setAttributeNS(null,"stroke-linecap",o.lineCap),_.setAttributeNS(null,"stroke-linejoin",o.lineJoin),_.setAttributeNS(null,"stroke-width",i(v*o.lineWidth)+"px"),_.setAttributeNS(null,"stroke-dasharray",b.map(i).join(" ")),_.setAttributeNS(null,"stroke-dashoffset",i(v*o.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width","1px"),_.setAttributeNS(null,"height","1px"),_.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(_)}},{key:"paintImageXObject",value:function(_){var v=_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_);v?this.paintInlineImageXObject(v):(0,a.warn)("Dependent image with object ID ".concat(_," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(_,v){var o=_.width,b=_.height,A=p(_,this.forceDataSchema,!!v),k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",i(o)),k.setAttributeNS(null,"height",i(b)),this.current.element=k,this.clip("nonzero");var N=this.svgFactory.createElement("svg:image");N.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",A),N.setAttributeNS(null,"x","0"),N.setAttributeNS(null,"y",i(-b)),N.setAttributeNS(null,"width",i(o)+"px"),N.setAttributeNS(null,"height",i(b)+"px"),N.setAttributeNS(null,"transform","scale(".concat(i(1/o)," ").concat(i(-1/b),")")),v?v.appendChild(N):this._ensureTransformGroup().appendChild(N)}},{key:"paintImageMaskXObject",value:function(_){var v=this.current,o=_.width,b=_.height,A=v.fillColor;v.maskId="mask".concat(R++);var k=this.svgFactory.createElement("svg:mask");k.setAttributeNS(null,"id",v.maskId);var N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x","0"),N.setAttributeNS(null,"y","0"),N.setAttributeNS(null,"width",i(o)),N.setAttributeNS(null,"height",i(b)),N.setAttributeNS(null,"fill",A),N.setAttributeNS(null,"mask","url(#".concat(v.maskId,")")),this.defs.appendChild(k),this._ensureTransformGroup().appendChild(N),this.paintInlineImageXObject(_,k)}},{key:"paintFormXObjectBegin",value:function(_,v){if(Array.isArray(_)&&6===_.length&&this.transform(_[0],_[1],_[2],_[3],_[4],_[5]),v){var o=v[2]-v[0],b=v[3]-v[1],A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x",v[0]),A.setAttributeNS(null,"y",v[1]),A.setAttributeNS(null,"width",i(o)),A.setAttributeNS(null,"height",i(b)),this.current.element=A,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(_){var v=this.svgFactory.create(_.width,_.height),o=this.svgFactory.createElement("svg:defs");v.appendChild(o),this.defs=o;var b=this.svgFactory.createElement("svg:g");return b.setAttributeNS(null,"transform",u(_.transform)),v.appendChild(b),this.svg=b,v}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var _=this.svgFactory.createElement("svg:g");_.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(_),this.current.clipGroup=_}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",u(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),m}()},(X,g,r)=>{"use strict";function a(m){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(m)}Object.defineProperty(g,"__esModule",{value:!0}),g.PDFNodeStream=void 0;var m,T=(m=r(2))&&m.__esModule?m:{default:m},M=r(4),G=r(154);function q(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&W(m,f)}function W(m,f){return(W=Object.setPrototypeOf||function(v,o){return v.__proto__=o,v})(m,f)}function z(m){var f=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}();return function(){var o,v=x(m);if(f){var b=x(this).constructor;o=Reflect.construct(v,arguments,b)}else o=v.apply(this,arguments);return $(this,o)}}function $(m,f){return!f||"object"!==a(f)&&"function"!=typeof f?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function x(m){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(m)}function j(m,f,_,v,o,b,A){try{var k=m[b](A),N=k.value}catch(I){return void _(I)}k.done?f(N):Promise.resolve(N).then(v,o)}function e(m){return function(){var f=this,_=arguments;return new Promise(function(v,o){var b=m.apply(f,_);function A(N){j(b,v,o,A,k,"next",N)}function k(N){j(b,v,o,A,k,"throw",N)}A(void 0)})}}function F(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function S(m,f){for(var _=0;_<f.length;_++){var v=f[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}function C(m,f,_){return f&&S(m.prototype,f),_&&S(m,_),m}var l=__webpack_require__(6599),y=__webpack_require__(5358),i=__webpack_require__(1822),u=__webpack_require__(1127),s=/^file:\/\/\/[a-zA-Z]:\//,E=function(){function m(f){F(this,m),this.source=f,this.url=function(m){var f=u.parse(m);return"file:"===f.protocol||f.host?f:/^[a-z]:[/\\]/i.test(m)?u.parse("file:///".concat(m)):(f.host||(f.protocol="file:"),f)}(f.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return C(m,[{key:"getFullReader",value:function(){return(0,M.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new R(this):new B(this),this._fullRequestReader}},{key:"getRangeReader",value:function(_,v){if(v<=this._progressiveDataLength)return null;var o=this.isFsUrl?new D(this,_,v):new w(this,_,v);return this._rangeRequestReaders.push(o),o}},{key:"cancelAllRequests",value:function(_){this._fullRequestReader&&this._fullRequestReader.cancel(_),this._rangeRequestReaders.slice(0).forEach(function(o){o.cancel(_)})}},{key:"_progressiveDataLength",get:function(){var _,v;return null!==(_=null===(v=this._fullRequestReader)||void 0===v?void 0:v._loaded)&&void 0!==_?_:0}}]),m}();g.PDFNodeStream=E;var O=function(){function m(f){F(this,m),this._url=f.url,this._done=!1,this._storedError=null,this.onProgress=null;var _=f.source;this._contentLength=_.length,this._loaded=0,this._filename=null,this._disableRange=_.disableRange||!1,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_.disableStream,this._isRangeSupported=!_.disableRange,this._readableStream=null,this._readCapability=(0,M.createPromiseCapability)(),this._headersCapability=(0,M.createPromiseCapability)()}return C(m,[{key:"read",value:(f=e(T.default.mark(function v(){var o,b;return T.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this._readCapability.promise;case 2:if(!this._done){k.next=4;break}return k.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){k.next=6;break}throw this._storedError;case 6:if(null!==(o=this._readableStream.read())){k.next=10;break}return this._readCapability=(0,M.createPromiseCapability)(),k.abrupt("return",this.read());case 10:return this._loaded+=o.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),b=new Uint8Array(o).buffer,k.abrupt("return",{value:b,done:!1});case 14:case"end":return k.stop()}},v,this)})),function(){return f.apply(this,arguments)})},{key:"cancel",value:function(_){this._readableStream?this._readableStream.destroy(_):this._error(_)}},{key:"_error",value:function(_){this._storedError=_,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(_){var v=this;this._readableStream=_,_.on("readable",function(){v._readCapability.resolve()}),_.on("end",function(){_.destroy(),v._done=!0,v._readCapability.resolve()}),_.on("error",function(o){v._error(o)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new M.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),m;var f}(),c=function(){function m(f){F(this,m),this._url=f.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,M.createPromiseCapability)(),this._isStreamingSupported=!f.source.disableStream}return C(m,[{key:"read",value:(f=e(T.default.mark(function v(){var o,b;return T.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this._readCapability.promise;case 2:if(!this._done){k.next=4;break}return k.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){k.next=6;break}throw this._storedError;case 6:if(null!==(o=this._readableStream.read())){k.next=10;break}return this._readCapability=(0,M.createPromiseCapability)(),k.abrupt("return",this.read());case 10:return this._loaded+=o.length,this.onProgress&&this.onProgress({loaded:this._loaded}),b=new Uint8Array(o).buffer,k.abrupt("return",{value:b,done:!1});case 14:case"end":return k.stop()}},v,this)})),function(){return f.apply(this,arguments)})},{key:"cancel",value:function(_){this._readableStream?this._readableStream.destroy(_):this._error(_)}},{key:"_error",value:function(_){this._storedError=_,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(_){var v=this;this._readableStream=_,_.on("readable",function(){v._readCapability.resolve()}),_.on("end",function(){_.destroy(),v._done=!0,v._readCapability.resolve()}),_.on("error",function(o){v._error(o)}),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),m;var f}();function p(m,f){return{protocol:m.protocol,auth:m.auth,host:m.hostname,port:m.port,path:m.path,method:"GET",headers:f}}var B=function(m){q(_,m);var f=z(_);function _(v){var o;F(this,_);var b=function(k){if(404===k.statusCode){var N=new M.MissingPDFException('Missing PDF "'.concat(o._url,'".'));return o._storedError=N,void o._headersCapability.reject(N)}o._headersCapability.resolve(),o._setReadableStream(k);var I=function(te){return o._readableStream.headers[te.toLowerCase()]},V=(0,G.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:v.isHttp,rangeChunkSize:o._rangeChunkSize,disableRange:o._disableRange}),J=V.suggestedLength;o._isRangeSupported=V.allowRangeRequests,o._contentLength=J||o._contentLength,o._filename=(0,G.extractFilenameFromHeader)(I)};return(o=f.call(this,v))._request=null,o._request="http:"===o._url.protocol?y.request(p(o._url,v.httpHeaders),b):i.request(p(o._url,v.httpHeaders),b),o._request.on("error",function(A){o._storedError=A,o._headersCapability.reject(A)}),o._request.end(),o}return _}(O),w=function(m){q(_,m);var f=z(_);function _(v,o,b){var A;for(var k in F(this,_),(A=f.call(this,v))._httpHeaders={},v.httpHeaders){var N=v.httpHeaders[k];void 0!==N&&(A._httpHeaders[k]=N)}A._httpHeaders.Range="bytes=".concat(o,"-").concat(b-1);var I=function(Y){if(404!==Y.statusCode)A._setReadableStream(Y);else{var J=new M.MissingPDFException('Missing PDF "'.concat(A._url,'".'));A._storedError=J}};return A._request=null,A._request="http:"===A._url.protocol?y.request(p(A._url,A._httpHeaders),I):i.request(p(A._url,A._httpHeaders),I),A._request.on("error",function(V){A._storedError=V}),A._request.end(),A}return _}(c),R=function(m){q(_,m);var f=z(_);function _(v){var o;F(this,_),o=f.call(this,v);var b=decodeURIComponent(o._url.path);return s.test(o._url.href)&&(b=b.replace(/^\//,"")),l.lstat(b,function(A,k){if(A)return"ENOENT"===A.code&&(A=new M.MissingPDFException('Missing PDF "'.concat(b,'".'))),o._storedError=A,void o._headersCapability.reject(A);o._contentLength=k.size,o._setReadableStream(l.createReadStream(b)),o._headersCapability.resolve()}),o}return _}(O),D=function(m){q(_,m);var f=z(_);function _(v,o,b){var A;F(this,_),A=f.call(this,v);var k=decodeURIComponent(A._url.path);return s.test(A._url.href)&&(k=k.replace(/^\//,"")),A._setReadableStream(l.createReadStream(k,{start:o,end:b-1})),A}return _}(c)},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.createResponseStatusError=function(W,z){return 404===W||0===W&&z.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+z+'".'):new a.UnexpectedResponseException("Unexpected server response ("+W+') while retrieving PDF "'+z+'".',W)},g.extractFilenameFromHeader=function(W){var z=W("Content-Disposition");if(z){var $=(0,T.getFilenameFromContentDispositionHeader)(z);if($.includes("%"))try{$=decodeURIComponent($)}catch(Z){}if(/\.pdf$/i.test($))return $}return null},g.validateRangeRequestCapabilities=function(W){var z=W.getResponseHeader,$=W.isHttp,Z=W.rangeChunkSize,H=W.disableRange;(0,a.assert)(Z>0,"Range chunk size must be larger than zero");var x={allowRangeRequests:!1,suggestedLength:void 0},j=parseInt(z("Content-Length"),10);return!Number.isInteger(j)||(x.suggestedLength=j,j<=2*Z)||H||!$||"bytes"!==z("Accept-Ranges")||"identity"!==(z("Content-Encoding")||"identity")||(x.allowRangeRequests=!0),x},g.validateResponseStatus=function(W){return 200===W||206===W};var a=r(4),T=r(155)},(X,g)=>{"use strict";function r(W,z){return function(W){if(Array.isArray(W))return W}(W)||function(W,z){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(W)){var $=[],Z=!0,H=!1,x=void 0;try{for(var e,j=W[Symbol.iterator]();!(Z=(e=j.next()).done)&&($.push(e.value),!z||$.length!==z);Z=!0);}catch(F){H=!0,x=F}finally{try{!Z&&null!=j.return&&j.return()}finally{if(H)throw x}}return $}}(W,z)||function(W,z){if(W){if("string"==typeof W)return M(W,z);var $=Object.prototype.toString.call(W).slice(8,-1);if("Object"===$&&W.constructor&&($=W.constructor.name),"Map"===$||"Set"===$)return Array.from(W);if("Arguments"===$||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return M(W,z)}}(W,z)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(W,z){(null==z||z>W.length)&&(z=W.length);for(var $=0,Z=new Array(z);$<z;$++)Z[$]=W[$];return Z}Object.defineProperty(g,"__esModule",{value:!0}),g.getFilenameFromContentDispositionHeader=function(W){var z=!0,$=j("filename\\*","i").exec(W);if($){var Z=C($=$[1]);return F(Z=y(Z=l(Z=unescape(Z))))}if($=function(i){for(var s,u=[],P=j("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(s=P.exec(i));){var O=r(s,4),c=O[1],p=O[2],B=O[3];if((c=parseInt(c,10))in u){if(0===c)break}else u[c]=[p,B]}for(var w=[],R=0;R<u.length&&R in u;++R){var D=r(u[R],2),m=D[0],f=D[1];f=C(f),m&&(f=unescape(f),0===R&&(f=l(f))),w.push(f)}return w.join("")}(W))return F(y($));if($=j("filename","i").exec(W)){var x=C($=$[1]);return F(x=y(x))}function j(i,u){return new RegExp("(?:^|;)\\s*"+i+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function e(i,u){if(i){if(!/^[\x00-\xFF]+$/.test(u))return u;try{var s=new TextDecoder(i,{fatal:!0}),P=Array.from(u,function(E){return 255&E.charCodeAt(0)});u=s.decode(new Uint8Array(P)),z=!1}catch(E){if(/^utf-?8$/i.test(i))try{u=decodeURIComponent(escape(u)),z=!1}catch(O){}}}return u}function F(i){return z&&/[\x80-\xff]/.test(i)&&(i=e("utf-8",i),z&&(i=e("iso-8859-1",i))),i}function C(i){if(i.startsWith('"')){for(var u=i.slice(1).split('\\"'),s=0;s<u.length;++s){var P=u[s].indexOf('"');-1!==P&&(u[s]=u[s].slice(0,P),u.length=s+1),u[s]=u[s].replace(/\\(.)/g,"$1")}i=u.join('"')}return i}function l(i){var u=i.indexOf("'");return-1===u?i:e(i.slice(0,u),i.slice(u+1).replace(/^[^']*'/,""))}function y(i){return!i.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(i)?i:i.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,s,P,E){if("q"===P||"Q"===P)return e(s,E=(E=E.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(O,c){return String.fromCharCode(parseInt(c,16))}));try{E=atob(E)}catch(O){}return e(s,E)})}return""}},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.PDFNetworkStream=void 0;var C,a=(C=r(2))&&C.__esModule?C:{default:C},T=r(4),M=r(154);function L(C,l,y,i,u,s,P){try{var E=C[s](P),O=E.value}catch(c){return void y(c)}E.done?l(O):Promise.resolve(O).then(i,u)}function q(C){return function(){var l=this,y=arguments;return new Promise(function(i,u){var s=C.apply(l,y);function P(O){L(s,i,u,P,E,"next",O)}function E(O){L(s,i,u,P,E,"throw",O)}P(void 0)})}}function W(C,l){if(!(C instanceof l))throw new TypeError("Cannot call a class as a function")}function z(C,l){for(var y=0;y<l.length;y++){var i=l[y];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(C,i.key,i)}}function $(C,l,y){return l&&z(C.prototype,l),y&&z(C,y),C}var j=function(){function C(l,y){W(this,C),this.url=l,y=y||{},this.isHttp=/^https?:/i.test(l),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this.withCredentials=y.withCredentials||!1,this.getXhr=y.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return $(C,[{key:"requestRange",value:function(y,i,u){var s={begin:y,end:i};for(var P in u)s[P]=u[P];return this.request(s)}},{key:"requestFull",value:function(y){return this.request(y)}},{key:"request",value:function(y){var i=this.getXhr(),u=this.currXhrId++,s=this.pendingRequests[u]={xhr:i};for(var P in i.open("GET",this.url),i.withCredentials=this.withCredentials,this.httpHeaders){var E=this.httpHeaders[P];void 0!==E&&i.setRequestHeader(P,E)}return this.isHttp&&"begin"in y&&"end"in y?(i.setRequestHeader("Range","bytes=".concat(y.begin,"-").concat(y.end-1)),s.expectedStatus=206):s.expectedStatus=200,i.responseType="arraybuffer",y.onError&&(i.onerror=function(O){y.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,u),i.onprogress=this.onProgress.bind(this,u),s.onHeadersReceived=y.onHeadersReceived,s.onDone=y.onDone,s.onError=y.onError,s.onProgress=y.onProgress,i.send(null),u}},{key:"onProgress",value:function(y,i){var u=this.pendingRequests[y];!u||u.onProgress&&u.onProgress(i)}},{key:"onStateChange",value:function(y,i){var u=this.pendingRequests[y];if(u){var s=u.xhr;if(s.readyState>=2&&u.onHeadersReceived&&(u.onHeadersReceived(),delete u.onHeadersReceived),4===s.readyState&&y in this.pendingRequests){if(delete this.pendingRequests[y],0===s.status&&this.isHttp)return void(u.onError&&u.onError(s.status));var P=s.status||200;if((200!==P||206!==u.expectedStatus)&&P!==u.expectedStatus)return void(u.onError&&u.onError(s.status));var O=function(C){var l=C.response;return"string"!=typeof l?l:(0,T.stringToBytes)(l).buffer}(s);if(206===P){var c=s.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u.onDone({begin:parseInt(p[1],10),chunk:O})}else O?u.onDone({begin:0,chunk:O}):u.onError&&u.onError(s.status)}}}},{key:"getRequestXhr",value:function(y){return this.pendingRequests[y].xhr}},{key:"isPendingRequest",value:function(y){return y in this.pendingRequests}},{key:"abortRequest",value:function(y){var i=this.pendingRequests[y].xhr;delete this.pendingRequests[y],i.abort()}}]),C}(),e=function(){function C(l){W(this,C),this._source=l,this._manager=new j(l.url,{httpHeaders:l.httpHeaders,withCredentials:l.withCredentials}),this._rangeChunkSize=l.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return $(C,[{key:"_onRangeRequestReaderClosed",value:function(y){var i=this._rangeRequestReaders.indexOf(y);i>=0&&this._rangeRequestReaders.splice(i,1)}},{key:"getFullReader",value:function(){return(0,T.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new F(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(y,i){var u=new S(this._manager,y,i);return u.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(u),u}},{key:"cancelAllRequests",value:function(y){this._fullRequestReader&&this._fullRequestReader.cancel(y),this._rangeRequestReaders.slice(0).forEach(function(u){u.cancel(y)})}}]),C}();g.PDFNetworkStream=e;var F=function(){function C(l,y){W(this,C),this._manager=l;var i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._fullRequestId=l.requestFull(i),this._headersReceivedCapability=(0,T.createPromiseCapability)(),this._disableRange=y.disableRange||!1,this._contentLength=y.length,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return $(C,[{key:"_onHeadersReceived",value:function(){var y=this._fullRequestId,i=this._manager.getRequestXhr(y),u=function(c){return i.getResponseHeader(c)},s=(0,M.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),E=s.suggestedLength;s.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=E||this._contentLength,this._filename=(0,M.extractFilenameFromHeader)(u),this._isRangeSupported&&this._manager.abortRequest(y),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(y){y&&(this._requests.length>0?this._requests.shift().resolve({value:y.chunk,done:!1}):this._cachedChunks.push(y.chunk)),this._done=!0,!(this._cachedChunks.length>0)&&(this._requests.forEach(function(u){u.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(y){var u=(0,M.createResponseStatusError)(y,this._url);this._storedError=u,this._headersReceivedCapability.reject(u),this._requests.forEach(function(s){s.reject(u)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(y){this.onProgress&&this.onProgress({loaded:y.loaded,total:y.lengthComputable?y.total:this._contentLength})}},{key:"read",value:(l=q(a.default.mark(function i(){var u,s;return a.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!this._storedError){E.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){E.next=5;break}return u=this._cachedChunks.shift(),E.abrupt("return",{value:u,done:!1});case 5:if(!this._done){E.next=7;break}return E.abrupt("return",{value:void 0,done:!0});case 7:return s=(0,T.createPromiseCapability)(),this._requests.push(s),E.abrupt("return",s.promise);case 10:case"end":return E.stop()}},i,this)})),function(){return l.apply(this,arguments)})},{key:"cancel",value:function(y){this._done=!0,this._headersReceivedCapability.reject(y),this._requests.forEach(function(i){i.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),C;var l}(),S=function(){function C(l,y,i){W(this,C),this._manager=l;var u={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=l.requestRange(y,i,u),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}return $(C,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(y){var i=y.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0,this._requests.forEach(function(s){s.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(y){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:y.loaded})}},{key:"read",value:(l=q(a.default.mark(function i(){var u,s;return a.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(null===this._queuedChunk){E.next=4;break}return u=this._queuedChunk,this._queuedChunk=null,E.abrupt("return",{value:u,done:!1});case 4:if(!this._done){E.next=6;break}return E.abrupt("return",{value:void 0,done:!0});case 6:return s=(0,T.createPromiseCapability)(),this._requests.push(s),E.abrupt("return",s.promise);case 9:case"end":return E.stop()}},i,this)})),function(){return l.apply(this,arguments)})},{key:"cancel",value:function(y){this._done=!0,this._requests.forEach(function(i){i.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),C;var l}()},(X,g,r)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.PDFFetchStream=void 0;var F,a=(F=r(2))&&F.__esModule?F:{default:F},T=r(4),M=r(154);function L(F,S,C,l,y,i,u){try{var s=F[i](u),P=s.value}catch(E){return void C(E)}s.done?S(P):Promise.resolve(P).then(l,y)}function q(F){return function(){var S=this,C=arguments;return new Promise(function(l,y){var i=F.apply(S,C);function u(P){L(i,l,y,u,s,"next",P)}function s(P){L(i,l,y,u,s,"throw",P)}u(void 0)})}}function W(F,S){if(!(F instanceof S))throw new TypeError("Cannot call a class as a function")}function z(F,S){for(var C=0;C<S.length;C++){var l=S[C];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(F,l.key,l)}}function $(F,S,C){return S&&z(F.prototype,S),C&&z(F,C),F}function Z(F,S,C){return{method:"GET",headers:F,signal:null==C?void 0:C.signal,mode:"cors",credentials:S?"include":"same-origin",redirect:"follow"}}function H(F){var S=new Headers;for(var C in F){var l=F[C];void 0!==l&&S.append(C,l)}return S}var x=function(){function F(S){W(this,F),this.source=S,this.isHttp=/^https?:/i.test(S.url),this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return $(F,[{key:"getFullReader",value:function(){return(0,T.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new j(this),this._fullRequestReader}},{key:"getRangeReader",value:function(C,l){if(l<=this._progressiveDataLength)return null;var y=new e(this,C,l);return this._rangeRequestReaders.push(y),y}},{key:"cancelAllRequests",value:function(C){this._fullRequestReader&&this._fullRequestReader.cancel(C),this._rangeRequestReaders.slice(0).forEach(function(y){y.cancel(C)})}},{key:"_progressiveDataLength",get:function(){var C,l;return null!==(C=null===(l=this._fullRequestReader)||void 0===l?void 0:l._loaded)&&void 0!==C?C:0}}]),F}();g.PDFFetchStream=x;var j=function(){function F(S){var C=this;W(this,F),this._stream=S,this._reader=null,this._loaded=0,this._filename=null;var l=S.source;this._withCredentials=l.withCredentials||!1,this._contentLength=l.length,this._headersCapability=(0,T.createPromiseCapability)(),this._disableRange=l.disableRange||!1,this._rangeChunkSize=l.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!l.disableStream,this._isRangeSupported=!l.disableRange,this._headers=H(this._stream.httpHeaders);var y=l.url;fetch(y,Z(this._headers,this._withCredentials,this._abortController)).then(function(i){if(!(0,M.validateResponseStatus)(i.status))throw(0,M.createResponseStatusError)(i.status,y);C._reader=i.body.getReader(),C._headersCapability.resolve();var u=function(c){return i.headers.get(c)},s=(0,M.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:C._stream.isHttp,rangeChunkSize:C._rangeChunkSize,disableRange:C._disableRange}),E=s.suggestedLength;C._isRangeSupported=s.allowRangeRequests,C._contentLength=E||C._contentLength,C._filename=(0,M.extractFilenameFromHeader)(u),!C._isStreamingSupported&&C._isRangeSupported&&C.cancel(new T.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return $(F,[{key:"read",value:(S=q(a.default.mark(function l(){var y,i,u,s;return a.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this._headersCapability.promise;case 2:return E.next=4,this._reader.read();case 4:if(i=(y=E.sent).value,!(u=y.done)){E.next=9;break}return E.abrupt("return",{value:i,done:u});case 9:return this._loaded+=i.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),s=new Uint8Array(i).buffer,E.abrupt("return",{value:s,done:!1});case 13:case"end":return E.stop()}},l,this)})),function(){return S.apply(this,arguments)})},{key:"cancel",value:function(C){this._reader&&this._reader.cancel(C),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),F;var S}(),e=function(){function F(S,C,l){var y=this;W(this,F),this._stream=S,this._reader=null,this._loaded=0;var i=S.source;this._withCredentials=i.withCredentials||!1,this._readCapability=(0,T.createPromiseCapability)(),this._isStreamingSupported=!i.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=H(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(C,"-").concat(l-1));var u=i.url;fetch(u,Z(this._headers,this._withCredentials,this._abortController)).then(function(s){if(!(0,M.validateResponseStatus)(s.status))throw(0,M.createResponseStatusError)(s.status,u);y._readCapability.resolve(),y._reader=s.body.getReader()}).catch(function(s){if("AbortError"!==(null==s?void 0:s.name))throw s}),this.onProgress=null}return $(F,[{key:"read",value:(S=q(a.default.mark(function l(){var y,i,u,s;return a.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this._readCapability.promise;case 2:return E.next=4,this._reader.read();case 4:if(i=(y=E.sent).value,!(u=y.done)){E.next=9;break}return E.abrupt("return",{value:i,done:u});case 9:return this._loaded+=i.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),s=new Uint8Array(i).buffer,E.abrupt("return",{value:s,done:!1});case 13:case"end":return E.stop()}},l,this)})),function(){return S.apply(this,arguments)})},{key:"cancel",value:function(C){this._reader&&this._reader.cancel(C),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),F;var S}()}],__webpack_module_cache__={};function __w_pdfjs_require__(X){if(__webpack_module_cache__[X])return __webpack_module_cache__[X].exports;var g=__webpack_module_cache__[X]={id:X,loaded:!1,exports:{}};return __webpack_modules__[X].call(g.exports,g,g.exports,__w_pdfjs_require__),g.loaded=!0,g.exports}return __w_pdfjs_require__.nmd=X=>(X.paths=[],X.children||(X.children=[]),X),__w_pdfjs_require__(0)})()},module.exports=r()},7620:function(X,g,r){X.exports=(()=>{"use strict";var a=[(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),Object.defineProperty(L,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return W.AnnotationLayerBuilder}}),Object.defineProperty(L,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return W.DefaultAnnotationLayerFactory}}),Object.defineProperty(L,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return z.DefaultTextLayerFactory}}),Object.defineProperty(L,"TextLayerBuilder",{enumerable:!0,get:function(){return z.TextLayerBuilder}}),Object.defineProperty(L,"EventBus",{enumerable:!0,get:function(){return $.EventBus}}),Object.defineProperty(L,"NullL10n",{enumerable:!0,get:function(){return $.NullL10n}}),Object.defineProperty(L,"ProgressBar",{enumerable:!0,get:function(){return $.ProgressBar}}),Object.defineProperty(L,"PDFLinkService",{enumerable:!0,get:function(){return Z.PDFLinkService}}),Object.defineProperty(L,"SimpleLinkService",{enumerable:!0,get:function(){return Z.SimpleLinkService}}),Object.defineProperty(L,"DownloadManager",{enumerable:!0,get:function(){return H.DownloadManager}}),Object.defineProperty(L,"GenericL10n",{enumerable:!0,get:function(){return x.GenericL10n}}),Object.defineProperty(L,"PDFFindController",{enumerable:!0,get:function(){return j.PDFFindController}}),Object.defineProperty(L,"PDFHistory",{enumerable:!0,get:function(){return e.PDFHistory}}),Object.defineProperty(L,"PDFPageView",{enumerable:!0,get:function(){return F.PDFPageView}}),Object.defineProperty(L,"PDFSinglePageViewer",{enumerable:!0,get:function(){return S.PDFSinglePageViewer}}),Object.defineProperty(L,"PDFViewer",{enumerable:!0,get:function(){return C.PDFViewer}});var W=q(1),z=q(7),$=q(3),Z=q(6),H=q(8),x=q(10),j=q(12),e=q(14),F=q(15),S=q(17),C=q(19)},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.DefaultAnnotationLayerFactory=L.AnnotationLayerBuilder=void 0;var W=q(2),z=q(3),$=q(6);function Z(u,s){return function(u){if(Array.isArray(u))return u}(u)||function(u,s){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(u)){var P=[],E=!0,O=!1,c=void 0;try{for(var B,p=u[Symbol.iterator]();!(E=(B=p.next()).done)&&(P.push(B.value),!s||P.length!==s);E=!0);}catch(w){O=!0,c=w}finally{try{!E&&null!=p.return&&p.return()}finally{if(O)throw c}}return P}}(u,s)||function(u,s){if(u){if("string"==typeof u)return j(u,s);var P=Object.prototype.toString.call(u).slice(8,-1);if("Object"===P&&u.constructor&&(P=u.constructor.name),"Map"===P||"Set"===P)return Array.from(u);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return j(u,s)}}(u,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(u,s){(null==s||s>u.length)&&(s=u.length);for(var P=0,E=new Array(s);P<s;P++)E[P]=u[P];return E}function S(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function C(u,s){for(var P=0;P<s.length;P++){var E=s[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(u,E.key,E)}}function l(u,s,P){return s&&C(u.prototype,s),P&&C(u,P),u}var y=function(){function u(s){var P=s.pageDiv,E=s.pdfPage,O=s.linkService,c=s.downloadManager,p=s.annotationStorage,B=void 0===p?null:p,w=s.imageResourcesPath,R=void 0===w?"":w,D=s.renderInteractiveForms,m=void 0===D||D,f=s.l10n,_=void 0===f?z.NullL10n:f,v=s.enableScripting,o=void 0!==v&&v,b=s.hasJSActionsPromise,A=void 0===b?null:b,k=s.mouseState,N=void 0===k?null:k;S(this,u),this.pageDiv=P,this.pdfPage=E,this.linkService=O,this.downloadManager=c,this.imageResourcesPath=R,this.renderInteractiveForms=m,this.l10n=_,this.annotationStorage=B,this.enableScripting=o,this._hasJSActionsPromise=A,this._mouseState=N,this.div=null,this._cancelled=!1}return l(u,[{key:"render",value:function(P){var E=this;return Promise.all([this.pdfPage.getAnnotations({intent:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display"}),this._hasJSActionsPromise]).then(function(c){var p=Z(c,2),B=p[0],w=p[1],R=void 0!==w&&w;if(!E._cancelled&&0!==B.length){var D={viewport:P.clone({dontFlip:!0}),div:E.div,annotations:B,page:E.pdfPage,imageResourcesPath:E.imageResourcesPath,renderInteractiveForms:E.renderInteractiveForms,linkService:E.linkService,downloadManager:E.downloadManager,annotationStorage:E.annotationStorage,enableScripting:E.enableScripting,hasJSActions:R,mouseState:E._mouseState};E.div?W.AnnotationLayer.update(D):(E.div=document.createElement("div"),E.div.className="annotationLayer",E.pageDiv.appendChild(E.div),D.div=E.div,W.AnnotationLayer.render(D),E.l10n.translate(E.div))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){!this.div||this.div.setAttribute("hidden","true")}}]),u}();L.AnnotationLayerBuilder=y;var i=function(){function u(){S(this,u)}return l(u,[{key:"createAnnotationLayerBuilder",value:function(P,E){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:z.NullL10n,w=arguments.length>6&&void 0!==arguments[6]&&arguments[6],R=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,D=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;return new y({pageDiv:P,pdfPage:E,imageResourcesPath:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",renderInteractiveForms:!(arguments.length>4&&void 0!==arguments[4])||arguments[4],linkService:new $.SimpleLinkService,l10n:B,annotationStorage:O,enableScripting:w,hasJSActionsPromise:R,mouseState:D})}}]),u}();L.DefaultAnnotationLayerFactory=i},G=>{var L;L="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:r(6656),G.exports=L},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.approximateFraction=function(ue){if(Math.floor(ue)===ue)return[ue,1];var ge=1/ue;if(ge>8)return[1,8];if(Math.floor(ge)===ge)return[1,ge];for(var ke=ue>1?ge:ue,Te=0,Ge=1,Ze=1,Ye=1;;){var $e=Te+Ze,Ue=Ge+Ye;if(Ue>8)break;ke<=$e/Ue?(Ze=$e,Ye=Ue):(Te=$e,Ge=Ue)}return ke-Te/Ge<Ze/Ye-ke?ke===ue?[Te,Ge]:[Ge,Te]:ke===ue?[Ze,Ye]:[Ye,Ze]},L.backtrackBeforeAllVisibleElements=ne,L.binarySearchFirstItem=J,L.getActiveOrFocusedElement=function(){for(var ue=document,ge=ue.activeElement||ue.querySelector(":focus");ge&&ge.shadowRoot;)ge=(ue=ge.shadowRoot).activeElement||ue.querySelector(":focus");return ge},L.getOutputScale=function(ue){var ke=(window.devicePixelRatio||1)/(ue.webkitBackingStorePixelRatio||ue.mozBackingStorePixelRatio||ue.backingStorePixelRatio||1);return{sx:ke,sy:ke,scaled:1!==ke}},L.getPageSizeInches=function(ue){var _e=ue.userUnit,ke=ue.rotate,Te=function(ue,ge){return function(ue){if(Array.isArray(ue))return ue}(ue)||function(ue,ge){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(ue)){var _e=[],ke=!0,Te=!1,Ge=void 0;try{for(var Ye,Ze=ue[Symbol.iterator]();!(ke=(Ye=Ze.next()).done)&&(_e.push(Ye.value),!ge||_e.length!==ge);ke=!0);}catch($e){Te=!0,Ge=$e}finally{try{!ke&&null!=Ze.return&&Ze.return()}finally{if(Te)throw Ge}}return _e}}(ue,ge)||function(ue,ge){if(ue){if("string"==typeof ue)return S(ue,ge);var _e=Object.prototype.toString.call(ue).slice(8,-1);if("Object"===_e&&ue.constructor&&(_e=ue.constructor.name),"Map"===_e||"Set"===_e)return Array.from(ue);if("Arguments"===_e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return S(ue,ge)}}(ue,ge)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ue.view,4),Ue=ke%180!=0,et=(Te[2]-Te[0])/72*_e,ot=(Te[3]-Te[1])/72*_e;return{width:Ue?ot:et,height:Ue?et:ot}},L.getPDFFileNameFromURL=function(ue){var ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof ue)return ge;if(Se(ue))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),ge;var ke=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Te=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(ue),Ge=ke.exec(Te[1])||ke.exec(Te[2])||ke.exec(Te[3]);if(Ge&&(Ge=Ge[0]).includes("%"))try{Ge=ke.exec(decodeURIComponent(Ge))[0]}catch(Ze){}return Ge||ge},L.getVisibleElements=function(ue){var ge=ue.scrollEl,_e=ue.views,ke=ue.sortByVisibility,Te=void 0!==ke&&ke,Ge=ue.horizontal,Ze=void 0!==Ge&&Ge,Ye=ue.rtl,$e=void 0!==Ye&&Ye,Ue=ge.scrollTop,et=Ue+ge.clientHeight,ot=ge.scrollLeft,dt=ot+ge.clientWidth;var _t=[],At=_e.length,Et=J(_e,Ze?function(qe){var Ke=qe.div,rt=Ke.offsetLeft+Ke.clientLeft;return $e?rt<dt:rt+Ke.clientWidth>ot}:function(qe){var Ke=qe.div;return Ke.offsetTop+Ke.clientTop+Ke.clientHeight>Ue});Et>0&&Et<At&&!Ze&&(Et=ne(Et,_e,Ue));for(var Ct=Ze?dt:-1,Lt=Et;Lt<At;Lt++){var kt=_e[Lt],wt=kt.div,xt=wt.offsetLeft+wt.clientLeft,Pt=wt.offsetTop+wt.clientTop,pe=wt.clientWidth,Le=wt.clientHeight,de=xt+pe,Ae=Pt+Le;if(-1===Ct)Ae>=et&&(Ct=Ae);else if((Ze?xt:Pt)>Ct)break;if(!(Ae<=Ue||Pt>=et||de<=ot||xt>=dt)){var Qe=Math.max(0,Ue-Pt)+Math.max(0,Ae-et),Re=(pe-(Math.max(0,ot-xt)+Math.max(0,de-dt)))/pe;_t.push({id:kt.id,x:xt,y:Pt,view:kt,percent:(Le-Qe)/Le*Re*100|0,widthPercent:100*Re|0})}}var Fe=_t[0],Je=_t[_t.length-1];return Te&&_t.sort(function(qe,Ke){var rt=qe.percent-Ke.percent;return Math.abs(rt)>.001?-rt:qe.id-Ke.id}),{first:Fe,last:Je,views:_t}},L.isPortraitOrientation=function(ue){return ue.width<=ue.height},L.isValidRotation=function(ue){return Number.isInteger(ue)&&ue%90==0},L.isValidScrollMode=function(ue){return Number.isInteger(ue)&&Object.values(v).includes(ue)&&ue!==v.UNKNOWN},L.isValidSpreadMode=function(ue){return Number.isInteger(ue)&&Object.values(o).includes(ue)&&ue!==o.UNKNOWN},L.moveToEndOfArray=function(ue,ge){for(var _e=[],ke=ue.length,Te=0,Ge=0;Ge<ke;++Ge)ge(ue[Ge])?_e.push(ue[Ge]):(ue[Te]=ue[Ge],++Te);for(var Ze=0;Te<ke;++Ze,++Te)ue[Te]=_e[Ze]},L.noContextMenuHandler=function(ue){ue.preventDefault()},L.normalizeWheelEventDelta=function(ue){var ge=fe(ue);return 0===ue.deltaMode?ge/=900:1===ue.deltaMode&&(ge/=30),ge},L.normalizeWheelEventDirection=fe,L.parseQueryString=function(ue){for(var ge=ue.split("&"),_e=Object.create(null),ke=0,Te=ge.length;ke<Te;++ke){var Ge=ge[ke].split("="),Ze=Ge[0].toLowerCase(),Ye=Ge.length>1?Ge[1]:null;_e[decodeURIComponent(Ze)]=decodeURIComponent(Ye)}return _e},L.roundToDivide=function(ue,ge){var _e=ue%ge;return 0===_e?ue:Math.round(ue-_e+ge)},L.scrollIntoView=function(ue,ge){var _e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ke=ue.offsetParent;if(ke){for(var Te=ue.offsetTop+ue.clientTop,Ge=ue.offsetLeft+ue.clientLeft;ke.clientHeight===ke.scrollHeight&&ke.clientWidth===ke.scrollWidth||_e&&"hidden"===getComputedStyle(ke).overflow;)if(ke.dataset._scaleY&&(Te/=ke.dataset._scaleY,Ge/=ke.dataset._scaleX),Te+=ke.offsetTop,Ge+=ke.offsetLeft,!(ke=ke.offsetParent))return;ge&&(void 0!==ge.top&&(Te+=ge.top),void 0!==ge.left&&(ke.scrollLeft=Ge+=ge.left)),ke.scrollTop=Te}else console.error("offsetParent is not set -- cannot scroll")},L.waitOnEventOrTimeout=function(ue){var ge=ue.target,_e=ue.name,ke=ue.delay,Te=void 0===ke?0:ke;return new Promise(function(Ge,Ze){if("object"!==x(ge)||!_e||"string"!=typeof _e||!(Number.isInteger(Te)&&Te>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function Ye(ot){ge instanceof He?ge._off(_e,$e):ge.removeEventListener(_e,$e),et&&clearTimeout(et),Ge(ot)}var $e=Ye.bind(null,we.EVENT);ge instanceof He?ge._on(_e,$e):ge.addEventListener(_e,$e);var Ue=Ye.bind(null,we.TIMEOUT),et=setTimeout(Ue,Te)})},L.watchScroll=function(ue,ge){var _e=function(Ze){Te||(Te=window.requestAnimationFrame(function(){Te=null;var $e=ue.scrollLeft,Ue=ke.lastX;$e!==Ue&&(ke.right=$e>Ue),ke.lastX=$e;var et=ue.scrollTop,ot=ke.lastY;et!==ot&&(ke.down=et>ot),ke.lastY=et,ge(ke)}))},ke={right:!0,down:!0,lastX:ue.scrollLeft,lastY:ue.scrollTop,_eventHandler:_e},Te=null;return ue.addEventListener("scroll",_e,!0),ke},L.WaitOnType=L.VERTICAL_PADDING=L.UNKNOWN_SCALE=L.TextLayerMode=L.SpreadMode=L.SidebarView=L.ScrollMode=L.SCROLLBAR_PADDING=L.RendererType=L.ProgressBar=L.PresentationModeState=L.NullL10n=L.MIN_SCALE=L.MAX_SCALE=L.MAX_AUTO_SCALE=L.EventBus=L.DEFAULT_SCALE_VALUE=L.DEFAULT_SCALE=L.CSS_UNITS=L.AutoPrintRegExp=L.animationStarted=void 0;var ue,W=(ue=q(4))&&ue.__esModule?ue:{default:ue};function $(ue,ge){if(!(ue instanceof ge))throw new TypeError("Cannot call a class as a function")}function Z(ue,ge){for(var _e=0;_e<ge.length;_e++){var ke=ge[_e];ke.enumerable=ke.enumerable||!1,ke.configurable=!0,"value"in ke&&(ke.writable=!0),Object.defineProperty(ue,ke.key,ke)}}function H(ue,ge,_e){return ge&&Z(ue.prototype,ge),_e&&Z(ue,_e),ue}function x(ue){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(ue)}function S(ue,ge){(null==ge||ge>ue.length)&&(ge=ue.length);for(var _e=0,ke=new Array(ge);_e<ge;_e++)ke[_e]=ue[_e];return ke}function y(ue,ge,_e,ke,Te,Ge,Ze){try{var Ye=ue[Ge](Ze),$e=Ye.value}catch(Ue){return void _e(Ue)}Ye.done?ge($e):Promise.resolve($e).then(ke,Te)}function i(ue){return function(){var ge=this,_e=arguments;return new Promise(function(ke,Te){var Ge=ue.apply(ge,_e);function Ze($e){y(Ge,ke,Te,Ze,Ye,"next",$e)}function Ye($e){y(Ge,ke,Te,Ze,Ye,"throw",$e)}Ze(void 0)})}}L.CSS_UNITS=96/72,L.DEFAULT_SCALE_VALUE="auto",L.DEFAULT_SCALE=1,L.MIN_SCALE=.1,L.MAX_SCALE=10,L.UNKNOWN_SCALE=0,L.MAX_AUTO_SCALE=1.25,L.SCROLLBAR_PADDING=40,L.VERTICAL_PADDING=5;L.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},L.SidebarView={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4},L.RendererType={CANVAS:"canvas",SVG:"svg"},L.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var v={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};L.ScrollMode=v;var o={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function A(ue,ge){return ge?ue.replace(/\{\{\s*(\w+)\s*\}\}/g,function(_e,ke){return ke in ge?ge[ke]:"{{"+ke+"}}"}):ue}function J(ue,ge){var _e=0,ke=ue.length-1;if(ke<0||!ge(ue[ke]))return ue.length;if(ge(ue[_e]))return _e;for(;_e<ke;){var Te=_e+ke>>1;ge(ue[Te])?ke=Te:_e=Te+1}return _e}function ne(ue,ge,_e){if(ue<2)return ue;var ke=ge[ue].div,Te=ke.offsetTop+ke.clientTop;Te>=_e&&(Te=(ke=ge[ue-1].div).offsetTop+ke.clientTop);for(var Ge=ue-2;Ge>=0&&!((ke=ge[Ge].div).offsetTop+ke.clientTop+ke.clientHeight<=Te);--Ge)ue=Ge;return ue}function Se(ue){for(var ge=0,_e=ue.length;ge<_e&&""===ue[ge].trim();)ge++;return"data:"===ue.substring(ge,ge+5).toLowerCase()}function fe(ue){var ge=Math.sqrt(ue.deltaX*ue.deltaX+ue.deltaY*ue.deltaY),_e=Math.atan2(ue.deltaY,ue.deltaX);return-.25*Math.PI<_e&&_e<.75*Math.PI&&(ge=-ge),ge}L.SpreadMode=o,L.AutoPrintRegExp=/\bprint\s*\(/,L.NullL10n={getLanguage:function(){return i(W.default.mark(function ge(){return W.default.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.abrupt("return","en-us");case 1:case"end":return ke.stop()}},ge)}))()},getDirection:function(){return i(W.default.mark(function ge(){return W.default.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.abrupt("return","ltr");case 1:case"end":return ke.stop()}},ge)}))()},get:function(ge,_e,ke){return i(W.default.mark(function Te(){return W.default.wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.abrupt("return",A(ke,_e));case 1:case"end":return Ze.stop()}},Te)}))()},translate:function(ge){return i(W.default.mark(function _e(){return W.default.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:case"end":return Te.stop()}},_e)}))()}};var we={EVENT:"event",TIMEOUT:"timeout"};L.WaitOnType=we;var be=new Promise(function(ue){window.requestAnimationFrame(ue)});L.animationStarted=be;var He=function(){function ue(ge){$(this,ue),this._listeners=Object.create(null)}return H(ue,[{key:"on",value:function(_e,ke){var Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(_e,ke,{external:!0,once:null==Te?void 0:Te.once})}},{key:"off",value:function(_e,ke){var Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._off(_e,ke,{external:!0,once:null==Te?void 0:Te.once})}},{key:"dispatch",value:function(_e){var ke=this,Te=this._listeners[_e];if(Te&&0!==Te.length){var Ze,Ge=Array.prototype.slice.call(arguments,1);Te.slice(0).forEach(function(Ye){var $e=Ye.listener,Ue=Ye.external;Ye.once&&ke._off(_e,$e),Ue?(Ze||(Ze=[])).push($e):$e.apply(null,Ge)}),Ze&&(Ze.forEach(function(Ye){Ye.apply(null,Ge)}),Ze=null)}}},{key:"_on",value:function(_e,ke){var Te,Ge=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;((Te=this._listeners)[_e]||(Te[_e]=[])).push({listener:ke,external:!0===(null==Ge?void 0:Ge.external),once:!0===(null==Ge?void 0:Ge.once)})}},{key:"_off",value:function(_e,ke){var Ge=this._listeners[_e];if(Ge)for(var Ze=0,Ye=Ge.length;Ze<Ye;Ze++)if(Ge[Ze].listener===ke)return void Ge.splice(Ze,1)}}]),ue}();L.EventBus=He;var Ne=function(){function ue(ge){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ke=_e.height,Te=_e.width,Ge=_e.units;$(this,ue),this.visible=!0,this.div=document.querySelector(ge+" .progress"),this.bar=this.div.parentNode,this.height=ke||100,this.width=Te||100,this.units=Ge||"%",this.div.style.height=this.height+this.units,this.percent=0}return H(ue,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"setWidth",value:function(_e){if(_e){var Te=_e.parentNode.offsetWidth-_e.offsetWidth;Te>0&&document.documentElement.style.setProperty("--loadingBar-end-offset","".concat(Te,"px"))}}},{key:"hide",value:function(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}},{key:"show",value:function(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(_e){this._indeterminate=isNaN(_e),this._percent=function(ue,ge,_e){return Math.min(Math.max(ue,ge),_e)}(_e,0,100),this._updateBar()}}]),ue}();L.ProgressBar=Ne},(G,L,q)=>{G.exports=q(5)},(G,L,q)=>{function W($){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})($)}var z=function($){var x,Z=Object.prototype,H=Z.hasOwnProperty,j="function"==typeof Symbol?Symbol:{},e=j.iterator||"@@iterator",F=j.asyncIterator||"@@asyncIterator",S=j.toStringTag||"@@toStringTag";function C(I,V,Y){return Object.defineProperty(I,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}),I[V]}try{C({},"")}catch(I){C=function(Y,J,re){return Y[J]=re}}function l(I,V,Y,J){var te=Object.create((V&&V.prototype instanceof O?V:O).prototype),ae=new A(J||[]);return te._invoke=function(I,V,Y){var J=i;return function(te,ae){if(J===s)throw new Error("Generator is already running");if(J===P){if("throw"===te)throw ae;return N()}for(Y.method=te,Y.arg=ae;;){var ne=Y.delegate;if(ne){var he=v(ne,Y);if(he){if(he===E)continue;return he}}if("next"===Y.method)Y.sent=Y._sent=Y.arg;else if("throw"===Y.method){if(J===i)throw J=P,Y.arg;Y.dispatchException(Y.arg)}else"return"===Y.method&&Y.abrupt("return",Y.arg);J=s;var me=y(I,V,Y);if("normal"===me.type){if(J=Y.done?P:u,me.arg===E)continue;return{value:me.arg,done:Y.done}}"throw"===me.type&&(J=P,Y.method="throw",Y.arg=me.arg)}}}(I,Y,ae),te}function y(I,V,Y){try{return{type:"normal",arg:I.call(V,Y)}}catch(J){return{type:"throw",arg:J}}}$.wrap=l;var i="suspendedStart",u="suspendedYield",s="executing",P="completed",E={};function O(){}function c(){}function p(){}var B={};B[e]=function(){return this};var w=Object.getPrototypeOf,R=w&&w(w(k([])));R&&R!==Z&&H.call(R,e)&&(B=R);var D=p.prototype=O.prototype=Object.create(B);function m(I){["next","throw","return"].forEach(function(V){C(I,V,function(Y){return this._invoke(V,Y)})})}function f(I,V){function Y(te,ae,ne,he){var me=y(I[te],I,ae);if("throw"!==me.type){var Se=me.arg,se=Se.value;return se&&"object"===W(se)&&H.call(se,"__await")?V.resolve(se.__await).then(function(fe){Y("next",fe,ne,he)},function(fe){Y("throw",fe,ne,he)}):V.resolve(se).then(function(fe){Se.value=fe,ne(Se)},function(fe){return Y("throw",fe,ne,he)})}he(me.arg)}var J;this._invoke=function(te,ae){function ne(){return new V(function(he,me){Y(te,ae,he,me)})}return J=J?J.then(ne,ne):ne()}}function v(I,V){var Y=I.iterator[V.method];if(Y===x){if(V.delegate=null,"throw"===V.method){if(I.iterator.return&&(V.method="return",V.arg=x,v(I,V),"throw"===V.method))return E;V.method="throw",V.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var J=y(Y,I.iterator,V.arg);if("throw"===J.type)return V.method="throw",V.arg=J.arg,V.delegate=null,E;var re=J.arg;return re?re.done?(V[I.resultName]=re.value,V.next=I.nextLoc,"return"!==V.method&&(V.method="next",V.arg=x),V.delegate=null,E):re:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,E)}function o(I){var V={tryLoc:I[0]};1 in I&&(V.catchLoc=I[1]),2 in I&&(V.finallyLoc=I[2],V.afterLoc=I[3]),this.tryEntries.push(V)}function b(I){var V=I.completion||{};V.type="normal",delete V.arg,I.completion=V}function A(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(o,this),this.reset(!0)}function k(I){if(I){var V=I[e];if(V)return V.call(I);if("function"==typeof I.next)return I;if(!isNaN(I.length)){var Y=-1,J=function re(){for(;++Y<I.length;)if(H.call(I,Y))return re.value=I[Y],re.done=!1,re;return re.value=x,re.done=!0,re};return J.next=J}}return{next:N}}function N(){return{value:x,done:!0}}return c.prototype=D.constructor=p,p.constructor=c,c.displayName=C(p,S,"GeneratorFunction"),$.isGeneratorFunction=function(I){var V="function"==typeof I&&I.constructor;return!!V&&(V===c||"GeneratorFunction"===(V.displayName||V.name))},$.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,p):(I.__proto__=p,C(I,S,"GeneratorFunction")),I.prototype=Object.create(D),I},$.awrap=function(I){return{__await:I}},m(f.prototype),f.prototype[F]=function(){return this},$.AsyncIterator=f,$.async=function(I,V,Y,J,re){void 0===re&&(re=Promise);var te=new f(l(I,V,Y,J),re);return $.isGeneratorFunction(V)?te:te.next().then(function(ae){return ae.done?ae.value:te.next()})},m(D),C(D,S,"Generator"),D[e]=function(){return this},D.toString=function(){return"[object Generator]"},$.keys=function(I){var V=[];for(var Y in I)V.push(Y);return V.reverse(),function J(){for(;V.length;){var re=V.pop();if(re in I)return J.value=re,J.done=!1,J}return J.done=!0,J}},$.values=k,A.prototype={constructor:A,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=x,this.done=!1,this.delegate=null,this.method="next",this.arg=x,this.tryEntries.forEach(b),!V)for(var Y in this)"t"===Y.charAt(0)&&H.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=x)},stop:function(){this.done=!0;var Y=this.tryEntries[0].completion;if("throw"===Y.type)throw Y.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var Y=this;function J(me,Se){return ae.type="throw",ae.arg=V,Y.next=me,Se&&(Y.method="next",Y.arg=x),!!Se}for(var re=this.tryEntries.length-1;re>=0;--re){var te=this.tryEntries[re],ae=te.completion;if("root"===te.tryLoc)return J("end");if(te.tryLoc<=this.prev){var ne=H.call(te,"catchLoc"),he=H.call(te,"finallyLoc");if(ne&&he){if(this.prev<te.catchLoc)return J(te.catchLoc,!0);if(this.prev<te.finallyLoc)return J(te.finallyLoc)}else if(ne){if(this.prev<te.catchLoc)return J(te.catchLoc,!0)}else{if(!he)throw new Error("try statement without catch or finally");if(this.prev<te.finallyLoc)return J(te.finallyLoc)}}}},abrupt:function(V,Y){for(var J=this.tryEntries.length-1;J>=0;--J){var re=this.tryEntries[J];if(re.tryLoc<=this.prev&&H.call(re,"finallyLoc")&&this.prev<re.finallyLoc){var te=re;break}}te&&("break"===V||"continue"===V)&&te.tryLoc<=Y&&Y<=te.finallyLoc&&(te=null);var ae=te?te.completion:{};return ae.type=V,ae.arg=Y,te?(this.method="next",this.next=te.finallyLoc,E):this.complete(ae)},complete:function(V,Y){if("throw"===V.type)throw V.arg;return"break"===V.type||"continue"===V.type?this.next=V.arg:"return"===V.type?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):"normal"===V.type&&Y&&(this.next=Y),E},finish:function(V){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var J=this.tryEntries[Y];if(J.finallyLoc===V)return this.complete(J.completion,J.afterLoc),b(J),E}},catch:function(V){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var J=this.tryEntries[Y];if(J.tryLoc===V){var re=J.completion;if("throw"===re.type){var te=re.arg;b(J)}return te}}throw new Error("illegal catch attempt")},delegateYield:function(V,Y,J){return this.delegate={iterator:k(V),resultName:Y,nextLoc:J},"next"===this.method&&(this.arg=x),E}},$}("object"===W(G=q.nmd(G))?G.exports:{});try{regeneratorRuntime=z}catch($){Function("r","regeneratorRuntime = r")(z)}},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.SimpleLinkService=L.PDFLinkService=void 0;var y,W=(y=q(4))&&y.__esModule?y:{default:y},z=q(3);function Z(y){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(y)}function H(y,i,u,s,P,E,O){try{var c=y[E](O),p=c.value}catch(B){return void u(B)}c.done?i(p):Promise.resolve(p).then(s,P)}function x(y){return function(){var i=this,u=arguments;return new Promise(function(s,P){var E=y.apply(i,u);function O(p){H(E,s,P,O,c,"next",p)}function c(p){H(E,s,P,O,c,"throw",p)}O(void 0)})}}function j(y,i){if(!(y instanceof i))throw new TypeError("Cannot call a class as a function")}function e(y,i){for(var u=0;u<i.length;u++){var s=i[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(y,s.key,s)}}function F(y,i,u){return i&&e(y.prototype,i),u&&e(y,u),y}var S=function(){function y(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=i.eventBus,s=i.externalLinkTarget,P=void 0===s?null:s,E=i.externalLinkRel,O=void 0===E?null:E,c=i.externalLinkEnabled,p=void 0===c||c,B=i.ignoreDestinationZoom,w=void 0!==B&&B;j(this,y),this.eventBus=u,this.externalLinkTarget=P,this.externalLinkRel=O,this.externalLinkEnabled=p,this._ignoreDestinationZoom=w,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return F(y,[{key:"setDocument",value:function(u){this.baseUrl=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.pdfDocument=u,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(u){this.pdfViewer=u}},{key:"setHistory",value:function(u){this.pdfHistory=u}},{key:"navigateTo",value:function(u){console.error("Deprecated method: `navigateTo`, use `goToDestination` instead."),this.goToDestination(u)}},{key:"_goToDestinationHelper",value:function(u){var c,s=this,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,E=arguments.length>2?arguments[2]:void 0,O=E[0];if(O instanceof Object){if(null===(c=this._cachedPageNumber(O)))return void this.pdfDocument.getPageIndex(O).then(function(p){s.cachePageRef(p+1,O),s._goToDestinationHelper(u,P,E)}).catch(function(){console.error('PDFLinkService._goToDestinationHelper: "'.concat(O,'" is not ')+'a valid page reference, for dest="'.concat(u,'".'))})}else{if(!Number.isInteger(O))return void console.error('PDFLinkService._goToDestinationHelper: "'.concat(O,'" is not ')+'a valid destination reference, for dest="'.concat(u,'".'));c=O+1}!c||c<1||c>this.pagesCount?console.error('PDFLinkService._goToDestinationHelper: "'.concat(c,'" is not ')+'a valid page number, for dest="'.concat(u,'".')):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:P,explicitDest:E,pageNumber:c})),this.pdfViewer.scrollPageIntoView({pageNumber:c,destArray:E,ignoreDestinationZoom:this._ignoreDestinationZoom}))}},{key:"goToDestination",value:(i=x(W.default.mark(function s(P){var E,O;return W.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.pdfDocument){p.next=2;break}return p.abrupt("return");case 2:if("string"!=typeof P){p.next=9;break}return E=P,p.next=6,this.pdfDocument.getDestination(P);case 6:O=p.sent,p.next=13;break;case 9:return E=null,p.next=12,P;case 12:O=p.sent;case 13:if(Array.isArray(O)){p.next=16;break}return console.error('PDFLinkService.goToDestination: "'.concat(O,'" is not ')+'a valid destination array, for dest="'.concat(P,'".')),p.abrupt("return");case 16:this._goToDestinationHelper(P,E,O);case 17:case"end":return p.stop()}},s,this)})),function(s){return i.apply(this,arguments)})},{key:"goToPage",value:function(u){if(this.pdfDocument){var s="string"==typeof u&&this.pdfViewer.pageLabelToPageNumber(u)||0|u;if(!(Number.isInteger(s)&&s>0&&s<=this.pagesCount))return void console.error('PDFLinkService.goToPage: "'.concat(u,'" is not a valid page.'));this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(s)),this.pdfViewer.scrollPageIntoView({pageNumber:s})}}},{key:"getDestinationHash",value:function(u){if("string"==typeof u){if(u.length>0)return this.getAnchorUrl("#"+escape(u))}else if(Array.isArray(u)){var s=JSON.stringify(u);if(s.length>0)return this.getAnchorUrl("#"+escape(s))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(u){return(this.baseUrl||"")+u}},{key:"setHash",value:function(u){var s,P;if(this.pdfDocument)if(u.includes("=")){var E=(0,z.parseQueryString)(u);if("search"in E&&this.eventBus.dispatch("findfromurlhash",{source:this,query:E.search.replace(/"/g,""),phraseSearch:"true"===E.phrase}),"page"in E&&(s=0|E.page||1),"zoom"in E){var O=E.zoom.split(","),c=O[0],p=parseFloat(c);c.includes("Fit")?"Fit"===c||"FitB"===c?P=[null,{name:c}]:"FitH"===c||"FitBH"===c||"FitV"===c||"FitBV"===c?P=[null,{name:c},O.length>1?0|O[1]:null]:"FitR"===c?5!==O.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):P=[null,{name:c},0|O[1],0|O[2],0|O[3],0|O[4]]:console.error('PDFLinkService.setHash: "'.concat(c,'" is not ')+"a valid zoom value."):P=[null,{name:"XYZ"},O.length>1?0|O[1]:null,O.length>2?0|O[2]:null,p?p/100:c]}P?this.pdfViewer.scrollPageIntoView({pageNumber:s||this.page,destArray:P,allowNegativeOffset:!0}):s&&(this.page=s),"pagemode"in E&&this.eventBus.dispatch("pagemode",{source:this,mode:E.pagemode}),"nameddest"in E&&this.goToDestination(E.nameddest)}else{P=unescape(u);try{P=JSON.parse(P),Array.isArray(P)||(P=P.toString())}catch(B){}if("string"==typeof P||function(y){if(!Array.isArray(y))return!1;var i=y.length;if(i<2)return!1;var u=y[0];if(!("object"===Z(u)&&Number.isInteger(u.num)&&Number.isInteger(u.gen)||Number.isInteger(u)&&u>=0))return!1;var s=y[1];if("object"!==Z(s)||"string"!=typeof s.name)return!1;var P=!0;switch(s.name){case"XYZ":if(5!==i)return!1;break;case"Fit":case"FitB":return 2===i;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==i)return!1;break;case"FitR":if(6!==i)return!1;P=!1;break;default:return!1}for(var E=2;E<i;E++){var O=y[E];if(!("number"==typeof O||P&&null===O))return!1}return!0}(P))return void this.goToDestination(P);console.error('PDFLinkService.setHash: "'.concat(unescape(u),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(u){switch(u){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:u})}},{key:"cachePageRef",value:function(u,s){if(s){var P=0===s.gen?"".concat(s.num,"R"):"".concat(s.num,"R").concat(s.gen);this._pagesRefCache[P]=u}}},{key:"_cachedPageNumber",value:function(u){var s=0===u.gen?"".concat(u.num,"R"):"".concat(u.num,"R").concat(u.gen);return this._pagesRefCache&&this._pagesRefCache[s]||null}},{key:"isPageVisible",value:function(u){return this.pdfViewer.isPageVisible(u)}},{key:"isPageCached",value:function(u){return this.pdfViewer.isPageCached(u)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(u){this.pdfViewer.currentPageNumber=u}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(u){this.pdfViewer.pagesRotation=u}}]),y;var i}();L.PDFLinkService=S;var l=function(){function y(){j(this,y),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}return F(y,[{key:"goToDestination",value:(i=x(W.default.mark(function s(P){return W.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:case"end":return O.stop()}},s)})),function(s){return i.apply(this,arguments)})},{key:"goToPage",value:function(u){}},{key:"getDestinationHash",value:function(u){return"#"}},{key:"getAnchorUrl",value:function(u){return"#"}},{key:"setHash",value:function(u){}},{key:"executeNamedAction",value:function(u){}},{key:"cachePageRef",value:function(u,s){}},{key:"isPageVisible",value:function(u){return!0}},{key:"isPageCached",value:function(u){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(u){}},{key:"rotation",get:function(){return 0},set:function(u){}}]),y;var i}();L.SimpleLinkService=l},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.TextLayerBuilder=L.DefaultTextLayerFactory=void 0;var W=q(2);function z(e,F){if(!(e instanceof F))throw new TypeError("Cannot call a class as a function")}function $(e,F){for(var S=0;S<F.length;S++){var C=F[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(e,C.key,C)}}function Z(e,F,S){return F&&$(e.prototype,F),S&&$(e,S),e}var x=function(){function e(F){var S=F.textLayerDiv,C=F.eventBus,l=F.pageIndex,y=F.viewport,i=F.findController,u=void 0===i?null:i,s=F.enhanceTextSelection,P=void 0!==s&&s;z(this,e),this.textLayerDiv=S,this.eventBus=C,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=l,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=y,this.textDivs=[],this.findController=u,this.textLayerRenderTask=null,this.enhanceTextSelection=P,this._onUpdateTextLayerMatches=null,this._bindMouse()}return Z(e,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var S=document.createElement("div");S.className="endOfContent",this.textLayerDiv.appendChild(S)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var S=this,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var l=document.createDocumentFragment();this.textLayerRenderTask=(0,W.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:l,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:C,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){S.textLayerDiv.appendChild(l),S._finishRendering(),S._updateMatches()},function(y){}),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(y){(y.pageIndex===S.pageIdx||-1===y.pageIndex)&&S._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(S){this.cancel(),this.textContentStream=S}},{key:"setTextContent",value:function(S){this.cancel(),this.textContent=S}},{key:"_convertMatches",value:function(S,C){if(!S)return[];for(var l=this.textContentItemsStr,y=0,i=0,u=l.length-1,s=[],P=0,E=S.length;P<E;P++){for(var O=S[P];y!==u&&O>=i+l[y].length;)i+=l[y].length,y++;y===l.length&&console.error("Could not find a matching mapping");var c={begin:{divIdx:y,offset:O-i}};for(O+=C[P];y!==u&&O>i+l[y].length;)i+=l[y].length,y++;c.end={divIdx:y,offset:O-i},s.push(c)}return s}},{key:"_renderMatches",value:function(S){if(0!==S.length){var C=this.findController,l=this.pageIdx,y=this.textContentItemsStr,i=this.textDivs,u=l===C.selected.pageIdx,s=C.selected.matchIdx,E=null,O={divIdx:-1,offset:void 0},B=s,w=B+1;if(C.state.highlightAll)B=0,w=S.length;else if(!u)return;for(var R=B;R<w;R++){var D=S[R],m=D.begin,f=D.end,_=u&&R===s,v=_?" selected":"";if(_&&C.scrollMatchIntoView({element:i[m.divIdx],pageIndex:l,matchIndex:s}),E&&m.divIdx===E.divIdx?p(E.divIdx,E.offset,m.offset):(null!==E&&p(E.divIdx,E.offset,O.offset),c(m)),m.divIdx===f.divIdx)p(m.divIdx,m.offset,f.offset,"highlight"+v);else{p(m.divIdx,m.offset,O.offset,"highlight begin"+v);for(var o=m.divIdx+1,b=f.divIdx;o<b;o++)i[o].className="highlight middle"+v;c(f,"highlight end"+v)}E=f}E&&p(E.divIdx,E.offset,O.offset)}function c(A,k){var N=A.divIdx;i[N].textContent="",p(N,0,A.offset,k)}function p(A,k,N,I){var V=i[A],Y=y[A].substring(k,N),J=document.createTextNode(Y);if(I){var re=document.createElement("span");return re.className=I,re.appendChild(J),void V.appendChild(re)}V.appendChild(J)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var S=this.findController,C=this.matches,l=this.pageIdx,y=this.textContentItemsStr,i=this.textDivs,u=-1,s=0,P=C.length;s<P;s++){for(var E=C[s],c=Math.max(u,E.begin.divIdx),p=E.end.divIdx;c<=p;c++){var B=i[c];B.textContent=y[c],B.className=""}u=E.end.divIdx+1}S&&S.highlightMatches&&(this.matches=this._convertMatches(S.pageMatches[l]||null,S.pageMatchesLength[l]||null),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var S=this,C=this.textLayerDiv,l=null;C.addEventListener("mousedown",function(y){if(S.enhanceTextSelection&&S.textLayerRenderTask)return S.textLayerRenderTask.expandTextDivs(!0),void(l&&(clearTimeout(l),l=null));var i=C.querySelector(".endOfContent");if(i){var u=y.target!==C;if(u=u&&"none"!==window.getComputedStyle(i).getPropertyValue("-moz-user-select")){var s=C.getBoundingClientRect(),P=Math.max(0,(y.pageY-s.top)/s.height);i.style.top=(100*P).toFixed(2)+"%"}i.classList.add("active")}}),C.addEventListener("mouseup",function(){if(S.enhanceTextSelection&&S.textLayerRenderTask)l=setTimeout(function(){S.textLayerRenderTask&&S.textLayerRenderTask.expandTextDivs(!1),l=null},300);else{var y=C.querySelector(".endOfContent");!y||(y.style.top="",y.classList.remove("active"))}})}}]),e}();L.TextLayerBuilder=x;var j=function(){function e(){z(this,e)}return Z(e,[{key:"createTextLayerBuilder",value:function(S,C,l){return new x({textLayerDiv:S,pageIndex:C,viewport:l,enhanceTextSelection:arguments.length>3&&void 0!==arguments[3]&&arguments[3],eventBus:arguments.length>4?arguments[4]:void 0})}}]),e}();L.DefaultTextLayerFactory=j},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.DownloadManager=void 0;var W=q(2),z=q(9);function Z(e,F){for(var S=0;S<F.length;S++){var C=F[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(e,C.key,C)}}function x(e,F){var S=document.createElement("a");if(!S.click)throw new Error('DownloadManager: "a.click()" is not supported.');S.href=e,S.target="_parent","download"in S&&(S.download=F),(document.body||document.documentElement).appendChild(S),S.click(),S.remove()}L.DownloadManager=function(){function e(){!function(e,F){if(!(e instanceof F))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,F,S){F&&Z(e.prototype,F),S&&Z(e,S)}(e,[{key:"downloadUrl",value:function(S,C){!(0,W.createValidAbsoluteUrl)(S,"http://example.com")||x(S+"#pdfjs.action=download",C)}},{key:"downloadData",value:function(S,C,l){x((0,W.createObjectURL)(S,l,z.viewerCompatibilityParams.disableCreateObjectURL),C)}},{key:"download",value:function(S,C,l){z.viewerCompatibilityParams.disableCreateObjectURL?this.downloadUrl(C,l):x(URL.createObjectURL(S),l)}}]),e}()},(G,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.viewerCompatibilityParams=void 0;var q=Object.create(null),W="undefined"!=typeof navigator&&navigator.userAgent||"",z="undefined"!=typeof navigator&&navigator.platform||"",$="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,Z=/Android/.test(W),H=/\b(iPad|iPhone|iPod)(?=;)/.test(W)||"MacIntel"===z&&$>1;/CriOS/.test(W)&&(q.disableCreateObjectURL=!0),(H||Z)&&(q.maxCanvasPixels=5242880);var j=Object.freeze(q);L.viewerCompatibilityParams=j},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.GenericL10n=void 0;var S,W=(S=q(4))&&S.__esModule?S:{default:S};function $(S,C,l,y,i,u,s){try{var P=S[u](s),E=P.value}catch(O){return void l(O)}P.done?C(E):Promise.resolve(E).then(y,i)}function Z(S){return function(){var C=this,l=arguments;return new Promise(function(y,i){var u=S.apply(C,l);function s(E){$(u,y,i,s,P,"next",E)}function P(E){$(u,y,i,s,P,"throw",E)}s(void 0)})}}function x(S,C){for(var l=0;l<C.length;l++){var y=C[l];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}q(11);var e=document.webL10n,F=function(){function S(C){(function(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")})(this,S),this._lang=C,this._ready=new Promise(function(l,y){e.setLanguage(C,function(){l(e)})})}return function(S,C,l){C&&x(S.prototype,C),l&&x(S,l)}(S,[{key:"getLanguage",value:(C=Z(W.default.mark(function y(){return W.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this._ready;case 2:return s.abrupt("return",s.sent.getLanguage());case 4:case"end":return s.stop()}},y,this)})),function(){return C.apply(this,arguments)})},{key:"getDirection",value:function(){var C=Z(W.default.mark(function y(){return W.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this._ready;case 2:return s.abrupt("return",s.sent.getDirection());case 4:case"end":return s.stop()}},y,this)}));return function(){return C.apply(this,arguments)}}()},{key:"get",value:function(){var C=Z(W.default.mark(function y(i,u,s){return W.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this._ready;case 2:return O.abrupt("return",O.sent.get(i,u,s));case 4:case"end":return O.stop()}},y,this)}));return function(y,i,u){return C.apply(this,arguments)}}()},{key:"translate",value:function(){var C=Z(W.default.mark(function y(i){return W.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this._ready;case 2:return P.abrupt("return",P.sent.translate(i));case 4:case"end":return P.stop()}},y,this)}));return function(y){return C.apply(this,arguments)}}()}]),S;var C}();L.GenericL10n=F},()=>{document.webL10n=function(G,L,q){var W={},z="",$="textContent",Z="",H={},x="loading";function l(w,R,D){R=R||function(_){},D=D||function(){};var m=new XMLHttpRequest;m.open("GET",w,true),m.overrideMimeType&&m.overrideMimeType("text/plain; charset=utf-8"),m.onreadystatechange=function(){4==m.readyState&&(200==m.status||0===m.status?R(m.responseText):D())},m.onerror=D,m.ontimeout=D;try{m.send(null)}catch(f){D()}}function y(w,R,D,m){var f=w.replace(/[^\/]*$/,"")||"./";function _(o){return o.lastIndexOf("\\")<0?o:o.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}l(w,function(o){z+=o,function(o,b){var A={},k=/^\s*|\s*$/,N=/^\s*#|^\s*$/,I=/^\s*\[(.*)\]\s*$/,V=/^\s*@import\s+url\((.*)\)\s*$/i,Y=/^([^=\s]*)\s*=\s*(.+)$/;function J(te,ae,ne){var he=te.replace(k,"").split(/[\r\n]+/),me="*",Se=R.split("-",1)[0],se=!1,fe="";!function K(){for(;;){if(!he.length)return void ne();var ie=he.shift();if(!N.test(ie)){if(ae){if(fe=I.exec(ie)){me=fe[1].toLowerCase(),se="*"!==me&&me!==R&&me!==Se;continue}if(se)continue;if(fe=V.exec(ie))return void re(f+fe[1],K)}var oe=ie.match(Y);oe&&3==oe.length&&(A[oe[1]]=_(oe[2]))}}}()}function re(te,ae){l(te,function(ne){J(ne,!1,ae)},function(){console.warn(te+" not found."),ae()})}J(o,!0,function(){b(A)})}(o,function(b){for(var A in b){var k,N,I=A.lastIndexOf(".");I>0?(k=A.substring(0,I),N=A.substring(I+1)):(k=A,N=$),W[k]||(W[k]={}),W[k][N]=b[A]}D&&D()})},m)}function i(w,R){w&&(w=w.toLowerCase()),R=R||function(){},W={},z="",Z="",Z=w;var D=L.querySelectorAll('link[type="application/l10n"]'),m=D.length;if(0!==m){var o,b=0;o=function(){++b>=m&&(R(),x="complete")};for(var k=0;k<m;k++)new A(D[k]).load(w,o)}else{var f=function(){var w=L.querySelector('script[type="application/l10n"]');return w?JSON.parse(w.innerHTML):null}();if(f&&f.locales&&f.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(W=f.locales[w])){var _=f.default_locale.toLowerCase();for(var v in f.locales){if((v=v.toLowerCase())===w){W=f.locales[w];break}v===_&&(W=f.locales[_])}}R()}else console.log("no resource to load, early way out");x="complete"}function A(I){var V=I.href;this.load=function(Y,J){y(V,Y,J,function(){console.warn(V+" not found."),console.warn('"'+Y+'" resource not found'),Z="",J()})}}}function P(w,R,D){var m=W[w];if(!m){if(console.warn("#"+w+" is undefined."),!D)return null;m=D}var f={};for(var _ in m){var v=m[_];v=O(v=E(v,R,w,_),R,w),f[_]=v}return f}function E(w,R,D,m){var _=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(w);if(!_||!_.length)return w;var b,v=_[1],o=_[2];return R&&o in R?b=R[o]:o in W&&(b=W[o]),v in H&&(w=(0,H[v])(w,b,D,m)),w}function O(w,R,D){return w.replace(/\{\{\s*(.+?)\s*\}\}/g,function(f,_){return R&&_ in R?R[_]:_ in W?W[_]:(console.log("argument {{"+_+"}} for #"+D+" is undefined."),f)})}function c(w){var R=function(w){if(!w)return{};var R=w.getAttribute("data-l10n-id"),D=w.getAttribute("data-l10n-args"),m={};if(D)try{m=JSON.parse(D)}catch(f){console.warn("could not parse arguments for #"+R)}return{id:R,args:m}}(w);if(R.id){var D=P(R.id,R.args);if(!D)return void console.warn("#"+R.id+" is undefined.");if(D[$]){if(0===function(w){if(w.children)return w.children.length;if(void 0!==w.childElementCount)return w.childElementCount;for(var R=0,D=0;D<w.childNodes.length;D++)R+=1===w.nodeType?1:0;return R}(w))w[$]=D[$];else{for(var m=w.childNodes,f=!1,_=0,v=m.length;_<v;_++)3===m[_].nodeType&&/\S/.test(m[_].nodeValue)&&(f?m[_].nodeValue="":(m[_].nodeValue=D[$],f=!0));if(!f){var o=L.createTextNode(D[$]);w.insertBefore(o,w.firstChild)}}delete D[$]}for(var b in D)w[b]=D[b]}}return H.plural=function(w,R,D,m){var f=parseFloat(R);if(isNaN(f)||m!=$)return w;H._pluralRules||(H._pluralRules=function(w){function D(v,o){return-1!==o.indexOf(v)}function m(v,o,b){return o<=v&&v<=b}var f={0:function(o){return"other"},1:function(o){return m(o%100,3,10)?"few":0===o?"zero":m(o%100,11,99)?"many":2==o?"two":1==o?"one":"other"},2:function(o){return 0!==o&&o%10==0?"many":2==o?"two":1==o?"one":"other"},3:function(o){return 1==o?"one":"other"},4:function(o){return m(o,0,1)?"one":"other"},5:function(o){return m(o,0,2)&&2!=o?"one":"other"},6:function(o){return 0===o?"zero":o%10==1&&o%100!=11?"one":"other"},7:function(o){return 2==o?"two":1==o?"one":"other"},8:function(o){return m(o,3,6)?"few":m(o,7,10)?"many":2==o?"two":1==o?"one":"other"},9:function(o){return 0===o||1!=o&&m(o%100,1,19)?"few":1==o?"one":"other"},10:function(o){return m(o%10,2,9)&&!m(o%100,11,19)?"few":o%10!=1||m(o%100,11,19)?"other":"one"},11:function(o){return m(o%10,2,4)&&!m(o%100,12,14)?"few":o%10==0||m(o%10,5,9)||m(o%100,11,14)?"many":o%10==1&&o%100!=11?"one":"other"},12:function(o){return m(o,2,4)?"few":1==o?"one":"other"},13:function(o){return m(o%10,2,4)&&!m(o%100,12,14)?"few":1!=o&&m(o%10,0,1)||m(o%10,5,9)||m(o%100,12,14)?"many":1==o?"one":"other"},14:function(o){return m(o%100,3,4)?"few":o%100==2?"two":o%100==1?"one":"other"},15:function(o){return 0===o||m(o%100,2,10)?"few":m(o%100,11,19)?"many":1==o?"one":"other"},16:function(o){return o%10==1&&11!=o?"one":"other"},17:function(o){return 3==o?"few":0===o?"zero":6==o?"many":2==o?"two":1==o?"one":"other"},18:function(o){return 0===o?"zero":m(o,0,2)&&0!==o&&2!=o?"one":"other"},19:function(o){return m(o,2,10)?"few":m(o,0,1)?"one":"other"},20:function(o){return!m(o%10,3,4)&&o%10!=9||m(o%100,10,19)||m(o%100,70,79)||m(o%100,90,99)?o%1e6==0&&0!==o?"many":o%10!=2||D(o%100,[12,72,92])?o%10!=1||D(o%100,[11,71,91])?"other":"one":"two":"few"},21:function(o){return 0===o?"zero":1==o?"one":"other"},22:function(o){return m(o,0,1)||m(o,11,99)?"one":"other"},23:function(o){return m(o%10,1,2)||o%20==0?"one":"other"},24:function(o){return m(o,3,10)||m(o,13,19)?"few":D(o,[2,12])?"two":D(o,[1,11])?"one":"other"}},_={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[w.replace(/-.*$/,"")];return _ in f?f[_]:(console.warn("plural form unknown for ["+w+"]"),function(){return"other"})}(Z));var _="["+H._pluralRules(f)+"]";return 0===f&&D+"[zero]"in W?w=W[D+"[zero]"][m]:1==f&&D+"[one]"in W?w=W[D+"[one]"][m]:2==f&&D+"[two]"in W?w=W[D+"[two]"][m]:D+_ in W?w=W[D+_][m]:D+"[other]"in W&&(w=W[D+"[other]"][m]),w},{get:function(R,D,m){var v,f=R.lastIndexOf("."),_=$;f>0&&(_=R.substring(f+1),R=R.substring(0,f)),m&&((v={})[_]=m);var o=P(R,D,v);return o&&_ in o?o[_]:"{{"+R+"}}"},getData:function(){return W},getText:function(){return z},getLanguage:function(){return Z},setLanguage:function(R,D){i(R,function(){D&&D()})},getDirection:function(){var D=Z.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(D)>=0?"rtl":"ltr"},translate:function(w){for(var R=function(w){return w?w.querySelectorAll("*[data-l10n-id]"):[]}(w=w||L.documentElement),D=R.length,m=0;m<D;m++)c(R[m]);c(w)},getReadyState:function(){return x},ready:function(R){R&&("complete"==x||"interactive"==x?G.setTimeout(function(){R()}):L.addEventListener&&L.addEventListener("localized",function D(){L.removeEventListener("localized",D),R()}))}}}(window,document)},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFFindController=L.FindState=void 0;var W=q(2),z=q(13),$=q(3);function H(w,R){for(var D=0;D<R.length;D++){var m=R[D];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(w,m.key,m)}}function j(w,R){return function(w){if(Array.isArray(w))return w}(w)||function(w,R){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(w)){var D=[],m=!0,f=!1,_=void 0;try{for(var o,v=w[Symbol.iterator]();!(m=(o=v.next()).done)&&(D.push(o.value),!R||D.length!==R);m=!0);}catch(b){f=!0,_=b}finally{try{!m&&null!=v.return&&v.return()}finally{if(f)throw _}}return D}}(w,R)||l(w,R)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(w,R){var D;if("undefined"==typeof Symbol||null==w[Symbol.iterator]){if(Array.isArray(w)||(D=l(w))||R&&w&&"number"==typeof w.length){D&&(w=D);var m=0,f=function(){};return{s:f,n:function(){return m>=w.length?{done:!0}:{done:!1,value:w[m++]}},e:function(A){throw A},f}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,_=!0,v=!1;return{s:function(){D=w[Symbol.iterator]()},n:function(){var A=D.next();return _=A.done,A},e:function(A){v=!0,o=A},f:function(){try{!_&&null!=D.return&&D.return()}finally{if(v)throw o}}}}function l(w,R){if(w){if("string"==typeof w)return y(w,R);var D=Object.prototype.toString.call(w).slice(8,-1);if("Object"===D&&w.constructor&&(D=w.constructor.name),"Map"===D||"Set"===D)return Array.from(w);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return y(w,R)}}function y(w,R){(null==R||R>w.length)&&(R=w.length);for(var D=0,m=new Array(R);D<R;D++)m[D]=w[D];return m}var i={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};L.FindState=i;var E={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},O=null;function c(w){if(!O){var R=Object.keys(E).join("");O=new RegExp("[".concat(R,"]"),"g")}var D=null;return[w.replace(O,function(f,_){var v=E[f],o=v.length-f.length;return 0!==o&&(D||(D=[])).push([_,o]),v}),D]}function p(w){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!R)return w;var f,D=0,m=C(R);try{for(m.s();!(f=m.n()).done;){var _=j(f.value,2),o=_[1],b=_[0]+D;if(b>=w)break;if(b+o>w){D+=w-b;break}D+=o}}catch(A){m.e(A)}finally{m.f()}return w-D}var B=function(){function w(R){var D=R.linkService,m=R.eventBus;(function(w,R){if(!(w instanceof R))throw new TypeError("Cannot call a class as a function")})(this,w),this._linkService=D,this._eventBus=m,this._reset(),m._on("findbarclose",this._onFindBarClose.bind(this))}return function(w,R,D){R&&H(w.prototype,R),D&&H(w,D)}(w,[{key:"setDocument",value:function(D){this._pdfDocument&&this._reset(),D&&(this._pdfDocument=D,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(D,m){var f=this;if(m){var _=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(D,m))&&(this._dirtyMatch=!0),this._state=m,"findhighlightallchange"!==D&&this._updateUIState(i.PENDING),this._firstPageCapability.promise.then(function(){if(f._pdfDocument&&(!_||f._pdfDocument===_)){f._extractText();var v=!f._highlightMatches,o=!!f._findTimeout;f._findTimeout&&(clearTimeout(f._findTimeout),f._findTimeout=null),"find"===D?f._findTimeout=setTimeout(function(){f._nextMatch(),f._findTimeout=null},250):f._dirtyMatch?f._nextMatch():"findagain"===D?(f._nextMatch(),v&&f._state.highlightAll&&f._updateAllPages()):"findhighlightallchange"===D?(o?f._nextMatch():f._highlightMatches=!0,f._updateAllPages()):f._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(D){var m=D.element,f=void 0===m?null:m,_=D.pageIndex,v=void 0===_?-1:_,o=D.matchIndex,b=void 0===o?-1:o;if(this._scrollMatches&&f){if(-1===b||b!==this._selected.matchIdx)return;if(-1===v||v!==this._selected.pageIdx)return;this._scrollMatches=!1,(0,$.scrollIntoView)(f,{top:-50,left:-400},!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,W.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(D,m){if(m.query!==this._state.query)return!0;switch(D){case"findagain":var f=this._selected.pageIdx+1,_=this._linkService;return f>=1&&f<=_.pagesCount&&f!==_.page&&!_.isPageVisible(f);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(D,m,f){function _(b){var A=D[b];if(b<D.length-1&&A.match===D[b+1].match)return A.skipped=!0,!0;for(var N=b-1;N>=0;N--){var I=D[N];if(!I.skipped){if(I.match+I.matchLength<A.match)break;if(I.match+I.matchLength>=A.match+A.matchLength)return A.skipped=!0,!0}}return!1}D.sort(function(b,A){return b.match===A.match?b.matchLength-A.matchLength:b.match-A.match});for(var v=0,o=D.length;v<o;v++)_(v)||(m.push(D[v].match),f.push(D[v].matchLength))}},{key:"_isEntireWord",value:function(D,m,f){if(m>0){var _=D.charCodeAt(m),v=D.charCodeAt(m-1);if((0,z.getCharacterType)(_)===(0,z.getCharacterType)(v))return!1}var o=m+f-1;if(o<D.length-1){var b=D.charCodeAt(o),A=D.charCodeAt(o+1);if((0,z.getCharacterType)(b)===(0,z.getCharacterType)(A))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(D,m,f,_,v){for(var o=[],b=[],A=D.length,k=-A;-1!==(k=f.indexOf(D,k+A));)if(!v||this._isEntireWord(f,k,A)){var N=p(k,_),V=p(k+A-1,_)-N+1;o.push(N),b.push(V)}this._pageMatches[m]=o,this._pageMatchesLength[m]=b}},{key:"_calculateWordMatch",value:function(D,m,f,_,v){for(var o=[],b=D.match(/\S+/g),A=0,k=b.length;A<k;A++)for(var N=b[A],I=N.length,V=-I;-1!==(V=f.indexOf(N,V+I));)if(!v||this._isEntireWord(f,V,I)){var Y=p(V,_),re=p(V+I-1,_)-Y+1;o.push({match:Y,matchLength:re,skipped:!1})}this._pageMatchesLength[m]=[],this._pageMatches[m]=[],this._prepareMatches(o,this._pageMatches[m],this._pageMatchesLength[m])}},{key:"_calculateMatch",value:function(D){var m=this._pageContents[D],f=this._pageDiffs[D],_=this._query,v=this._state,b=v.entireWord,A=v.phraseSearch;if(0!==_.length){v.caseSensitive||(m=m.toLowerCase(),_=_.toLowerCase()),A?this._calculatePhraseMatch(_,D,m,f,b):this._calculateWordMatch(_,D,m,f,b),this._state.highlightAll&&this._updatePage(D),this._resumePageIdx===D&&(this._resumePageIdx=null,this._nextPageMatch());var k=this._pageMatches[D].length;k>0&&(this._matchesCountTotal+=k,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var D=this;if(!(this._extractTextPromises.length>0))for(var m=Promise.resolve(),f=function(b,A){var k=(0,W.createPromiseCapability)();D._extractTextPromises[b]=k.promise,m=m.then(function(){return D._pdfDocument.getPage(b+1).then(function(N){return N.getTextContent({normalizeWhitespace:!0})}).then(function(N){for(var I=N.items,V=[],Y=0,J=I.length;Y<J;Y++)V.push(I[Y].str);var te=j(c(V.join("")),2);D._pageContents[b]=te[0],D._pageDiffs[b]=te[1],k.resolve(b)},function(N){console.error("Unable to get text content for page ".concat(b+1),N),D._pageContents[b]="",D._pageDiffs[b]=null,k.resolve(b)})})},_=0,v=this._linkService.pagesCount;_<v;_++)f(_)}},{key:"_updatePage",value:function(D){this._scrollMatches&&this._selected.pageIdx===D&&(this._linkService.page=D+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:D})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var D=this,m=this._state.findPrevious,f=this._linkService.page-1,_=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=f,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var v=0;v<_;v++)!0!==this._pendingFindMatches[v]&&(this._pendingFindMatches[v]=!0,this._extractTextPromises[v].then(function(A){delete D._pendingFindMatches[A],D._calculateMatch(A)}))}if(""!==this._query){if(!this._resumePageIdx){var o=this._offset;if(this._pagesToSearch=_,null!==o.matchIdx){if(!m&&o.matchIdx+1<this._pageMatches[o.pageIdx].length||m&&o.matchIdx>0)return o.matchIdx=m?o.matchIdx-1:o.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(m)}this._nextPageMatch()}}else this._updateUIState(i.FOUND)}},{key:"_matchesReady",value:function(D){var m=this._offset,f=D.length,_=this._state.findPrevious;return f?(m.matchIdx=_?f-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(_),!!(m.wrapped&&(m.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var D=null;do{var m=this._offset.pageIdx;if(!(D=this._pageMatches[m])){this._resumePageIdx=m;break}}while(!this._matchesReady(D))}},{key:"_advanceOffsetPage",value:function(D){var m=this._offset,f=this._linkService.pagesCount;m.pageIdx=D?m.pageIdx-1:m.pageIdx+1,m.matchIdx=null,this._pagesToSearch--,(m.pageIdx>=f||m.pageIdx<0)&&(m.pageIdx=D?f-1:0,m.wrapped=!0)}},{key:"_updateMatch",value:function(){var D=arguments.length>0&&void 0!==arguments[0]&&arguments[0],m=i.NOT_FOUND,f=this._offset.wrapped;if(this._offset.wrapped=!1,D){var _=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,m=f?i.WRAPPED:i.FOUND,-1!==_&&_!==this._selected.pageIdx&&this._updatePage(_)}this._updateUIState(m,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(D){var m=this,f=this._pdfDocument;this._firstPageCapability.promise.then(function(){!m._pdfDocument||f&&m._pdfDocument!==f||(m._findTimeout&&(clearTimeout(m._findTimeout),m._findTimeout=null),m._resumePageIdx&&(m._resumePageIdx=null,m._dirtyMatch=!0),m._updateUIState(i.FOUND),m._highlightMatches=!1,m._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var D=this._selected,m=D.pageIdx,f=D.matchIdx,_=0,v=this._matchesCountTotal;if(-1!==f){for(var o=0;o<m;o++)_+=this._pageMatches[o]&&this._pageMatches[o].length||0;_+=f+1}return(_<1||_>v)&&(_=v=0),{current:_,total:v}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(D,m){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:D,previous:m,matchesCount:this._requestMatchesCount(),rawQuery:this._state?this._state.query:null})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;var m=j(c(this._state.query),1);this._normalizedQuery=m[0]}return this._normalizedQuery}}]),w}();L.PDFFindController=B},(G,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.getCharacterType=function(l){return function(l){return l<11904}(l)?function(l){return 0==(65408&l)}(l)?function(l){return 32===l||9===l||13===l||10===l}(l)?q.SPACE:function(l){return l>=97&&l<=122||l>=65&&l<=90}(l)||function(l){return l>=48&&l<=57}(l)||95===l?q.ALPHA_LETTER:q.PUNCT:function(l){return 3584==(65408&l)}(l)?q.THAI_LETTER:160===l?q.SPACE:q.ALPHA_LETTER:function(l){return l>=13312&&l<=40959||l>=63744&&l<=64255}(l)?q.HAN_LETTER:function(l){return l>=12448&&l<=12543}(l)?q.KATAKANA_LETTER:function(l){return l>=12352&&l<=12447}(l)?q.HIRAGANA_LETTER:function(l){return l>=65376&&l<=65439}(l)?q.HALFWIDTH_KATAKANA_LETTER:q.ALPHA_LETTER},L.CharacterType=void 0;var q={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};L.CharacterType=q},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.isDestArraysEqual=E,L.isDestHashesEqual=P,L.PDFHistory=void 0;var W=q(3);function z(O){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(O)}function $(O,c){return function(O){if(Array.isArray(O))return O}(O)||function(O,c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(O)){var p=[],B=!0,w=!1,R=void 0;try{for(var m,D=O[Symbol.iterator]();!(B=(m=D.next()).done)&&(p.push(m.value),!c||p.length!==c);B=!0);}catch(f){w=!0,R=f}finally{try{!B&&null!=D.return&&D.return()}finally{if(w)throw R}}return p}}(O,c)||function(O,c){if(O){if("string"==typeof O)return x(O,c);var p=Object.prototype.toString.call(O).slice(8,-1);if("Object"===p&&O.constructor&&(p=O.constructor.name),"Map"===p||"Set"===p)return Array.from(O);if("Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return x(O,c)}}(O,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(O,c){(null==c||c>O.length)&&(c=O.length);for(var p=0,B=new Array(c);p<c;p++)B[p]=O[p];return B}function S(O,c){for(var p=0;p<c.length;p++){var B=c[p];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(O,B.key,B)}}function u(){return document.location.hash}var s=function(){function O(c){var p=this,B=c.linkService,w=c.eventBus;(function(O,c){if(!(O instanceof c))throw new TypeError("Cannot call a class as a function")})(this,O),this.linkService=B,this.eventBus=w,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(R){p._isViewerInPresentationMode=R.state!==W.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",function(){p._isPagesLoaded=!1,p.eventBus._on("pagesloaded",function(R){p._isPagesLoaded=!!R.pagesCount},{once:!0})})}return function(O,c,p){c&&S(O.prototype,c),p&&S(O,p)}(O,[{key:"initialize",value:function(p){var B=p.fingerprint,w=p.resetHistory,R=void 0!==w&&w,D=p.updateUrl,m=void 0!==D&&D;if(B&&"string"==typeof B){this._initialized&&this.reset();var f=""!==this._fingerprint&&this._fingerprint!==B;this._fingerprint=B,this._updateUrl=!0===m,this._initialized=!0,this._bindEvents();var _=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=u(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(_,!0)||R){var v=this._parseCurrentHash(!0),o=v.hash,b=v.page,A=v.rotation;return!o||f||R?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:o,page:b,rotation:A},!0)}var k=_.destination;this._updateInternalState(k,_.uid,!0),void 0!==k.rotation&&(this._initialRotation=k.rotation),k.dest?(this._initialBookmark=JSON.stringify(k.dest),this._destination.page=null):k.hash?this._initialBookmark=k.hash:k.page&&(this._initialBookmark="page=".concat(k.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(p){var B=this,w=p.namedDest,R=void 0===w?null:w,D=p.explicitDest,m=p.pageNumber;if(this._initialized){if(R&&"string"!=typeof R)return void console.error("PDFHistory.push: "+'"'.concat(R,'" is not a valid namedDest parameter.'));if(!Array.isArray(D))return void console.error("PDFHistory.push: "+'"'.concat(D,'" is not a valid explicitDest parameter.'));if(!(Number.isInteger(m)&&m>0&&m<=this.linkService.pagesCount)&&(null!==m||this._destination))return void console.error("PDFHistory.push: "+'"'.concat(m,'" is not a valid pageNumber parameter.'));var f=R||JSON.stringify(D);if(f){var _=!1;if(this._destination&&(P(this._destination.hash,f)||E(this._destination.dest,D))){if(this._destination.page)return;_=!0}this._popStateInProgress&&!_||(this._pushOrReplaceState({dest:D,hash:f,page:m,rotation:this.linkService.rotation},_),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){B._popStateInProgress=!1})))}}}},{key:"pushPage",value:function(p){var B,w=this;if(this._initialized){if(!(Number.isInteger(p)&&p>0&&p<=this.linkService.pagesCount))return void console.error('PDFHistory.pushPage: "'.concat(p,'" is not a valid page number.'));(null===(B=this._destination)||void 0===B?void 0:B.page)!==p&&(this._popStateInProgress||(this._pushOrReplaceState({hash:"page=".concat(p),page:p,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){w._popStateInProgress=!1}))))}}},{key:"pushCurrentPosition",value:function(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var p=window.history.state;this._isValidState(p)&&p.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var p=window.history.state;this._isValidState(p)&&p.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(p){var D,w=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this._destination,R={fingerprint:this._fingerprint,uid:w?this._uid:this._uid+1,destination:p};if(this._updateInternalState(p,R.uid),this._updateUrl&&null!=p&&p.hash){var m=document.location.href.split("#")[0];m.startsWith("file://")||(D="".concat(m,"#").concat(p.hash))}w?window.history.replaceState(R,"",D):window.history.pushState(R,"",D)}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var B=this._position;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&((B=Object.assign(Object.create(null),this._position)).temporary=!0),!this._destination)return void this._pushOrReplaceState(B);if(this._destination.temporary)return void this._pushOrReplaceState(B,!0);if(this._destination.hash!==B.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var w=!1;if(this._destination.page>=B.first&&this._destination.page<=B.page){if(this._destination.dest||!this._destination.first)return;w=!0}this._pushOrReplaceState(B,w)}}}},{key:"_isValidState",value:function(p){if(!p)return!1;if(p.fingerprint!==this._fingerprint){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return!1;if("string"!=typeof p.fingerprint||p.fingerprint.length!==this._fingerprint.length)return!1;var D=$(performance.getEntriesByType("navigation"),1)[0];if("reload"!==(null==D?void 0:D.type))return!1}return!(!Number.isInteger(p.uid)||p.uid<0||null===p.destination||"object"!==z(p.destination))}},{key:"_updateInternalState",value:function(p,B){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),w&&null!=p&&p.temporary&&delete p.temporary,this._destination=p,this._uid=B,this._maxUid=Math.max(this._maxUid,B),this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var p=arguments.length>0&&void 0!==arguments[0]&&arguments[0],B=unescape(u()).substring(1),w=(0,W.parseQueryString)(B),R=w.nameddest||"",D=0|w.page;return(!(Number.isInteger(D)&&D>0&&D<=this.linkService.pagesCount)||p&&R.length>0)&&(D=null),{hash:B,page:D,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(p){var B=this,w=p.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(w.pageNumber):w.pdfOpenParams.substring(1),page:this.linkService.page,first:w.pageNumber,rotation:w.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){B._popStateInProgress||B._tryPushCurrentPosition(!0),B._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(p){var B=this,w=p.state,R=u(),D=this._currentHash!==R;if(this._currentHash=R,w){if(this._isValidState(w)){this._popStateInProgress=!0,D&&(this._blockHashChange++,(0,W.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){B._blockHashChange--}));var o=w.destination;this._updateInternalState(o,w.uid,!0),(0,W.isValidRotation)(o.rotation)&&(this.linkService.rotation=o.rotation),o.dest?this.linkService.goToDestination(o.dest):o.hash?this.linkService.setHash(o.hash):o.page&&(this.linkService.page=o.page),Promise.resolve().then(function(){B._popStateInProgress=!1})}}else{this._uid++;var m=this._parseCurrentHash();this._pushOrReplaceState({hash:m.hash,page:m.page,rotation:m.rotation},!0)}}},{key:"_pageHide",value:function(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}}]),O}();function P(O,c){return"string"==typeof O&&"string"==typeof c&&(O===c||(0,W.parseQueryString)(O).nameddest===c)}function E(O,c){function p(R,D){if(z(R)!==z(D)||Array.isArray(R)||Array.isArray(D))return!1;if(null!==R&&"object"===z(R)&&null!==D){if(Object.keys(R).length!==Object.keys(D).length)return!1;for(var m in R)if(!p(R[m],D[m]))return!1;return!0}return R===D||Number.isNaN(R)&&Number.isNaN(D)}if(!Array.isArray(O)||!Array.isArray(c)||O.length!==c.length)return!1;for(var B=0,w=O.length;B<w;B++)if(!p(O[B],c[B]))return!1;return!0}L.PDFHistory=s},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFPageView=void 0;var i,W=(i=q(4))&&i.__esModule?i:{default:i},z=q(3),$=q(2),Z=q(16);function j(i,u,s,P,E,O,c){try{var p=i[O](c),B=p.value}catch(w){return void s(w)}p.done?u(B):Promise.resolve(B).then(P,E)}function e(i){return function(){var u=this,s=arguments;return new Promise(function(P,E){var O=i.apply(u,s);function c(B){j(O,P,E,c,p,"next",B)}function p(B){j(O,P,E,c,p,"throw",B)}c(void 0)})}}function S(i,u){for(var s=0;s<u.length;s++){var P=u[s];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(i,P.key,P)}}var l=q(9).viewerCompatibilityParams.maxCanvasPixels||16777216,y=function(){function i(u){!function(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")}(this,i);var s=u.container,P=u.defaultViewport;this.id=u.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=u.scale||z.DEFAULT_SCALE,this.viewport=P,this.pdfPageRotate=P.rotation,this._optionalContentConfigPromise=u.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(u.textLayerMode)?u.textLayerMode:z.TextLayerMode.ENABLE,this.imageResourcesPath=u.imageResourcesPath||"",this.renderInteractiveForms="boolean"!=typeof u.renderInteractiveForms||u.renderInteractiveForms,this.useOnlyCssZoom=u.useOnlyCssZoom||!1,this.maxCanvasPixels=u.maxCanvasPixels||l,this.eventBus=u.eventBus,this.renderingQueue=u.renderingQueue,this.textLayerFactory=u.textLayerFactory,this.annotationLayerFactory=u.annotationLayerFactory,this.renderer=u.renderer||z.RendererType.CANVAS,this.enableWebGL=u.enableWebGL||!1,this.l10n=u.l10n||z.NullL10n,this.enableScripting=u.enableScripting||!1,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=Z.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var E=document.createElement("div");E.className="page",E.style.width=Math.floor(this.viewport.width)+"px",E.style.height=Math.floor(this.viewport.height)+"px",E.setAttribute("data-page-number",this.id),this.div=E,s.appendChild(E)}return function(i,u,s){u&&S(i.prototype,u),s&&S(i,s)}(i,[{key:"setPdfPage",value:function(s){this.pdfPage=s,this.pdfPageRotate=s.rotate,this.viewport=s.getViewport({scale:this.scale*z.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(u=e(W.default.mark(function P(){var E;return W.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return E=null,c.prev=1,c.next=4,this.annotationLayer.render(this.viewport,"display");case 4:c.next=9;break;case 6:c.prev=6,c.t0=c.catch(1),E=c.t0;case 9:return c.prev=9,this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:E}),c.finish(9);case 12:case"end":return c.stop()}},P,this,[[1,6,9,12]])})),function(){return u.apply(this,arguments)})},{key:"_resetZoomLayer",value:function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var P=this.zoomLayer.firstChild;this.paintedViewportMap.delete(P),P.width=0,P.height=0,s&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],P=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(P),this.renderingState=Z.RenderingStates.INITIAL;var E=this.div;E.style.width=Math.floor(this.viewport.width)+"px",E.style.height=Math.floor(this.viewport.height)+"px";for(var O=E.childNodes,c=s&&this.zoomLayer||null,p=P&&this.annotationLayer&&this.annotationLayer.div||null,B=O.length-1;B>=0;B--){var w=O[B];c===w||p===w||E.removeChild(w)}E.removeAttribute("data-loaded"),p?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),c||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",E.appendChild(this.loadingIconDiv)}},{key:"update",value:function(s,P){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.scale=s||this.scale,void 0!==P&&(this.rotation=P),E instanceof Promise&&(this._optionalContentConfigPromise=E),this.viewport=this.viewport.clone({scale:this.scale*z.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});var c=!1;if(this.canvas&&this.maxCanvasPixels>0){var p=this.outputScale;(Math.floor(this.viewport.width)*p.sx|0)*(Math.floor(this.viewport.height)*p.sy|0)>this.maxCanvasPixels&&(c=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&c)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hasAttribute("hidden")&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!s&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(s){var P=arguments.length>1&&void 0!==arguments[1]&&arguments[1],E=this.viewport.width,O=this.viewport.height,c=this.div;s.style.width=s.parentNode.style.width=c.style.width=Math.floor(E)+"px",s.style.height=s.parentNode.style.height=c.style.height=Math.floor(O)+"px";var p=this.viewport.rotation-this.paintedViewportMap.get(s).rotation,B=Math.abs(p),w=1,R=1;if((90===B||270===B)&&(w=O/E,R=E/O),s.style.transform="rotate(".concat(p,"deg) scale(").concat(w,", ").concat(R,")"),this.textLayer){var D=this.textLayer.viewport,f=Math.abs(this.viewport.rotation-D.rotation),_=E/D.width;(90===f||270===f)&&(_=E/D.height);var o,b,v=this.textLayer.textLayerDiv;switch(f){case 0:o=b=0;break;case 90:o=0,b="-"+v.style.height;break;case 180:o="-"+v.style.width,b="-"+v.style.height;break;case 270:o="-"+v.style.width,b=0;break;default:console.error("Bad rotation value.")}v.style.transform="rotate(".concat(f,"deg) ")+"scale(".concat(_,") ")+"translate(".concat(o,", ").concat(b,")"),v.style.transformOrigin="0% 0%"}P&&this.annotationLayer&&this._renderAnnotationLayer()}},{key:"getPagePoint",value:function(s,P){return this.viewport.convertToPdfPoint(s,P)}},{key:"draw",value:function(){var s=this;this.renderingState!==Z.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var P=this.div,E=this.pdfPage;if(!E)return this.renderingState=Z.RenderingStates.FINISHED,this.loadingIconDiv&&(P.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=Z.RenderingStates.RUNNING;var O=document.createElement("div");O.style.width=P.style.width,O.style.height=P.style.height,O.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?P.insertBefore(O,this.annotationLayer.div):P.appendChild(O);var c=null;if(this.textLayerMode!==z.TextLayerMode.DISABLE&&this.textLayerFactory){var p=document.createElement("div");p.className="textLayer",p.style.width=O.style.width,p.style.height=O.style.height,this.annotationLayer&&this.annotationLayer.div?P.insertBefore(p,this.annotationLayer.div):P.appendChild(p),c=this.textLayerFactory.createTextLayerBuilder(p,this.id-1,this.viewport,this.textLayerMode===z.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=c;var B=null;this.renderingQueue&&(B=function(f){if(!s.renderingQueue.isHighestPriority(s))return s.renderingState=Z.RenderingStates.PAUSED,void(s.resume=function(){s.renderingState=Z.RenderingStates.RUNNING,f()});f()});var w=function(){var m=e(W.default.mark(function f(){var _,v=arguments;return W.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(_=v.length>0&&void 0!==v[0]?v[0]:null,R===s.paintTask&&(s.paintTask=null),!(_ instanceof $.RenderingCancelledException)){b.next=5;break}return s._renderError=null,b.abrupt("return");case 5:if(s._renderError=_,s.renderingState=Z.RenderingStates.FINISHED,s.loadingIconDiv&&(P.removeChild(s.loadingIconDiv),delete s.loadingIconDiv),s._resetZoomLayer(!0),s.eventBus.dispatch("pagerendered",{source:s,pageNumber:s.id,cssTransform:!1,timestamp:performance.now(),error:s._renderError}),!_){b.next=12;break}throw _;case 12:case"end":return b.stop()}},f)}));return function(){return m.apply(this,arguments)}}(),R=this.renderer===z.RendererType.SVG?this.paintOnSvg(O):this.paintOnCanvas(O);R.onRenderContinue=B,this.paintTask=R;var D=R.promise.then(function(){return w(null).then(function(){if(c){var m=E.streamTextContent({normalizeWhitespace:!0});c.setTextContentStream(m),c.render()}})},function(m){return w(m)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(P,E,null,this.imageResourcesPath,this.renderInteractiveForms,this.l10n,this.enableScripting,null,null)),this._renderAnnotationLayer()),P.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),D}},{key:"paintOnCanvas",value:function(s){var P=(0,$.createPromiseCapability)(),E={promise:P.promise,onRenderContinue:function(N){N()},cancel:function(){A.cancel()}},O=this.viewport,c=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then(function(k){c.setAttribute("aria-label",k)}),c.setAttribute("hidden","hidden");var p=!0,B=function(){p&&(c.removeAttribute("hidden"),p=!1)};s.appendChild(c),this.canvas=c,c.mozOpaque=!0;var w=c.getContext("2d",{alpha:!1}),R=(0,z.getOutputScale)(w);if(this.outputScale=R,this.useOnlyCssZoom){var D=O.clone({scale:z.CSS_UNITS});R.sx*=D.width/O.width,R.sy*=D.height/O.height,R.scaled=!0}if(this.maxCanvasPixels>0){var f=Math.sqrt(this.maxCanvasPixels/(O.width*O.height));R.sx>f||R.sy>f?(R.sx=f,R.sy=f,R.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var _=(0,z.approximateFraction)(R.sx),v=(0,z.approximateFraction)(R.sy);c.width=(0,z.roundToDivide)(O.width*R.sx,_[0]),c.height=(0,z.roundToDivide)(O.height*R.sy,v[0]),c.style.width=(0,z.roundToDivide)(O.width,_[1])+"px",c.style.height=(0,z.roundToDivide)(O.height,v[1])+"px",this.paintedViewportMap.set(c,O);var A=this.pdfPage.render({canvasContext:w,transform:R.scaled?[R.sx,0,0,R.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms,optionalContentConfigPromise:this._optionalContentConfigPromise});return A.onContinue=function(k){B(),E.onRenderContinue?E.onRenderContinue(k):k()},A.promise.then(function(){B(),P.resolve(void 0)},function(k){B(),P.reject(k)}),E}},{key:"paintOnSvg",value:function(s){var P=this,E=!1,O=function(){if(E)throw new $.RenderingCancelledException("Rendering cancelled, page ".concat(P.id),"svg")},c=this.pdfPage,p=this.viewport.clone({scale:z.CSS_UNITS});return{promise:c.getOperatorList().then(function(w){return O(),new $.SVGGraphics(c.commonObjs,c.objs).getSVG(w,p).then(function(D){O(),P.svg=D,P.paintedViewportMap.set(D,p),D.style.width=s.style.width,D.style.height=s.style.height,P.renderingState=Z.RenderingStates.FINISHED,s.appendChild(D)})}),onRenderContinue:function(R){R()},cancel:function(){E=!0}}}},{key:"setPageLabel",value:function(s){this.pageLabel="string"==typeof s?s:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]),i;var u}();L.PDFPageView=y},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.RenderingStates=L.PDFRenderingQueue=void 0;var W=q(2);function $(e,F){for(var S=0;S<F.length;S++){var C=F[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(e,C.key,C)}}var x={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};L.RenderingStates=x,L.PDFRenderingQueue=function(){function e(){(function(e,F){if(!(e instanceof F))throw new TypeError("Cannot call a class as a function")})(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return function(e,F,S){F&&$(e.prototype,F),S&&$(e,S)}(e,[{key:"setViewer",value:function(S){this.pdfViewer=S}},{key:"setThumbnailViewer",value:function(S){this.pdfThumbnailViewer=S}},{key:"isHighestPriority",value:function(S){return this.highestPriorityPage===S.renderingId}},{key:"renderHighestPriority",value:function(S){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(S)&&(this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}},{key:"getHighestPriority",value:function(S,C,l){var y=S.views,i=y.length;if(0===i)return null;for(var u=0;u<i;++u){var s=y[u].view;if(!this.isViewFinished(s))return s}if(l){var P=S.last.id;if(C[P]&&!this.isViewFinished(C[P]))return C[P]}else{var E=S.first.id-2;if(C[E]&&!this.isViewFinished(C[E]))return C[E]}return null}},{key:"isViewFinished",value:function(S){return S.renderingState===x.FINISHED}},{key:"renderView",value:function(S){var C=this;switch(S.renderingState){case x.FINISHED:return!1;case x.PAUSED:this.highestPriorityPage=S.renderingId,S.resume();break;case x.RUNNING:this.highestPriorityPage=S.renderingId;break;case x.INITIAL:this.highestPriorityPage=S.renderingId,S.draw().finally(function(){C.renderHighestPriority()}).catch(function(l){l instanceof W.RenderingCancelledException||console.error('renderView: "'.concat(l,'"'))})}return!0}}]),e}()},(G,L,q)=>{function W(P){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(P)}Object.defineProperty(L,"__esModule",{value:!0}),L.PDFSinglePageViewer=void 0;var z=q(18),$=q(2);function H(P,E){for(var O=0;O<E.length;O++){var c=E[O];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(P,c.key,c)}}function j(P,E,O){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(p,B,w){var R=function(P,E){for(;!Object.prototype.hasOwnProperty.call(P,E)&&null!==(P=u(P)););return P}(p,B);if(R){var D=Object.getOwnPropertyDescriptor(R,B);return D.get?D.get.call(w):D.value}})(P,E,O||P)}function F(P,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(E&&E.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),E&&S(P,E)}function S(P,E){return(S=Object.setPrototypeOf||function(c,p){return c.__proto__=p,c})(P,E)}function C(P){var E=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(P){return!1}}();return function(){var p,c=u(P);if(E){var B=u(this).constructor;p=Reflect.construct(c,arguments,B)}else p=c.apply(this,arguments);return l(this,p)}}function l(P,E){return!E||"object"!==W(E)&&"function"!=typeof E?function(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P):E}function u(P){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}L.PDFSinglePageViewer=function(P){F(O,P);var E=C(O);function O(c){var p;return function(P,E){if(!(P instanceof E))throw new TypeError("Cannot call a class as a function")}(this,O),(p=E.call(this,c)).eventBus._on("pagesinit",function(B){p._ensurePageViewVisible()}),p}return function(P,E,O){E&&H(P.prototype,E),O&&H(P,O)}(O,[{key:"_resetView",value:function(){j(u(O.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var p=this._pages[this._currentPageNumber-1],B=this._pages[this._previousPageNumber-1],w=this.viewer.childNodes;switch(w.length){case 0:this.viewer.appendChild(p.div);break;case 1:if(w[0]!==B.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(p===B)break;this._shadowViewer.appendChild(B.div),this.viewer.appendChild(p.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),j(u(O.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(p){var B=this,w=p.pageDiv,R=p.pageSpot,D=void 0===R?null:R,m=p.pageNumber,f=void 0===m?null:m;f&&this._setCurrentPageNumber(f);var _=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),j(u(O.prototype),"_scrollIntoView",this).call(this,{pageDiv:w,pageSpot:D,pageNumber:f}),this._updateScrollDown=function(){B.scroll.down=_,B._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(p){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_getPageAdvance",value:function(){return 1}},{key:"_viewerElement",get:function(){return(0,$.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_pageWidthScaleFactor",get:function(){return 1}},{key:"_isScrollModeHorizontal",get:function(){return(0,$.shadow)(this,"_isScrollModeHorizontal",!1)}}]),O}(z.BaseViewer)},(G,L,q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.BaseViewer=void 0;var W=q(2),z=q(3),$=q(16),Z=q(1),H=q(15),x=q(6),j=q(7);function e(E,O){var c;if("undefined"==typeof Symbol||null==E[Symbol.iterator]){if(Array.isArray(E)||(c=function(E,O){if(E){if("string"==typeof E)return S(E,O);var c=Object.prototype.toString.call(E).slice(8,-1);if("Object"===c&&E.constructor&&(c=E.constructor.name),"Map"===c||"Set"===c)return Array.from(E);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return S(E,O)}}(E))||O&&E&&"number"==typeof E.length){c&&(E=c);var p=0,B=function(){};return{s:B,n:function(){return p>=E.length?{done:!0}:{done:!1,value:E[p++]}},e:function(f){throw f},f:B}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var D,w=!0,R=!1;return{s:function(){c=E[Symbol.iterator]()},n:function(){var f=c.next();return w=f.done,f},e:function(f){R=!0,D=f},f:function(){try{!w&&null!=c.return&&c.return()}finally{if(R)throw D}}}}function S(E,O){(null==O||O>E.length)&&(O=E.length);for(var c=0,p=new Array(O);c<O;c++)p[c]=E[c];return p}function l(E,O){for(var c=0;c<O.length;c++){var p=O[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(E,p.key,p)}}function u(E){var O=[];this.push=function(c){var p=O.indexOf(c);p>=0&&O.splice(p,1),O.push(c),O.length>E&&O.shift().destroy()},this.resize=function(c,p){if(E=c,p){for(var B=new Set,w=0,R=p.length;w<R;++w)B.add(p[w].id);(0,z.moveToEndOfArray)(O,function(D){return B.has(D.id)})}for(;O.length>E;)O.shift().destroy()},this.has=function(c){return O.includes(c)}}function s(E,O){return O===E||Math.abs(O-E)<1e-15}var P=function(){function E(O){var c,p,B=this;if(function(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}(this,E),this.constructor===E)throw new Error("Cannot initialize BaseViewer.");var w="2.7.570";if(W.version!==w)throw new Error('The API version "'.concat(W.version,'" does not match the Viewer version "').concat(w,'".'));if(this._name=this.constructor.name,this.container=O.container,this.viewer=O.viewer||O.container.firstElementChild,"DIV"!==(null===(c=this.container)||void 0===c?void 0:c.tagName.toUpperCase())||"DIV"!==(null===(p=this.viewer)||void 0===p?void 0:p.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if("absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=O.eventBus,this.linkService=O.linkService||new x.SimpleLinkService,this.downloadManager=O.downloadManager||null,this.findController=O.findController||null,this.removePageBorders=O.removePageBorders||!1,this.textLayerMode=Number.isInteger(O.textLayerMode)?O.textLayerMode:z.TextLayerMode.ENABLE,this.imageResourcesPath=O.imageResourcesPath||"",this.renderInteractiveForms="boolean"!=typeof O.renderInteractiveForms||O.renderInteractiveForms,this.enablePrintAutoRotate=O.enablePrintAutoRotate||!1,this.renderer=O.renderer||z.RendererType.CANVAS,this.enableWebGL=O.enableWebGL||!1,this.useOnlyCssZoom=O.useOnlyCssZoom||!1,this.maxCanvasPixels=O.maxCanvasPixels,this.l10n=O.l10n||z.NullL10n,this.enableScripting=O.enableScripting||!1,this._mouseState=O.mouseState||null,this.defaultRenderingQueue=!O.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new $.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=O.renderingQueue,this.scroll=(0,z.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=z.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){B.eventBus.dispatch("baseviewerinit",{source:B})})}return function(E,O,c){O&&l(E.prototype,O),c&&l(E,c)}(E,[{key:"getPageView",value:function(c){return this._pages[c]}},{key:"_setCurrentPageNumber",value:function(c){var p=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===c)return p&&this._resetCurrentPageView(),!0;if(!(0<c&&c<=this.pagesCount))return!1;var B=this._currentPageNumber;return this._currentPageNumber=c,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:c,pageLabel:this._pageLabels&&this._pageLabels[c-1],previous:B}),p&&this._resetCurrentPageView(),!0}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(c){var p=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=c,c){var B=c.numPages,w=c.getPage(1),R=c.getOptionalContentConfig();this._pagesCapability.promise.then(function(){p.eventBus.dispatch("pagesloaded",{source:p,pagesCount:B})}),this._onBeforeDraw=function(D){var m=p._pages[D.pageNumber-1];!m||p._buffer.push(m)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(D){D.cssTransform||p._onePageRenderedCapability.settled||(p._onePageRenderedCapability.resolve(),p.eventBus._off("pagerendered",p._onAfterDraw),p._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),w.then(function(D){p._firstPageCapability.resolve(D),p._optionalContentConfigPromise=R;for(var m=p.currentScale,f=D.getViewport({scale:m*z.CSS_UNITS}),_=p.textLayerMode!==z.TextLayerMode.DISABLE?p:null,v=1;v<=B;++v){var o=new H.PDFPageView({container:p._viewerElement,eventBus:p.eventBus,id:v,scale:m,defaultViewport:f.clone(),optionalContentConfigPromise:R,renderingQueue:p.renderingQueue,textLayerFactory:_,textLayerMode:p.textLayerMode,annotationLayerFactory:p,imageResourcesPath:p.imageResourcesPath,renderInteractiveForms:p.renderInteractiveForms,renderer:p.renderer,enableWebGL:p.enableWebGL,useOnlyCssZoom:p.useOnlyCssZoom,maxCanvasPixels:p.maxCanvasPixels,l10n:p.l10n,enableScripting:p.enableScripting});p._pages.push(o)}var b=p._pages[0];b&&(b.setPdfPage(D),p.linkService.cachePageRef(1,D.ref)),p._spreadMode!==z.SpreadMode.NONE&&p._updateSpreadMode(),p._onePageRenderedOrForceFetch().then(function(){if(p.findController&&p.findController.setDocument(c),c.loadingParams.disableAutoFetch||B>7500)p._pagesCapability.resolve();else{var A=B-1;if(A<=0)p._pagesCapability.resolve();else for(var k=function(V){c.getPage(V).then(function(Y){var J=p._pages[V-1];J.pdfPage||J.setPdfPage(Y),p.linkService.cachePageRef(V,Y.ref),0==--A&&p._pagesCapability.resolve()},function(Y){console.error("Unable to get page ".concat(V," to initialize viewer"),Y),0==--A&&p._pagesCapability.resolve()})},N=2;N<=B;++N)k(N)}}),p.eventBus.dispatch("pagesinit",{source:p}),p.defaultRenderingQueue&&p.update()}).catch(function(D){console.error("Unable to initialize viewer",D)})}}},{key:"setPageLabels",value:function(c){if(this.pdfDocument){c?Array.isArray(c)&&this.pdfDocument.numPages===c.length?this._pageLabels=c:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var p=0,B=this._pages.length;p<B;p++)this._pages[p].setPageLabel(this._pageLabels&&this._pageLabels[p])}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=z.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new u(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,W.createPromiseCapability)(),this._onePageRenderedCapability=(0,W.createPromiseCapability)(),this._pagesCapability=(0,W.createPromiseCapability)(),this._scrollMode=z.ScrollMode.VERTICAL,this._spreadMode=z.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this._resetScriptingEvents(),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(c){var B=c.pageSpot;(0,z.scrollIntoView)(c.pageDiv,void 0===B?null:B)}},{key:"_setScaleUpdatePages",value:function(c,p){var B=arguments.length>2&&void 0!==arguments[2]&&arguments[2],w=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=p.toString(),s(this._currentScale,c))w&&this.eventBus.dispatch("scalechanging",{source:this,scale:c,presetValue:p});else{for(var R=0,D=this._pages.length;R<D;R++)this._pages[R].update(c);if(this._currentScale=c,!B){var f,m=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(m=this._location.pageNumber,f=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:m,destArray:f,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:c,presetValue:w?p:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(c){var p=arguments.length>1&&void 0!==arguments[1]&&arguments[1],B=parseFloat(c);if(B>0)this._setScaleUpdatePages(B,c,p,!1);else{var w=this._pages[this._currentPageNumber-1];if(!w)return;var R=this.isInPresentationMode||this.removePageBorders,D=R?0:z.SCROLLBAR_PADDING,m=R?0:z.VERTICAL_PADDING;if(!R&&this._isScrollModeHorizontal){var f=[m,D];D=f[0],m=f[1]}var _=(this.container.clientWidth-D)/w.width*w.scale/this._pageWidthScaleFactor,v=(this.container.clientHeight-m)/w.height*w.scale;switch(c){case"page-actual":B=1;break;case"page-width":B=_;break;case"page-height":B=v;break;case"page-fit":B=Math.min(_,v);break;case"auto":var o=(0,z.isPortraitOrientation)(w)?_:Math.min(v,_);B=Math.min(z.MAX_AUTO_SCALE,o);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(c,'" is an unknown zoom value.'))}this._setScaleUpdatePages(B,c,p,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"pageLabelToPageNumber",value:function(c){if(!this._pageLabels)return null;var p=this._pageLabels.indexOf(c);return p<0?null:p+1}},{key:"scrollPageIntoView",value:function(c){var p=c.pageNumber,B=c.destArray,w=void 0===B?null:B,R=c.allowNegativeOffset,D=void 0!==R&&R,m=c.ignoreDestinationZoom,f=void 0!==m&&m;if(this.pdfDocument){var _=Number.isInteger(p)&&this._pages[p-1];if(!_)return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(p,'" is not a valid pageNumber parameter.'));if(this.isInPresentationMode||!w)return void this._setCurrentPageNumber(p,!0);var N,v=0,o=0,b=0,A=0,I=_.rotation%180!=0,V=(I?_.height:_.width)/_.scale/z.CSS_UNITS,Y=(I?_.width:_.height)/_.scale/z.CSS_UNITS,J=0;switch(w[1].name){case"XYZ":J=w[4],v=null!==(v=w[2])?v:0,o=null!==(o=w[3])?o:Y;break;case"Fit":case"FitB":J="page-fit";break;case"FitH":case"FitBH":J="page-width",null===(o=w[2])&&this._location?(v=this._location.left,o=this._location.top):"number"!=typeof o&&(o=Y);break;case"FitV":case"FitBV":v=w[2],b=V,A=Y,J="page-height";break;case"FitR":b=w[4]-(v=w[2]),N=(this.container.clientHeight-(this.removePageBorders?0:z.VERTICAL_PADDING))/(A=w[5]-(o=w[3]))/z.CSS_UNITS,J=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:z.SCROLLBAR_PADDING))/b/z.CSS_UNITS),Math.abs(N));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(w[1].name,'" is not a valid destination type.'))}if(f||(J&&J!==this._currentScale?this.currentScaleValue=J:this._currentScale===z.UNKNOWN_SCALE&&(this.currentScaleValue=z.DEFAULT_SCALE_VALUE)),"page-fit"===J&&!w[4])return void this._scrollIntoView({pageDiv:_.div,pageNumber:p});var ae=[_.viewport.convertToViewportPoint(v,o),_.viewport.convertToViewportPoint(v+b,o+A)],ne=Math.min(ae[0][0],ae[1][0]),he=Math.min(ae[0][1],ae[1][1]);D||(ne=Math.max(ne,0),he=Math.max(he,0)),this._scrollIntoView({pageDiv:_.div,pageSpot:{left:ne,top:he},pageNumber:p})}}},{key:"_updateLocation",value:function(c){var p=this._currentScale,B=this._currentScaleValue,w=parseFloat(B)===p?Math.round(1e4*p)/100:B,R=c.id,D="#page="+R;D+="&zoom="+w;var f=this.container,_=this._pages[R-1].getPagePoint(f.scrollLeft-c.x,f.scrollTop-c.y),v=Math.round(_[0]),o=Math.round(_[1]);this._location={pageNumber:R,scale:w,top:o,left:v,rotation:this._pagesRotation,pdfOpenParams:D+=","+v+","+o}}},{key:"_updateHelper",value:function(c){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var c=this._getVisiblePages(),p=c.views,B=p.length;if(0!==B){var w=Math.max(10,2*B+1);this._buffer.resize(w,p),this.renderingQueue.renderHighestPriority(c),this._updateHelper(p),this._updateLocation(c.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(c){return this.container.contains(c)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var c=this._pages[this._currentPageNumber-1],p=c.div,B={id:c.id,x:p.offsetLeft+p.clientLeft,y:p.offsetTop+p.clientTop,view:c};return{first:B,last:B,views:[B]}}},{key:"_getVisiblePages",value:function(){return(0,z.getVisibleElements)({scrollEl:this.container,views:this._pages,sortByVisibility:!0,horizontal:this._isScrollModeHorizontal,rtl:this._isScrollModeHorizontal&&this._isContainerRtl})}},{key:"isPageVisible",value:function(c){return!!this.pdfDocument&&(Number.isInteger(c)&&c>0&&c<=this.pagesCount?this._getVisiblePages().views.some(function(p){return p.id===c}):(console.error("".concat(this._name,'.isPageVisible: "').concat(c,'" is not a valid page.')),!1))}},{key:"isPageCached",value:function(c){if(!this.pdfDocument||!this._buffer)return!1;if(!(Number.isInteger(c)&&c>0&&c<=this.pagesCount))return console.error("".concat(this._name,'.isPageCached: "').concat(c,'" is not a valid page.')),!1;var p=this._pages[c-1];return!!p&&this._buffer.has(p)}},{key:"cleanup",value:function(){for(var c=0,p=this._pages.length;c<p;c++)this._pages[c]&&this._pages[c].renderingState!==$.RenderingStates.FINISHED&&this._pages[c].reset()}},{key:"_cancelRendering",value:function(){for(var c=0,p=this._pages.length;c<p;c++)this._pages[c]&&this._pages[c].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(c){var p=this;if(c.pdfPage)return Promise.resolve(c.pdfPage);if(this._pagesRequests.has(c))return this._pagesRequests.get(c);var B=this.pdfDocument.getPage(c.id).then(function(w){return c.pdfPage||c.setPdfPage(w),p._pagesRequests.delete(c),w}).catch(function(w){console.error("Unable to get page for page view",w),p._pagesRequests.delete(c)});return this._pagesRequests.set(c,B),B}},{key:"forceRendering",value:function(c){var p=this,B=c||this._getVisiblePages(),R=this.renderingQueue.getHighestPriority(B,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!R&&(this._ensurePdfPageLoaded(R).then(function(){p.renderingQueue.renderView(R)}),!0)}},{key:"createTextLayerBuilder",value:function(c,p,B){return new j.TextLayerBuilder({textLayerDiv:c,eventBus:arguments.length>4?arguments[4]:void 0,pageIndex:p,viewport:B,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&arguments.length>3&&void 0!==arguments[3]&&arguments[3]})}},{key:"createAnnotationLayerBuilder",value:function(c,p){var B,w,o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;return new Z.AnnotationLayerBuilder({pageDiv:c,pdfPage:p,annotationStorage:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||(null===(B=this.pdfDocument)||void 0===B?void 0:B.annotationStorage),imageResourcesPath:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",renderInteractiveForms:arguments.length>4&&void 0!==arguments[4]&&arguments[4],linkService:this.linkService,downloadManager:this.downloadManager,l10n:arguments.length>5&&void 0!==arguments[5]?arguments[5]:z.NullL10n,enableScripting:arguments.length>6&&void 0!==arguments[6]&&arguments[6],hasJSActionsPromise:(arguments.length>7&&void 0!==arguments[7]?arguments[7]:null)||(null===(w=this.pdfDocument)||void 0===w?void 0:w.hasJSActions()),mouseState:o||this._mouseState})}},{key:"getPagesOverview",value:function(){var c=this._pages.map(function(p){var B=p.pdfPage.getViewport({scale:1});return{width:B.width,height:B.height,rotation:B.rotation}});return this.enablePrintAutoRotate?c.map(function(p){return(0,z.isPortraitOrientation)(p)?p:{width:p.height,height:p.width,rotation:(p.rotation+90)%360}}):c}},{key:"_updateScrollMode",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,p=this._scrollMode,B=this.viewer;B.classList.toggle("scrollHorizontal",p===z.ScrollMode.HORIZONTAL),B.classList.toggle("scrollWrapped",p===z.ScrollMode.WRAPPED),this.pdfDocument&&c&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(c,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var p=this.viewer,B=this._pages;if(p.textContent="",this._spreadMode===z.SpreadMode.NONE)for(var w=0,R=B.length;w<R;++w)p.appendChild(B[w].div);else for(var D=this._spreadMode-1,m=null,f=0,_=B.length;f<_;++f)null===m?((m=document.createElement("div")).className="spread",p.appendChild(m)):f%2===D&&(m=m.cloneNode(!1),p.appendChild(m)),m.appendChild(B[f].div);!c||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(c,!0),this.update())}}},{key:"_getPageAdvance",value:function(c){var p=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isInPresentationMode)return 1;switch(this._scrollMode){case z.ScrollMode.WRAPPED:var m,w=this._getVisiblePages().views,R=new Map,D=e(w);try{for(D.s();!(m=D.n()).done;){var f=m.value,_=f.id,v=f.y;if(!(0===f.percent||f.widthPercent<100)){var A=R.get(v);A||R.set(v,A||(A=[])),A.push(_)}}}catch(Ce){D.e(Ce)}finally{D.f()}var N,k=e(R.values());try{for(k.s();!(N=k.n()).done;){var I=N.value,V=I.indexOf(c);if(-1!==V){var Y=I.length;if(1===Y)break;if(p)for(var J=V-1,re=0;J>=re;J--){var ae=I[J+1]-1;if(I[J]<ae)return c-ae}else for(var ne=V+1,he=Y;ne<he;ne++){var Se=I[ne-1]+1;if(I[ne]>Se)return Se-c}if(p){var se=I[0];if(se<c)return c-se+1}else{var fe=I[Y-1];if(fe>c)return fe-c+1}break}}}catch(Ce){k.e(Ce)}finally{k.f()}break;case z.ScrollMode.HORIZONTAL:break;case z.ScrollMode.VERTICAL:if(this._spreadMode===z.SpreadMode.NONE)break;var K=this._spreadMode-1;if(p&&c%2!==K)break;if(!p&&c%2===K)break;var we,Ee=p?c-1:c+1,ye=e(this._getVisiblePages().views);try{for(ye.s();!(we=ye.n()).done;){var Oe=we.value;if(Oe.id===Ee){if(Oe.percent>0&&100===Oe.widthPercent)return 2;break}}}catch(Ce){ye.e(Ce)}finally{ye.f()}}return 1}},{key:"nextPage",value:function(){var c=this._currentPageNumber,p=this.pagesCount;if(c>=p)return!1;var B=this._getPageAdvance(c,!1)||1;return this.currentPageNumber=Math.min(c+B,p),!0}},{key:"previousPage",value:function(){var c=this._currentPageNumber;if(c<=1)return!1;var p=this._getPageAdvance(c,!0)||1;return this.currentPageNumber=Math.max(c-p,1),!0}},{key:"initializeScriptingEvents",value:function(){var c=this;if(this.enableScripting&&!this._pageOpenPendingSet){var p=this.eventBus,B=this._pageOpenPendingSet=new Set,w=this._scriptingEvents||(this._scriptingEvents=Object.create(null)),R=function(f){B.has(f)||p.dispatch("pageclose",{source:c,pageNumber:f})},D=function(f){var v,_=c._pages[f-1];(null==_?void 0:_.renderingState)===$.RenderingStates.FINISHED?(B.delete(f),p.dispatch("pageopen",{source:c,pageNumber:f,actionsPromise:null===(v=_.pdfPage)||void 0===v?void 0:v.getJSActions()})):B.add(f)};w.onPageChanging=function(m){var f=m.pageNumber,_=m.previous;f!==_&&(R(_),D(f))},p._on("pagechanging",w.onPageChanging),w.onPageRendered=function(m){var f=m.pageNumber;!B.has(f)||f===c._currentPageNumber&&D(f)},p._on("pagerendered",w.onPageRendered),w.onPagesDestroy=function(){R(c._currentPageNumber)},p._on("pagesdestroy",w.onPagesDestroy),D(this._currentPageNumber)}}},{key:"_resetScriptingEvents",value:function(){if(this.enableScripting&&this._pageOpenPendingSet){var c=this.eventBus,p=this._scriptingEvents;c._off("pagechanging",p.onPageChanging),p.onPageChanging=null,c._off("pagerendered",p.onPageRendered),p.onPageRendered=null,c._off("pagesdestroy",p.onPagesDestroy),p.onPagesDestroy=null,this._pageOpenPendingSet=null}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(c){return c&&c.pdfPage})}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(c){if(!Number.isInteger(c))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(c,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(c,'" is not a valid page.'))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(c){if(this.pdfDocument){var p=0|c;if(this._pageLabels){var B=this._pageLabels.indexOf(c);B>=0&&(p=B+1)}this._setCurrentPageNumber(p,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(c,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==z.UNKNOWN_SCALE?this._currentScale:z.DEFAULT_SCALE},set:function(c){if(isNaN(c))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(c,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(c){!this.pdfDocument||this._setScale(c,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(c){if(!(0,z.isValidRotation)(c))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==c){this._pagesRotation=c;for(var p=this._currentPageNumber,B=0,w=this._pages.length;B<w;B++){var R=this._pages[B];R.update(R.scale,c)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:c,pageNumber:p}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_pageWidthScaleFactor",get:function(){return this.spreadMode===z.SpreadMode.NONE||this.scrollMode===z.ScrollMode.HORIZONTAL||this.isInPresentationMode?1:2}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===z.ScrollMode.HORIZONTAL}},{key:"_isContainerRtl",get:function(){return"rtl"===getComputedStyle(this.container).direction}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===z.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===z.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var c=this._pages[0],p=1,B=this._pages.length;p<B;++p){var w=this._pages[p];if(w.width!==c.width||w.height!==c.height)return!1}return!0}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function(c){if(!(c instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(c));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=c;var B,p=e(this._pages);try{for(p.s();!(B=p.n()).done;){var w=B.value;w.update(w.scale,w.rotation,c)}}catch(R){p.e(R)}finally{p.f()}this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:c})}}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(c){if(this._scrollMode!==c){if(!(0,z.isValidScrollMode)(c))throw new Error("Invalid scroll mode: ".concat(c));this._scrollMode=c,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:c}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(c){if(this._spreadMode!==c){if(!(0,z.isValidSpreadMode)(c))throw new Error("Invalid spread mode: ".concat(c));this._spreadMode=c,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:c}),this._updateSpreadMode(this._currentPageNumber)}}}]),E}();L.BaseViewer=P},(G,L,q)=>{function W(p){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(p)}Object.defineProperty(L,"__esModule",{value:!0}),L.PDFViewer=void 0;var z=q(3),$=q(18),Z=q(2);function H(p,B){var w;if("undefined"==typeof Symbol||null==p[Symbol.iterator]){if(Array.isArray(p)||(w=function(p,B){if(p){if("string"==typeof p)return j(p,B);var w=Object.prototype.toString.call(p).slice(8,-1);if("Object"===w&&p.constructor&&(w=p.constructor.name),"Map"===w||"Set"===w)return Array.from(p);if("Arguments"===w||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return j(p,B)}}(p))||B&&p&&"number"==typeof p.length){w&&(p=w);var R=0,D=function(){};return{s:D,n:function(){return R>=p.length?{done:!0}:{done:!1,value:p[R++]}},e:function(o){throw o},f:D}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,m=!0,f=!1;return{s:function(){w=p[Symbol.iterator]()},n:function(){var o=w.next();return m=o.done,o},e:function(o){f=!0,_=o},f:function(){try{!m&&null!=w.return&&w.return()}finally{if(f)throw _}}}}function j(p,B){(null==B||B>p.length)&&(B=p.length);for(var w=0,R=new Array(B);w<B;w++)R[w]=p[w];return R}function e(p,B){if(!(p instanceof B))throw new TypeError("Cannot call a class as a function")}function F(p,B){for(var w=0;w<B.length;w++){var R=B[w];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(p,R.key,R)}}function C(p,B,w){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(D,m,f){var _=function(p,B){for(;!Object.prototype.hasOwnProperty.call(p,B)&&null!==(p=O(p)););return p}(D,m);if(_){var v=Object.getOwnPropertyDescriptor(_,m);return v.get?v.get.call(f):v.value}})(p,B,w||p)}function y(p,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(B&&B.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),B&&i(p,B)}function i(p,B){return(i=Object.setPrototypeOf||function(R,D){return R.__proto__=D,R})(p,B)}function u(p){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(p){return!1}}();return function(){var D,R=O(p);if(B){var m=O(this).constructor;D=Reflect.construct(R,arguments,m)}else D=R.apply(this,arguments);return s(this,D)}}function s(p,B){return!B||"object"!==W(B)&&"function"!=typeof B?function(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(p):B}function O(p){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(p)}var c=function(p){y(w,p);var B=u(w);function w(){return e(this,w),B.apply(this,arguments)}return function(p,B,w){B&&F(p.prototype,B),w&&F(p,w)}(w,[{key:"_scrollIntoView",value:function(D){var m=D.pageDiv,f=D.pageSpot,_=void 0===f?null:f,v=D.pageNumber,o=void 0===v?null:v;if(!_&&!this.isInPresentationMode){var b=m.offsetLeft+m.clientLeft,k=this.container,N=k.scrollLeft;(this._isScrollModeHorizontal||b<N||b+m.clientWidth>N+k.clientWidth)&&(_={left:0,top:0})}C(O(w.prototype),"_scrollIntoView",this).call(this,{pageDiv:m,pageSpot:_,pageNumber:o})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():C(O(w.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(D){if(!this.isInPresentationMode){var v,m=this._currentPageNumber,f=!1,_=H(D);try{for(_.s();!(v=_.n()).done;){var o=v.value;if(o.percent<100)break;if(o.id===m&&this._scrollMode===z.ScrollMode.VERTICAL&&this._spreadMode===z.SpreadMode.NONE){f=!0;break}}}catch(b){_.e(b)}finally{_.f()}f||(m=D[0].id),this._setCurrentPageNumber(m)}}},{key:"_viewerElement",get:function(){return(0,Z.shadow)(this,"_viewerElement",this.viewer)}}]),w}($.BaseViewer);L.PDFViewer=c}],T={};function M(G){if(T[G])return T[G].exports;var L=T[G]={id:G,loaded:!1,exports:{}};return a[G](L,L.exports,M),L.loaded=!0,L.exports}return M.nmd=G=>(G.paths=[],G.children||(G.children=[]),G),M(0)})()},8187:(X,g,r)=>{"use strict";r.r(g),r.d(g,{AdhocToolsModule:()=>Yn});var a=r(6019),T=r(867),M=r(2997),G=r(5583),L=r(4753),q=r(4171),W=r(9947),z=r(381),Z=r(2098),H=r(8260),x=r(9814);const j=[(0,x.X$)("openClose",[(0,x.SB)("open",(0,x.oB)({height:"200px",opacity:1,backgroundColor:"yellow"})),(0,x.SB)("closed",(0,x.oB)({height:"100px",opacity:0,backgroundColor:"green"})),(0,x.eR)("open => closed",[(0,x.jt)("3s")]),(0,x.eR)("closed => open",[(0,x.jt)("3s")]),(0,x.eR)("void => *",[(0,x.oB)({opacity:0}),(0,x.jt)("600ms")]),(0,x.eR)("* => void",[(0,x.oB)({opacity:1}),(0,x.jt)("600ms")]),(0,x.SB)("void",(0,x.oB)({opacity:"0"}))]),(0,x.X$)("init",[(0,x.eR)(":enter",[(0,x.oB)({opacity:0}),(0,x.jt)(250,(0,x.oB)({opacity:"1"}))]),(0,x.eR)(":leave",[(0,x.oB)({opacity:"1"}),(0,x.jt)(250,(0,x.oB)({opacity:0}))])])];var e=r(3668),F=r(4522),S=r(4499),C=r(273),l=r(7384),y=r(423);const i=H.N.url;let u=(()=>{class t{constructor(h){this.http=h,this.mobSfTasks$=new S.X([]),this.mobSfReports$=new S.X([]),this.localUrl="",this.refreshMobSfTasks()}getTaskStatus(h){return this.http.get(i+"/scan/status/"+h)}stopTask(h){return this.http.get(i+"/scan/stop/"+h)}deleteAll(){return this.http.get(i+"/scan/removeAll/mobsf").pipe((0,l.b)(ee=>{this.refreshMobSfTasks()}))}refreshMobSfTasks(){let h=i+"/scan/list/mobsf";return this.refreshMobSfCompletedTasks(),this.http.get(h).subscribe(ee=>{this.mobSfTasks$.next(ee.data)})}refreshMobSfCompletedTasks(){return this.http.get(i+"/scan/list/result/mobsf").subscribe(ee=>{this.mobSfReports$.next(ee.data)})}upload(h,ee){let De,ve=i+"/scan/upload/file/mobsf";console.log("uploading",ve);const tt=new FormData;tt.append("files",h,h.name);let lt=new F.WM,gt=this.http.post(ve,tt,{reportProgress:!0,observe:"events",headers:lt});const Nt=new C.x;return gt.pipe((0,y.x)(()=>this.refreshMobSfTasks())).subscribe(zt=>{if(zt.type===F.dt.UploadProgress){const Qn=Math.round(100*zt.loaded/zt.total);Nt.next({status:!1,progress:Qn})}else zt instanceof F.Zn&&(Nt.next({status:!0,progress:100,fileData:zt.body}),Nt.complete())}),De=Nt.asObservable(),De}}return t.\u0275fac=function(h){return new(h||t)(e.LFG(F.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var s=r(6015),P=r(515),E=r(4104);const O=["fileDropRef"];function c(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"nb-card-header"),e.TgZ(1,"div",3),e.NdJ("fileDropped",function(ve){return e.CHM(h),e.oxw().onFileDropped(ve)}),e.TgZ(2,"div",4),e._uU(3,"Mobile App Assesment "),e.qZA(),e.TgZ(4,"input",5,6),e.NdJ("change",function(ve){return e.CHM(h),e.oxw().fileBrowseHandler(ve.target.files)}),e.qZA(),e._UZ(6,"img",7),e.TgZ(7,"div",8),e._uU(8,"Drag and drop file here"),e.qZA(),e.TgZ(9,"div",9),e._uU(10,"Supported formats: "),e.TgZ(11,"strong"),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"button",10),e._uU(14," Choose File "),e.qZA(),e.qZA(),e.qZA()}if(2&t){const h=e.oxw();e.xp6(4),e.Q6J("accept",h.acceptedFiles),e.xp6(8),e.Oqu(h.acceptedFiles)}}function p(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"nb-list-item",12),e.TgZ(1,"div",13),e.TgZ(2,"div",14),e.TgZ(3,"div",15),e._UZ(4,"img",7),e.ynx(5),e.TgZ(6,"div",16),e.TgZ(7,"div"),e.TgZ(8,"div",17),e._uU(9),e.qZA(),e.TgZ(10,"div",18),e._uU(11),e._UZ(12,"span",9),e.qZA(),e.qZA(),e.qZA(),e.BQk(),e.qZA(),e.TgZ(13,"button",19),e.NdJ("click",function(){const De=e.CHM(h).$implicit;return e.oxw(2).deleteFile(De.id)}),e._UZ(14,"nb-icon",20),e.qZA(),e.qZA(),e.TgZ(15,"div",21),e.NdJ("click",function(){const De=e.CHM(h).$implicit;return e.oxw(2).deleteFile(De.key)}),e.TgZ(16,"nb-progress-bar",22),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const h=le.$implicit;e.xp6(9),e.hij(" ",null==h?null:h.name," "),e.xp6(2),e.hij(" ",null==h?null:h.size," "),e.xp6(5),e.Q6J("value",h.progress),e.xp6(1),e.hij(" ",h.progress,"% ")}}function B(t,le){if(1&t&&(e.TgZ(0,"nb-list"),e.YNc(1,p,18,4,"nb-list-item",11),e.qZA()),2&t){const h=e.oxw();e.xp6(1),e.Q6J("ngForOf",h.files)}}function w(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"nb-card-body",23),e.TgZ(1,"div",24),e.NdJ("fileDropped",function(ve){return e.CHM(h),e.oxw().onFileDropped(ve)}),e.TgZ(2,"div",4),e._uU(3,"Mobile App Assesment "),e.qZA(),e.TgZ(4,"input",5,6),e.NdJ("change",function(ve){return e.CHM(h),e.oxw().fileBrowseHandler(ve.target.files)}),e.qZA(),e._UZ(6,"img",25),e.TgZ(7,"div",8),e._uU(8,"Drag and drop file here"),e.qZA(),e.TgZ(9,"div",9),e._uU(10,"Supported formats: "),e.TgZ(11,"strong"),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"button",26),e._uU(14," Choose File "),e.qZA(),e.qZA(),e.qZA()}if(2&t){const h=e.oxw();e.xp6(4),e.Q6J("accept",h.acceptedFiles),e.xp6(8),e.Oqu(h.acceptedFiles)}}let R=(()=>{class t{constructor(h,ee){this.toastrService=h,this.uploadService=ee,this.acceptedFiles=[".apk",".ipa","appx","zip"].join(),this.files=[],this.subscriptions={}}ngOnInit(){}onFileDropped(h){console.debug("onFileDropped",h),this.prepareFilesList(h)}fileBrowseHandler(h){console.debug("fileBrowseHandler",h),this.prepareFilesList(h),this.fileDropRef.nativeElement.value=""}deleteFile(h){this.subscriptions[h].unsubscribe();let ee=this.files.findIndex(ve=>ve.id==h);this.files.splice(ee,1),delete this.subscriptions[h]}prepareFilesList(h){Array.from(h).forEach(ee=>{try{let ve=ee.name.split(".").pop();if(this.acceptedFiles.indexOf(ve)>-1){console.log(ee);let De="id_"+(new Date).getTime();this.subscriptions[De]=this.uploadService.upload(ee,"").pipe((0,L.U)(tt=>(tt.id=De,tt.name=ee.name,tt.size=this.formatBytes(ee.size,2),tt)),(0,y.x)(()=>{this.deleteFile(De)})).subscribe(tt=>{let lt=this.files.findIndex(gt=>gt.id==tt.id);console.log("finding",this.files,De),console.log(lt),lt>=0?this.files[lt].progress=tt.progress:this.files.push(tt)})}else console.log("extension not allowed"),this.invalidFileMessage(ve)}catch(ve){console.log("extension not allowed"),this.invalidFileMessage("unknown")}})}formatBytes(h,ee){if(0===h)return"0 Bytes";const De=ee<=0?0:ee||2,lt=Math.floor(Math.log(h)/Math.log(1024));return parseFloat((h/Math.pow(1024,lt)).toFixed(De))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][lt]}invalidFileMessage(h){this.toastrService.show(status,`'${h}'  is not allowed. Supported fie type extension are ${this.acceptedFiles}`,{status:"danger",icon:"file-text-outline"})}newScan(){this.fileDropRef.nativeElement.click()}}return t.\u0275fac=function(h){return new(h||t)(e.Y36(s.quB),e.Y36(u))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-file-upload"]],viewQuery:function(h,ee){if(1&h&&e.Gf(O,5),2&h){let ve;e.iGM(ve=e.CRH())&&(ee.fileDropRef=ve.first)}},decls:4,vars:4,consts:[["size","small","fxFlex","1 0 400px"],[4,"ngIf"],["class","container",4,"ngIf"],["fxFill","","fxLayout","column","fxLayoutAlign","center center","fxFlex","","appDnd","",1,"container",3,"fileDropped"],[1,"h4","margin"],["visbility","hidden","type","file","id","fileDropRef","multiple","",3,"accept","change"],["fileDropRef",""],["src","assets/svg/file.svg",1,"fileicon"],[1,"h6","margin"],[1,"caption"],["size","small","nbButton","","filled","","fxFlex","","status","danger",1,"uplBtn"],["class","lisitem",4,"ngFor","ngForOf"],[1,"lisitem"],["fxFlex","","fxLayout","column"],["fxLayout","row"],["fxLayout","row","fxFlex","",1,"file-icon",2,"width","50px"],["fxFlex",""],[1,"subtitle"],[1,"caption-2"],["size","small","nbButton","","ghost","","status","danger",3,"click"],["icon","close-circle"],["fxLayoutGap","!rem","fxFlex","",1,"progress",3,"click"],["size","tiny","status","danger",3,"value"],[1,"container"],["fxFill","","fxLayout","column","fxLayoutAlign","center center","fxFlex","","appDnd","",3,"fileDropped"],["src","assets/svg/file.svg",1,"fileiconLarge"],["fullWidth","","size","large","nbButton","","filled","","fxFlex","","status","success",1,"uplBtn"]],template:function(h,ee){1&h&&(e.TgZ(0,"nb-card",0),e.YNc(1,c,15,2,"nb-card-header",1),e.YNc(2,B,2,1,"nb-list",1),e.YNc(3,w,15,2,"nb-card-body",2),e.qZA()),2&h&&(e.Q6J("@init",void 0),e.xp6(1),e.Q6J("ngIf",ee.files.length>0),e.xp6(1),e.Q6J("ngIf",ee.files.length>0),e.xp6(1),e.Q6J("ngIf",0==ee.files.length))},directives:[s.Asz,P.yH,a.O5,s.ndF,P.s9,P.xw,P.Wh,s.DPz,s.zP_,a.sg,s.qBV,s.fMN,P.SQ,s.bSZ,s.yKW],styles:[".container[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-top-left-radius:.3rem;background-color:#fff!important;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:all .3s cubic-bezier(.25,.8,.25,1)}.container[_ngcontent-%COMP%]:hover{background-color:#222b454a;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.container[_ngcontent-%COMP%]{padding:2rem;text-align:center;position:relative;margin:0 auto}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;width:183px;height:44px;border-radius:21.5px;background-color:#db202f;padding:8px 16px}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.fileover[_ngcontent-%COMP%]{-webkit-animation:shake 1s;animation:shake 1s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.files-list[_ngcontent-%COMP%]{margin-top:1.5rem}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]{padding:.5rem;justify-content:space-between;align-items:center;border:dashed 1px #979797;margin-bottom:1rem;display:flex;flex-grow:1}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{display:flex;margin-left:.5rem;cursor:pointer;align-self:flex-end}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#353f4a;margin:0}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#a4a4a4;margin:0 0 .25rem}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%}@-webkit-keyframes shake{0%{transform:translate(1px,1px) rotate(0)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0)}to{transform:translate(1px,-2px) rotate(-1deg)}}@keyframes shake{0%{transform:translate(1px,1px) rotate(0)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0)}to{transform:translate(1px,-2px) rotate(-1deg)}}.fileicon[_ngcontent-%COMP%]{width:50px;height:50px}.fileiconLarge[_ngcontent-%COMP%]{width:100px;height:100px}.margin[_ngcontent-%COMP%]{margin:1em}.progress[_ngcontent-%COMP%]{margin-top:.5rem}nb-card-header[_ngcontent-%COMP%]{padding:0}.uplBtn[_ngcontent-%COMP%]{margin-top:1rem}nb-card[_ngcontent-%COMP%]{height:auto}.empty[_ngcontent-%COMP%]{min-height:350px}nb-card-body[_ngcontent-%COMP%]{margin:0;padding:0}"]}),t})();function D(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"nb-list-item",7),e.NdJ("click",function(){const De=e.CHM(h).$implicit;return e.oxw(3).onSelect(De)}),e.TgZ(1,"div",8),e.TgZ(2,"div",2),e._uU(3),e.TgZ(4,"div",9),e.TgZ(5,"button",10),e._uU(6),e.qZA(),e.TgZ(7,"button",11),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"span",12),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"span",13),e._uU(13),e.qZA(),e.TgZ(14,"div",14),e.TgZ(15,"strong"),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const h=le.$implicit;e.Q6J("@init",void 0),e.xp6(3),e.hij(" ",null==h||null==h.result||null==h.result._summary?null:h.result._summary.app_name," "),e.xp6(3),e.hij(" CVSS: ",null==h||null==h.result||null==h.result._summary?null:h.result._summary.average_cvss," "),e.xp6(2),e.hij(" ",null==h||null==h.result||null==h.result._summary?null:h.result._summary.app_type," "),e.xp6(2),e.hij(" ",e.lcZ(11,7,null==h||null==h.doc?null:h.doc.$date)," "),e.xp6(3),e.hij(" ",null==h||null==h.result||null==h.result._summary?null:h.result._summary.package_name," "),e.xp6(3),e.hij("",null==h?null:h.group," ")}}function m(t,le){if(1&t&&(e.TgZ(0,"nb-list"),e.YNc(1,D,17,9,"nb-list-item",6),e.qZA()),2&t){const h=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",h)}}function f(t,le){if(1&t&&(e.ynx(0),e.YNc(1,m,2,1,"nb-list",5),e.BQk()),2&t){const h=le.ngIf;e.oxw();const ee=e.MAs(8);e.xp6(1),e.Q6J("ngIf",h.length>0)("ngIfElse",ee)}}function _(t,le){1&t&&(e.TgZ(0,"nb-card-body",15),e.TgZ(1,"div",16),e._uU(2," No reports to display. "),e.qZA(),e.TgZ(3,"div",17),e._uU(4," Will let you know as soon as the assesment is finished, just bear with me. "),e.qZA(),e.qZA())}let v=(()=>{class t{constructor(h){this.uploadService=h,this.onSelect$=new C.x,this.reports$=this.uploadService.mobSfReports$.asObservable().pipe((0,L.U)(ee=>ee.map(ve=>{let De=ve.result.summary,tt={};return console.debug("fata",De),De.forEach(lt=>{let gt=Object.keys(lt)[0];tt[gt]=lt[gt]}),ve.result._summary=tt,ve})))}ngOnInit(){}onSelect(h){this.onSelect$.next(h)}}return t.\u0275fac=function(h){return new(h||t)(e.Y36(u))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-mobsf-summary"]],outputs:{onSelect$:"onselect"},decls:9,vars:3,consts:[["fxFlex","","size","small"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","",1,"subtitle"],[4,"ngIf"],["noItem",""],[4,"ngIf","ngIfElse"],["class","lisitem",3,"click",4,"ngFor","ngForOf"],[1,"lisitem",3,"click"],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayoutGap","1rem","fxLayoutAlign","end end"],["size","small","nbButton","","filled","","status","danger"],["size","small","nbButton","","control","","status","warning"],["fxFlex","",1,"caption"],["fxFlex","",1,"caption-2"],["fxFlex","","fxLayoutGap","1rem",1,"caption-2"],["fxLayout","column","fxLayoutAlign","center center"],[1,"h4"],[1,"subtitle"]],template:function(h,ee){1&h&&(e.TgZ(0,"nb-card",0),e.TgZ(1,"nb-card-header"),e.TgZ(2,"div",1),e.TgZ(3,"span",2),e._uU(4," Reports "),e.qZA(),e.qZA(),e.qZA(),e.YNc(5,f,2,2,"ng-container",3),e.ALo(6,"async"),e.YNc(7,_,5,0,"ng-template",null,4,e.W1O),e.qZA()),2&h&&(e.xp6(5),e.Q6J("ngIf",e.lcZ(6,1,ee.reports$)))},directives:[s.Asz,P.yH,s.ndF,P.xw,P.Wh,a.O5,s.zP_,a.sg,s.qBV,P.SQ,s.DPz,s.yKW],pipes:[a.Ov,a.uU],styles:[".lisitem[_ngcontent-%COMP%]{margin-left:0;font-weight:550}.lisitem[_ngcontent-%COMP%]:hover{background-color:#f05d5d27;color:#3573e7;font-weight:750;margin-left:0;border:solid transparent;box-shadow:0 1px 3px #a1a1a11f,0 1px 2px #a1a1a11f;transition:all .3s cubic-bezier(.25,.8,.25,1)}.container[_ngcontent-%COMP%]{background:#fff}nb-list[_ngcontent-%COMP%]{overflow:auto;max-height:100%}"],data:{animation:[...j]}}),t})();var o=r(5077),b=r(2583),A=r(6263),k=r(9463),N=r(461),I=r(6656),V=r(7620);const Y=["pdfViewerContainer"];function J(t,le){const h=new t.EventBus;return function(t,le){(0,o.R)(t,"documentload").pipe((0,A.R)(le)).subscribe(()=>{const h=document.createEvent("CustomEvent");h.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(h)}),(0,o.R)(t,"pagerendered").pipe((0,A.R)(le)).subscribe(({pageNumber:h,cssTransform:ee,source:ve})=>{const De=document.createEvent("CustomEvent");De.initCustomEvent("pagerendered",!0,!0,{pageNumber:h,cssTransform:ee}),ve.div.dispatchEvent(De)}),(0,o.R)(t,"textlayerrendered").pipe((0,A.R)(le)).subscribe(({pageNumber:h,source:ee})=>{const ve=document.createEvent("CustomEvent");ve.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:h}),ee.textLayerDiv.dispatchEvent(ve)}),(0,o.R)(t,"pagechanging").pipe((0,A.R)(le)).subscribe(({pageNumber:h,source:ee})=>{const ve=document.createEvent("UIEvents");ve.initEvent("pagechanging",!0,!0),ve.pageNumber=h,ee.container.dispatchEvent(ve)}),(0,o.R)(t,"pagesinit").pipe((0,A.R)(le)).subscribe(({source:h})=>{const ee=document.createEvent("CustomEvent");ee.initCustomEvent("pagesinit",!0,!0,null),h.container.dispatchEvent(ee)}),(0,o.R)(t,"pagesloaded").pipe((0,A.R)(le)).subscribe(({pagesCount:h,source:ee})=>{const ve=document.createEvent("CustomEvent");ve.initCustomEvent("pagesloaded",!0,!0,{pagesCount:h}),ee.container.dispatchEvent(ve)}),(0,o.R)(t,"scalechange").pipe((0,A.R)(le)).subscribe(({scale:h,presetValue:ee,source:ve})=>{const De=document.createEvent("UIEvents");De.initEvent("scalechange",!0,!0),De.scale=h,De.presetValue=ee,ve.container.dispatchEvent(De)}),(0,o.R)(t,"updateviewarea").pipe((0,A.R)(le)).subscribe(({location:h,source:ee})=>{const ve=document.createEvent("UIEvents");ve.initEvent("updateviewarea",!0,!0),ve.location=h,ee.container.dispatchEvent(ve)}),(0,o.R)(t,"find").pipe((0,A.R)(le)).subscribe(({source:h,type:ee,query:ve,phraseSearch:De,caseSensitive:tt,highlightAll:lt,findPrevious:gt})=>{if(h===window)return;const Nt=document.createEvent("CustomEvent");Nt.initCustomEvent("find"+ee,!0,!0,{query:ve,phraseSearch:De,caseSensitive:tt,highlightAll:lt,findPrevious:gt}),window.dispatchEvent(Nt)}),(0,o.R)(t,"attachmentsloaded").pipe((0,A.R)(le)).subscribe(({attachmentsCount:h,source:ee})=>{const ve=document.createEvent("CustomEvent");ve.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:h}),ee.container.dispatchEvent(ve)}),(0,o.R)(t,"sidebarviewchanged").pipe((0,A.R)(le)).subscribe(({view:h,source:ee})=>{const ve=document.createEvent("CustomEvent");ve.initCustomEvent("sidebarviewchanged",!0,!0,{view:h}),ee.outerContainer.dispatchEvent(ve)}),(0,o.R)(t,"pagemode").pipe((0,A.R)(le)).subscribe(({mode:h,source:ee})=>{const ve=document.createEvent("CustomEvent");ve.initCustomEvent("pagemode",!0,!0,{mode:h}),ee.pdfViewer.container.dispatchEvent(ve)}),(0,o.R)(t,"namedaction").pipe((0,A.R)(le)).subscribe(({action:h,source:ee})=>{const ve=document.createEvent("CustomEvent");ve.initCustomEvent("namedaction",!0,!0,{action:h}),ee.pdfViewer.container.dispatchEvent(ve)}),(0,o.R)(t,"presentationmodechanged").pipe((0,A.R)(le)).subscribe(({active:h,switchInProgress:ee})=>{const ve=document.createEvent("CustomEvent");ve.initCustomEvent("presentationmodechanged",!0,!0,{active:h,switchInProgress:ee}),window.dispatchEvent(ve)}),(0,o.R)(t,"outlineloaded").pipe((0,A.R)(le)).subscribe(({outlineCount:h,source:ee})=>{const ve=document.createEvent("CustomEvent");ve.initCustomEvent("outlineloaded",!0,!0,{outlineCount:h}),ee.container.dispatchEvent(ve)})}(h,le),h}function te(t,le,h){t[le]=h}function ae(){return"undefined"==typeof window}ae()||te(I,"verbosity",I.VerbosityLevel.ERRORS);var ne=(()=>{return(t=ne||(ne={}))[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED",t[t.ENHANCED=2]="ENHANCED",ne;var t})();let he=(()=>{class t{constructor(h,ee){if(this.element=h,this.ngZone=ee,this.isVisible=!1,this._cMapsUrl=void 0!==I?`https://unpkg.com/pdfjs-dist@${I.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=ne.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new C.x,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.pageInitialized=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),ae())return;let ve;ve=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${I.version}/es5/build/pdf.worker.js`,te(I.GlobalWorkerOptions,"workerSrc",ve)}set cMapsUrl(h){this._cMapsUrl=h}set page(h){const ee=h=parseInt(h,10)||1;this._pdf&&(h=this.getValidPageNumber(h)),this._page=h,ee!==h&&this.pageChange.emit(h)}set renderText(h){this._renderText=h}set renderTextMode(h){this._renderTextMode=h}set originalSize(h){this._originalSize=h}set showAll(h){this._showAll=h}set stickToPage(h){this._stickToPage=h}set zoom(h){h<=0||(this._zoom=h)}get zoom(){return this._zoom}set zoomScale(h){this._zoomScale=h}get zoomScale(){return this._zoomScale}set rotation(h){"number"==typeof h&&h%90==0?this._rotation=h:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(h){this._externalLinkTarget=h}set autoresize(h){this._canAutoResize=Boolean(h)}set fitToPage(h){this._fitToPage=Boolean(h)}set showBorders(h){this._showBorders=Boolean(h)}static getLinkTarget(h){switch(h){case"blank":return I.LinkTarget.BLANK;case"none":return I.LinkTarget.NONE;case"self":return I.LinkTarget.SELF;case"parent":return I.LinkTarget.PARENT;case"top":return I.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const h=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=h?!1===this.isVisible&&null!=h&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(h){if(!ae()&&this.isVisible)if("src"in h)this.loadPDF();else if(this._pdf){if("renderText"in h?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:ne.DISABLED,this.resetPdfDocument()):"showAll"in h&&this.resetPdfDocument(),"page"in h){const{page:ee}=h;if(ee.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const h=this.getCurrentViewer();(0,b.D)(this._pdf.getPage(h.currentPageNumber)).pipe((0,A.R)(this.destroy$)).subscribe({next:ee=>{const ve=this._rotation||ee.rotate,De=ee.getViewport({scale:this._zoom,rotation:ve}).width*t.CSS_UNITS;let tt=this._zoom,lt=!0;if(!this._originalSize||this._fitToPage&&De>this.pdfViewerContainer.nativeElement.clientWidth){const gt=ee.getViewport({scale:1,rotation:ve});tt=this.getScale(gt.width,gt.height),lt=!this._stickToPage}h._setScale(tt,lt)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const h={},ee=t.getLinkTarget(this._externalLinkTarget);return ee&&(h.externalLinkTarget=ee),h}setupMultiPageViewer(){te(I,"disableTextLayer",!this._renderText);const h=J(V,this.destroy$);(0,o.R)(h,"pagerendered").pipe((0,A.R)(this.destroy$)).subscribe(ve=>{this.pageRendered.emit(ve)}),(0,o.R)(h,"pagesinit").pipe((0,A.R)(this.destroy$)).subscribe(ve=>{this.pageInitialized.emit(ve)}),(0,o.R)(h,"pagechanging").pipe((0,A.R)(this.destroy$)).subscribe(({pageNumber:ve})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=ve,this.pageChange.emit(ve)},100)}),(0,o.R)(h,"textlayerrendered").pipe((0,A.R)(this.destroy$)).subscribe(ve=>{this.textLayerRendered.emit(ve)}),this.pdfMultiPageLinkService=new V.PDFLinkService(Object.assign({eventBus:h},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new V.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:h});const ee={eventBus:h,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:ne.DISABLED,findController:this.pdfMultiPageFindController};this.pdfMultiPageViewer=new V.PDFViewer(ee),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){te(I,"disableTextLayer",!this._renderText);const h=J(V,this.destroy$);(0,o.R)(h,"pagechanging").pipe((0,A.R)(this.destroy$)).subscribe(({pageNumber:ve})=>{ve!==this._page&&(this.page=ve)}),(0,o.R)(h,"pagerendered").pipe((0,A.R)(this.destroy$)).subscribe(ve=>{this.pageRendered.emit(ve)}),(0,o.R)(h,"pagesinit").pipe((0,A.R)(this.destroy$)).subscribe(ve=>{this.pageInitialized.emit(ve)}),(0,o.R)(h,"textlayerrendered").pipe((0,A.R)(this.destroy$)).subscribe(ve=>{this.textLayerRendered.emit(ve)}),this.pdfSinglePageLinkService=new V.PDFLinkService(Object.assign({eventBus:h},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new V.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:h});const ee={eventBus:h,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:ne.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new V.PDFSinglePageViewer(ee),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(h){return h<1?1:h>this._pdf.numPages?this._pdf.numPages:h}getDocumentParams(){const h=typeof this.src;if(!this._cMapsUrl)return this.src;const ee={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===h?ee.url=this.src:"object"===h&&(void 0!==this.src.byteLength?ee.data=this.src:Object.assign(ee,this.src)),ee}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=I.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=ee=>{this.onProgress.emit(ee)};const h=this.src;(0,b.D)(this.loadingTask.promise).pipe((0,A.R)(this.destroy$)).subscribe({next:ee=>{this._pdf=ee,this.lastLoaded=h,this.afterLoadComplete.emit(ee),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:ee=>{this.onError.emit(ee)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const h=this.getCurrentViewer();(0!==this._rotation||h.pagesRotation!==this._rotation)&&setTimeout(()=>{h.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{h.currentPageNumber=this._page}),this.updateSize()}getScale(h,ee){const ve=this._showBorders?2*t.BORDER_WIDTH:0,De=this.pdfViewerContainer.nativeElement.clientWidth-ve,tt=this.pdfViewerContainer.nativeElement.clientHeight-ve;if(0===tt||0===ee||0===De||0===h)return 1;let lt=1;switch(this._zoomScale){case"page-fit":lt=Math.min(tt/ee,De/h);break;case"page-height":lt=tt/ee;break;default:lt=De/h}return this._zoom*lt/t.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){ae()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){ae()||this.ngZone.runOutsideAngular(()=>{(0,o.R)(window,"resize").pipe((0,k.b)(100),(0,N.h)(()=>this._canAutoResize&&!!this._pdf),(0,A.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return t.\u0275fac=function(h){return new(h||t)(e.Y36(e.SBq),e.Y36(e.R0b))},t.\u0275cmp=e.Xpm({type:t,selectors:[["pdf-viewer"]],viewQuery:function(h,ee){if(1&h&&e.Gf(Y,5),2&h){let ve;e.iGM(ve=e.CRH())&&(ee.pdfViewerContainer=ve.first)}},inputs:{cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"],src:"src"},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(h,ee){1&h&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer>span{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0 0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::-moz-selection{background:#00f}[_nghost-%COMP%]     .textLayer ::selection{background:#00f}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation{cursor:pointer}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid transparent;background-clip:content-box;-o-border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=") 9 9 repeat;border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=") 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread, [_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .spread .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url("data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==") 50% no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-moz-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-ms-fullscreen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}']}),t.CSS_UNITS=96/72,t.BORDER_WIDTH=9,t})(),me=(()=>{class t{}return t.\u0275fac=function(h){return new(h||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();const Se=["fileUpload"];function se(t,le){1&t&&(e.TgZ(0,"div",13),e._UZ(1,"app-file-upload",14,15),e.qZA()),2&t&&(e.xp6(1),e.Q6J("@init",void 0))}function fe(t,le){1&t&&(e.TgZ(0,"button",36),e._UZ(1,"nb-icon",37),e._uU(2," Completed "),e.qZA())}function K(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(h);const ve=e.oxw(2).$implicit;return e.oxw(5).stopTask(null==ve?null:ve.task_id)}),e._UZ(1,"nb-icon",38),e._uU(2," Enqueued "),e.qZA()}}function ie(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(h);const ve=e.oxw(2).$implicit;return e.oxw(5).stopTask(null==ve?null:ve.task_id)}),e._UZ(1,"nb-icon",38),e._uU(2," Processing "),e.qZA()}}function oe(t,le){if(1&t&&(e.ynx(0),e.TgZ(1,"div",28),e.TgZ(2,"div",29),e._uU(3),e.qZA(),e.TgZ(4,"div",7),e._uU(5),e.TgZ(6,"span",30),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",31),e.TgZ(9,"div",32),e.YNc(10,fe,3,0,"button",33),e.YNc(11,K,3,0,"button",34),e.YNc(12,ie,3,0,"button",35),e.qZA(),e.qZA(),e.BQk()),2&t){const h=le.ngIf,ee=e.oxw().$implicit;e.xp6(3),e.hij(" ",null==ee?null:ee.task_name," "),e.xp6(2),e.hij(" ",null==ee?null:ee.task_type," "),e.xp6(2),e.hij(" ( ",h," ) "),e.xp6(3),e.Q6J("ngIf","SUCCESS"==h),e.xp6(1),e.Q6J("ngIf","PENDING"==h),e.xp6(1),e.Q6J("ngIf","STARTED"==h)}}function Ee(t,le){if(1&t&&(e.TgZ(0,"nb-list-item",27),e.YNc(1,oe,13,6,"ng-container",23),e.ALo(2,"async"),e.qZA()),2&t){const h=le.$implicit;e.Q6J("@init",void 0),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,null==h?null:h.status$))}}function ye(t,le){if(1&t&&(e.TgZ(0,"nb-list"),e.YNc(1,Ee,3,4,"nb-list-item",26),e.qZA()),2&t){const h=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",h)}}function we(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){return e.CHM(h),e.oxw(5).newScan()}),e._uU(1," Upload app "),e.qZA()}}function Oe(t,le){if(1&t&&(e.TgZ(0,"nb-card-body",40),e.TgZ(1,"div",41),e._uU(2," No tasks to found. "),e.qZA(),e.TgZ(3,"div",29),e._uU(4," Why don't you upload a mobile app, and give me some task to perform ? "),e.qZA(),e.YNc(5,we,2,0,"button",42),e.qZA()),2&t){const h=e.oxw(4);e.xp6(5),e.Q6J("ngIf",!h.selectedReport)}}function be(t,le){if(1&t&&(e.ynx(0),e.YNc(1,ye,2,1,"nb-list",24),e.YNc(2,Oe,6,1,"ng-template",null,25,e.W1O),e.BQk()),2&t){const h=le.ngIf,ee=e.MAs(3);e.xp6(1),e.Q6J("ngIf",h.length>0)("ngIfElse",ee)}}function ze(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"nb-card",19),e.TgZ(1,"nb-card-header"),e.TgZ(2,"div",20),e.TgZ(3,"span",21),e._uU(4," Tasks "),e.qZA(),e.TgZ(5,"button",22),e.NdJ("click",function(){e.CHM(h);const ve=e.oxw(2),De=e.MAs(19);return ve.deleteAll(De)}),e._uU(6," Clear All "),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,be,4,2,"ng-container",23),e.ALo(8,"async"),e.qZA()}if(2&t){const h=e.oxw(2);e.Q6J("fxFlex",h.selectedReport?"100%":"50%"),e.xp6(7),e.Q6J("ngIf",e.lcZ(8,2,h.tasks))}}function He(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"app-mobsf-summary",17),e.NdJ("onselect",function(ve){return e.CHM(h),e.oxw().onReportSelected(ve)}),e.qZA(),e.YNc(2,ze,9,4,"nb-card",18),e.qZA()}if(2&t){const h=e.oxw();e.xp6(1),e.Q6J("fxFlex",h.selectedReport?"100%":"50%"),e.xp6(1),e.Q6J("ngIf",!h.selectedReport)}}function Ce(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"div",44),e.TgZ(1,"nb-card",45),e.TgZ(2,"nb-card-header"),e.TgZ(3,"div",2),e.TgZ(4,"button",46),e.NdJ("click",function(){return e.CHM(h),e.oxw().unselectReport()}),e._UZ(5,"nb-icon",4),e.qZA(),e.TgZ(6,"span",31),e._uU(7," Report Viewer "),e.qZA(),e.TgZ(8,"button",47),e.NdJ("click",function(){return e.CHM(h),e.oxw().unselectReport()}),e._uU(9,"Close "),e._UZ(10,"nb-icon",48),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"nb-card-body"),e.TgZ(12,"pdf-viewer",49),e.NdJ("after-load-complete",function(){return e.CHM(h),e.oxw().adterReportLoaded()}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const h=e.oxw();e.xp6(12),e.Q6J("autoresize",!0)("original-size",!1)("src",h.url+"/api/v1/download/localpath/"+h.selectedReport)("render-text",!0)}}function Ne(t,le){if(1&t){const h=e.EpF();e.TgZ(0,"nb-card"),e.TgZ(1,"nb-card-header"),e._uU(2),e.qZA(),e.TgZ(3,"nb-card-body"),e._uU(4),e.qZA(),e.TgZ(5,"nb-card-footer"),e.TgZ(6,"div",50),e.TgZ(7,"button",51),e.NdJ("click",function(){return e.CHM(h).dialogRef.close(!0)}),e._uU(8,"Delete All"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const h=le.$implicit;e.xp6(2),e.hij(" ",null==h?null:h.title," "),e.xp6(2),e.Oqu(null==h?null:h.description)}}let Me=(()=>{class t{constructor(h,ee){this.uploadservice=h,this.dialogService=ee,this.url=H.N.url,this.toggleReports$=!0,this.runningTasks=!1,this.POLLING_DELAY=3e3,this.tasks=this.uploadservice.mobSfTasks$.asObservable().pipe((0,L.U)(ve=>ve.map(De=>(De.status$=De.state?(0,M.of)(De.state):this.getStatus(De.task_id).pipe((0,L.U)(tt=>tt.state)),De)))),this.runninTasks=this.tasks.pipe((0,L.U)(ve=>ve.filter(De=>"STARTED"==De.status)),(0,q.V)(ve=>ve))}toggleReports(){this.toggleReports$=!this.toggleReports$}unselectReport(){this.selectedReport=void 0}ngOnInit(){}taskFilter(h){this.runningTasks=h}newScan(){this.fileUpload.newScan()}adterReportLoaded(){}stopTask(h){return this.uploadservice.stopTask(h).subscribe(ee=>{console.log(ee)})}selectReport(h){this.selectedReport=h.result._id.$oid}deleteAll(h){this.dialogService.open(h,{context:{title:"Are you sure you want to delete all the tasks ?",description:"All the tasks will be lost, and you won't be able to recover them in future.    "}}).onClose.subscribe(ee=>{ee&&this.uploadservice.deleteAll().subscribe()})}getStatus(h){let ee=this.uploadservice.getTaskStatus(h);return ee.pipe(function(t,le=1/0,h){return le=(le||0)<1?1/0:le,(0,W.e)((ee,ve)=>(0,z.p)(ee,ve,t,le,void 0,!0,h))}(ve=>"SUCCESS"==ve.state||"FAILED"==ve.state||"REVOKED"==ve.state?(console.log("Expand",h,"IF",ve),this.uploadservice.refreshMobSfCompletedTasks(),G.E):(console.log("Expand",h,"ELSE",ve),ee.pipe((0,Z.g)(this.POLLING_DELAY)))))}onReportSelected(h){console.log("onReportSelected",h),this.selectReport(h.result.pdf)}}return t.\u0275fac=function(h){return new(h||t)(e.Y36(u),e.Y36(s.Gln))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-mobsf"]],viewQuery:function(h,ee){if(1&h&&e.Gf(Se,5),2&h){let ve;e.iGM(ve=e.CRH())&&(ee.fileUpload=ve.first)}},decls:20,vars:3,consts:[["fixed",""],["fxFlex","","fxLayoutAlign","center center"],["fxFlex","","fxLayoutAlign","start center"],["routerLink","/","nbButton","","ghost","","status","danger","size","large"],["icon","arrow-back-outline"],["fxHide.lt-sm","","fxShow","","routerLink","/",1,"h6"],["status","danger","icon","chevron-right-outline"],[1,"caption-2"],["fxLayout","","fxLayoutGap","1rem","fxLayoutAlign","center","fxFlexFill",""],["fxFlex","1 0 200px","fxLayout","column",4,"ngIf"],["fxFlex","0 1 600px","fxLayout","column",4,"ngIf"],["fxLayout","column","fxFlex","1 1",4,"ngIf"],["dialog",""],["fxFlex","1 0 200px","fxLayout","column"],["fxLayoutAlign","end start"],["fileUpload",""],["fxFlex","0 1 600px","fxLayout","column"],["fxLayout","column",3,"fxFlex","onselect"],["class","container","size","small",3,"fxFlex",4,"ngIf"],["size","small",1,"container",3,"fxFlex"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","",1,"subtitle"],["fxLayoutAlign","center center","nbButton","","filled","","status","basic","size","small",3,"click"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noItem",""],["class","lisitem","fxLayout","row",4,"ngFor","ngForOf"],["fxLayout","row",1,"lisitem"],["fxFlex","1 1"],[1,"subtitle"],[1,"caption"],["fxFlex",""],["fxLayout","row","fxLayoutGap","0.5rem"],["fxLayoutAlign","center center","nbButton","","filled","","status","success","size","small",4,"ngIf"],["fxLayoutAlign","center center","nbButton","","filled","","status","basic","size","small",3,"click",4,"ngIf"],["fxLayoutAlign","center center","nbButton","","filled","","status","warning","size","small",3,"click",4,"ngIf"],["fxLayoutAlign","center center","nbButton","","filled","","status","success","size","small"],["icon","eye-outline"],["icon","close-circle-outline"],["fxLayoutAlign","center center","nbButton","","filled","","status","warning","size","small",3,"click"],["fxLayout","column","fxLayoutAlign","center center"],[1,"h4"],["style","margin-top: 2rem;","class","uplBtn","size","small","nbButton","","filled","","status","danger",3,"click",4,"ngIf"],["size","small","nbButton","","filled","","status","danger",1,"uplBtn",2,"margin-top","2rem",3,"click"],["fxLayout","column","fxFlex","1 1"],["size","small","fxFlex",""],["nbButton","","ghost","","status","danger","size","large",3,"click"],["size","small","ghost","","status","danger","nbButton","",3,"click"],["icon","close-circle"],["fxFlex","",3,"autoresize","original-size","src","render-text","after-load-complete"],["fxFlex","","fxLayoutAlign","end"],["nbButton","","status","danger","size","small",3,"click"]],template:function(h,ee){1&h&&(e.TgZ(0,"nb-layout"),e.TgZ(1,"nb-layout-header",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"button",3),e._UZ(5,"nb-icon",4),e.qZA(),e.TgZ(6,"span",5),e._uU(7," Hawki "),e.qZA(),e._UZ(8,"nb-icon",6),e.TgZ(9,"span",5),e._uU(10," Mobile Security "),e.TgZ(11,"span",7),e._uU(12,"( Static Analysis )"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"nb-layout-column"),e.TgZ(14,"div",8),e.YNc(15,se,3,1,"div",9),e.YNc(16,He,3,2,"div",10),e.YNc(17,Ce,13,4,"div",11),e.qZA(),e.qZA(),e.qZA(),e.YNc(18,Ne,9,2,"ng-template",null,12,e.W1O)),2&h&&(e.xp6(15),e.Q6J("ngIf",!ee.selectedReport),e.xp6(1),e.Q6J("ngIf",ee.toggleReports$),e.xp6(1),e.Q6J("ngIf",ee.selectedReport))},directives:[s.Aqw,s.dmS,P.yH,P.Wh,s.DPz,T.rH,s.fMN,E.b8,s.dP_,P.xw,P.SQ,P.s9,a.O5,R,v,s.Asz,s.ndF,s.zP_,a.sg,s.qBV,s.yKW,he,s.XWE],pipes:[a.Ov],styles:[".lisitem[_ngcontent-%COMP%]{margin-left:0;font-weight:550}.lisitem[_ngcontent-%COMP%]:hover{background-color:#e8f0fe;color:#3573e7;font-weight:750;margin-left:0;border:solid transparent;box-shadow:0 1px 3px #a1a1a11f,0 1px 2px #a1a1a11f;transition:all .3s cubic-bezier(.25,.8,.25,1)}pdf-viewer[_ngcontent-%COMP%]{width:10px;flex:1}.container[_ngcontent-%COMP%]{background:#fff;overflow:auto;max-height:100%}nb-list[_ngcontent-%COMP%]{overflow:auto;max-height:100%}nb-card[_ngcontent-%COMP%]{padding:0}"],data:{animation:[...j]}}),t})();const Ve=[{path:"",component:Me},{path:"**",component:Me}];let ue=(()=>{class t{}return t.\u0275fac=function(h){return new(h||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[T.Bz.forChild(Ve)],T.Bz]}),t})();var ge=r(9133);let _e=(()=>{class t{}return t.\u0275fac=function(h){return new(h||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Te=(()=>{class t{intercept(h,ee){return ee.handle(h).pipe((0,Z.g)(200))}}return t.\u0275fac=function(h){return new(h||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();(0,x.X$)("insertAnimation",[(0,x.eR)("* => *",[(0,x.IO)(":leave",[(0,x.EY)(30,[(0,x.jt)(".3s",(0,x.oB)({opacity:0}))])],{optional:!0}),(0,x.IO)(":enter",[(0,x.oB)({opacity:0}),(0,x.EY)(30,[(0,x.jt)(".3s",(0,x.oB)({opacity:1}))])],{optional:!0})])]),(0,x.X$)("zoomAnimation",[(0,x.eR)("static => zoomOut",[(0,x.jt)(250,(0,x.oB)({transform:"translate(-50%, -50%) scale(2, 2)",opacity:0}))]),(0,x.eR)("static => zoomIn",[(0,x.IO)(":self",[(0,x.oB)({transform:"translate(-50%, -50%) scale(.2, .2)",opacity:0,top:"50%",left:"50%",margin:0}),(0,x.EY)(50,[(0,x.jt)(250,(0,x.oB)({transform:"translate(-50%, -50%) scale(1, 1)",opacity:1}))])])])]);let fn=(()=>{class t{ngDoBootstrap(){}}return t.\u0275fac=function(h){return new(h||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[a.ez]]}),t})();var Zn=r(6153),qn=r(2382);let Yn=(()=>{class t{}return t.\u0275fac=function(h){return new(h||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[u,_e,s.Gln,{provide:F.TP,useClass:Te,multi:!0}],imports:[[a.ez,ue,s.BW0,s.EoG,s.zyh,s.T2N,ge.UX,s.DfH,s.V7y,fn,s.LW9,s.COg,s.AE1,s.KdK,Zn.o9,s.uuI,me,s.jSo,s.wB1,qn.Fb]]}),t})()},2069:()=>{},6599:()=>{},5358:()=>{},1822:()=>{},1127:()=>{},3074:()=>{}}]);